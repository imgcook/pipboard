!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=240)}([function(e,t,n){var r,i;e.exports=n(502)()},function(e,t,n){"use strict";(function(e,r,i,o){n.d(t,"a",function(){return Sh}),n.d(t,"b",function(){return Oe}),n.d(t,"c",function(){return lu}),n.d(t,"d",function(){return cu}),n.d(t,"e",function(){return fu}),n.d(t,"f",function(){return ll}),n.d(t,"g",function(){return cl}),n.d(t,"h",function(){return Tc}),n.d(t,"i",function(){return Nc}),n.d(t,"j",function(){return Ac}),n.d(t,"k",function(){return Ic}),n.d(t,"l",function(){return pu}),n.d(t,"m",function(){return hu}),n.d(t,"n",function(){return du}),n.d(t,"o",function(){return pl}),n.d(t,"p",function(){return mu}),n.d(t,"q",function(){return yc}),n.d(t,"r",function(){return xc}),n.d(t,"s",function(){return vn}),n.d(t,"t",function(){return Qu}),n.d(t,"u",function(){return el}),n.d(t,"v",function(){return tl}),n.d(t,"w",function(){return nl}),n.d(t,"x",function(){return xr}),n.d(t,"y",function(){return ph}),n.d(t,"z",function(){return Cr}),n.d(t,"A",function(){return gu}),n.d(t,"B",function(){return vu}),n.d(t,"C",function(){return jn}),n.d(t,"D",function(){return tr}),n.d(t,"E",function(){return nr}),n.d(t,"F",function(){return rr}),n.d(t,"G",function(){return ir}),n.d(t,"H",function(){return or}),n.d(t,"I",function(){return Zl}),n.d(t,"J",function(){return $l}),n.d(t,"K",function(){return oc}),n.d(t,"L",function(){return Jl}),n.d(t,"M",function(){return yu}),n.d(t,"N",function(){return bu}),n.d(t,"O",function(){return en}),n.d(t,"P",function(){return kr}),n.d(t,"Q",function(){return tc}),n.d(t,"R",function(){return sn}),n.d(t,"S",function(){return hl}),n.d(t,"T",function(){return dl}),n.d(t,"U",function(){return lf}),n.d(t,"V",function(){return zc}),n.d(t,"W",function(){return p}),n.d(t,"X",function(){return Al}),n.d(t,"Y",function(){return wu}),n.d(t,"Z",function(){return xu}),n.d(t,"ab",function(){return Or}),n.d(t,"bb",function(){return _u}),n.d(t,"cb",function(){return Tr}),n.d(t,"db",function(){return ef}),n.d(t,"eb",function(){return Zn}),n.d(t,"fb",function(){return Cu}),n.d(t,"gb",function(){return gl}),n.d(t,"hb",function(){return Yf}),n.d(t,"ib",function(){return Hl}),n.d(t,"jb",function(){return sf}),n.d(t,"kb",function(){return Rl}),n.d(t,"lb",function(){return Pl}),n.d(t,"mb",function(){return tf}),n.d(t,"nb",function(){return Ln}),n.d(t,"ob",function(){return Uf}),n.d(t,"pb",function(){return sh}),n.d(t,"qb",function(){return rf}),n.d(t,"rb",function(){return un}),n.d(t,"sb",function(){return Bc}),n.d(t,"tb",function(){return Dl}),n.d(t,"ub",function(){return Ll}),n.d(t,"vb",function(){return Rf}),n.d(t,"wb",function(){return $n}),n.d(t,"xb",function(){return qc}),n.d(t,"yb",function(){return Eu}),n.d(t,"zb",function(){return Su}),n.d(t,"Ab",function(){return Ci}),n.d(t,"Bb",function(){return rl}),n.d(t,"Cb",function(){return il}),n.d(t,"Db",function(){return ol}),n.d(t,"Eb",function(){return sc}),n.d(t,"Fb",function(){return Pc}),n.d(t,"Gb",function(){return vc}),n.d(t,"Hb",function(){return wc}),n.d(t,"Ib",function(){return vl}),n.d(t,"Jb",function(){return Mc}),n.d(t,"Kb",function(){return rn}),n.d(t,"Lb",function(){return jc}),n.d(t,"Mb",function(){return bl}),n.d(t,"Nb",function(){return xl}),n.d(t,"Ob",function(){return Dc}),n.d(t,"Pb",function(){return Cl}),n.d(t,"Qb",function(){return El}),n.d(t,"Rb",function(){return Nr}),n.d(t,"Sb",function(){return Ou}),n.d(t,"Tb",function(){return Dh}),n.d(t,"Ub",function(){return Bl}),n.d(t,"Vb",function(){return Ar}),n.d(t,"Wb",function(){return Xn}),n.d(t,"Xb",function(){return Qn}),n.d(t,"Yb",function(){return Ir}),n.d(t,"Zb",function(){return Sl}),n.d(t,"ac",function(){return Uc}),n.d(t,"bc",function(){return Fc}),n.d(t,"cc",function(){return Lr}),n.d(t,"dc",function(){return zr}),n.d(t,"ec",function(){return Jn}),n.d(t,"fc",function(){return Dn}),n.d(t,"gc",function(){return Tu}),n.d(t,"hc",function(){return Wc}),n.d(t,"ic",function(){return Br}),n.d(t,"jc",function(){return cc}),n.d(t,"kc",function(){return nf}),n.d(t,"lc",function(){return Nu}),n.d(t,"mc",function(){return Au}),n.d(t,"nc",function(){return Bn}),n.d(t,"oc",function(){return Qc}),n.d(t,"pc",function(){return Hc}),n.d(t,"qc",function(){return ic}),n.d(t,"rc",function(){return gh}),n.d(t,"sc",function(){return Kr}),n.d(t,"tc",function(){return Iu}),n.d(t,"uc",function(){return Ru}),n.d(t,"vc",function(){return Du}),n.d(t,"wc",function(){return Lu}),n.d(t,"xc",function(){return _c}),n.d(t,"yc",function(){return Cc}),n.d(t,"zc",function(){return Ec}),n.d(t,"Ac",function(){return Sc}),n.d(t,"Bc",function(){return kc}),n.d(t,"Cc",function(){return _i}),n.d(t,"Dc",function(){return Fu}),n.d(t,"Ec",function(){return Ur}),n.d(t,"Fc",function(){return af}),n.d(t,"Gc",function(){return ar}),n.d(t,"Hc",function(){return zu}),n.d(t,"Ic",function(){return au}),n.d(t,"Jc",function(){return uu}),n.d(t,"Kc",function(){return Wr}),n.d(t,"Lc",function(){return Vr}),n.d(t,"Mc",function(){return $c}),n.d(t,"Nc",function(){return Tl}),n.d(t,"Oc",function(){return Lc}),n.d(t,"Pc",function(){return Uu}),n.d(t,"Qc",function(){return Wu}),n.d(t,"Rc",function(){return Fn}),n.d(t,"Sc",function(){return Un}),n.d(t,"Tc",function(){return Wn}),n.d(t,"Uc",function(){return Hn}),n.d(t,"Vc",function(){return Ue}),n.d(t,"Wc",function(){return an}),n.d(t,"Xc",function(){return Hr}),n.d(t,"Yc",function(){return Jc}),n.d(t,"Zc",function(){return Mh}),n.d(t,"ad",function(){return Gc}),n.d(t,"bd",function(){return Gr}),n.d(t,"cd",function(){return qr}),n.d(t,"dd",function(){return he}),n.d(t,"ed",function(){return Kn}),n.d(t,"fd",function(){return Ch}),n.d(t,"gd",function(){return sl}),n.d(t,"hd",function(){return ul}),n.d(t,"id",function(){return Yn}),n.d(t,"jd",function(){return er});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var c=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags?this.flags[e]:(this.flags[e]=this.evaluateFlag(e),this.flags[e])},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return f(n,t[0],t[1]),t.join("=")}),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach(function(t){var n=t.split(":"),r=n[0],i=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,i)})}},e}();function f(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function p(){return h}var h=null,d=new Map,m=new Map;function g(e,t){var n=C(e,t);return d.get(n)}function v(e){return m.get(e)}function y(e){for(var t=d.entries(),n=[];;){var r=t.next(),i=r.done,o=r.value;if(i)break;var a=o[0],s=o[1];a.split("_")[0]===e&&n.push(s)}return n}function b(e){var t=e.kernelName,n=e.backendName,r=C(t,n);if(d.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");d.set(r,e)}function w(e){var t=e.kernelName;m.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),m.set(t,e)}function x(e,t){var n=C(e,t);if(!d.has(n))throw new Error("The kernel '"+e+"' for backend '"+t+"' is not registered");d.delete(n)}function _(e){if(!m.has(e))throw new Error("The gradient '"+e+"' for backend is not registered");m.delete(e)}function C(e,t){return t+"_"+e}function E(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function S(e,t,n){return Math.max(e,Math.min(t,n))}function k(e){return e%2==0?e:e+1}function O(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function T(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function N(e,t,n){void 0===n&&(n=""),T(P(e,t),function(){return n+" Shapes "+e+" and "+t+" must match"})}function A(e){T(null!=e,function(){return"The input to the tensor constructor must be a non-null value."})}function I(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||K(e)&&!n)for(var r=0;r<e.length;++r)I(e[r],t,n);else t.push(e);return t}function R(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function P(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function M(e){return e%1==0}function j(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function D(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function L(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function F(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise(function(r,i){var o=0,a=function(){if(e())r();else{var s=t(++o);null!=n&&o>=n?i():setTimeout(a,s)}};a()})}function z(e,t){for(var n=1,r=-1,i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+i);r=i}else if(e[i]<0)throw Error("Shapes can not be < 0. Found "+e[i]+" at dim "+i);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var o=e.slice();return o[r]=t/n,o}function B(e,t){var n=t.length;return T((e=null==e?t.map(function(e,t){return t}):[].concat(e)).every(function(e){return e>=-n&&e<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e}),T(e.every(function(e){return M(e)}),function(){return"All values in axis param must be integers but got axis "+e}),e.map(function(e){return e<0?n+e:e})}function U(e,t){for(var n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||i?null:B(t,e).sort(),a=0,s=0;s<e.length;++s){if(null!=o){if(o[a]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==o[a]||o[a]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),o[a]<=s&&a++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function W(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function V(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function H(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function G(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function q(e,t){return!("complex64"===t||"float32"===t&&"complex64"!==e||"int32"===t&&"float32"!==e&&"complex64"!==e||"bool"===t&&"bool"===e)}function K(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function X(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function Y(e){if(null==e)return 0;var t=0;return e.forEach(function(e){return t+=e.length}),t}function Z(e){return"string"==typeof e||e instanceof String}function $(e){return"boolean"==typeof e}function J(e){return"number"==typeof e}function Q(e){return Array.isArray(e)?Q(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":J(e)?"float32":Z(e)?"string":$(e)?"bool":"float32"}function ee(e){return!!(e&&e.constructor&&e.call&&e.apply)}function te(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function ne(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function re(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=I(e)),n&&H(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),i=0;i<r.length;++i)0!==Math.round(e[i])&&(r[i]=1);return r}throw new Error("Unknown data type "+t)}function ie(e,t){if(0===e.length)return t[0];var n=e.reduce(function(e,t){return e*t});if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var i=new Array;if(1===n.length)for(var o=n[0],a=0;a<o;a++)i[a]=r[t+a];else{o=n[0];var s=n.slice(1),u=s.reduce(function(e,t){return e*t});for(a=0;a<o;a++)i[a]=e(t+a*u,s,r)}return i}(0,e,t)}function oe(e,t){for(var n=ae(e,t),r=0;r<n.length;r++)n[r]=1;return n}function ae(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function se(){return p().platform.now()}function ue(e){e.forEach(function(t){T(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."})})}function le(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",p().platform.encode(e,t)}function ce(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",p().platform.decode(e,t)}function fe(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function pe(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}var he=Object.freeze({shuffle:E,clamp:S,nearestLargerEven:k,sum:O,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var i=Number(e[r])-Number(t[r]);n+=i*i}return n},assert:T,assertShapesMatch:N,assertNonNull:A,flatten:I,sizeFromShape:R,isScalarShape:function(e){return 0===e.length},arraysEqual:P,isInt:M,tanh:j,sizeToSquarishShape:D,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return E(t),t},rightPad:L,repeatedTry:F,inferFromImplicitShape:z,parseAxisParam:B,squeezeShape:U,getTypedArrayFromDType:W,getArrayFromDType:V,checkConversionForErrors:H,isValidDtype:G,hasEncodingLoss:q,isTypedArray:K,bytesPerElement:X,bytesFromStringArray:Y,isString:Z,isBoolean:$,isNumber:J,inferDtype:Q,isFunction:ee,nearestDivisor:te,computeStrides:ne,toTypedArray:re,toNestedArray:ie,makeOnesTypedArray:oe,makeZerosTypedArray:ae,now:se,assertNonNegativeIntegerDimensions:ue,fetch:function(e,t){return p().platform.fetch(e,t)},encodeString:le,decodeString:ce,locToIndex:fe,indexToLoc:pe}),de=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new me)}return e.prototype.profileKernel=function(e,t,n){var r,i=this,o=this.backendTimer.time(function(){r=n()});return r.forEach(function(n){n.data().then(function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(isNaN(i)||!isFinite(i))return console.warn("Found "+i+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),o.then(function(o){var a="";null!=o.getExtraProfileInfo&&(a=o.getExtraProfileInfo()),i.logger.logKernelProfile(e,n,r,o.kernelMs,t,a)})})}),r},e}(),me=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,i,o){var a="number"==typeof r?L(r+"ms",9):r.error,s=L(e,25),u=t.rank,l=t.size,c=L(t.shape.toString(),14),f="";for(var p in i){var h=i[p].shape||t.shape,d=h.length;f+=p+": "+d+"D "+(d>0?h:"")+" "}console.log("%c"+s+"\t%c"+a+"\t%c"+u+"D "+c+"\t%c"+l+"\t%c"+f+"\t%c"+o,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),ge=20,ve=3,ye=7;function be(e,t,n,r){var i=ne(t),o=function(e,t,n,r){var i=R(t),o=r[r.length-1],a=new Array(o).fill(0),s=t.length,u="complex64"===n?_e(e):e;if(s>1)for(var l=0;l<i/o;l++)for(var c=l*o,f=0;f<o;f++)a[f]=Math.max(a[f],we(u[c+f],0,n).length);return a}(e,t,n,i),a=t.length,s=function e(t,n,r,i,o,a){void 0===a&&(a=!0);var s="complex64"===r?2:1,u=n[0],l=n.length;if(0===l)return"complex64"===r?[we(_e(t)[0],0,r)]:"bool"===r?[xe(t[0])]:[t[0].toString()];if(1===l){if(u>ge){var c=ve*s,f=Array.from(t.slice(0,c)),p=Array.from(t.slice((u-ve)*s,u*s));return"complex64"===r&&(f=_e(f),p=_e(p)),["["+f.map(function(e,t){return we(e,o[t],r)}).join(", ")+", ..., "+p.map(function(e,t){return we(e,o[u-ve+t],r)}).join(", ")+"]"]}return["["+("complex64"===r?_e(t):Array.from(t)).map(function(e,t){return we(e,o[t],r)}).join(", ")+"]"]}var h=n.slice(1),d=i.slice(1),m=i[0]*s,g=[];if(u>ge){for(var v=0;v<ve;v++){var y=(b=v*m)+m;g.push.apply(g,e(t.slice(b,y),h,r,d,o,!1))}for(g.push("..."),v=u-ve;v<u;v++)y=(b=v*m)+m,g.push.apply(g,e(t.slice(b,y),h,r,d,o,v===u-1))}else for(v=0;v<u;v++){var b;y=(b=v*m)+m,g.push.apply(g,e(t.slice(b,y),h,r,d,o,v===u-1))}var w=2===l?",":"";for(g[0]="["+g[0]+w,v=1;v<g.length-1;v++)g[v]=" "+g[v]+w;var x=",\n";for(v=2;v<l;v++)x+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(a?"":x),g}(e,t,n,i,o),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+a),u.push("  shape: ["+t+"]"),u.push("  values:")),u.push(s.map(function(e){return"    "+e}).join("\n")),u.join("\n")}function we(e,t,n){return L(Array.isArray(e)?parseFloat(e[0].toFixed(ye))+" + "+parseFloat(e[1].toFixed(ye))+"j":Z(e)?"'"+e+"'":"bool"===n?xe(e):parseFloat(e.toFixed(ye)).toString(),t)}function xe(e){return 0===e?"false":"true"}function _e(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var Ce=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=R(e),null!=n){var i=n.length;T(i===this.size,function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+r.size+"'."})}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||V(t,this.size),this.strides=ne(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),T(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"});var i=this.locToIndex(n);this.values[i]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];if(o<0||o>=this.shape[n]){var a="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(a)}n++}for(var s=e[e.length-1],u=0;u<e.length-1;++u)s+=this.strides[u]*e[u];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return Ee().makeTensor(this.values,this.shape,this.dtype)},e}(),Ee=null,Se=null,ke=null,Oe=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=R(e),this.strides=ne(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),T(1===this.size,function(){return"The array must have only 1 element."}),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,i){return this.throwIfDisposed(),this.reshape([e,t,n,r,i])},e.prototype.asType=function(e){return this.throwIfDisposed(),Se.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return u(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,Se.buffer(this.shape,this.dtype,e)]}})})},e.prototype.bufferSync=function(){return Se.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return u(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,ie(this.shape,e)]}})})},e.prototype.arraySync=function(){return ie(this.shape,this.dataSync())},e.prototype.data=function(){return u(this,void 0,void 0,function(){var e,t;return l(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=Ee().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map(function(e){return ce(e)})]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}})})},e.prototype.dataSync=function(){this.throwIfDisposed();var e=Ee().readSync(this.dataId);if("string"===this.dtype)try{return e.map(function(e){return ce(e)})}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return u(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,Ee().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}})})},e.prototype.dispose=function(){this.isDisposed||(Ee().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),Se.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),Se.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),Se.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),Se.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),Se.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),Se.clone(this)},e.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),Se.oneHot(this,e,t,n)},e.prototype.toString=function(e){return void 0===e&&(e=!1),be(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),Se.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),Se.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),Se.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),Se.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),Se.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),Se.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),Se.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),Se.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),Se.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),Se.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),Se.unstack(this,e)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),Se.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,i){return void 0===n&&(n=.001),ke("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,i,r,n)},e.prototype.batchNorm=function(e,t,n,r,i){return void 0===i&&(i=.001),this.throwIfDisposed(),Se.batchNorm(this,e,t,n,r,i)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),Se.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),Se.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),Se.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),Se.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),Se.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),Se.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),Se.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),Se.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),Se.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),Se.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),Se.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),Se.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),Se.div(this,e)},e.prototype.divNoNan=function(e){return this.throwIfDisposed(),Se.divNoNan(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),Se.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),Se.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),Se.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),Se.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),Se.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),Se.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),Se.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),Se.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),Se.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),Se.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),Se.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),Se.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),Se.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),Se.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),Se.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),Se.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),Se.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),Se.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),Se.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),Se.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),Se.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),Se.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),Se.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),Se.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),Se.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),Se.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),Se.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),Se.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),Se.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),Se.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),Se.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),Se.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),Se.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),Se.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),Se.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),Se.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),Se.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),Se.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),Se.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),Se.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),Se.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),Se.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),Se.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Se.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),Se.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),Se.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),Se.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),Se.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),Se.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),Se.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),Se.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),Se.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),Se.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),Se.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),Se.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),Se.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),Se.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),Se.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),Se.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),Se.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),Se.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),Se.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),Se.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),Se.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),Se.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),Se.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),Se.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),Se.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),Se.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),Se.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),Se.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),Se.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),Se.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),Se.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,i,o){return void 0===r&&(r="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),Se.conv1d(this,e,t,n,r,i,o)},e.prototype.conv2d=function(e,t,n,r,i,o){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),Se.conv2d(this,e,t,n,r,i,o)},e.prototype.conv2dTranspose=function(e,t,n,r,i){return this.throwIfDisposed(),Se.conv2dTranspose(this,e,t,n,r,i)},e.prototype.depthwiseConv2D=function(e,t,n,r,i,o){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),Se.depthwiseConv2d(this,e,t,n,r,i,o)},e.prototype.separableConv2d=function(e,t,n,r,i,o){return void 0===i&&(i=[1,1]),void 0===o&&(o="NHWC"),this.throwIfDisposed(),Se.separableConv2d(this,e,t,n,r,i,o)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),Se.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),Se.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),Se.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,i){return this.throwIfDisposed(),Se.pool(this,e,t,n,r,i)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),Ee().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),Se.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Se.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Se.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),Se.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,i,o,a,s){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),this.throwIfDisposed(),Se.stridedSlice(this,e,t,n,r,i,o,a,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),Se.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),Se.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),Se.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),Se.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),Se.spectral.irfft(this)},e}();Object.defineProperty(Oe,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var Te,Ne,Ae,Ie,Re,Pe=function(e){function t(t,n,r,i){var o=e.call(this,t.shape,t.dtype,t.dataId,i)||this;return o.trainable=n,o.name=r,o}return s(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!P(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");Ee().disposeTensor(this),this.dataId=e.dataId,Ee().incRef(this,null)},t.prototype.dispose=function(){Ee().disposeVariable(this),this.isDisposedInternal=!0},t}(Oe);Object.defineProperty(Pe,Symbol.hasInstance,{value:function(e){return e instanceof Oe&&null!=e.assign&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(Te||(Te={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Ne||(Ne={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Ae||(Ae={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Ie||(Ie={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Re||(Re={}));var Me={float32:Ie,int32:Ne,bool:Ae,complex64:Re};function je(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return Me[e][t]}function De(e){return je(e,"int32")}function Le(e,t){if(e.dtype===t.dtype)return[e,t];var n=je(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Fe(e,t){T(e.dtype===t.dtype,function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"})}function ze(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof Oe)n.push(t);else if(i=t,Array.isArray(i)||"object"==typeof i){var i,o=t;for(var a in o){var s=o[a];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}var Be,Ue=Object.freeze({makeTypesMatch:Le,assertTypesMatch:Fe,isTensorInList:function(e,t){return t.some(function(t){return t.id===e.id})},getTensorsInContainer:ze}),We=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),Ve=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new We}return e.prototype.ready=function(){return u(this,void 0,void 0,function(){var e,t,n;return l(this,function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then(function(){})];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return u(this,void 0,void 0,function(){var t,n,r;return l(this,function(i){switch(i.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=i.sent(),[3,3];case 2:r=n,i.label=3;case 3:if(!r)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new de(this.backendInstance),[2,!0]}})})},e.prototype.setupRegisteredKernels=function(){var e=this;y(this.backendName).forEach(function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)})},e.prototype.disposeRegisteredKernels=function(e){var t=this;y(e).forEach(function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])})},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var i=++this.pendingBackendInitId,o=r.then(function(n){return!(i<t.pendingBackendInitId||(t.registry[e]=n,t.pendingBackendInit=null,0))}).catch(function(n){return!(i<t.pendingBackendInitId||(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),1))});return this.pendingBackendInit=o,{success:o,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority})},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),i=r.success,o=r.asyncInit;if(o||i)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,i,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,i=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun(function(){return r.startScope(i)},function(){return r.endScope(n)},function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n})},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],function(e){return{x:function(){return e.toFloat()}}},[]),t},e.prototype.runKernel=function(e,t,n,r,i){return this.runKernelFunc(null,t,null,e,n,r,i)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),i=0;n.forEach(function(e){i+="complex64"===e.dtype?3:1});var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-t-i-o;if(a>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+a+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,i,o,a){var s,u=this;void 0===o&&(o=[]),void 0===a&&(a=[]);var l=[],c=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var f,p=function(e){c&&(l=e.map(function(e){return u.keep(u.clone(e))}))},h=this.state.numBytes,d=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var m,v=g(r,this.backendName);return f=null!=v?function(){var e=u.backend.numDataIds();m=v.kernelFunc({inputs:t,attrs:i,backend:u.backend});var n=Array.isArray(m)?m:[m];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n);var s=n.map(function(e){var t=e.dataId,n=e.shape,r=e.dtype;return u.makeTensorFromDataId(t,n,r)}),l=s.filter(function(e,t){return a[t]});return p((o||[]).slice().concat(l)),s}:function(){var t=u.backend.numDataIds();m=u.tidy(function(){return e(u.backend,p)});var n=Array.isArray(m)?m:[m];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n),n},this.scopedRun(function(){return u.state.kernelDepth++},function(){return u.state.kernelDepth--},function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(r,t,function(){return f()}):f()}),c&&this.addTapeNode(r,t,s,n,l),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-h,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-d,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map(function(e){return t[e].shape}),outputShapes:s.map(function(e){return e.shape})}),Array.isArray(m)?s:s[0]},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var i=e;"string"===n&&Z(e[0])&&(i=e.map(function(e){return le(e)}));var o=r.write(i,t,n),a=new Oe(t,n,o,this.nextTensorId());if(this.incRef(a,r),"string"===n){var s=this.state.tensorInfo.get(o),u=Y(i);this.state.numBytes+=u-s.bytes,s.bytes=u}return a},e.prototype.makeTensorFromDataId=function(e,t,n,r){var i=new Oe(t,n=n||"float32",e,this.nextTensorId());return this.incRef(i,r),i},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var i=new Pe(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*X(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof Pe||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return u(this,void 0,void 0,function(){var t,n;return l(this,function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(e){return e.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]})})},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,i){var o=this,a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},s=v(e);null!=s&&(r=s.gradFunc),null!=r&&(a.gradient=function(e){return e=e.map(function(e,t){if(null==e){var r=n[t],i=ae(r.size,r.dtype);return o.makeTensor(i,r.shape,r.dtype)}return e}),r(e.length>1?e:e[0],i)}),this.state.activeTape.push(a)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=ze(e),r=new Set(n.map(function(e){return e.id})),i=0;i<this.state.activeScope.track.length;i++){var o=this.state.activeScope.track[i];o.kept||r.has(o.id)||o.dispose()}var a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(e){e.kept||e.scopeId!==a.id||t.track(e)})},e.prototype.gradients=function(e,t,n,r){var i=this;if(void 0===r&&(r=!1),T(t.length>0,function(){return"gradients() received an empty list of xs."}),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var o=this.scopedRun(function(){return i.startTape()},function(){return i.endTape()},function(){return i.tidy("forward",e)});T(o instanceof Oe,function(){return"The result y returned by f() must be a tensor."});var a=function(e,t,n){for(var r={},i={},o=0;o<t.length;o++)r[t[o].id]=!0;for(o=0;o<e.length;o++){var a=(d=e[o]).inputs;for(var s in a){for(var u=a[s],l=!1,c=0;c<t.length;c++)if(r[u.id]){d.outputs.forEach(function(e){return r[e.id]=!0}),l=!0,i[d.id]=!0;break}if(l)break}}var f={};f[n.id]=!0;var p={};for(o=e.length-1;o>=0;o--)for(a=(d=e[o]).inputs,c=0;c<d.outputs.length;c++)if(f[d.outputs[c].id]){for(var s in a)f[a[s].id]=!0,p[d.id]=!0;break}var h=[];for(o=0;o<e.length;o++){var d;if(i[(d=e[o]).id]&&p[d.id]){var m={};for(var s in d.inputs){var g=d.inputs[s];r[g.id]&&(m[s]=g)}var v=Object.assign({},d);v.inputs=m,v.outputs=d.outputs,h.push(v)}}return h}(this.state.activeTape,t,o);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var e,r,s={};s[o.id]=null==n?(r=oe(R(e=o.shape),"float32"),He.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var i=t[r],o=[];if(i.outputs.forEach(function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)}),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+i.kernelName+".");var a=i.gradient(o),s=function(t){if(!(t in a))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(a)+".");var r=n(function(){return a[t]()});if("float32"!==r.dtype)throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var o=i.inputs[t];if(!P(r.shape,o.shape))throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+o.shape+"'");if(null==e[o.id])e[o.id]=r;else{var s=e[o.id];e[o.id]=s.add(r),s.dispose()}};for(var u in i.inputs)s(u)},i=t.length-1;i>=0;i--)r(i)}(s,a,function(e){return i.tidy(e)});var u=t.map(function(e){return s[e.id]});return 0===i.state.gradientDepth&&(i.state.activeTape.forEach(function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()}),i.state.activeTape=null),{value:o,grads:u}})},e.prototype.customGrad=function(e){var t=this;return T(ee(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];T(r.every(function(e){return e instanceof Oe}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var o={};return r.forEach(function(e,t){o[t]=e}),t.runKernelFunc(function(t,i){return T((n=e.apply(void 0,r.concat([i]))).value instanceof Oe,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),T(ee(n.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),n.value},o,function(e,t){var i=n.gradFunc(e,t),o=Array.isArray(i)?i:[i];T(o.length===r.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),T(o.every(function(e){return e instanceof Oe}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var a={};return o.forEach(function(e,t){a[t]=function(){return e}}),a})}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return u(this,void 0,void 0,function(){var t,n;return l(this,function(r){switch(r.label){case 0:return t=se(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=se()-t,[2,n]}})})},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new We,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),He=function(){var t=function(){if(null==Be){var t=void 0;if("undefined"!=typeof window)t=window;else if(void 0!==e)t=e;else if(void 0!==r)t=r;else{if("undefined"==typeof self)throw new Error("Could not find a global object");t=self}Be=t}return Be}();if(null==t._tfengine){var n=new c(t);t._tfengine=new Ve(n)}return function(e){h=e}(t._tfengine.ENV),Ee=function(){return t._tfengine},t._tfengine}();function Ge(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var qe=p();qe.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),qe.registerFlag("IS_BROWSER",function(){return Ge()}),qe.registerFlag("IS_NODE",function(){return void 0!==r&&void 0!==r.versions&&void 0!==r.versions.node}),qe.registerFlag("IS_CHROME",function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),qe.registerFlag("PROD",function(){return!1}),qe.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return qe.getBool("DEBUG")}),qe.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),qe.registerFlag("IS_TEST",function(){return!1});var Ke,Xe,Ye,Ze={},$e={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Je(e,t){Ze[e]=t}function Qe(e){e in Ze||(Ze[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",function(t){t.preventDefault(),delete Ze[e]},!1),1===e?t.getContext("webgl",$e)||t.getContext("experimental-webgl",$e):t.getContext("webgl2",$e)}(e));var t=Ze[e];return t.isContextLost()?(delete Ze[e],Qe(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),Ze[e])}function et(e,t){return[t,e]}function tt(e){var t=R(e);return D(Math.ceil(t/4))}function nt(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function rt(e,t){var n,r,i,o,a,s,u,l,c,f=e;return 2===p().getNumber("WEBGL_VERSION")?(n=f.R32F,r=f.R16F,i=f.RGBA16F,o=f.RGBA32F,a=f.RED,s=4,u=1,l=f.HALF_FLOAT,c=f.FLOAT):(n=e.RGBA,r=e.RGBA,i=e.RGBA,o=f.RGBA,a=e.RGBA,s=4,u=4,l=null!=t?t.HALF_FLOAT_OES:null,c=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:o,textureFormatFloat:a,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:l,textureTypeFloat:c}}function it(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+ut(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Ke||(Ke={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Xe||(Xe={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Ye||(Ye={}));var ot=5.96e-8,at=65504;function st(e){return!!(p().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||ot<Math.abs(e)&&Math.abs(e)<at)}function ut(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function lt(e,t,n){return Rt(e,t,function(){return e.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function ct(e,t,n){var r=Rt(e,t,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(it(e,t,function(){return e.shaderSource(r,n)}),it(e,t,function(){return e.compileShader(r)}),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function ft(e,t,n){var r=Rt(e,t,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(it(e,t,function(){return e.shaderSource(r,n)}),it(e,t,function(){return e.compileShader(r)}),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=dt.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],i=e.split("\n"),o=i.length.toString().length+2,a=i.map(function(e,t){return L((t+1).toString(),o)+e}),s=0,u=0;u<a.length;u++)s=Math.max(a[u].length,s);var l=a.slice(0,r-1),c=a.slice(r-1,r),f=a.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+L(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var pt,ht,dt=/ERROR: [0-9]+:([0-9]+):/g;function mt(e,t){return Rt(e,t,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function gt(e,t,n){if(it(e,t,function(){return e.linkProgram(n)}),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function vt(e,t,n){if(it(e,t,function(){return e.validateProgram(n)}),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function yt(e,t,n){var r=Rt(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return it(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),it(e,t,function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function bt(e,t,n){var r=Rt(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return it(e,t,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)}),it(e,t,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function wt(e,t){return Rt(e,t,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function xt(e,t){var n=p().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function _t(e,t){return Rt(e,t,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function Ct(e,t,n,r,i,o,a,s){var u=e.getAttribLocation(n,r);return-1!==u&&(it(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,i)}),it(e,t,function(){return e.vertexAttribPointer(u,o,e.FLOAT,!1,a,s)}),it(e,t,function(){return e.enableVertexAttribArray(u)}),!0)}function Et(e,t,n,r){Pt(e,r),it(e,t,function(){return e.activeTexture(e.TEXTURE0+r)}),it(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)})}function St(e,t,n,r){return Rt(e,t,function(){return e.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function kt(e,t,n){return e.getUniformLocation(t,n)}function Ot(e,t,n,r,i,o){it(e,t,function(){return Et(e,t,r,o)}),it(e,t,function(){return e.uniform1i(i,o)})}function Tt(e,t,n,r){it(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),it(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)})}function Nt(e,t,n){it(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),it(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function At(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+It(e,t))}function It(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function Rt(e,t,n,r){var i=it(e,t,function(){return n()});if(null==i)throw new Error(r);return i}function Pt(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function Mt(e,t){return void 0===t&&(t=2),R(e.slice(0,e.length-t))}function jt(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Dt(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[Mt(e)].concat(jt(e))),t}function Lt(e,t){var n;void 0===t&&(t=!1);var r=p().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map(function(t,n){return n>=e.length-2?k(e[n]):e[n]})).length&&(e=[2,e[0]])),2!==e.length){var i=U(e);e=i.newShape}var o=R(e);if(e.length<=1&&o<=r)return[1,o];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var a=Mt(e),s=2,u=2;return e.length&&(s=(n=jt(e))[0],u=n[1]),D(o=a*(s/2)*(u/2)).map(function(e){return 2*e})}return D(o)}function Ft(e){return e%2==0}function zt(e,t){if(P(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(Ft(n)&&Ft(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Ft(e[0])&&Ft(t[0])}function Bt(e){if(null==pt){var t=Qe(e);pt=t.getParameter(t.MAX_TEXTURE_SIZE)}return pt}function Ut(e){if(null==ht){var t=Qe(e);ht=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,ht)}function Wt(e){if(0===e)return 0;var t=Qe(e);return Vt(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Vt(t,"EXT_disjoint_timer_query")?1:0}function Vt(e,t){return null!=e.getExtension(t)}function Ht(e){try{if(null!=Qe(e))return!0}catch(e){return!1}return!1}function Gt(e){if(0===e)return!1;var t=Qe(e);if(1===e){if(!Vt(t,"OES_texture_float"))return!1}else if(!Vt(t,"EXT_color_buffer_float"))return!1;return Kt(t)}function qt(e){if(0===e)return!1;var t=Qe(e),n;return 1!==e?Vt(t,"EXT_color_buffer_float")?Kt(t):!!Vt(t,"EXT_color_buffer_half_float")&&function(e,t){var n=rt(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),o}(t,t.getExtension("EXT_color_buffer_half_float")):!!Vt(t,"OES_texture_float")&&!!Vt(t,"WEBGL_color_buffer_float")&&Kt(t)}function Kt(e){var t=rt(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}function Xt(e){return 2===e&&null!=Qe(e).fenceSync}var Yt=Object.freeze({callAndCheck:it,canBeRepresented:st,getWebGLErrorMessage:ut,getExtensionOrThrow:lt,createVertexShader:ct,createFragmentShader:ft,createProgram:mt,linkProgram:gt,validateProgram:vt,createStaticVertexBuffer:yt,createStaticIndexBuffer:bt,getNumChannels:function(){return 2===p().getNumber("WEBGL_VERSION")?1:4},createTexture:wt,validateTextureSize:xt,createFramebuffer:_t,bindVertexBufferToProgramAttribute:Ct,bindTextureUnit:Et,unbindTextureUnit:function(e,t,n){Pt(e,n),it(e,t,function(){return e.activeTexture(e.TEXTURE0+n)}),it(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:St,getProgramUniformLocation:kt,bindTextureToProgramUniformSampler:Ot,bindCanvasToFramebuffer:function(e,t){it(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),it(e,t,function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)}),it(e,t,function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)})},bindColorTextureToFramebuffer:Tt,unbindColorTextureFromFramebuffer:Nt,validateFramebuffer:At,getFramebufferErrorMessage:It,getBatchDim:Mt,getRowsCols:jt,getShapeAs3D:Dt,getTextureShapeFromLogicalShape:Lt,isReshapeFree:zt,getWebGLMaxTextureSize:Bt,resetMaxTextureSize:function(){pt=null},resetMaxTexturesInShader:function(){ht=null},getMaxTexturesInShader:Ut,getWebGLDisjointQueryTimerVersion:Wt,hasExtension:Vt,isWebGLVersionEnabled:Ht,isCapableOfRenderingToFloatTexture:Gt,isDownloadFloatTextureEnabled:qt,isWebGLFenceEnabled:Xt}),Zt=p();function $t(){p().set("PROD",!0)}function Jt(){p().set("DEBUG",!0)}function Qt(){p().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function en(e){p().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function tn(){He.disposeVariables()}function nn(){return He}function rn(){return He.memory()}function on(e){return He.profile(e)}function an(e,t){return He.tidy(e,t)}function sn(e){ze(e).forEach(function(e){return e.dispose()})}function un(e){return He.keep(e)}function ln(e){return He.time(e)}function cn(e){return He.setBackend(e)}function fn(){return He.ready()}function pn(){return He.backendName}function hn(e){He.removeBackend(e)}function dn(e){return He.findBackend(e)}function mn(e){return He.findBackendFactory(e)}function gn(e,t,n){return void 0===n&&(n=1),He.registerBackend(e,t,n)}function vn(){return He.backend}function yn(e,t){p().setPlatform(e,t)}function bn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];p().getBool("IS_TEST")||console.warn.apply(console,e)}function wn(e,t){var n=e;if(K(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||K(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&p().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||K(t)){T(n.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"}),T(t.length===n[0],function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"});for(var i=n.slice(1),o=0;o<t.length;++o)e(t[o],i,r.concat(o))}else T(0===n.length,function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"})}(e,r,[]),r}function xn(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function _n(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof Oe)return xn(r,e.dtype,t,n),e;var i=Q(e);if("string"!==i&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),xn(r,i,t,n),null==e||!K(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var o=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+o+"'")}var a=wn(e,i);K(e)||Array.isArray(e)||(e=[e]);var s="string"!==i?re(e,i,p().getBool("DEBUG")):I(e,[],!0);return He.makeTensor(s,a,i)}function Cn(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map(function(e,r){return _n(e,t+"["+r+"]",n)},r)}function En(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function Sn(e,t,n){for(var r=e.length+t.length,i=[],o=0,a=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[o++]):i.push(t[a++]);return i}function kn(e,t){for(var n=[],r=e.length,i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);return[n,t.map(function(t){return e[t]})]}function On(e,t){return Sn(e,t.map(function(e){return 1}),t)}function Tn(e,t,n){T(En(t,n),function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."})}function Nn(e,t){if(En(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach(function(e){return n.push(e)}),n}function An(e){return e.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function In(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function Rn(e,t){var n=e[0].length;e.forEach(function(e,t){T(e.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"})}),T(t>=0&&t<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=e[0];e.forEach(function(e,i){for(var o=0;o<n;o++)T(o===t||e[o]===r[o],function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."})})}function Pn(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function Mn(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];He.startScope(n);try{var i=r.apply(void 0,e);return i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),He.endScope(i),i}catch(e){throw He.endScope(null),e}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}Zt.registerFlag("HAS_WEBGL",function(){return Zt.getNumber("WEBGL_VERSION")>0}),Zt.registerFlag("WEBGL_VERSION",function(){return Ht(2)?2:Ht(1)?1:0}),Zt.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return 2===Zt.get("WEBGL_VERSION")}),Zt.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),Zt.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),Zt.registerFlag("WEBGL_PACK",function(){return Zt.getBool("HAS_WEBGL")}),Zt.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return Zt.getBool("WEBGL_PACK")}),Zt.registerFlag("WEBGL_PACK_CLIP",function(){return Zt.getBool("WEBGL_PACK")}),Zt.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),Zt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return Zt.getBool("WEBGL_PACK")}),Zt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return Zt.getBool("WEBGL_PACK")}),Zt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return Zt.getBool("WEBGL_PACK")}),Zt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return Zt.getBool("WEBGL_PACK")}),Zt.registerFlag("WEBGL_PACK_REDUCE",function(){return Zt.getBool("WEBGL_PACK")}),Zt.registerFlag("WEBGL_LAZILY_UNPACK",function(){return Zt.getBool("WEBGL_PACK")}),Zt.registerFlag("WEBGL_CONV_IM2COL",function(){return Zt.getBool("WEBGL_PACK")}),Zt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return Bt(Zt.getNumber("WEBGL_VERSION"))}),Zt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return Ut(Zt.getNumber("WEBGL_VERSION"))}),Zt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=Zt.getNumber("WEBGL_VERSION");return 0===e?0:Wt(e)}),Zt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return Zt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e}),Zt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return Gt(Zt.getNumber("WEBGL_VERSION"))}),Zt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!Zt.getBool("WEBGL_FORCE_F16_TEXTURES")&&Zt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),Zt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return qt(Zt.getNumber("WEBGL_VERSION"))}),Zt.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return Xt(Zt.getNumber("WEBGL_VERSION"))}),Zt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return Zt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),ke=en;var jn=Mn({complex_:function(e,t){var n=_n(e,"real","complex"),r=_n(t,"imag","complex");return N(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),He.runKernelFunc(function(e){return e.complex(n,r)},{$real:n,$imag:r})}}),Dn=Mn({real_:function(e){var t=_n(e,"input","real");return He.runKernelFunc(function(e){return e.real(t)},{$input:t})}}),Ln=Mn({imag_:function(e){var t=_n(e,"input","imag");return He.runKernelFunc(function(e){return e.imag(t)},{$input:t})}});function Fn(e,t,n){return zn(e,t,wn(e,n),n)}function zn(e,t,n,r){if(null==r&&(r=Q(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!K(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){ue(t);var i=R(t),o=R(n);T(i===o,function(){return"Based on the provided shape, ["+t+"], the tensor should have "+i+" values but has "+o});for(var a=0;a<n.length;++a){var s=n[a],u=a!==n.length-1||s!==R(t.slice(a));T(n[a]===t[a]||!u,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "})}}return K(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?re(e,r,p().getBool("DEBUG")):I(e,[],!0),He.makeTensor(e,t,r)}function Bn(e,t){if((K(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&K(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return zn(e,[],[],t)}function Un(e,t){A(e);var n=wn(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return zn(e,null,n,t)}function Wn(e,t,n){if(A(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=wn(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return zn(e,t,r,n)}function Vn(e,t,n){if(A(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=wn(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return zn(e,t,r,n)}function Hn(e,t,n){if(A(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=wn(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return zn(e,t,r,n)}function Gn(e,t,n){if(A(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=wn(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return zn(e,t,r,n)}function qn(e,t,n){if(A(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=wn(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return zn(e,t=t||r,r,n)}function Kn(e,t,n,r){return void 0===t&&(t=!0),He.makeVariable(e,t,n,r)}function Xn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=Xn(e,"float32"),r=Yn(e,"float32");return jn(n,r)}var i=oe(R(e),t);return He.makeTensor(i,e,t)}function Yn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=Yn(e,"float32"),r=Yn(e,"float32");return jn(n,r)}var i=ae(R(e),t);return He.makeTensor(i,e,t)}function Zn(e,t,n){return He.runKernelFunc(function(r){return r.fill(e,t,n)},{})}function $n(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return He.runKernelFunc(function(r){return r.linspace(e,t,n)},{})}function Jn(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return Yn([0],r);var i=ae(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),i[0]=e;for(var o=1;o<i.length;o++)i[o]=i[o-1]+n;return Un(i,r)}var Qn=Mn({onesLike_:function(e){var t=_n(e,"x","onesLike");if("complex64"===t.dtype){var n=Qn(Dn(t)),r=er(Ln(t));return jn(n,r)}return He.runKernelFunc(function(e){return e.onesLike(t)},{$x:t},function(e,t){return{$x:function(){return er(e)}}})}}),er=Mn({zerosLike_:function(e){var t=_n(e,"x","zerosLike");return He.runKernelFunc(function(e){return e.zerosLike(t)},{$x:t},function(e,t){return{$x:function(){return er(e)}}})}}),tr=Mn({concat_:function(e,t){void 0===t&&(t=0),T(e.length>=1,function(){return"Pass at least one tensor to concat"});var n=Cn(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach(function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")}),t=B(t,n[0].shape)[0];var r=Pn(n.map(function(e){return e.shape}),t);if(0===R(r))return Fn([],r);if(1===(n=n.filter(function(e){return e.size>0})).length)return n[0];var i=n.map(function(e){return e.shape});Rn(i,t);var o=n,a={axis:t};return He.runKernelFunc(function(e){return e.concat(n,t)},o,function(e){var n=i.map(function(e){return e[t]});return ar(e,n,t).map(function(e){return function(){return e}})},"Concat",a)}}),nr=Mn({concat1d_:function(e){return tr(e,0)}}),rr=Mn({concat2d_:function(e,t){return tr(e,t)}}),ir=Mn({concat3d_:function(e,t){return tr(e,t)}}),or=Mn({concat4d_:function(e,t){return tr(e,t)}}),ar=Mn({split_:function(e,t,n){void 0===n&&(n=0);var r,i=_n(e,"x","split");return n=B(n,i.shape)[0],"number"==typeof t?(T(i.shape[n]%t==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(t).fill(i.shape[n]/t)):(T(i.shape[n]===t.reduce(function(e,t){return e+t}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=t),He.runKernelFunc(function(e){return e.split(i,r,n)},{$x:i},function(e){return{$x:function(){return tr(e,n)}}})}});function sr(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var ur=sr(function(e){!function(e,t,n){function r(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var n=new r(e),o=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+1.1102230246251565e-16*(2097152*a()|0)},a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}t&&t.exports?t.exports=o:this.alea=o}(0,e,!1)}),lr=sr(function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var n=new r(e),o=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}t&&t.exports?t.exports=o:this.xor128=o}(0,e,!1)}),cr=sr(function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var n=new r(e),o=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}t&&t.exports?t.exports=o:this.xorwow=o}(0,e,!1)}),fr=sr(function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var n=new r(e),o=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,o&&(o.x&&i(o,n),a.state=function(){return i(n,{})}),a}t&&t.exports?t.exports=o:this.xorshift7=o}(0,e,!1)}),pr=sr(function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,o=t.i;return t.w=r=r+1640531527|0,n=i[o+34&127],e=i[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,i,o,a,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=a,e.X=s,e.i=i}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var n=new r(e),o=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,o&&(o.X&&i(o,n),a.state=function(){return i(n,{})}),a}t&&t.exports?t.exports=o:this.xor4096=o}(0,e,!1)}),hr=sr(function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var n=new r(e),o=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}t&&t.exports?t.exports=o:this.tychei=o}(0,e,!1)}),dr=sr(function(e){!function(t,r){var i,o=this,a=256,s=6,u="random",l=r.pow(a,s),c=r.pow(2,52),f=2*c,p=a-1;function h(e,n,p){var h=[],y=g(function e(t,n){var r,i=[],o=typeof t;if(n&&"object"==o)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==o?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,v(t)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(a):(e=new Uint8Array(a),(o.crypto||o.msCrypto).getRandomValues(e)),v(e)}catch(e){var n=o.navigator,r=n&&n.plugins;return[+new Date,o,r,o.screen,v(t)]}}():e,3),h),b=new d(h),w=function(){for(var e=b.g(s),t=l,n=0;e<c;)e=(e+n)*a,t*=a,n=b.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|b.g(4)},w.quick=function(){return b.g(4)/4294967296},w.double=w,g(v(b.S),t),(n.pass||p||function(e,t,n,i){return i&&(i.S&&m(i,b),e.state=function(){return m(b,{})}),n?(r[u]=e,t):e})(w,y,"global"in n?n.global:this==r,n.state)}function d(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<a;)s[i]=i++;for(i=0;i<a;i++)s[i]=s[o=p&o+e[i%n]+(t=s[i])],s[o]=t;(r.g=function(e){for(var t,n=0,i=r.i,o=r.j,s=r.S;e--;)t=s[i=p&i+1],n=n*a+s[p&(s[i]=s[o=p&o+t])+(s[o]=t)];return r.i=i,r.j=o,n})(a)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){for(var n,r=e+"",i=0;i<r.length;)t[p&i]=p&(n^=19*t[p&i])+r.charCodeAt(i++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(r["seed"+u]=h,g(r.random(),t),e.exports){e.exports=h;try{i=n(554)}catch(e){}}}([],Math)});dr.alea=ur,dr.xor128=lr,dr.xorwow=cr,dr.xorshift7=fr,dr.xor4096=pr,dr.tychei=hr;var mr=dr.alea,gr=function(){function e(e,t,n,r,i){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=mr(o.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var i=void 0,o=void 0,a=void 0;do{a=(i=2*this.random()-1)*i+(o=2*this.random()-1)*o}while(a>=1||0===a);var s=Math.sqrt(-2*Math.log(a)/a);t=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*o*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),vr=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var i=r||Math.random();this.randu=mr(i.toString()),this.randn=new gr(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,i,o;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-o+Math.log(o)),(i=this.randu())<t||Math.log(i)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),yr=function(){function e(e,t,n,r){var i=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==i.dtype||"float32"===i.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=mr(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function br(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",ue(e),new Ce(e,t,n)}function wr(e,t){void 0===t&&(t=!1),console.log(e.toString(t))}var xr=Mn({batchToSpaceND_:function(e,t,n){var r=_n(e,"x","batchToSpaceND"),i=t.reduce(function(e,t){return e*t});return T(r.rank>=1+t.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length}),T(n.length===t.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length}),T(r.shape[0]%i==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+i}),He.runKernelFunc(function(e){return e.batchToSpaceND(r,t,n)},{$x:r},function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}})}}),_r=Mn({broadcastTo_:function(e,t){var n=_n(e,"broadcastTo","x"),r=n.shape;if(t.some(function(e){return!(e>0)||e%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var i=n.shape.slice();i.length<t.length;)i.unshift(1);n=n.reshape(i)}for(var o=Array.from(t),a=t.length-1;a>=0;a--)if(n.shape[a]===t[a])o[a]=1;else if(1!==n.shape[a])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=o.map(function(e,t){return e>1?t:-1}).filter(function(e){return e>=0});return 0===s.length?n.clone():He.runKernelFunc(function(e){return e.tile(n,o)},{input:n},function(e){return{input:function(){return e.sum(s,!0)}}})}}),Cr=Mn({cast_:function(e,t){var n=_n(e,"x","cast");if(!G(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return He.runKernelFunc(function(e){return e.cast(n,t)},{x:n},function(e){return{x:function(){return e.clone()}}},"Cast",r)}}),Er=Mn({clone_:function(e){var t=_n(e,"x","clone",null);return He.runKernelFunc(function(){return He.makeTensorFromDataId(t.dataId,t.shape,t.dtype)},{$x:t},function(e){return{$x:function(){return e.toFloat()}}})}}),Sr=Mn({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=_n(e,"x","cumsum"),o=Nn([t|=0],i.rank),a=i;null!=o&&(a=i.transpose(o));var s=In(1,i.rank)[0],u=He.runKernelFunc(function(e){return e.cumsum(a,s,n,r)},{permutedX:a},function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}});return null!=o&&(u=u.transpose(o)),u}}),kr=Mn({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=_n(e,"x","depthToSpace"),i="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];return T(i*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+t+"  for depthToSpace with input shape\n      "+r.shape}),T(o*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+t+" for depthToSpace with input shape\n          "+r.shape}),T(a%(t*t)==0,function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+a+" for depthToSpace with input shape "+r.shape}),He.runKernelFunc(function(e){return e.depthToSpace(r,t,n)},{$x:r})}}),Or=Mn({expandDims_:function(e,t){void 0===t&&(t=0);var n=_n(e,"x","expandDims",null);T(t<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return t<0&&(T(-(n.rank+1)<=t,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),t=n.rank+t+1),r.splice(t,0,1),Br(n,r)}}),Tr=Mn({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var i=br([e,t],r),o=e<=t?e:t,a=0;a<o;++a)i.set(1,a,a);var s=i.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return Hr(Or(s,0),[n[0],1,1]);if(2===n.length)return Hr(Or(Or(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return Hr(Or(Or(Or(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),Nr=Mn({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var i=_n(e,"logits","multinomial"),o=i.size,a=i.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+o+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);n=n||Math.random();var s=1===a?i.as2D(1,-1):i,u=He.runKernelFunc(function(e){return e.multinomial(s,r,t,n)},{logits2D:s});return 1===a?u.as1D():u}}),Ar=Mn({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var i=_n(e,"indices","oneHot","int32"),o=i.shape.concat([t]);return i=i.flatten(),He.runKernelFunc(function(e){return e.oneHot(i,t,n,r)},{$indices:i},function(e){return{$indices:function(){return Yn(i.shape,"float32")}}}).reshape(o)}}),Ir=Mn({pad_:function(e,t,n){void 0===n&&(n=0);var r=_n(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i={paddings:t,constantValue:n};return He.runKernelFunc(function(e){return e.pad(r,t,n)},{x:r},function(e){var n=t.map(function(e){return e[0]});return{x:function(){return e.slice(n,r.shape)}}},"PadV2",i)}}),Rr=Mn({pad1d_:function(e,t,n){return void 0===n&&(n=0),T(2===t.length,function(){return"Invalid number of paddings. Must be length of 2."}),Ir(e,[t],n)}}),Pr=Mn({pad2d_:function(e,t,n){return void 0===n&&(n=0),T(2===t.length&&2===t[0].length&&2===t[1].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Ir(e,t,n)}}),Mr=Mn({pad3d_:function(e,t,n){return void 0===n&&(n=0),T(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Ir(e,t,n)}}),jr=Mn({pad4d_:function(e,t,n){return void 0===n&&(n=0),T(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Ir(e,t,n)}}),Dr=Mn({rand_:function(e,t,n){var r=R(e),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);i=new Uint8Array(r)}for(var o=0;o<r;o++)i[o]=t();return He.makeTensor(i,e,n)}}),Lr=Mn({randomNormal_:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var o=new gr(t,n,r,!1,i),a=br(e,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),Fr=Mn({randomGamma_:function(e,t,n,r,i){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var o=new vr(t,n,r,i),a=br(e,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),zr=Mn({randomUniform_:function(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var o=br(e,r),a=new yr(t,n,null,i),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),Br=Mn({reshape_:function(e,t){var n=_n(e,"x","reshape",null);t=z(t,n.size),T(n.size===R(t),function(){return"new shape and old shape must have the same number of elements."});var r={shape:t};return He.runKernelFunc(function(e){return e.reshape(n,t)},{x:n},function(e){return{x:function(){return e.reshape(n.shape)}}},"Reshape",r)}}),Ur=Mn({spaceToBatchND_:function(e,t,n){var r=_n(e,"x","spaceToBatchND");return T(r.rank>=1+t.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length}),T(n.length===t.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length}),T(r.shape.reduce(function(e,r,i){return i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]==0:e},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()}),He.runKernelFunc(function(e){return e.spaceToBatchND(r,t,n)},{$x:r},function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}})}}),Wr=Mn({squeeze_:function(e,t){var n=_n(e,"x","squeeze");return Br(n,U(n.shape,t).newShape)}}),Vr=Mn({stack_:function(e,t){void 0===t&&(t=0);var n=Cn(e,"tensors","stack");if(T(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),1===n.length)return n[0].expandDims(t);var r=n[0].rank,i=n[0].shape,o=n[0].dtype;T(t<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(e){N(i,e.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(e){T(o===e.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var a=n.map(function(e){return e.expandDims(t)});return tr(a,t)}}),Hr=Mn({tile_:function(e,t){var n=_n(e,"x","tile",null);T(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."});var r=[n],i={reps:t};return He.runKernelFunc(function(e,r){var i=e.tile(n,t);return r([n]),i},{x:n},function(e,n){var r=n[0];return{x:function(){var n=er(r);if(1===r.rank)for(var i=0;i<t[0];++i)n=n.add(e.slice([i*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(i=0;i<t[0];++i)for(var o=0;o<t[1];++o)n=n.add(e.slice([i*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(i=0;i<t[0];++i)for(o=0;o<t[1];++o)for(var a=0;a<t[2];++a)n=n.add(e.slice([i*r.shape[0],o*r.shape[1],a*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(i=0;i<t[0];++i)for(o=0;o<t[1];++o)for(a=0;a<t[2];++a)for(var s=0;s<t[3];++s)n=n.add(e.slice([i*r.shape[0],o*r.shape[1],a*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}},"Tile",i,r)}}),Gr=Mn({truncatedNormal_:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var o=new gr(t,n,r,!0,i),a=br(e,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),qr=Mn({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=_n(e,"x","unstack");T(t>=-n.shape.length&&t<n.shape.length,function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),t<0&&(t+=n.shape.length);var r={axis:t};return He.runKernelFunc(function(e){return e.unstack(n,t)},{x:n},function(e){return{x:function(){return Vr(e,t)}}},"Unpack",r)}}),Kr=function(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,f,p;return l(this,function(l){switch(l.label){case 0:return n=_n(e,"x","setdiff1d"),r=_n(t,"y","setdiff1d"),T(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),T(1===n.rank,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),T(1===r.rank,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return i=l.sent(),[4,r.data()];case 2:for(o=l.sent(),a=new Set(o),s=0,f=0;f<i.length;f++)a.has(i[f])||s++;for(u=new Ce([s],n.dtype),c=new Ce([s],"int32"),f=0,p=0;f<i.length;f++)a.has(i[f])||(u.values[p]=i[f],c.values[p]=f,p++);return[2,[u.toTensor(),c.toTensor()]]}})})};function Xr(e,t,n,r){void 0===r&&(r=!0);var i=[];if(r)(i=i.concat(t.slice(0))).push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);for(var o=t.length,a=0;a<o;++a)i=i.concat([e[a+1]/t[a],t[a]]);i=i.concat(e.slice(o+1))}return i}function Yr(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var i=t+1;i<e;++i)i<=2*t?(r.push(i),r.push(i-(t+1))):r.push(i)}else{var o=[],a=[];for(i=1;i<e;++i)i>=2*t+1||i%2==1?a.push(i):o.push(i);r.push.apply(r,o),r.push(0),r.push.apply(r,a)}return r}function Zr(e,t,n,r){void 0===r&&(r=!0);var i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(var o=1;o<e.length;++o)o<=t.length?r?i.push(t[o-1]*e[o]):i.push(e[o]/t[o-1]):i.push(e[o]);return i}function $r(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function Jr(e,t,n){for(var r=e.slice(0,1),i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}function Qr(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],i=1,o=0;o<n.length-1;++o)i*=n[o];var a=e.shape,s=n.slice();s.pop();var u=1;for(o=r;o<e.rank;++o)u*=a[o],s.push(a[o]);var l=ne(e.shape).map(function(e){return e/u}).concat([1]).slice(0,r);return[s,i,u,l]}var ei=Object.freeze({prepareAndValidate:Qr}),ti=30;function ni(e){return e<=ti?e:te(e,Math.floor(Math.sqrt(e)))}function ri(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+i+".";if(n.rank<i)throw new Error(o+" update.rank < "+i+". ");if(e.length<r+(n.rank-i))throw new Error(o+" Output shape length < "+(r+(n.rank-i)));if(n.rank!==i+e.length-r)throw new Error(o+" update.rank != "+(i+e.length-r));for(var a=0;a<i;++a)if(n.shape[a]!==t.shape[a])throw new Error(o+" updates.shape["+a+"] ("+n.shape[a]+") != indices.shape["+a+"] ("+t.shape[a]+").");for(a=0;a<n.rank-i;++a)if(n.shape[a+i]!==e[a+r])throw new Error(o+" updates.shape["+(a+i)+"] ("+n.shape[a+i]+") != shape["+(a+i)+"] ("+e[a+i]+")")}function ii(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}ri(n,t,e)}function oi(e,t,n){for(var r=t.shape.length,i=r>1?t.shape[r-1]:1,o=n.length,a=1,s=i;s<o;++s)a*=n[s];var u=i<1?1:i;return{sliceRank:i,numUpdates:R(t.shape)/u,sliceSize:a,strides:ne(n.slice(0,i)).concat([1]),outputSize:R(n)}}var ai=Object.freeze({validateUpdateShape:ri,validateInput:ii,calculateShapes:oi});function si(e,t,n){T(e.rank===t.length,function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."}),T(e.rank===n.length,function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."});for(var r=function(r){T(t[r]+n[r]<=e.shape[r],function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"})},i=0;i<e.rank;++i)r(i)}function ui(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function li(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function ci(e,t,n,r,i){var o=t[i],a=n[i]||1;(e&1<<i||null==o)&&(o=a>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[i];return o<0&&(o+=s),S(0,o,s-1)}function fi(e,t,n,r,i){var o=t[i],a=n[i]||1;(e&1<<i||null==o)&&(o=a>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[i];return o<0&&(o+=s),a>0?S(0,o,s):S(-1,o,s-1)}function pi(e,t,n){for(var r=n.length,i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function hi(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}var di=Object.freeze({assertParamsValid:si,maskToAxes:ui,computeOutShape:li,startForAxis:ci,stopForAxis:fi,isSliceContinous:pi,computeFlatOffset:hi});function mi(e){return T(ee(e),function(){return"The f passed in grad(f) must be a function"}),function(t,n){var r=_n(t,"x","tf.grad",null),i=null!=n?_n(n,"dy","tf.grad"):null;return He.tidy(function(){var t=He.gradients(function(){return e(r)},[r],i),n=t.value,o=t.grads;return null!=i&&N(n.shape,i.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),xi(o),o[0]})}}function gi(e){return T(ee(e),function(){return"The f passed in grads(f) must be a function"}),function(t,n){T(Array.isArray(t),function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"});var r=Cn(t,"args","tf.grads",null),i=null!=n?_n(n,"dy","tf.grads"):null;return He.tidy(function(){var t=He.gradients(function(){return e.apply(void 0,r)},r,i),n=t.value,o=t.grads;return null!=i&&N(n.shape,i.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),xi(o),o})}}function vi(e){return T(ee(e),function(){return"The f passed in valueAndGrad(f) must be a function"}),function(t,n){T(t instanceof Oe,function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"}),T(null==n||n instanceof Oe,function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"});var r=He.gradients(function(){return e(t)},[t],n),i=r.grads,o=r.value;return xi(i),{grad:i[0],value:o}}}function yi(e){return T(ee(e),function(){return"The f passed in valueAndGrads(f) must be a function"}),function(t,n){T(Array.isArray(t)&&t.every(function(e){return e instanceof Oe}),function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"}),T(null==n||n instanceof Oe,function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"});var r=He.gradients(function(){return e.apply(void 0,t)},t,n);return null!=n&&N(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),xi(r.grads),r}}function bi(e,t){T(ee(e),function(){return"The f passed in variableGrads(f) must be a function"}),T(null==t||Array.isArray(t)&&t.every(function(e){return e instanceof Pe}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=null!=t;if(!n)for(var r in t=[],He.registeredVariables)t.push(He.registeredVariables[r]);var i=n?t.filter(function(e){return!e.trainable}):null,o=t.length;T((t=t.filter(function(e){return e.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+o+" variables is trainable."});var a=He.gradients(e,t,null,!0),s=a.value,u=a.grads;T(u.some(function(e){return null!=e}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),T(0===s.rank,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var l={};return t.forEach(function(e,t){null!=u[t]&&(l[e.name]=u[t])}),null!=i&&i.forEach(function(e){return l[e.name]=null}),{value:s,grads:l}}function wi(e){return He.customGrad(e)}function xi(e){if(e.filter(function(e){return null==e}).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}var _i=Mn({softmax_:function(e,t){void 0===t&&(t=-1);var n=_n(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return He.runKernelFunc(function(e,r){var i=e.softmax(n,t);return r([i]),i},{logits:n},function(e,n){var r=n[0],i=e.mul(r);return{logits:function(){return i.sub(i.sum([t],!0).mul(r))}}},"Softmax",{dim:t},[],[!0])}}),Ci=Mn({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=_n(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return wi(function(e,n){var r=e.max(t,!0),i=e.sub(r),o=i.toFloat().sub(i.exp().sum(t,!0).log());return n([o]),{value:o,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}})(n)}}),Ei=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),Si=function(){function e(){}return e.prototype.time=function(e){return ki("time")},e.prototype.read=function(e){return ki("read")},e.prototype.readSync=function(e){return ki("readSync")},e.prototype.numDataIds=function(){return ki("numDataIds")},e.prototype.disposeData=function(e){return ki("disposeData")},e.prototype.write=function(e,t,n){return ki("write")},e.prototype.move=function(e,t,n,r){return ki("move")},e.prototype.memory=function(){return ki("memory")},e.prototype.floatPrecision=function(){return ki("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return ki("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,ki("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return ki("slice")},e.prototype.stridedSlice=function(e,t,n,r){return ki("stridedSlice")},e.prototype.unstack=function(e,t){return ki("unstack")},e.prototype.reverse=function(e,t){return ki("reverse")},e.prototype.concat=function(e,t){return ki("concat")},e.prototype.neg=function(e){return ki("neg")},e.prototype.add=function(e,t){return ki("add")},e.prototype.addN=function(e){return ki("addN")},e.prototype.subtract=function(e,t){return ki("subtract")},e.prototype.multiply=function(e,t){return ki("multiply")},e.prototype.realDivide=function(e,t){return ki("realDivide")},e.prototype.floorDiv=function(e,t){return ki("floorDiv")},e.prototype.sum=function(e,t){return ki("sum")},e.prototype.prod=function(e,t){return ki("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return ki("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return ki("argMin")},e.prototype.argMax=function(e,t){return ki("argMax")},e.prototype.equal=function(e,t){return ki("equal")},e.prototype.notEqual=function(e,t){return ki("notEqual")},e.prototype.less=function(e,t){return ki("less")},e.prototype.lessEqual=function(e,t){return ki("lessEqual")},e.prototype.greater=function(e,t){return ki("greater")},e.prototype.greaterEqual=function(e,t){return ki("greaterEqual")},e.prototype.logicalNot=function(e){return ki("logicalNot")},e.prototype.logicalAnd=function(e,t){return ki("logicalAnd")},e.prototype.logicalOr=function(e,t){return ki("logicalOr")},e.prototype.where=function(e){return ki("where")},e.prototype.select=function(e,t,n){return ki("select")},e.prototype.topk=function(e,t,n){return ki("topk")},e.prototype.min=function(e,t){return ki("min")},e.prototype.minimum=function(e,t){return ki("minimum")},e.prototype.mod=function(e,t){return ki("mod")},e.prototype.max=function(e,t){return ki("max")},e.prototype.maximum=function(e,t){return ki("maximum")},e.prototype.all=function(e,t){return ki("all")},e.prototype.any=function(e,t){return ki("any")},e.prototype.squaredDifference=function(e,t){return ki("squaredDifference")},e.prototype.ceil=function(e){return ki("ceil")},e.prototype.floor=function(e){return ki("floor")},e.prototype.round=function(e){return ki("round")},e.prototype.sign=function(e){return ki("sign")},e.prototype.isNaN=function(e){return ki("isNaN")},e.prototype.isInf=function(e){return ki("isInf")},e.prototype.isFinite=function(e){return ki("isFinite")},e.prototype.pow=function(e,t){return ki("pow")},e.prototype.exp=function(e){return ki("exp")},e.prototype.expm1=function(e){return ki("expm1")},e.prototype.softmax=function(e,t){return ki("softmax")},e.prototype.log=function(e){return ki("log")},e.prototype.log1p=function(e){return ki("log1p")},e.prototype.sqrt=function(e){return ki("sqrt")},e.prototype.rsqrt=function(e){return ki("rsqrt")},e.prototype.square=function(e){return ki("square")},e.prototype.reciprocal=function(e){return ki("reciprocal")},e.prototype.relu=function(e){return ki("relu")},e.prototype.relu6=function(e){return ki("relu6")},e.prototype.prelu=function(e,t){return ki("prelu")},e.prototype.elu=function(e){return ki("elu")},e.prototype.eluDer=function(e,t){return ki("eluDer")},e.prototype.selu=function(e){return ki("selu")},e.prototype.int=function(e){return ki("int")},e.prototype.clip=function(e,t,n){return ki("clip")},e.prototype.abs=function(e){return ki("abs")},e.prototype.complexAbs=function(e){return ki("complexAbs")},e.prototype.sigmoid=function(e){return ki("sigmoid")},e.prototype.softplus=function(e){return ki("softplus")},e.prototype.sin=function(e){return ki("sin")},e.prototype.cos=function(e){return ki("cos")},e.prototype.tan=function(e){return ki("tan")},e.prototype.asin=function(e){return ki("asin")},e.prototype.acos=function(e){return ki("acos")},e.prototype.atan=function(e){return ki("atan")},e.prototype.atan2=function(e,t){return ki("atan2")},e.prototype.sinh=function(e){return ki("sinh")},e.prototype.cosh=function(e){return ki("cosh")},e.prototype.tanh=function(e){return ki("tanh")},e.prototype.asinh=function(e){return ki("asinh")},e.prototype.acosh=function(e){return ki("acosh")},e.prototype.atanh=function(e){return ki("atanh")},e.prototype.erf=function(e){return ki("erf")},e.prototype.step=function(e,t){return ki("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,ki("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return ki("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return ki("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return ki("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,ki("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return ki("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return ki("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return ki("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return ki("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return ki("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return ki("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return ki("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return ki("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return ki("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return ki("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return ki("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return ki("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return ki("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return ki("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return ki("reshape")},e.prototype.cast=function(e,t){return ki("cast")},e.prototype.tile=function(e,t){return ki("tile")},e.prototype.pad=function(e,t,n){return ki("pad")},e.prototype.transpose=function(e,t){return ki("transpose")},e.prototype.gather=function(e,t,n){return ki("gather")},e.prototype.gatherND=function(e,t){return ki("gatherND")},e.prototype.scatterND=function(e,t,n){return ki("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return ki("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return ki("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return ki("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return ki("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return ki("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return ki("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,i,o){return ki("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,i){return ki("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,i,o,a){return ki("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return ki("multinomial")},e.prototype.oneHot=function(e,t,n,r){return ki("oneHot")},e.prototype.cumsum=function(e,t,n,r){return ki("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,i){return ki("nonMaxSuppression")},e.prototype.fft=function(e){return ki("fft")},e.prototype.ifft=function(e){return ki("ifft")},e.prototype.complex=function(e,t){return ki("complex")},e.prototype.real=function(e){return ki("real")},e.prototype.imag=function(e){return ki("imag")},e.prototype.cropAndResize=function(e,t,n,r,i,o){return ki("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return ki("depthToSpace")},e.prototype.split=function(e,t,n){return ki("split")},e.prototype.sparseToDense=function(e,t,n,r){return ki("sparseToDense")},e.prototype.diag=function(e){return ki("diag")},e.prototype.fill=function(e,t,n){return ki("fill")},e.prototype.onesLike=function(e){return ki("onesLike")},e.prototype.zerosLike=function(e){return ki("zerosLike")},e.prototype.linspace=function(e,t,n){return ki("linspace")},e.prototype.dispose=function(){return ki("dispose")},e}();function ki(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Oi(e,t){for(var n=e.length,r=[],i=0;i<n;i++){var o=n-1-i,a=e[o]||1;(t[t.length-1-i]||1)>1&&1===a&&r.unshift(o)}return r}function Ti(e,t){for(var n=[],r=0;r<t.length;r++){var i=e[e.length-r-1],o=t.length-r-1,a=t[o];(null==i||1===i&&a>1)&&n.unshift(o)}return n}function Ni(e,t){for(var n=[],r=Math.max(e.length,t.length),i=0;i<r;i++){var o=e[e.length-i-1];null==o&&(o=1);var a=t[t.length-i-1];if(null==a&&(a=1),1===o)n.unshift(a);else if(1===a)n.unshift(o);else{if(o!==a)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(o)}}return n}function Ai(e,t,n,r,i,o,a){void 0===a&&(a="channelsLast");var s,u=ji(t),l=u[0],c=u[1];if("channelsLast"===a)s=[l,c,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);s=[l,c,e[1],e[1]]}return Ri(e,s,n,r,i,o,!1,a)}function Ii(e,t,n,r,i,o,a){void 0===a&&(a="NDHWC");var s,u,l=Di(t),c=l[0],f=l[1],p=l[2];if("NDHWC"===a)u="channelsLast",s=[c,f,p,e[4],e[4]];else{if("NCDHW"!==a)throw new Error("Unknown dataFormat "+a);u="channelsFirst",s=[c,f,p,e[1],e[1]]}return Pi(e,s,n,r,i,!1,u,o)}function Ri(e,t,n,r,i,o,a,s){void 0===a&&(a=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],l=u[0],c=u[1],f=u[2],p=u[3];if("channelsLast"===s)l=e[0],c=e[1],f=e[2],p=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);l=e[0],p=e[1],c=e[2],f=e[3]}var h,d=t[0],m=t[1],g=t[3],v=ji(n),y=v[0],b=v[1],w=ji(r),x=w[0],_=w[1],C=Li(d,x),E=Li(m,_),S=function(e,t,n,r,i,o,a,s){var u,l,c;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var f=function(e,t,n,r,i){null==r&&(r=Mi(e,t,n));var o,a=e[1],s=Fi((e[0]-t+2*r)/n+1,i);T(M(s),function(){return"The output # of rows ("+s+") must be an integer. Change the stride and/or zero pad parameters"});var u=Fi((a-t+2*r)/n+1,i);return T(M(u),function(){return"The output # of columns ("+u+") must be an integer. Change the stride and/or zero pad parameters"}),[s,u]}([t,n],o,r,e,s);l=f[0],c=f[1]}else if("same"===e){l=Math.ceil(t/r),c=Math.ceil(n/i);var p=Math.max(0,(l-1)*r+o-t),h=Math.max(0,(c-1)*i+a-n),d=Math.floor(p/2),m=p-d,g=Math.floor(h/2);u={top:d,bottom:m,left:g,right:h-g,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);u={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-o+1)/r),c=Math.ceil((n-a+1)/i)}return{padInfo:u,outHeight:l,outWidth:c}}(i,c,f,y,b,C,E,o),k=S.padInfo,O=S.outHeight,N=S.outWidth,A=a?g*p:g;return"channelsFirst"===s?h=[l,A,O,N]:"channelsLast"===s&&(h=[l,O,N,A]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:f,inChannels:p,outHeight:O,outWidth:N,outChannels:A,padInfo:k,strideHeight:y,strideWidth:b,filterHeight:d,filterWidth:m,effectiveFilterHeight:C,effectiveFilterWidth:E,dilationHeight:x,dilationWidth:_,inShape:e,outShape:h,filterShape:t}}function Pi(e,t,n,r,i,o,a,s){void 0===o&&(o=!1),void 0===a&&(a="channelsLast");var u=[-1,-1,-1,-1,-1],l=u[0],c=u[1],f=u[2],p=u[3],h=u[4];if("channelsLast"===a)l=e[0],c=e[1],f=e[2],p=e[3],h=e[4];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);l=e[0],h=e[1],c=e[2],f=e[3],p=e[4]}var d,m=t[0],g=t[1],v=t[2],y=t[4],b=Di(n),w=b[0],x=b[1],_=b[2],C=Di(r),E=C[0],S=C[1],k=C[2],O=Li(m,E),N=Li(g,S),A=Li(v,k),I=function(e,t,n,r,i,o,a,s,u,l,c){var f,p,h,d;if("number"==typeof e){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,i,o){null==i&&(i=Mi(e,t,r));var a,s=e[1],u=e[2],l=Fi((e[0]-t+2*i)/r+1,o);T(M(l),function(){return"The output # of depths ("+l+") must be an integer. Change the stride and/or zero pad parameters"});var c=Fi((s-t+2*i)/r+1,o);T(M(c),function(){return"The output # of rows ("+c+") must be an integer. Change the stride and/or zero pad parameters"});var f=Fi((u-t+2*i)/r+1,o);return T(M(f),function(){return"The output # of columns ("+f+") must be an integer. Change the stride and/or zero pad parameters"}),[l,c,f,1]}([t,n,r,1],s,1,i,e,c);p=m[0],h=m[1],d=m[2]}else if("same"===e){var g=((p=Math.ceil(t/i))-1)*i+s-t,v=((h=Math.ceil(n/o))-1)*o+u-n,y=((d=Math.ceil(r/a))-1)*a+l-r,b=Math.floor(g/2),w=g-b,x=Math.floor(v/2),_=v-x,C=Math.floor(y/2);f={top:x,bottom:_,left:C,right:y-C,front:b,back:w,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((t-s+1)/i),h=Math.ceil((n-u+1)/o),d=Math.ceil((r-l+1)/a)}return{padInfo:f,outDepth:p,outHeight:h,outWidth:d}}(i,c,f,p,w,x,_,O,N,A,s),R=I.padInfo,P=I.outDepth,j=I.outHeight,D=I.outWidth,L=o?y*h:y;return"channelsFirst"===a?d=[l,L,P,j,D]:"channelsLast"===a&&(d=[l,P,j,D,L]),{batchSize:l,dataFormat:a,inDepth:c,inHeight:f,inWidth:p,inChannels:h,outDepth:P,outHeight:j,outWidth:D,outChannels:L,padInfo:R,strideDepth:w,strideHeight:x,strideWidth:_,filterDepth:m,filterHeight:g,filterWidth:v,effectiveFilterDepth:O,effectiveFilterHeight:N,effectiveFilterWidth:A,dilationDepth:E,dilationHeight:S,dilationWidth:k,inShape:e,outShape:d,filterShape:t}}function Mi(e,t,n,r){void 0===r&&(r=1);var i=Li(t,r);return Math.floor((e[0]*(n-1)-n+i)/2)}function ji(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function Di(e){return"number"==typeof e?[e,e,e]:e}function Li(e,t){return t<=1?e:e+(e-1)*(t-1)}function Fi(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function zi(e){var t=ji(e),n=t[0],r=t[1],i=t[2];return 1===n&&1===r&&1===i}function Bi(e,t){return zi(e)||zi(t)}function Ui(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function Wi(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=Yn(e.shape),i=e.toFloat(),o=n.complex(i,r);return r.dispose(),i.dispose(),o}if(!q(e.dtype,t))return He.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var a=n.real(e);return o=a.cast(t),a.dispose(),o}if("int32"===t)return n.int(e);if("bool"===t){var s=Bn(0,e.dtype);return o=n.notEqual(e,s),s.dispose(),o}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function Vi(e,t){return He.makeTensorFromDataId(e.dataId,t,e.dtype)}function Hi(e,t,n){var r=(t-e)/(n-1),i=ae(n,"float32");i[0]=e;for(var o=1;o<i.length;o++)i[o]=i[o-1]+r;return Un(i,"float32")}var Gi=Object.freeze({castTensor:Wi,reshapeTensor:Vi,linspaceImpl:Hi,upcastType:je,axesAreInnerMostDims:En,combineLocations:Sn,computeOutAndReduceShapes:kn,expandShapeToKeepDim:On,assertAxesAreInnerMostDims:Tn,getAxesPermutation:Nn,getUndoAxesPermutation:An,getInnerMostAxes:In,getBroadcastDims:Oi,getReductionAxes:Ti,assertAndGetBroadcastShape:Ni,assertParamsConsistent:Rn,computeOutShape:Pn,computePool2DInfo:Ai,computePool3DInfo:Ii,computeConv2DInfo:Ri,computeConv3DInfo:Pi,computeDefaultPad:Mi,tupleValuesAreOne:zi,eitherStridesOrDilationsAreOne:Bi,convertConv2DDataFormat:Ui,PARALLELIZE_THRESHOLD:ti,computeOptimalWindowSize:ni});function qi(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Ki(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Xi(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Yi(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function Zi(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,i=e.length,o=0,a=!1;r<i;){var s=n(t,e[o=r+(i-r>>>1)]);s>0?r=o+1:(i=o,a=!s)}return a?r:-r-1}(e,t,n||$i)}(e,t,n),i=r<0?-(r+1):r;e.splice(i,0,t)}function $i(e,t){return e>t?1:e<t?-1:0}function Ji(e,t,n,r,i){return eo(e,t,n,r,i,0).selectedIndices}function Qi(e,t,n,r,i,o){var a=eo(e,t,n,r,i,o,!0);return a.numValidOutputs.dispose(),{selectedIndices:a.selectedIndices,selectedScores:a.selectedScores}}function eo(e,t,n,r,i,o,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1);for(var u=Array.from(t).map(function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}}).filter(function(e){return e.score>i}).sort(ro),l=o>0?-.5/o:0,c=[],f=[];c.length<n&&u.length>0;){var p=u.pop(),h=p.score,d=p.boxIndex,m=p.suppressBeginIndex;if(h<i)break;for(var g=!1,v=c.length-1;v>=m;--v){var y=to(e,d,c[v]);if(y>=r){g=!0;break}if(p.score=p.score*no(r,l,y),p.score<=i)break}p.suppressBeginIndex=c.length,g||(p.score===h?(c.push(d),f.push(p.score)):p.score>i&&Zi(u,p,ro))}var b=c.length;return s&&(c.fill(0,b),f.fill(0,b)),{selectedIndices:Un(c,"int32"),selectedScores:Un(f,"float32"),numValidOutputs:Bn(b,"int32")}}function to(e,t,n){var r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),f=Math.max(i[0],i[2]),p=Math.max(i[1],i[3]),h=(s-o)*(u-a),d=(f-l)*(p-c);if(h<=0||d<=0)return 0;var m=Math.max(o,l),g=Math.max(a,c),v=Math.min(s,f),y=Math.min(u,p),b=Math.max(v-m,0)*Math.max(y-g,0);return b/(h+d-b)}function no(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function ro(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function io(e,t,n){var r=new Array(e.rank).fill(0),i=e.shape.slice();return t.map(function(t){i[n]=t;var o=e.slice(r,i);return r[n]+=t,o})}function oo(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var i=br(n,e.dtype);for(r=0;r<i.values.length;++r){for(var o=i.indexToLoc(r),a=new Array(e.rank),s=0;s<a.length;s++)a[s]=o[s]%e.shape[s];var u=e.locToIndex(a);i.values[r]=e.values[u]}return i.toTensor()}function ao(e,t,n,r,i){for(var o=t[t.length-1],a=[e.length/o,o],s=a[0],u=a[1],l=W(n,s*r),c=W("int32",s*r),f=0;f<s;f++){for(var p=f*u,h=e.subarray(p,p+u),d=[],m=0;m<h.length;m++)d.push({value:h[m],index:m});d.sort(function(e,t){return t.value-e.value});var g=f*r,v=l.subarray(g,g+r),y=c.subarray(g,g+r);for(m=0;m<r;m++)v[m]=d[m].value,y[m]=d[m].index}var b=t.slice();return b[b.length-1]=r,[Fn(l,b,n),Fn(c,b,"int32")]}function so(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var i=br(e,"int32"),o=br([n.length,e.length],"int32");for(r=0;r<n.length;r++){var a=i.indexToLoc(n[r]),s=r*e.length;o.values.set(a,s)}return o.toTensor()}var uo=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(function(e,t){return"T"+t});var n=[];this.variableNames.forEach(function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")});var r=this.variableNames.map(function(e){return"v"+e}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},lo=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(function(e,t){return"T"+t});var n=[];this.variableNames.forEach(function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")});var r=this.variableNames.map(function(e){return"v"+e}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},co=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,i=e.batchSize,o=e.inSize,a=Math.ceil(o/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a];var s="max"===t?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function fo(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(t){return e+"."+t})}function po(e,t){return 1===t?[e]:fo(e,t)}function ho(){var e,t,n,r,i,o,a,s,u,l;return 2===p().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",i="texture",o="outputColor",a="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",i="texture2D",o="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:i,output:o,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:u,defineRound:l}}function mo(e,t,n){void 0===n&&(n="index");var r=ne(t);return r.map(function(t,i){return"int "+e[i]+" = "+n+" / "+t+"; "+(i===r.length-1?"int "+e[i+1]+" = "+n+" - "+e[i]+" * "+t:"index -= "+e[i]+" * "+t)+";"}).join("")}function go(e){var t=ne(e).map(function(e){return e.toString()});return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var vo="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function yo(e,t,n,r){var i=[];e.forEach(function(e){var t=R(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?i.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(i.push("uniform sampler2D "+e.name+";"),i.push("uniform int offset"+e.name+";"))});var o,a,s=i.join("\n"),u=e.map(function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?wo(e):bo(e);var i=e.shapeInfo.logicalShape,o=t.logicalShape;return i.length<=o.length&&(r+=n?function(e,t){var n,r=e.name,i=r.charAt(0).toUpperCase()+r.slice(1),o="get"+i+"AtOutCoords",a=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,u=Oi(e.shapeInfo.logicalShape,t.logicalShape),l=Oo(s),c=s-a,f=["x","y","z","w","u","v"];n=0===a?"":s<2&&u.length>=1?"coords = 0;":u.map(function(e){return"coords."+f[e+c]+" = 0;"}).join("\n");var p="";p=s<2&&a>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords."+f[t+c]}).join(", ");var h="return outputValue;",d=1===R(e.shapeInfo.logicalShape),m=1===R(t.logicalShape);if(1!==a||d||m){if(d&&!m)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var g=a-2,v=a-1;u.indexOf(g)>-1&&u.indexOf(v)>-1?h="return vec4(outputValue.x);":u.indexOf(g)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(v)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+o+"() {\n      "+l+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+i+"("+p+");\n      "+h+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",o=t.texShape,a=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===u&&null==e.shapeInfo.flatOffset&&P(a,o))return"\n      float "+i+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var l,c=Oo(u),f=Oi(e.shapeInfo.logicalShape,t.logicalShape),p=u-s,h=["x","y","z","w","u","v"],d="";return"\n    float "+i+"() {\n      "+c+" coords = getOutputCoords();\n      "+(l=0===s?"":u<2&&f.length>=1?"coords = 0;":f.map(function(e){return"coords."+h[e+p]+" = 0;"}).join("\n"))+"\n      return get"+r+"("+(d=u<2&&s>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords."+h[t+p]}).join(", "))+");\n    }\n  "}(e,t)),r}(e,t,r)}).join("\n"),l=t.texShape,c=ho(),f=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(c),p=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+xo+"\n    "+_o+"\n    "+Co+"\n  "}(c);return t.isPacked?(o=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(P(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=(o=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+i[0]+", "+i[1]+"));\n      int index = resTexRC.x * "+i[1]+" + resTexRC.y;\n\n      int b = index / "+a+";\n      index -= b * "+a+";\n\n      int r = 2 * (index / "+o+");\n      int c = imod(index, "+o+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),i=r*Math.ceil(e[e.length-2]/2),o=i,a="",s="b, r, c",u=2;u<e.length-1;u++)a="\n      int b"+u+" = index / "+(o*=e[e.length-u-1])+";\n      index -= b"+u+" * "+o+";\n    "+a,s="b"+u+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+a+"\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,i,o,a}(t.logicalShape,l),a=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(c)):(o=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return P(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=mo(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=mo(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=mo(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=mo(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,l),a=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(c)),r&&(p+=Eo),[p,f,a,s,o,u,n].join("\n")}function bo(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,i=r[0],o=r[1];if(1===i&&1===o)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var a=e.shapeInfo.texShape,s,u,l;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+a[0]+", "+a[1]+", "+So(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+ko(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,i=r[0],o=r[1];if(1===o&&1===i)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var a=So(t);return 1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+a+") + 0.5) / "+i+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+a+") + 0.5) / "+o+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+i+", "+o+", index + "+a+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape;if(null!=i&&P(t,i)){var o=i[0],a;return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+i[1]+".0, "+o+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var s=U(t),u=s.newShape,l=s.keptDims,c=u,f;if(c.length<t.length)return"\n      "+bo(To(e,c))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+No(["row","col"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+t[1]+", 1)));\n        "+ko(e)+"\n      }\n    ";var p=i[0],h=i[1],d=So(n);return 1===h?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+d+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+p+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===p?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+d+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+h+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+t[1]+" + col + "+d+";\n    vec2 uv = uvFromFlat("+p+", "+h+", index);\n    return sampleTexture("+n+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[1]*t[2],o=t[2],a=U(t),s=a.newShape,u=a.keptDims,l=s,c;if(l.length<t.length)return"\n        "+bo(To(e,l))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+No(["row","col","depth"],u)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+i+", "+o+", 1)));\n        "+ko(e)+"\n      }\n    ";var f=e.shapeInfo.texShape,p=f[0],h=f[1],d=e.shapeInfo.flatOffset,m;return h===i&&null==d?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+o+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+h+".0, "+p+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":h===o&&null==d?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+t[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+h+".0, "+p+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+i+" + col * "+o+" + depth + "+So(n)+";\n        vec2 uv = uvFromFlat("+p+", "+h+", index);\n        return sampleTexture("+n+", uv);\n      }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[3],o=t[2]*i,a=t[1]*o,s=U(t),u=s.newShape,l=s.keptDims,c;if(u.length<t.length)return"\n      "+bo(To(e,u))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+No(["row","col","depth","depth2"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+a+", "+o+", "+i+", 1)));\n        "+ko(e)+"\n      }\n    ";var f=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,h=p[0],d=p[1],m;return d===a&&null==f?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+o+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+d+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":d===i&&null==f?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+t[1]*t[2]+", "+t[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+d+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+a+" + col * "+o+" +\n          depth * "+i+" + depth2;\n      vec2 uv = uvFromFlat("+h+", "+d+", index + "+So(n)+");\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],o=t[3]*i,a=t[2]*o,s=t[1]*a,u=U(t),l=u.newShape,c=u.keptDims,f;if(l.length<t.length)return"\n      "+bo(To(e,l))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+No(["row","col","depth","depth2","depth3"],c)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+a+", "+o+", "+i+")) +\n          depth3;\n        "+ko(e)+"\n      }\n    ";var p=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],m=h[1],g;return m===s&&null==p?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+a+", "+o+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+m+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":m===i&&null==p?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]+",\n               "+t[2]*t[3]+", "+t[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+m+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+a+" + depth * "+o+" +\n          depth2 * "+i+" + depth3 + "+So(n)+";\n      vec2 uv = uvFromFlat("+d+", "+m+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=U(t),o=i.newShape,a=i.keptDims,s;if(o.length<t.length)return"\n      "+bo(To(e,o))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+No(["row","col","depth","depth2","depth3","depth4"],a)+");\n      }\n    ";var u=t[5],l=t[4]*u,c=t[3]*l,f=t[2]*c,p=t[1]*f;if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+p+", "+f+", "+c+", "+l+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+u+", 1)));\n        "+ko(e)+"\n      }\n    ";var h=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,m=d[0],g=d[1],v;return g===p&&null==h?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+f+", "+c+", "+l+", "+u+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+g+".0, "+m+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":g===u&&null==h?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]*t[4]+",\n               "+t[2]*t[3]*t[4]+",\n               "+t[3]*t[4]+",\n               "+t[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+g+".0, "+m+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+p+" + col * "+f+" + depth * "+c+" +\n          depth2 * "+l+" + depth3 * "+u+" + depth4 + "+So(n)+";\n      vec2 uv = uvFromFlat("+m+", "+g+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function wo(e){var t,n,r;switch(e.shapeInfo.logicalShape.length){case 0:return"\n    vec4 "+(n="get"+(t=e.name).charAt(0).toUpperCase()+t.slice(1))+"() {\n      return "+(r=ho()).texture2D+"("+t+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],o=ho();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+i[0]+", "+i[1]+", index);\n      return "+o.texture2D+"("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,o=i[0],a=i[1],s=ho();if(null!=i&&P(t,i))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+a+".0, "+o+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],l;return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+u[0]+", "+u[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],a,s;if(1===t[0])return"\n        "+wo(To(e,t.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+No(["b","row","col"],[1,2])+");\n        }\n      ";var u=o[0],l=o[1],c=Math.ceil(t[2]/2),f,p;return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+u+", "+l+", "+c*Math.ceil(t[1]/2)+", "+c+", b, row, col);\n      return "+ho().texture2D+"("+n+", uv);\n    }\n  "}(e);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],s=a[0],u=a[1],l=Math.ceil(t[n-1]/2),c=l*Math.ceil(t[n-2]/2),f="int b, int row, int col",p="b * "+c+" + (row / 2) * "+l+" + (col / 2)",h=2;h<n-1;h++)f="int b"+h+", "+f,p="b"+h+" * "+(c*=t[n-h-1])+" + "+p;var d;return"\n    vec4 "+i+"("+f+") {\n      int index = "+p+";\n      int texR = index / "+u+";\n      int texC = index - texR * "+u+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+u+", "+s+");\n      return "+ho().texture2D+"("+r+", uv);\n    }\n  "}(e)}}var xo="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",_o="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Co="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Eo="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function So(e){return"offset"+e}function ko(e){var t=e.name,n=R(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function Oo(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function To(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function No(e,t){return t.map(function(t){return e[t]}).join(", ")}var Ao=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,T(e.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var i=e[e.length-1],o=Math.ceil(i/t);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),r||this.variableNames.push("bestIndicesA");var a,s,u=this.outputShape,l=u.length,c=Oo(l),f=po("coords",l);if(1===o){var p=Oo(s=l+1);a="\n        "+p+" sourceLocR = "+p+"("+f.join()+", 0);\n        ++"+f[l-1]+";\n        "+p+" sourceLocG = "+p+"("+f.join()+", 0);\n        ++"+f[l-2]+";\n        "+p+" sourceLocA = "+p+"("+f.join()+", 0);\n        --"+f[l-1]+";\n        "+p+" sourceLocB = "+p+"("+f.join()+", 0);\n        --"+f[l-2]+";"}else s=l,a="\n        "+c+" sourceLocR = coords;\n        ++"+f[l-1]+";\n        "+c+" sourceLocG = coords;\n        ++"+f[l-2]+";\n        "+c+" sourceLocA = coords;\n        --"+f[l-1]+";\n        "+c+" sourceLocB = coords;\n        --"+f[l-2]+";";var h=["x","y","z","w","u","v"].slice(0,s),d="."+h[s-1],m=h.map(function(e){return"int "+e}),g=po("sourceLocR",s-1).concat("inIdx.r"),v=po("sourceLocG",s-1).concat("inIdx.g"),y=po("sourceLocB",s-1).concat("inIdx.b"),b=po("sourceLocA",s-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",x=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+v.join()+"),\n                             getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+b.join()+")));",_="vec4(\n            getAChannel("+g.join()+"),\n            hasNextCol ? getAChannel("+v.join()+") : 0.,\n            hasNextRow ? getAChannel("+y.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+b.join()+") : 0.)",C=r?"":"\n      float getBestIndicesAChannel("+m.join()+") {\n        return getChannel(getBestIndicesA("+h.join()+"),\n                                          vec2("+h.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+m.join()+") {\n        return getChannel(getA("+h.join()+"),\n                               vec2("+h.slice(-2).join()+"));\n      }\n      "+C+"\n      void main() {\n        "+c+" coords = getOutputCoords();\n        bool hasNextCol = "+f[l-1]+" < "+(u[l-1]-1)+";\n        bool hasNextRow = "+f[l-2]+" < "+(u[l-2]-1)+";\n        "+a+"\n        ivec4 srcIdx = ivec4(sourceLocR"+d+", sourceLocG"+d+",\n          sourceLocB"+d+", sourceLocA"+d+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+_+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+x+"\n          vec4 candidate = "+_+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+w+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},Io=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=s-1-e.padInfo.top,c=u-1-e.padInfo.left,f=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+l+", "+c+");\n      const float avgMultiplier = float("+f+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+o+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+u+";\n            wC+= "+a+") {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ro=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,f=e.effectiveFilterHeight,p=e.effectiveFilterWidth,h=c-1-e.padInfo.front,d=f-1-e.padInfo.top,m=p-1-e.padInfo.left,g=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+h+", "+d+", "+m+");\n      const float avgMultiplier = float("+g+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+i+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+f+";\n              wR += "+u+") {\n            float dyR = float(dyRCorner + wR) / "+o+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+p+";\n                wC += "+l+") {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Po=function(e,t,n,r,i,o){this.outputShape=[],this.variableNames=["x","mean","variance"],Ni(e,t),Ni(e,n);var a="0.0";null!=r&&(Ni(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";null!=i&&(Ni(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+a+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+o+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},Mo=function(e,t,n,r,i,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Ni(e,t),Ni(e,n);var a="vec4(0.0)";null!=r&&(Ni(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=i&&(Ni(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+a+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+o+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},jo="return areal * breal - aimag * bimag;",Do="return areal * bimag + aimag * breal;",Lo=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Ni(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},Fo="return a + b;",zo="return a - b;",Bo="return a * b;",Uo="return (a < 0.) ? b * a : a;",Wo=function(e,t,n){this.variableNames=["A","B"],this.outputShape=Ni(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},Vo="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",Ho=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Ni(t,n);var i=this.outputShape.length,o="";if(r)if(0===i||1===R(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(o="\n          "+Oo(i)+" coords = getOutputCoords();\n        ",1===i)o+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var a=po("coords",i);o+="\n            bool nextRowOutOfBounds =\n              ("+a[i-2]+" + 1) >= "+this.outputShape[i-2]+";\n            bool nextColOutOfBounds =\n              ("+a[i-1]+" + 1) >= "+this.outputShape[i-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+o+"\n\n        setOutput(result);\n      }\n    "},Go=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),qo=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),Ko=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},Xo=function(e){this.outputShape=[],this.outputShape=Pn(e,1),this.variableNames=e.map(function(e,t){return"T"+t});var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var i=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+i+"));")}var o=t.length,a=t[t.length-1];r.push("else setOutput(getT"+o+"(yR, yC-"+a+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},Yo=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Pn(e,t);var n=this.outputShape,r=n.length,i=Oo(r),o=po("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(function(e,t){return"T"+t});var s=new Array(e.length-1);s[0]=e[0][t];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][t];var l=a[t],c=a.slice(-2),f=a.join(),p="if ("+l+" < "+s[0]+") {\n        return getChannel(\n            getT0("+f+"), vec2("+c.join()+"));\n        }";for(u=1;u<s.length;u++){var h=s[u-1];p+="\n        if ("+l+" < "+s[u]+"  && "+l+" >= "+s[u-1]+") {\n          return getChannel(\n            getT"+u+"("+Zo(a,l,h)+"),\n            vec2("+Zo(c,l,h)+"));\n        }"}var d=s.length,m=s[s.length-1];p+="\n        return getChannel(\n          getT"+d+"("+Zo(a,l,m)+"),\n          vec2("+Zo(c,l,m)+"));",this.userCode="\n      float getValue("+a.map(function(e){return"int "+e})+") {\n        "+p+"\n      }\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+o+"), 0., 0., 0.);\n\n        "+o[r-1]+" = "+o[r-1]+" + 1;\n        if ("+o[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+o+");\n        }\n\n        "+o[r-2]+" = "+o[r-2]+" + 1;\n        if ("+o[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+o+");\n        }\n\n        "+o[r-1]+" = "+o[r-1]+" - 1;\n        if ("+o[r-2]+" < "+n[r-2]+" &&\n            "+o[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+o+");\n        }\n        setOutput(result);\n      }\n    "};function Zo(e,t,n){var r=e.indexOf(t);return e.map(function(e,t){return t===r?e+" - "+n:e}).join()}var $o=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,o="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+o+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Jo=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,o="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,s=n-1-e.padInfo.left,u=o?1:2,l=o?2:3,c=o?3:1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+c+"];\n\n        ivec2 dyCorner = ivec2(coords["+u+"], coords["+l+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+o+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Qo=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.padInfo.front,o=e.padInfo.top,a=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+i+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+o+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+a+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ea=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.front,u=n-1-e.padInfo.top,l=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+u+", "+l+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+i+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+o+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ta=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+o+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},na=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,o=t-1-e.padInfo.top,a=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ra=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.padInfo.top,o=e.padInfo.left,a=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterHeight,f=e.filterWidth,p=4*Math.floor(e.inChannels/4),h=e.inChannels%4,d="channelsLast"===e.dataFormat,m=d?1:2,g=d?2:3,v=d?3:1,y="",b="";n&&(y=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",b="result = activation(result);");var w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+a+", "+s+");\n      const ivec2 pads = ivec2("+i+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+v+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+m+"], coords["+g+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+c+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+l+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+p+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+d+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===h)+") {\n\n              if ("+d+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+p+") *\n                    getW(wR, wC, "+p+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+p+", xR, xC) *\n                    getW(wR, wC, "+p+", d2);\n              }\n\n            } else if ("+(2===h)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+p+", d2),\n                getW(wR, wC, "+p+" + 1, d2)\n              );\n\n              if ("+d+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+p+"),\n                  getX(batch, xR, xC, "+p+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+p+", xR, xC),\n                  getX(batch, "+p+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===h)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+p+", d2),\n                getW(wR, wC, "+p+" + 1, d2),\n                getW(wR, wC, "+p+" + 2, d2)\n              );\n\n              if ("+d+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+p+"),\n                  getX(batch, xR, xC, "+p+" + 1),\n                  getX(batch, xR, xC, "+p+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+p+", xR, xC),\n                  getX(batch, "+p+" + 1, xR, xC),\n                  getX(batch, "+p+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+w+"\n        "+b+"\n        setOutput(result);\n      }\n    "},ia=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterDepth,f=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),d=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+i+", "+o+", "+a+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+c+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+"; wR++) {\n            int xR = xRCorner + wR * "+u+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+p+"; wC++) {\n              int xC = xCCorner + wC * "+l+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+h+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===d)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+h+") *\n                  getW(wF, wR, wC, "+h+", d2);\n              } else if ("+(2===d)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+h+"),\n                  getX(batch, xF, xR, xC, "+h+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+h+", d2),\n                  getW(wF, wR, wC, "+h+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===d)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+h+"),\n                  getX(batch, xF, xR, xC, "+h+" + 1),\n                  getX(batch, xF, xR, xC, "+h+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+h+", d2),\n                  getW(wF, wR, wC, "+h+" + 1, d2),\n                  getW(wF, wR, wC, "+h+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},oa=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.inHeight,o=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,f=e.dilationWidth,p=e.filterHeight,h=e.filterWidth,d=e.outChannels/e.inChannels,m="",g="";n&&(m=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",g="result = activation(result);");var v=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+m+"\n\n      const ivec2 strides = ivec2("+u+", "+l+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+d+";\n        int q = d2 - d1 * "+d+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+p+"; wR++) {\n          int xR = xRCorner + wR * "+c+";\n\n          if (xR < 0 || xR >= "+i+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+h+"; wC++) {\n            int xC = xCCorner + wC * "+f+";\n\n            if (xC < 0 || xC >= "+o+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+v+"\n        "+g+"\n        setOutput(result);\n      }\n    "},aa=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var i=e.inHeight,o=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,f=e.dilationWidth,p=e.filterHeight,h=e.filterWidth,d=h,m="int xR; int xC; int xCOffset;",g=0;g<p;g++)for(var v=0;v<h;v++)m+="\n          vec4 xTexelR"+g+"C"+2*v+" = vec4(0.);\n          vec4 wR"+g+"C"+v+" = vec4(0.);\n          vec4 xR"+g+"C"+v+" = vec4(0.);";for(g=0;g<p;g++)for(var y=0;y<d;y++){if(m+="\n          xR = xRCorner + "+g*c+";\n          xC = xCCorner + "+(v=2*y)*f+";\n        ",1===l){if(v<h&&(m+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+o+") {\n                    xTexelR"+g+"C"+v+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+o+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+o+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+g+"C"+v+" = vec4(previous.zw, xTexelR"+g+"C"+v+".xy);\n                } else {\n                  xR"+g+"C"+v+" = vec4(0, 0, xTexelR"+g+"C"+v+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+i+" && xC >= 0 && xC < "+o+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                xR"+g+"C"+v+" = xTexelR"+g+"C"+v+";\n              ",v+1<h)){var b=s%2==0?k(f):f;f%2==0&&s%2==1||f%2!=0&&s%2!=1?(m+="\n                  xCOffset = xC + "+s%2+" + "+b+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+o+") {\n                    xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",f>1&&(m+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+i+" &&\n                      xCOffset >= 0 && xCOffset < "+o+") {\n                      xTexelR"+g+"C"+v+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+g+"C"+v+" = vec4(0.);\n                    }\n                  "),m+="\n                  xR"+g+"C"+(v+1)+" = vec4(\n                    xTexelR"+g+"C"+v+".zw, xTexelR"+g+"C"+(v+2)+".xy);\n                "):m+="\n                  xCOffset = xC + "+b+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+o+") {\n                    xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+g+"C"+(v+1)+" = xTexelR"+g+"C"+(v+2)+";\n                "}}else v<h&&(m+="\n              if(xR >= 0 && xR < "+i+") {\n            ",s%2==1?(m+="\n                xCOffset = xC + 1 - "+l+";\n                if(xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+o+") {\n                  xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+g+"C"+(v+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+v+" = vec4(\n                  xTexelR"+g+"C"+v+".zw, xTexelR"+g+"C"+(v+2)+".zw);\n              ",v+1<h&&(m+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+l+";\n                  if(xCOffset >= 0 && xCOffset < "+o+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+g+"C"+(v+1)+" = vec4(xTexelR"+g+"C"+(v+2)+".xy, final.xy);\n                ")):(m+="\n                if(xC >= 0 && xC < "+o+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+l+";\n                if(xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+(v+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+v+" = vec4(\n                  xTexelR"+g+"C"+v+".xy, xTexelR"+g+"C"+(v+2)+".xy);\n              ",v+1<h&&(m+="\n                  xR"+g+"C"+(v+1)+" = vec4(\n                    xTexelR"+g+"C"+v+".zw, xTexelR"+g+"C"+(v+2)+".zw);\n                ")),m+="}");v<h&&(m+="\n            vec4 wTexelR"+g+"C"+v+" = getW("+g+", "+v+", d1, q);\n            wR"+g+"C"+v+" = vec4(wTexelR"+g+"C"+v+".xz, wTexelR"+g+"C"+v+".xz);\n          ",v+1<h&&(m+="\n              vec4 wTexelR"+g+"C"+(v+1)+" = getW("+g+", "+(v+1)+", d1, q);\n              wR"+g+"C"+(v+1)+" =\n                vec4(wTexelR"+g+"C"+(v+1)+".xz, wTexelR"+g+"C"+(v+1)+".xz);"))}for(g=0;g<p;g++)for(v=0;v<h;v++)m+="dotProd += xR"+g+"C"+v+" * wR"+g+"C"+v+";";var w="",x="";n&&(w=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",x="result = activation(result);");var _=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+w+"\n\n      const ivec2 strides = ivec2("+u+", "+l+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+m+"\n\n        vec4 result = dotProd;\n        "+_+"\n        "+x+"\n        setOutput(result);\n      }\n    "},sa=function(e,t,n,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=e[0],a=e[1],s=e[2],u=e[3],l=t[0],c=n[0],f=n[1];this.outputShape=[l,c,f,u];var p="bilinear"===r?1:0,h=[a-1+".0",s-1+".0"],d=h[0],m=h[1],g=c>1?[""+(a-1)/(c-1),"(y2-y1) * height_ratio","y1*"+d+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+d],v=g[0],y=g[1],b=g[2],w=f>1?[""+(s-1)/(f-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],x=w[0],_=w[1],C=w[2];this.userCode="\n      const float height_ratio = float("+v+");\n      const float width_ratio = float("+x+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+o+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+_+";\n\n        float in_y = "+b+";\n        if( in_y < 0.0 || in_y > "+d+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n        float in_x = "+C+";\n        if( in_x < 0.0 || in_x > "+m+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+p+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},ua=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,i=e[e.length-1],o=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+i+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+Oo(r)+" coords = getOutputCoords();\n        int end = "+la(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+i+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+o+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+la(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function la(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var ca=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Ke.DENSE;var t=tt(e),n=ho();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+mo(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},fa=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Ke.DENSE;var t=tt(e),n=ho();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+mo(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},pa=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),ha=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},da=function(e){this.variableNames=["A"],this.outTexUsage=Xe.DOWNLOAD;var t=ho();this.outputShape=e,this.userCode="\n      "+vo+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},ma=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Xe.DOWNLOAD;var t=ho();this.outputShape=e,this.userCode="\n      "+vo+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},ga=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=ho(),i=t[0],o=t[1];this.outputShape=e;var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      "+go(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+o+";\n        int c = imod(flatIndex, "+o+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+o+".0, "+i+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+a+", 0., 0., 0.);\n      }\n    "},va=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=ho(),i=t[0],o=t[1];this.outputShape=e;var a="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var l=0;l<=1;l++){var c=2*u+l;a+="\n          localCoords = coords;\n          if(localCoords[2] + "+l+" < "+e[2]+") {\n            localCoords[2] += "+l+";\n            if(localCoords[1] + "+u+" < "+e[1]+") {\n              localCoords[1] += "+u+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+o+";\n              c = imod(flatIndex, "+o+");\n              uv = (vec2(c, r) + halfCR) / vec2("+o+".0, "+i+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+c+"] = values[0];\n              } else if(offset == 1) {\n                result["+c+"] = values[1];\n              } else if(offset == 2) {\n                result["+c+"] = values[2];\n              } else {\n                result["+c+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+go(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+a+"\n\n        "+r.output+" = "+s+";\n      }\n    "},ya="return real * expR - imag * expI;",ba="return real * expI + imag * expR;",wa=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var i=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,o=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+i+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+o+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},xa=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),_a=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var i=Oo(this.rank),o=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],o=0;o<e.length;o++)o===t?i.push("int(getIndices("+r[o]+"))"):i.push(""+r[o]);return i.join()}(e,n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},Ca=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=Oo(t.length),i=Oo(n.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+i+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+o+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function Ea(e,t){var n=ho();return ct(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function Sa(e,t){return yt(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function ka(e,t){return bt(e,t,new Uint16Array([0,1,2,2,1,3]))}function Oa(e,t,n,r,i,o,a){xt(n,r);var s=wt(e,t),u=e.TEXTURE_2D;return it(e,t,function(){return e.bindTexture(u,s)}),it(e,t,function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),it(e,t,function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),it(e,t,function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)}),it(e,t,function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)}),it(e,t,function(){return e.texImage2D(u,0,i,n,r,0,o,a,null)}),it(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)}),s}function Ta(e,t,n,r,i){var o=et(n,r);return Oa(e,t,o[0],o[1],i.internalFormatFloat,i.textureFormatFloat,e.FLOAT)}function Na(e,t,n,r,i){var o=et(n,r);return Oa(e,t,o[0],o[1],i.internalFormatHalfFloat,i.textureFormatFloat,i.textureTypeHalfFloat)}function Aa(e,t,n,r,i){var o=et(n,r);return Oa(e,t,o[0],o[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function Ia(e,t,n,r,i){var o=nt(n,r);return Oa(e,t,o[0],o[1],i.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function Ra(e,t,n,r,i){var o=nt(n,r);return Oa(e,t,o[0],o[1],i.internalFormatPackedHalfFloat,e.RGBA,i.textureTypeHalfFloat)}function Pa(e,t,n,r){return it(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),Ct(e,t,n,"clipSpacePos",r,3,20,0)&&Ct(e,t,n,"uv",r,2,20,12)}function Ma(e,t,n,r,i,o,a){var s,u,l;it(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),o instanceof Uint8Array?(s=new Uint8Array(r*i*4),u=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(r*i*4),u=e.FLOAT,l=a.internalFormatPackedFloat),s.set(o),it(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,l,r,i,0,e.RGBA,u,s)}),it(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function ja(e,t,n,r){it(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),r.data instanceof Uint8Array?it(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)}):it(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}),it(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function Da(e,t,n,r,i){var o=e.createBuffer();it(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,o)});var a=16*n*r;return it(e,t,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)}),it(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)}),it(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),o}function La(e,t,n){var r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function Fa(e,t,n,r,i){var o=et(n,r),a=o[0],s=o[1],u=new Uint8Array(n*r*4);return it(e,t,function(){return e.readPixels(0,0,a,s,i.downloadTextureFormat,e.UNSIGNED_BYTE,u)}),new Float32Array(u.buffer)}function za(e,t,n,r,i,o,a,s){var u=e,l=new Float32Array(function(e,t){var n=nt(e,t);return n[0]*n[1]*4}(o,a));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function Ba(e,t,n,r){var i=new Float32Array(n*r*4);return it(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,i)}),i}var Ua=Object.freeze({createVertexShader:Ea,createVertexBuffer:Sa,createIndexBuffer:ka,createFloat32MatrixTexture:Ta,createFloat16MatrixTexture:Na,createUnsignedBytesMatrixTexture:Aa,createPackedMatrixTexture:Ia,createFloat16PackedMatrixTexture:Ra,bindVertexProgramAttributeStreams:Pa,uploadDenseMatrixToTexture:Ma,uploadPixelDataToTexture:ja,createBufferFromOutputTexture:Da,downloadFloat32MatrixFromBuffer:La,downloadByteEncodedFloatMatrixFromOutputTexture:Fa,downloadPackedMatrixFromBuffer:za,downloadMatrixFromPackedOutputTexture:Ba}),Wa=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=p().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,Je(t,e)):this.gl=Qe(t);var n="WEBGL_color_buffer_float";if(1===p().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=lt(this.gl,this.debug,"OES_texture_float"),Vt(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=lt(this.gl,this.debug,"OES_texture_half_float");else if(p().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Vt(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=lt(this.gl,this.debug,"EXT_color_buffer_half_float");else if(p().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Vt(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Vt(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=Sa(this.gl,this.debug),this.indexBuffer=ka(this.gl,this.debug),this.framebuffer=_t(this.gl,this.debug),this.textureConfig=rt(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return p().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;it(t,this.debug,function(){return t.finish()}),it(t,this.debug,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),it(t,this.debug,function(){return t.deleteFramebuffer(e.framebuffer)}),it(t,this.debug,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),it(t,this.debug,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),it(t,this.debug,function(){return t.deleteBuffer(e.indexBuffer)}),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),Ta(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),Na(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),Aa(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),ja(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),Ma(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Ra(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Ia(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(Nt(this.gl,this.debug,this.framebuffer),this.outputTexture=null),it(this.gl,this.debug,function(){return t.gl.deleteTexture(e)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return Fa(r.gl,r.debug,t,n,r.textureConfig)})},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,i,o){return za(this.gl,e,0,0,0,i,o,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return La(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=Da(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(p().getBool("WEBGL_FENCE_API_ENABLED")){var i=e,o=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=i.clientWaitSync(o,0,0);return e===i.ALREADY_SIGNALED||e===i.CONDITION_SATISFIED},t=o}else p().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,p().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return Ba(r.gl,r.debug,t,n)})},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=ft(t,this.debug,e),r=Ea(t,this.debug),i=mt(t,this.debug);return it(t,this.debug,function(){return t.attachShader(i,r)}),it(t,this.debug,function(){return t.attachShader(i,n)}),gt(t,this.debug,i),this.debug&&vt(t,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=Pa(t,this.debug,this.program,this.vertexBuffer)),i},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&it(this.gl,this.debug,function(){return t.gl.deleteProgram(e)})},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&vt(this.gl,this.debug,this.program),it(this.gl,this.debug,function(){return t.gl.useProgram(e)})},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?St(this.gl,this.debug,e,t):kt(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),it(this.gl,this.debug,function(){return n.gl.getAttribLocation(e,t)})},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),Ot(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=nt(t,n),i=r[0],o=r[1];this.setOutputMatrixTextureDriver(e,i,o)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&vt(this.gl,this.debug,this.program),At(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),it(e,this.debug,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),it(this.gl,this.debug,function(){return e.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=lt(this.gl,this.debug,2===p().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===p().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i},e.prototype.endQuery=function(){if(2!==p().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return u(this,void 0,void 0,function(){var t=this;return l(this,function(n){switch(n.label){case 0:return[4,F(function(){return t.disposed||t.isQueryAvailable(e,p().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return n.sent(),[2,this.getQueryTime(e,p().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise(function(n){t.addItemToPoll(function(){return e.isFencePassed()},function(){return n()})})},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map(function(e){return e.isDoneFn})),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||F(function(){return n.pollItems(),0===n.itemsToPoll.length})},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),Tt(this.gl,this.debug,e,this.framebuffer),this.debug&&At(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(Tt(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&At(this.gl)):Nt(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;Tt(r,this.debug,e,this.framebuffer),this.debug&&At(r),this.outputTexture=e,it(r,this.debug,function(){return r.viewport(0,0,t,n)}),it(r,this.debug,function(){return r.scissor(0,0,t,n)})},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var i=this;this.throwIfDisposed(),it(this.gl,this.debug,function(){return i.gl.scissor(e,t,n,r)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function Va(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach(function(e,n){var r=e.logicalShape,i=t[n],o=i.shape;if(!P(r,o))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+o+" must match");if(!e.isUniform||!i.isUniform){var a=e.texShape,s=i.isUniform?null:i.texData.texShape;if(!P(a,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+a+" and "+s+" must match")}})}var Ha=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,i=n.inChannels,o=n.strideWidth,a=n.strideHeight,s=n.padInfo,u=n.outWidth,l=n.dilationWidth,c=n.dilationHeight,f=n.dataFormat,p=s.left,h=s.top,d=i*r,m=ho(),g="channelsLast"===f,v=g?0:1,y=g?1:2,b="",w=0;w<=1;w++)for(var x=0;x<=1;x++)b+="\n          blockIndex = rc.y + "+x+";\n          pos = rc.x + "+w+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+u+")) * "+a+" - "+h+";\n            d0 = offsetY + "+c+" * (pos / "+d+");\n\n            if(d0 < "+t[v]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+u+".) * "+o+". - "+p+".);\n              d1 = offsetX + "+l+" * (int(mod(float(pos), "+d+".) / "+i+".));\n\n              if(d1 < "+t[y]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+i+".));\n\n                if ("+g+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*w+x)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*w+x)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+b+"\n\n        "+m.output+" = result;\n      }\n    "},Ga=function(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[];var o,a=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";o=.5===i?"inversesqrt("+u+")":1===i?"1.0/("+u+")":"exp(log("+u+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+o+";\n        setOutput(val);\n      }\n    "},qa=function(e,t,n,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+i+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+i+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},Ka=function(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,a=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";o=.5===i?"inversesqrt("+u+")":1===i?"1.0/("+u+")":"exp(log("+u+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+a+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+a+"; j <= "+a+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+o+";\n        setOutput(result);\n      }\n    "},Xa=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,i=e.effectiveFilterHeight,o=e.effectiveFilterWidth,a=i-1-e.padInfo.top,s=o-1-e.padInfo.left,u=i*o-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+i+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+o+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+u+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+o+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ya=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.dilationDepth,o=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=s-1-e.padInfo.front,f=u-1-e.padInfo.top,p=l-1-e.padInfo.left,h=s*u*l-1;this.userCode="\n      const ivec3 pads = ivec3("+c+", "+f+", "+p+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+i+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+o+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+l+";\n                wC += "+a+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+h+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+u+" * "+l+" +\n                  wR * "+l+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Za=function(e,t,n,r,i,o,a){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===o&&(o=null),void 0===a&&(a=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],u=Math.ceil(s/2),l=n?"i * 2, rc.y":"rc.y, i * 2",c=r?"rc.z, i * 2":"i * 2, rc.z",f=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],p=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],h="",d="";o&&(h=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+o+"\n        }":"vec4 activation(vec4 x) {\n          "+o+"\n        }",d="result = activation(result);");var m=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+h+"\n\n      const float sharedDimension = "+u+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+u+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+l+");\n          vec4 b = getMatrixB(rc.x, "+c+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+f[0]+" * "+p[0]+");\n          result += ("+f[1]+" * "+p[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+m+"\n\n        "+d+"\n\n        setOutput(result);\n      }\n    "},$a=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),Ja=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},Qa=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=po("rc",t),r=Oo(t),i=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",i=e-2;i<e;i++)r+=n[i]+" >= "+t[i],i<e-1&&(r+="||");return r}(t,e,n),o=function(e,t,n,r){if(1===e)return"";var i=r.slice(-2);return"\n    int r = "+i[0]+";\n    int c = "+i[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),a=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var i=0;i<=1;i++){for(var o=(0===r?"r":"rp1")+", "+(0===i?"c":"cp1"),a=2;a<e;a++)o=t[t.length-1-a]+","+o;n.push(o)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+i+") {\n            setOutput(vec4(0));\n          } else {\n            "+o+"\n\n            setOutput(vec4("+a+"));\n          }\n        }\n      "}},es=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1]});var r=e.length,i=Oo(r),o=t.map(function(e){return e[0]}).join(","),a=t.map(function(t,n){return t[0]+e[n]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+i+" start = "+i+"("+o+");\n      "+i+" end = "+i+"("+a+");\n\n      void main() {\n        "+i+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+i+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+o+";\n        int end = "+a+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},ts=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1]});for(var r=e.length,i=Oo(r),o=t.map(function(e){return e[0]}).join(","),a=t.map(function(t,n){return t[0]+e[n]}).join(","),s=po("rc",r),u=po("source",r),l=s[r-1]+" < "+this.outputShape[r-1],c=1===r?"source":"vec2("+u.slice(-2).join()+")",f=[i+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+l+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+l+") {"],p=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",d=0,m=1===r?2:4;d<m;d++)h+="\n        "+f[d]+"\n        if ("+p+") {\n          result["+d+"] = float("+n+");\n        } else {\n          "+i+" source = rc - start;\n          result["+d+"] = getChannel(getX("+u.join()+"), "+c+");\n        }\n      ";h+=1===r?"} ":"}}",this.userCode="\n      const "+i+" start = "+i+"("+o+");\n      const "+i+" end = "+i+"("+a+");\n\n      void main() {\n        "+i+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+h+"\n        setOutput(result);\n      }\n    "},ns=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,i=e.strideHeight,o=e.strideWidth,a=e.dilationHeight,s=e.dilationWidth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;var p="avg"===t,h="0.0";if(p||(h="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+i+", "+o+");\n        const ivec2 pads = ivec2("+c+", "+f+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+a+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+l+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+l+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var d=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(d="avgValue / count");var m=4*Math.floor(r/4),g=r%4,v="\n      if ("+p+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+i+", "+o+");\n      const ivec2 pads = ivec2("+c+", "+f+");\n      const float initializationValue = "+h+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+h+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+u+";\n            wR += "+a+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+m+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+v+"\n          }\n\n          int xC = xCCorner + "+m+";\n          if ("+(1===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+v+"\n          } else if ("+(2===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+v+"\n          } else if ("+(3===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+v+"\n          }\n        }\n        setOutput("+d+");\n      }\n    "}},rs=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,f=e.effectiveFilterHeight,p=e.effectiveFilterWidth,h=e.padInfo.front,d=e.padInfo.top,m=e.padInfo.left;this.outputShape=e.outShape;var g="avg"===t,v="0.0";if(g||(v="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+i+", "+o+", "+a+");\n        const ivec3 pads = ivec3("+h+", "+d+", "+m+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+c+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+f+";\n                wR += "+u+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+p+";\n                  wC += "+l+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+f+" * "+p+" +\n                      wR * "+p+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var y=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(y="avgValue / count");var b=4*Math.floor(r/4),w=r%4,x="\n      if ("+g+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+i+", "+o+", "+a+");\n      const ivec3 pads = ivec3("+h+", "+d+", "+m+");\n      const float initializationValue = "+v+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+v+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+";\n            wR += "+u+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+b+"; wC += 4) {\n              int xC = xCCorner + wC * "+l+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+l+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+l+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+l+", ch)\n              );\n\n              "+x+"\n            }\n\n            int xC = xCCorner + "+b+";\n            if ("+(1===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+x+"\n            } else if ("+(2===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+l+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+x+"\n            } else if ("+(3===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+l+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+l+", ch),\n                initializationValue\n              );\n\n              "+x+"\n            }\n          }\n          setOutput("+y+");\n        }\n      }\n    "}},is=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,i=e.inSize,o=Math.ceil(i/n);this.outputShape=[r,o];var a="0.0",s="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",s="min"):"max"===t&&(a="-1.0 / 1e-20",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?u="sumValue":"prod"===t?u="prodValue":"all"===t?u="allValue":"any"===t&&(u="anyValue");var l=4*Math.floor(n/4),c=n%4,f="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",p="vec4";"all"===t?(a="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===t&&(a="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");var h="";i%n>0&&(h="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+h+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+f+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===c)+") {\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(2===c)+") {\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(3===c)+") {\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+f+"\n        }\n        setOutput("+u+");\n      }\n    "},os=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var i="thisRC = rc;";r%2==1&&(i+="thisRC.z += 1;"),r>1&&(i+="thisRC.y += 1;"),n+="\n        "+i+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+mo(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+go(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},as=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,i=r[1],o=r[2],a=e.shape,s=a[1],u=a[2],l=[n&&s>1?i-1:i,n&&u>1?o-1:o],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=l[0]/c[0],p=l[1]/c[1],h=1/f,d=1/p,m=2*Math.ceil(h)+2,g=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+p+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(o-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},ss=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var i=e[0],o=e[1],a=e[2],s=e[3];this.outputShape=[i,t,n,s];var u=[r&&t>1?o-1:o,r&&n>1?a-1:a],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+o+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},us=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=e[0],o=e[1],a=e[2],s=e[3];this.outputShape=[i,t,n,s];var u=[r&&t>1?o-1:o,r&&n>1?a-1:a],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+",\n          "+u[1]/l[1]+");\n      const vec3 inputShapeRC = vec3("+o+".0, "+a+".0,\n                                     "+a+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},ls=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,i=r[1],o=r[2],a=e.shape,s=a[1],u=a[2],l=[n&&s>1?i-1:i,n&&u>1?o-1:o],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=l[0]/c[0],p=l[1]/c[1],h=1/f,d=1/p,m=2*Math.ceil(h)+2,g=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+p+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+l[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+l[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},cs=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var i=e[0],o=e[1],a=e[2],s=e[3];this.outputShape=[i,t,n,s];var u=[r&&t>1?o-1:o,r&&n>1?a-1:a],l=[r&&t>1?t-1:t,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+o+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+c+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},fs=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map(function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)}).join(","),i=Oo(n);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},ps=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=po("rc",n),i=r[n-1]+" + 1 < "+this.outputShape[n-1],o=r[n-2]+" + 1 < "+this.outputShape[n-2],a=Oo(n);function s(n){var r=e.map(function(r,i){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(i,n)});return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+i+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+a+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+i+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+o+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+i+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},hs=function(e,t,n,r,i,o,a){void 0===a&&(a=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=Oo(i.length),u=Oo(o.length),l="";1===n?l="i":2===n&&(l="i, j");var c="getIndices("+l+")",f="";1===r?f="i":2===r&&(f="i, coords[1]");var p="getUpdates("+f+")",h=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+i+");\n\n        void main() {\n          "+u+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+c+");\n              flattenedIndex += index * "+h+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+p+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},ds=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,i=e.inSize,o=e.numSegments,a=o*Math.ceil(i/n);this.outputShape=[r,a];var s=4*Math.floor(n/4),u=n%4,l="\n        sumValue += dot(values, segFilter);\n    ",c="";i%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var f="";i%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+c+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+f+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+o+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+o+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+l+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+l+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+l+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+l+"\n        }\n        setOutput(sumValue);\n      }\n    "},ms=function(e,t,n){var r,i;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)i="resRC",r="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],u=0;u<t.length;u++)s.push(""+o[u]),u<e&&a.push(""+o[u]);r=a.join(),i=s.join()}var l=Oo(n);this.userCode="\n      void main() {\n        "+l+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+i+"));\n        } else {\n          setOutput(getB("+i+"));\n        }\n      }\n    "},gs=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=Oo(this.rank),r="uniform int start["+this.rank+"];",i=function(e){if(1===e)return"sourceLoc";if(e<=6)return vs.slice(0,e).map(function(e){return"sourceLoc."+e}).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map(function(e,t){return"sourceLoc."+vs[t]+" = start["+t+"] + coords."+vs[t]+";"}).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+i+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),vs=["x","y","z","w","u","v"],ys=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=Oo(this.rank),n=po("coords",this.rank),r=po("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",o="getChannel(getSource("+r.join()+"), "+i+")",a="\n      result.x = "+o+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+o+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+o+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+o+";\n        }\n      }\n    ",u=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map(function(e,t){return"start["+t+"]"}).join()+");":e.map(function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"}).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+u+"\n        vec4 result = vec4(0.);\n        "+a+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),bs=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,i=Oo(n.length),o=Oo(n.length),a="";if(1===r)a="coords * strides + begin";else{var s=0;a=n.map(function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"}).join(",")}this.userCode="\n      "+i+" begin = "+i+"("+e+");\n      "+i+" strides = "+i+"("+t+");\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "},ws=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,i=xs(t,n),o=_s(e,i,n);if(o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]),this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var a=this.freeTextures[o].shift();return this.usedTextures[o].push(a),a}return this.numUsedTextures++,this.log(),i===Ye.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):i===Ye.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):i===Ye.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):i===Ye.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):i===Ye.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var i=_s(t,xs(n,r),r);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(e),this.numFreeTextures++,this.numUsedTextures--;var o=this.usedTextures[i],a=o.indexOf(e);if(a<0)throw new Error("Cannot release a texture that was never provided by this texture manager");o.splice(a,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});for(var t in this.usedTextures)this.usedTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function xs(e,t){if(e===Xe.UPLOAD)return Ye.PACKED_2X2_FLOAT32;if(e===Xe.RENDER||null==e)return function(e){return p().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Ye.PACKED_2X2_FLOAT32:Ye.UNPACKED_FLOAT32:e?Ye.PACKED_2X2_FLOAT16:Ye.UNPACKED_FLOAT16}(t);if(e===Xe.DOWNLOAD||e===Xe.PIXELS)return Ye.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function _s(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var Cs=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var i=Oo(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<e.length;i++)r.push("imod("+n[i]+", "+e[i]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},Es=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var i=Oo(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),i=0;i<e.length;i++)r[e[i]]=n[i];return r.join()}(t);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+o+"));\n    }\n    "},Ss=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var i=Oo(this.rank),o=fo("rc",this.rank),a=new Array(this.rank);for(r=0;r<t.length;r++)a[t[r]]=o[r];var s="vec2("+a.slice(-2).join()+")",u="++"+o[this.rank-1]+" < "+n[this.rank-1],l="getChannel(getA("+a.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+i+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+l+";\n      if("+u+") {\n        result[1] = "+l+";\n      }\n      --"+o[this.rank-1]+";\n      if(++"+o[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+l+";\n        if("+u+") {\n          result[3] = "+l+";\n        }\n      }\n      setOutput(result);\n    }\n    "},ks=1.7580993408473768,Os=1.0507009873554805,Ts=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Ns="if (isnan(x)) return x;",As="return x;",Is="return abs(x);",Rs=Ns+"\n  return (x < 0.0) ? 0.0 : x;\n",Ps=Ns+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Ms="return (x >= 0.0) ? x : (exp(x) - 1.0);",js="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+ks+";\n  float scale = "+Os+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",Ds="return -x;",Ls="return ceil(x);",Fs="return floor(x);",zs="return exp(x);",Bs="return exp(x) - 1.0;",Us=Ns+"\n  return sin(x);\n",Ws=Ns+"\n  return cos(x);\n",Vs=Ns+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",Hs=Ns+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",Gs=Ns+"\n  return atan(x);\n",qs=Ns+"return log(x + sqrt(x * x + 1.0));",Ks=Ns+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",Xs=Ns+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",Ys="return x;",Zs="return x;",$s="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Js="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Qs="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",eu=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},tu=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=po("rc",t),r=Oo(t),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),o=n.slice(-2),a=t<=1?"rc":"vec2("+o.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+i+");\n\n        setOutput(getChannel(packedInput, "+a+"));\n      }\n    "},nu={};function ru(e,t){if(void 0===t&&(t=!1),"linear"===e)return t?Zs:As;if("relu"===e)return t?$s:Rs;if("elu"===e)return t?Qs:Ms;if("relu6"===e)return t?Js:Ps;if("prelu"===e)return t?Vo:Uo;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var iu=600,ou=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!p().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var i=Qe(p().getNumber("WEBGL_VERSION"));r.binaryCache=(n=p().getNumber("WEBGL_VERSION"))in nu?nu[n]:(nu[n]={},nu[n]),r.gpgpu=new Wa(i),r.canvas=i.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new ws(r.gpgpu),r.numMBBeforeWarning=null==p().global.screen?1024:p().global.screen.height*p().global.screen.width*window.devicePixelRatio*iu/1024/1024,r.texData=new Ei(r,He),r}return s(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(p().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:Xe.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(p().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:Xe.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,i=t.complexTensors,o=t.slice,a=t.shape,s=t.isPacked;if(null!=o){var u=void 0;u=s?new eu(a,Ys):new Ts(a,Ys);var l=this.runWebGLProgram(u,[{dataId:e,shape:a,dtype:r}],r),c=this.readSync(l.dataId);return this.disposeData(l.dataId),c}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var f,p,h=null!=this.activeTimers;return h&&(f=se()),p="complex64"===r?qi(i.real.dataSync(),i.imag.dataSync()):this.getValuesFromTexture(e),h&&(this.downloadWaitMs+=se()-f),this.convertAndCacheOnCPU(e,p)},t.prototype.read=function(e){return u(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,f,h,d,m,g,v,y,b,w,x,_,C,E;return l(this,function(l){switch(l.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise(function(e){return t.push(e)})];if(n=this.texData.get(e),r=n.values,i=n.shape,o=n.slice,a=n.dtype,s=n.complexTensors,u=n.isPacked,null!=o)return c=void 0,c=u?new eu(i,Ys):new Ts(i,Ys),f=this.runWebGLProgram(c,[{dataId:e,shape:i,dtype:a}],a),h=this.read(f.dataId),this.disposeData(f.dataId),[2,h];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!p().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===p().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return d=null,"complex64"!==a&&p().get("WEBGL_BUFFER_SUPPORTED")&&(m=this.decode(e),g=this.texData.get(m.dataId),d=(E=this.gpgpu).createBufferFromTexture.apply(E,[g.texture].concat(tt(i)))),this.pendingRead.set(e,[]),"complex64"===a?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:l.sent(),l.label=2;case 2:return"complex64"!==a?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return y=l.sent(),b=y[0],w=y[1],v=qi(b,w),[3,5];case 4:null==d?v=this.getValuesFromTexture(e):(x=R(i),v=this.gpgpu.downloadFloat32MatrixFromBuffer(d,x)),l.label=5;case 5:return null!=m&&this.disposeData(m.dataId),_=this.convertAndCacheOnCPU(e,v),C=this.pendingRead.get(e),this.pendingRead.delete(e),C.forEach(function(e){return e(_)}),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,_]}})})},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!st(n)){if(p().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,i=n.dtype,o=n.isPacked,a=R(r);if(p().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),u=this.texData.get(s.dataId),l=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[u.texture].concat(tt(r))).subarray(0,a);return this.disposeData(s.dataId),l}var c=p().getBool("WEBGL_PACK")&&!0===o,f=c?Dt(r):r,h=c?new ma(f):new da(f),d=this.runWebGLProgram(h,[{shape:f,dtype:i,dataId:e}],"float32"),m=this.texData.get(d.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(m.texture,m.texShape[0],m.texShape[1]).subarray(0,a);return this.disposeData(d.dataId),g},t.prototype.time=function(e){return u(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return l(this,function(u){switch(u.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),i=I(this.activeTimers.map(function(e){return e.query})).filter(function(e){return null!=e}),o=I(this.activeTimers.map(function(e){return e.name})).filter(function(e){return null!=e}),this.activeTimers=t,r&&(this.programTimersStack=null),a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},p().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(i)]:[3,2];case 1:return s=u.sent(),a.kernelMs=O(s),a.getExtraProfileInfo=function(){return s.map(function(e,t){return{name:o[t],ms:e}}).map(function(e){return e.name+": "+e.ms}).join(", ")},[3,3];case 2:a.kernelMs={error:"WebGL query timers are not supported in this environment."},u.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,a]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return p().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:se(),endMs:null}},t.prototype.endTimer=function(e){return p().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=se(),e)},t.prototype.getQueryTime=function(e){return u(this,void 0,void 0,function(){var t;return l(this,function(n){return p().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]})})},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,i=t.texShape,o=t.usage,a=t.isPacked,s=t.slice,u=s&&s.origDataId||e,l=this.dataRefCount.get(u);l>1?this.dataRefCount.set(u,l-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,o,a)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return p().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=He.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every(function(e){return null==n.texData.get(e.dataId).texture&&e.size<t})},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:He.keep(e.clone()),imag:He.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===R(n))return Fn([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,i=pi(e.shape,t,n);if(r||!i){var o=p().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ys(n):new gs(n),a=o.getCustomSetupFunc(t);return this.compileAndRun(o,[e],null,a)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),i=this.makeOutput(n,e.dtype),o=this.texData.get(i.dataId);Object.assign(o,r),o.shape=n,o.dtype=e.dtype;var a=hi(t,e.strides);r.slice&&(a+=r.slice.flatOffset),o.slice={flatOffset:a,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(o.slice.origDataId)||1;return this.dataRefCount.set(o.slice.origDataId,s+1),i},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var i=li(t,n,r);if(i.some(function(e){return 0===e}))return Fn([],i);var o=new bs(t,r,i);return this.compileAndRun(o,[e])},t.prototype.reverse=function(e,t){var n=p().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ps(e.shape,t):new fs(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map(function(e){return Dn(e)}),r=e.map(function(e){return Ln(e)});return jn(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>p().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(e.length/2),o=this.concat(e.slice(0,i),t),a=this.concat(e.slice(i),t);return this.concat([o,a],t)}if(p().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new Yo(e.map(function(e){return e.shape}),t);return this.compileAndRun(s,e)}var u=Pn(e.map(function(e){return e.shape}),t),l=e.map(function(e){return e.as2D(-1,R(e.shape.slice(t)))}),c=new Xo(l.map(function(e){return e.shape}));return this.compileAndRun(c,l).reshape(u)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(p().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ds,e.dtype);var t=new Ts(e.shape,Ds);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var i=n?e.shape[2]:e.shape[1],o=r?t.shape[1]:t.shape[2],a=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===i||1===o)&&a>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var u=1===o?e:e.as3D(s,a,1),l=1===o?2:1,c=1===o?t.as3D(s,1,a):t;return this.multiply(u,c).sum(l,!0)}var f=je(e.dtype,t.dtype),p=new Za(e.shape,[s,i,o],n,r);return this.compileAndRun(p,[e,t],f)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,o=e.bias,a=e.activation,s=e.preluActivationWeights,u=r?t.shape[2]:t.shape[1],l=i?n.shape[1]:n.shape[2],c=t.shape[0],f=je(t.dtype,n.dtype),p=null!=o,h=null!=s,d=a?ru(a,!0):null,m=new Za(t.shape,[c,u,l],r,i,p,d,h),g=[t,n];return o&&g.push(o),s&&g.push(s),this.compileAndRun(m,g,f)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),i=new Lo(jo,e.shape,t.shape),o=new Lo(Do,e.shape,t.shape),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(i,a),u=this.compileAndRun(o,a),l=this.complex(s,u);return s.dispose(),u.dispose(),l}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Bo,e.dtype);var c=new Wo(Bo,e.shape,t.shape);return this.compileAndRun(c,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,i,o){var a=[e,t,n],s=null;null!=o&&(s=o.shape,a.push(o));var u=null;if(null!=i&&(u=i.shape,a.push(i)),p().getBool("WEBGL_PACK_NORMALIZATION")){var l=new Mo(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,a)}var c=new Po(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(c,a)},t.prototype.localResponseNormalization4D=function(e,t,n,r,i){var o=p().getBool("WEBGL_PACK_NORMALIZATION")?new Ka(e.shape,t,n,r,i):new Ga(e.shape,t,n,r,i);return this.compileAndRun(o,[e])},t.prototype.LRNGrad=function(e,t,n,r,i,o,a){var s=new qa(t.shape,r,i,o,a);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map(function(e){return ce(e)});return oo(br(e.shape,e.dtype,n),t)}var r=new Cs(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=p().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ts(e.shape,t,n):new es(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.transpose=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,t);var n=p().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ss(e.shape,t):new Es(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new _a(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){T(e.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var r=t.reduce(function(e,t){return e*t}),i=Xr(e.shape,t,r),o=Yr(i.length,t.length),a=Zr(e.shape,t,r),s=$r(n,t.length),u=Jr(a,n,t.length);return e.reshape(i).transpose(o).reshape(a).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){T(e.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var r=t.reduce(function(e,t){return e*t}),i=[[0,0]];i.push.apply(i,n);for(var o=1+t.length;o<e.shape.length;++o)i.push([0,0]);var a=e.pad(i),s=Xr(a.shape,t,r,!1),u=Yr(s.length,t.length,!1),l=Zr(a.shape,t,r,!1);return a.reshape(s).transpose(u).reshape(l)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],i=e.shape[1],o=ni(i),a=new is({windowSize:o,inSize:i,batchSize:r},t),s=this.compileAndRun(a,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],i=e.shape[1];null!=n&&(r=n.shape[0],i=n.shape[1]);var o=ni(i),a=new co({windowSize:o,inSize:i,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var u=this.compileAndRun(a,s,"int32");return 1===u.shape[1]?u:this.argReduce(e,t,u)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,i=ni(r[r.length-1]),o=new Ao(r,i,t,null==n),a=null==n?[e]:[e,n],s=this.compileAndRun(o,a,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){Tn("sum",t,e.rank);var n=kn(e.shape,t),r=n[0],i=R(n[1]),o=e.as2D(-1,i),a=De(e.dtype);return this.reduce(o,"sum",a).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=kn(e.shape,t),r=n[0],i=R(n[1]),o=e.as2D(-1,i),a=De(e.dtype);return this.reduce(o,"prod",a).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,i=Nn([r],e.rank),o=e;null!=i&&(o=e.transpose(i),r=In(1,e.rank)[0]);var a=function(e,t,n){for(var r=[],i=e.length,o=0;o<i;o++)o!==t?r.push(e[o]):r.push(n);return r}(o.shape,r,n),s=R([o.shape[r]]),u=o.as2D(-1,s),l=De(e.dtype),c=this.segOpCompute(u,"unsortedSegmentSum",t,l,n).reshape(a);return null!=i&&(c=c.transpose(An(i))),c},t.prototype.segOpCompute=function(e,t,n,r,i){var o=e.shape[0],a=e.shape[1],s=function(e,t){var n,r=!1;for(e<=ti?(n=e,r=!0):n=te(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=te(e,n+1);return n}(a,i),u=new ds({windowSize:s,inSize:a,batchSize:o,numSegments:i},t),l=this.compileAndRun(u,[e,n],r);return l.shape[1]===i?l:(n=Jn(0,i).tile([a/s]),this.segOpCompute(l,t,n,r,i))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(Tn("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!p().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var i=kn(e.shape,r),o=i[0],a=R(i[1]),s=e.as2D(-1,a);return this.argReduce(s,n).reshape(o)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var i=new ua(e.shape,n,r);return this.compileAndRun(i,[e])},t.prototype.equal=function(e,t){if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new Wo("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new Wo("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new Wo("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new Wo("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new Wo("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new Wo("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new Ts(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new Wo("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new Wo("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new ms(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],je(t.dtype,n.dtype))},t.prototype.where=function(e){bn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return so(e.shape,t)},t.prototype.topk=function(e,t,n){return ao(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){Tn("min",t,e.rank);var n=kn(e.shape,t),r=n[0],i=R(n[1]),o=e.as2D(-1,i);return this.reduce(o,"min",o.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=p().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ho("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Wo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=p().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ho("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Wo("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);Tn("max",t,e.rank);var n=kn(e.shape,t),r=n[0],i=R(n[1]),o=e.as2D(-1,i);return this.reduce(o,"max",o.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=p().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ho("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Wo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){Tn("all",t,e.rank);var n=kn(e.shape,t),r=n[0],i=R(n[1]),o=e.as2D(-1,i);return this.reduce(o,"all",o.dtype).reshape(r)},t.prototype.any=function(e,t){Tn("any",t,e.rank);var n=kn(e.shape,t),r=n[0],i=R(n[1]),o=e.as2D(-1,i);return this.reduce(o,"any",o.dtype).reshape(r)},t.prototype.realDivide=function(e,t){if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new Wo("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return this.compileAndRun(n,[e,t],"float32")},t.prototype.floorDiv=function(e,t){if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new Wo("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,Fo);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=je(e.dtype,t.dtype);if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Fo,n);var r=new Wo(Fo,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new eu(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,i){void 0===i&&(i=!1);var o=new Ho(n,e.shape,t.shape,i);return this.compileAndRun(o,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,i=this.texData.get(e.dataId),o=this.texData.get(t.dataId),a=[[i.complexTensors.real,o.complexTensors.real],[i.complexTensors.imag,o.complexTensors.imag]].map(function(i){var o=i[0],a=i[1],s=r.makeComplexComponentTensorInfo(e,o),u=r.makeComplexComponentTensorInfo(t,a),l=new Wo(n,e.shape,t.shape);return r.compileAndRun(l,[s,u],je(o.dtype,a.dtype))}),s=a[0],u=a[1],l=this.complex(s,u);return s.dispose(),u.dispose(),l},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>p().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var i=e.map(function(e){return e.dtype}).reduce(function(e,t){return je(e,t)}),o=e.map(function(e){return e.shape}),a=p().getBool("WEBGL_PACK")?new lo(e[0].shape,o):new uo(e[0].shape,o);return this.compileAndRun(a,e,i)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,zo);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=je(e.dtype,t.dtype);if(p().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,zo,e.dtype);var r=new Wo(zo,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=p().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ho("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Wo("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=je(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(p().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ls,e.dtype);var t=new Ts(e.shape,Ls);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(p().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Fs,e.dtype);var t=new Ts(e.shape,Fs);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new Ts(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new Ts(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new Ts(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new Ts(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new Ts(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(p().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,zs,e.dtype);var t=new Ts(e.shape,zs);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(p().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Bs,e.dtype);var t=new Ts(e.shape,Bs);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=B([t],e.shape),r=this.max(e,n),i=On(r.shape,n),o=this.subtract(e,r.reshape(i)),a=this.exp(o),s=this.sum(a,n).reshape(i);return this.realDivide(a,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(p().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new Ts(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new Ts(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new Ts(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new Ts(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new Ts(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=p().getBool("WEBGL_PACK")?new eu(e.shape,$s):new Ts(e.shape,Rs),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=p().getBool("WEBGL_PACK")?new eu(e.shape,Js):new Ts(e.shape,Ps),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=p().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ho(Vo,e.shape,t.shape):new Wo(Uo,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(p().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Qs,e.dtype);var t=new Ts(e.shape,Ms);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=p().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ho("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new Wo("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new Ts(e.shape,js);return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new Ts(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,i=(r=p().getBool("WEBGL_PACK_CLIP")?new qo(e.shape):new Go(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,i)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(p().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Is,e.dtype);var t=new Ts(e.shape,Is);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new Ko(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new Ts(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new Ts(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new Ts(e.shape,Us);return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new Ts(e.shape,Ws);return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new Ts(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new Ts(e.shape,Vs);return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new Ts(e.shape,Hs);return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new Ts(e.shape,Gs);return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=p().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ho("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Wo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new Ts(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new Ts(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new Ts(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new Ts(e.shape,qs);return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new Ts(e.shape,Ks);return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new Ts(e.shape,Xs);return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new Ts(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new Ts(e.shape,function(e){return void 0===e&&(e=0),Ns+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,i,o){var a=e.shape,s=this.texData.get(e.dataId),u=n.inChannels,l=a[0]*a[1]*a[2],c=n.outChannels,f="channelsLast"===n.dataFormat,h=(1===l||1===c)&&u>1e3,d=a[2]%2!=0&&!!s.isPacked;if(h||!p().getBool("WEBGL_LAZILY_UNPACK")||!p().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!d){var m=f?a[0]*a[1]*a[2]:a[0]*a[2]*a[3],g=this.reshape(e,[1,m,n.inChannels]),v=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:g,b:v,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:o}),n.outShape)}var y=f?a[0]*a[1]*(a[2]+1):a[0]*a[2]*(a[3]+1),b={dataId:e.dataId,shape:[1,y,n.inChannels],dtype:e.dtype},w=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,T(zt(s.shape,b.shape),function(){return"packed reshape "+s.shape+" to "+b.shape+" isn't free"});var x=this.reshape(t,[1,n.inChannels,n.outChannels]),_=this.fusedBatchMatMul({a:b,b:x,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:o}),C=this.texData.get(_.dataId);return T(C.isPacked,function(){return"batchMatMul result is expected to be packed"}),s.shape=w,C.shape=n.outShape,He.makeTensorFromDataId(_.dataId,n.outShape,_.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,i,o){var a=n.filterWidth,s=n.filterHeight,u=n.inChannels,l=n.outWidth,c=n.outHeight,f="channelsLast"===n.dataFormat,p=a*s*u,h=c*l,d=[p,h],m=e.squeeze([0]),g=t.reshape([1,p,-1]),v=new Ha(d,m.shape,n),y=this.compileAndRun(v,[m]).reshape([1,d[0],d[1]]),b=null!=r,w=null!=o,x=i?ru(i,!0):null,_=new Za(y.shape,[1,h,n.outChannels],!0,!1,b,x,w),C=[y,g];r&&C.push(r),w&&C.push(o);var E=this.compileAndRun(_,C);return f?E.reshape([1,c,l,n.outChannels]):E.reshape([1,n.outChannels,c,l])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,o=e.activation,a=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,i,o,a);if(p().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,i,o,a);var s=null!=i,u=null!=a,l=o?ru(o,!1):null,c=new ra(r,s,l,u),f=[t,n];return i&&f.push(i),a&&f.push(a),this.compileAndRun(c,f)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(p().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new ra(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new Jo(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new $o(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,i=e.convInfo,o=e.bias,a=e.activation,s=e.preluActivationWeights,u=p().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1,l=a?ru(a,u):null,c=[n,r],f=null!=o,h=null!=s;return f&&c.push(o),h&&c.push(s),u?(t=new aa(i,f,l,h),this.compileAndRun(t,c)):(t=new oa(i,f,l,h),this.compileAndRun(t,c))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return p().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new aa(n),this.compileAndRun(r,[e,t])):(r=new oa(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new na(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new ta(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new ia(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new ea(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new Qo(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new ns(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new ns(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var i=new ns(r,"max",!0),o=this.compileAndRun(i,[t]),a=new Xa(r),s=this.compileAndRun(a,[e,o],t.dtype);return o.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new Io(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return Wi(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),i=0,o=0;o<e.rank;o++)o!==t&&(r[i++]=e.shape[o]);var a=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(o=0;o<u.length;o++)a[t]=o,u[o]=this.slice(e,a,s).reshape(r);return u},t.prototype.avgPool3d=function(e,t){var n=new rs(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new Ro(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new rs(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var i=new rs(r,"max",!0),o=this.compileAndRun(i,[t]),a=new Ya(r),s=this.compileAndRun(a,[e,o],t.dtype);return o.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!zt(e.shape,t)&&(null===n.texture||!zt(n.shape,t))){var r=this.packedReshape(e,t);return He.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return Vi(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var i=p().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new us(e.shape,t,n,r):new ss(e.shape,t,n,r);return this.compileAndRun(i,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new as(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var i=new cs(e.shape,t,n,r);return this.compileAndRun(i,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new ls(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var i=t?e:_i(e),o=i.shape[0],a=i.shape[1],s=new $a(o,a,n),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[i],"int32",u)},t.prototype.oneHot=function(e,t,n,r){var i=new Ja(e.size,t,n,r);return this.compileAndRun(i,[e])},t.prototype.diag=function(e){var t=new ha(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,i){return bn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),Ji(e.dataSync(),t.dataSync(),n,r,i)},t.prototype.cropAndResize=function(e,t,n,r,i,o){var a=new sa(e.shape,t.shape,r,i,o);return this.compileAndRun(a,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){T(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+t});var r=e.shape[0],i="NHWC"===n?e.shape[1]:e.shape[2],o="NHWC"===n?e.shape[2]:e.shape[3],a="NHWC"===n?e.shape[3]:e.shape[1],s=i*t,u=o*t,l=a/(t*t),c=new pa("NHWC"===n?[r,s,u,l]:[r,l,s,u],t,n);return this.compileAndRun(c,[e])},t.prototype.split=function(e,t,n){return io(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=oi(0,e,n),i=r.sliceRank,o=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,l=[u/a,a],c=e.reshape([o,i]),f=t.reshape([o,a]);if(0===u)return Vi(Fn([]),n);var p=Bn(0),h=new hs(o,i,c.rank,f.rank,s,l);return this.compileAndRun(h,[f,c,p]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var i=oi(0,e,n),o=i.sliceRank,a=i.numUpdates,s=i.strides,u=i.outputSize,l=new hs(a,o,e.rank,t.rank,s,[u,1],!1);return this.compileAndRun(l,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new wa(ya,e.shape,t),i=new wa(ba,e.shape,t),o=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],a=this.compileAndRun(r,o),s=this.compileAndRun(i,o),u=this.complex(a,s).as2D(e.shape[0],e.shape[1]);return a.dispose(),s.dispose(),u},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],i=Qr(e,t),o=i[0],a=i[1],s=i[2],u=i[3],l=t.reshape([a,r]),c=e.reshape([e.size/s,s]),f=new Ca(r,u,[a,s]);return this.compileAndRun(f,[c,l]).reshape(o)},t.prototype.fill=function(e,t,n){if("string"===(n=n||Q(t))){var r=V(n,R(e));return r.fill(t),He.makeTensor(r,e,n,this)}var i=new xa(e,t),o=i.getCustomSetupFunc(t);return this.compileAndRun(i,[],n,o)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return Hi(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return He.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new tu(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new Qa(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[Mt(e.shape)].concat(jt(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[Mt(t)].concat(jt(t)),o=new os(i,n),a=this.runWebGLProgram(o,[r],e.dtype,null,!0);return{dataId:a.dataId,shape:t,dtype:a.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,i=n.shape,o=n.dtype,a=Dt(i);return t=r?new fa(a):new ca(a),{dtype:o,shape:i,dataId:this.runWebGLProgram(t,[{shape:a,dtype:o,dataId:e}],o,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,i){var o=this;void 0===i&&(i=!1);var a=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(a.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===Ke.DENSE){var u=tt(e.outputShape);s.texShape=u.map(function(e){return 2*e})}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===R(a.shape))return s.values=W(a.dtype,0),a;var l=[],c=t.map(function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=o.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&R(t.shape)<=p().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?o.unpackTensor(t):o.packTensor(t),l.push(t),n=o.texData.get(t.dataId);else if(n.isPacked&&!zt(n.shape,t.shape)){var r=t,i=t.shape;t.shape=n.shape,t=o.packedReshape(t,i),l.push(t),n=o.texData.get(t.dataId),r.shape=i}return o.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}});this.uploadToGPU(a.dataId);var f,h={shape:a.shape,texData:s,isUniform:!1},d=function(e,t,n){var r="";t.concat(n).forEach(function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t});var i=e.userCode,o;return e.constructor.name+"_"+r+"_"+i}(e,c,h),m=this.getAndSaveBinary(d,function(){return function(e,t,n,r){var i=t.userCode,o=n.map(function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}}),a=o.map(function(e){return e.shapeInfo}),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=yo(o,s,i,t.packedInputs),l=e.createProgram(u),c=null,f=e.getUniformLocation(l,"NAN",!1);1===p().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(l,"INFINITY",!1));for(var h={},d=0;d<t.variableNames.length;d++){var m=t.variableNames[d];h[m]=e.getUniformLocation(l,m,!1),h["offset"+m]=e.getUniformLocation(l,"offset"+m,!1)}return{program:t,source:u,webGLProgram:l,uniformLocations:h,inShapeInfos:a,outShapeInfo:s,infLoc:c,nanLoc:f}}(o.gpgpu,e,c,h)}),g=null!=this.activeTimers;if(g&&(f=this.startTimer()),function(e,t,n,r,i){Va(t.inShapeInfos,n),Va([t.outShapeInfo],[r]);var o=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(o,a[0],a[1]):e.setOutputMatrixTexture(o,a[0],a[1]),e.setProgram(t.webGLProgram),1===p().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(function(n,r){var i=t.program.variableNames[r],o=t.uniformLocations[i],a=t.uniformLocations["offset"+i];if(null!=o)if(n.isUniform)if(R(n.shape)<2)e.gl.uniform1f(o,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(o,s)}else null!=n.texData.slice&&null!=a&&e.gl.uniform1i(a,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,o,r)}),null!=i&&i(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,m,c,h,r),l.forEach(function(e){return o.disposeData(e.dataId)}),g&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)})),!p().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===i){var v=this.unpackTensor(a);return this.disposeData(a.dataId),v}return a},t.prototype.compileAndRun=function(e,t,n,r,i){void 0===i&&(i=!1),n=n||t[0].dtype;var o=this.runWebGLProgram(e,t,n,r,i);return He.makeTensorFromDataId(o.dataId,o.shape,o.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(p().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=an(function(){if(!p().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=p().getBool("DEBUG");p().set("DEBUG",!1);var n=e.abs(Bn(1e-8)).dataSync()[0];if(p().set("DEBUG",t),n>0)return 32}return 16})),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,i=n.dtype,o=n.values,a=n.texture,s=n.usage,u=n.isPacked;if(null==a){var l,c=null!=this.activeTimers;c&&(l=se());var f=n.texShape;if(null==f&&(f=Lt(r,u),n.texShape=f),null!=o){var p=Dt(r),h=void 0,d=f[1],m=f[0],g=o instanceof Uint8Array;u?(d=(t=nt(f[0],f[1]))[0],m=t[1],h=new va(p,[m,d],g)):h=new ga(p,[m,d],g);var v=this.makeTensorInfo([m,d],i);this.texData.get(v.dataId).usage=g?Xe.PIXELS:Xe.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(v.dataId),d,m,o);var y=this.runWebGLProgram(h,[v],i,null,!0),b=this.texData.get(y.dataId);n.texture=b.texture,n.texShape=b.texShape,n.isPacked=b.isPacked,n.usage=b.usage,this.disposeData(v.dataId),this.texData.delete(y.dataId),n.values=null,c&&(this.uploadWaitMs+=se()-l)}else{var w=this.acquireTexture(f,s,i,u);n.texture=w}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+i+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*X(t)},t}(Si);Ge()&&He.registerBackend("webgl",function(){return new ou},2);var au=Mn({square_:function(e){var t=_n(e,"x","square"),n=[t];return He.runKernelFunc(function(e,n){return n([t]),e.square(t)},{x:t},null,"Square",{},n,[])}}),su="SquaredDifference",uu=Mn({squaredDifference_:function(e,t){var n,r=_n(e,"a","squaredDifference"),i=_n(t,"b","squaredDifference");n=Le(r,i),r=n[0],i=n[1],Ni(r.shape,i.shape);var o={a:r,b:i},a=[r,i];return He.runKernelFunc(function(e,t){var n=e.squaredDifference(r,i);return t([r,i]),n},o,function(e,t){var n=t[0],r=t[1],i=Bn(2);return{a:function(){return e.mul(n.sub(r).mul(i))},b:function(){return e.mul(r.sub(n).mul(i))}}},su,{},a,[])}}),lu=Mn({abs_:function(e){var t=_n(e,"x","abs");return"complex64"===t.dtype?He.runKernelFunc(function(e){return e.complexAbs(t)},{$x:t}):He.runKernelFunc(function(e,n){var r=e.abs(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}},"Abs")}}),cu=Mn({acos_:function(e){var t=_n(e,"x","acos");return He.runKernelFunc(function(e,n){var r=e.acos(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(Bn(1).sub(n.toFloat().square()).sqrt()).neg()}}})}}),fu=Mn({acosh_:function(e){var t=_n(e,"x","acosh");return He.runKernelFunc(function(e,n){var r=e.acosh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}})}}),pu=Mn({asin_:function(e){var t=_n(e,"x","asin");return He.runKernelFunc(function(e,n){var r=e.asin(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(Bn(1).sub(n.toFloat().square()).sqrt())}}})}}),hu=Mn({asinh_:function(e){var t=_n(e,"x","asinh");return He.runKernelFunc(function(e,n){var r=e.asinh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(Bn(1).add(n.toFloat().square()).sqrt())}}})}}),du=Mn({atan_:function(e){var t=_n(e,"x","atan");return He.runKernelFunc(function(e,n){var r=e.atan(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}})}}),mu=Mn({atanh_:function(e){var t=_n(e,"x","atanh");return He.runKernelFunc(function(e,n){var r=e.atanh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(Bn(1).sub(n.toFloat().square()))}}})}}),gu=Mn({ceil_:function(e){var t=_n(e,"x","ceil");return He.runKernelFunc(function(e){return e.ceil(t)},{$x:t},function(e){return{$x:function(){return er(e)}}})}}),vu=Mn({clipByValue_:function(e,t,n){var r=_n(e,"x","clipByValue");T(t<=n,function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."});var i=[r],o={min:t,max:n};return He.runKernelFunc(function(e,i){var o=e.clip(r,t,n);return i([r]),o},{x:r},function(e,r){var i=r[0];return{x:function(){return e.where(i.greaterEqual(t).logicalAnd(i.lessEqual(n)),er(e))}}},"ClipByValue",o,i)}}),yu=Mn({cos_:function(e){var t=_n(e,"x","cos"),n=[t];return He.runKernelFunc(function(e,n){var r=e.cos(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}},"Cos",{},n)}}),bu=Mn({cosh_:function(e){var t=_n(e,"x","cosh");return He.runKernelFunc(function(e,n){var r=e.cosh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}})}}),wu=Mn({erf_:function(e){var t=_n(e,"x","erf");return T("int32"===t.dtype||"float32"===t.dtype,function(){return"Input dtype must be `int32` or `float32`."}),"int32"===t.dtype&&(t=t.toFloat()),He.runKernelFunc(function(e,n){var r=e.erf(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),xu=Mn({exp_:function(e){var t=_n(e,"x","exp");return He.runKernelFunc(function(e,n){var r=e.exp(t);return n([r]),r},{x:t},function(e,t){return{x:function(){return e.mulStrict(t[0])}}},"Exp",{},[],[!0])}}),_u=Mn({expm1_:function(e){var t=_n(e,"x","expm1");return He.runKernelFunc(function(e,n){var r=e.expm1(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}})}}),Cu=Mn({floor_:function(e){var t=_n(e,"x","floor");return He.runKernelFunc(function(e){return e.floor(t)},{$x:t},function(e){return{$x:function(){return er(e)}}})}}),Eu=Mn({log_:function(e){var t=_n(e,"x","log"),n=[t];return He.runKernelFunc(function(e,n){var r=e.log(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}},"Log",{},n)}}),Su=Mn({log1p_:function(e){var t=_n(e,"x","log1p");return He.runKernelFunc(function(e,n){var r=e.log1p(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}})}}),ku=Mn({logSigmoid_:function(e){var t=_n(e,"x","logSigmoid");return He.runKernelFunc(function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}})}}),Ou=Mn({neg_:function(e){var t=_n(e,"x","neg"),n=[t];return He.runKernelFunc(function(e){return e.neg(t)},{x:t},function(e){return{x:function(){return e.neg()}}},"Neg",{},n)}}),Tu=Mn({reciprocal_:function(e){var t=_n(e,"x","reciprocal");return He.runKernelFunc(function(e,n){var r=e.reciprocal(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}})}}),Nu=Mn({round_:function(e){var t=_n(e,"x","round");return He.runKernelFunc(function(e){return e.round(t)},{$x:t},function(e){return{$x:function(){return er(e)}}})}}),Au=Mn({rsqrt_:function(e){var t=_n(e,"x","rsqrt"),n=[t];return He.runKernelFunc(function(e,n){var r=e.rsqrt(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),Iu=Mn({sigmoid_:function(e){var t=_n(e,"x","sigmoid");return He.runKernelFunc(function(e,n){var r=e.sigmoid(t);return n([r]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(Bn(1).sub(n)))}}},"Sigmoid")}}),Ru=Mn({sign_:function(e){var t=_n(e,"x","sign");return He.runKernelFunc(function(e){return e.sign(t)},{$x:t},function(e){return{$x:function(){return er(e)}}})}}),Pu=Mn({isNaN_:function(e){var t=_n(e,"x","isNaN");return He.runKernelFunc(function(e){return e.isNaN(t)},{$x:t},function(e){return{$x:function(){return er(e)}}})}}),Mu=Mn({isInf_:function(e){var t=_n(e,"x","isInf");return He.runKernelFunc(function(e){return e.isInf(t)},{$x:t},function(e){return{$x:function(){return er(e)}}})}}),ju=Mn({isFinite_:function(e){var t=_n(e,"x","isFinite");return He.runKernelFunc(function(e){return e.isFinite(t)},{$x:t},function(e){return{$x:function(){return er(e)}}})}}),Du=Mn({sin_:function(e){var t=_n(e,"x","sin"),n=[t];return He.runKernelFunc(function(e,n){var r=e.sin(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}},"Sin",{},n)}}),Lu=Mn({sinh_:function(e){var t=_n(e,"x","sinh");return He.runKernelFunc(function(e,n){var r=e.sinh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}})}}),Fu=Mn({softplus_:function(e){var t=_n(e,"x","softplus");return He.runKernelFunc(function(e,n){var r=e.softplus(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}})}}),zu=Mn({sqrt_:function(e){var t=_n(e,"x","sqrt");return He.runKernelFunc(function(e,n){var r=e.sqrt(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}})}}),Bu=Mn({step_:function(e,t){void 0===t&&(t=0);var n=_n(e,"x","step");return He.runKernelFunc(function(e){return e.step(n,t)},{$x:n},function(e){return{$x:function(){return er(e)}}})}}),Uu=Mn({tan_:function(e){var t=_n(e,"x","tan");return He.runKernelFunc(function(e,n){var r=e.tan(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}})}}),Wu=Mn({tanh_:function(e){var t=_n(e,"x","tanh");return He.runKernelFunc(function(e,n){var r=e.tanh(t);return n([r]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return Bn(1).sub(n.square()).mulStrict(e)}}},"Tanh",{},null,[!0])}});function Vu(e,t,n,r,i,o){var a,s,u=_n(e,"x","batchNorm"),l=_n(t,"mean","batchNorm"),c=_n(n,"variance","batchNorm");return null!=i&&(a=_n(i,"scale","batchNorm")),null!=r&&(s=_n(r,"offset","batchNorm")),T(2===u.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),T(2===l.rank||1===l.rank,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+l.rank+"."}),T(2===c.rank||1===c.rank,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."}),null!=a&&T(2===a.rank||1===a.rank,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."}),null!=s&&T(2===s.rank||1===s.rank,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),qu(u,l,c,s,a,o)}function Hu(e,t,n,r,i,o){var a,s,u=_n(e,"x","batchNorm"),l=_n(t,"mean","batchNorm"),c=_n(n,"variance","batchNorm");return null!=i&&(a=_n(i,"scale","batchNorm")),null!=r&&(s=_n(r,"offset","batchNorm")),T(3===u.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),T(3===l.rank||1===l.rank,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+l.rank+"."}),T(3===c.rank||1===c.rank,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."}),null!=a&&T(3===a.rank||1===a.rank,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."}),null!=s&&T(3===s.rank||1===s.rank,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),qu(u,l,c,s,a,o)}function Gu(e,t,n,r,i,o){var a,s,u=_n(e,"x","batchNorm"),l=_n(t,"mean","batchNorm"),c=_n(n,"variance","batchNorm");return null!=i&&(a=_n(i,"scale","batchNorm")),null!=r&&(s=_n(r,"offset","batchNorm")),T(4===u.rank,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."}),T(4===l.rank||1===l.rank,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+l.rank+"."}),T(4===c.rank||1===c.rank,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."}),null!=a&&T(4===a.rank||1===a.rank,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."}),null!=s&&T(4===s.rank||1===s.rank,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),qu(u,l,c,s,a,o)}function qu(e,t,n,r,i,o){null==o&&(o=.001);var a,s,u,l=_n(e,"x","batchNorm"),c=_n(t,"mean","batchNorm"),f=_n(n,"variance","batchNorm");null!=i&&(a=_n(i,"scale","batchNorm")),null!=r&&(s=_n(r,"offset","batchNorm")),T(c.rank===f.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),T(null==s||c.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),T(null==a||c.rank===a.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),u=0===l.rank||1===l.rank?l.as4D(1,1,1,l.size):2===l.rank?l.as4D(1,1,l.shape[0],l.shape[1]):3===l.rank?l.as4D(1,l.shape[0],l.shape[1],l.shape[2]):l;var p=[l,c,f,a];return He.runKernelFunc(function(e,t){var n=e.batchNormalization(u,Ku(c),Ku(f),o,Ku(a),Ku(s));return t([l,c,f,a]),n},{x:l,mean:c,variance:f,scale:a,offset:s},function(e,t){var n=t,r=n[0],i=n[1],a=n[2],s=n[3],l=null==s?Bn(1):s,c=Ti(i.shape,u.shape),f=[];if(1===i.rank){for(var p=0;p<u.shape.length-1;++p)f.push(u.shape[p]);f.push(1)}var h=r.sub(i),d=e.mul(l),m=Au(a.add(Bn(o))),g=m.mul(m).mul(m).mul(Bn(-.5));return{x:function(){return 1===i.rank?e.mul(Hr(m.as4D(1,1,1,i.shape[0]),f)).mul(l).reshape(r.shape):e.mul(m).mul(l).reshape(r.shape)},mean:function(){var e=m.mul(Bn(-1)).mul(d);return 1===i.rank&&(e=e.sum(c)),e.reshape(i.shape)},variance:function(){var e=g.mul(h).mul(d);return 1===i.rank&&(e=e.sum(c)),e.reshape(i.shape)},scale:function(){var t=h.mul(m),n=e.mul(t);return 1===i.rank&&(n=n.sum(c)),n.reshape(i.shape)},offset:function(){var t=e;return 1===i.rank&&(t=t.sum(c)),t.reshape(i.shape)}}},"BatchNormalization",{varianceEpsilon:o},p).reshape(l.shape)}function Ku(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function Xu(){en("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var Yu=Mn({batchNormalization2d_:function(e,t,n,r,i,o){return void 0===r&&(r=.001),Xu(),Vu(e,t,n,o,i,r)}}),Zu=Mn({batchNormalization3d_:function(e,t,n,r,i,o){return void 0===r&&(r=.001),Xu(),Hu(e,t,n,o,i,r)}}),$u=Mn({batchNormalization4d_:function(e,t,n,r,i,o){return void 0===r&&(r=.001),Xu(),Gu(e,t,n,o,i,r)}}),Ju=Mn({batchNormalization_:function(e,t,n,r,i,o){return void 0===r&&(r=.001),Xu(),qu(e,t,n,o,i,r)}}),Qu=Mn({batchNorm_:qu}),el=Mn({batchNorm2d_:Vu}),tl=Mn({batchNorm3d_:Hu}),nl=Mn({batchNorm4d_:Gu}),rl=Mn({logicalAnd_:function(e,t){var n=_n(e,"a","logicalAnd","bool"),r=_n(t,"b","logicalAnd","bool");return Ni(n.shape,r.shape),He.runKernelFunc(function(e){return e.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),il=Mn({logicalNot_:function(e){var t=_n(e,"x","logicalNot","bool");return He.runKernelFunc(function(e){return e.logicalNot(t)},{$x:t})}}),ol=Mn({logicalOr_:function(e,t){var n=_n(e,"a","logicalOr","bool"),r=_n(t,"b","logicalOr","bool");return Ni(n.shape,r.shape),He.runKernelFunc(function(e){return e.logicalOr(n,r)},{$a:n,$b:r})}}),al=Mn({logicalXor_:function(e,t){var n=_n(e,"a","logicalXor","bool"),r=_n(t,"b","logicalXor","bool");return Ni(n.shape,r.shape),ol(e,t).logicalAnd(rl(e,t).logicalNot())}}),sl=Mn({where_:function(e,t,n){var r=_n(t,"a","where"),i=_n(n,"b","where"),o=_n(e,"condition","where","bool");return N(r.shape,i.shape,"Error in where: "),1===o.rank?T(o.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):N(o.shape,i.shape,"Error in where: "),He.runKernelFunc(function(e,t){var n=e.select(o,r,i);return t([o]),n},{$condition:o,$a:r,$b:i},function(e,t){var n=t[0];return{$condition:function(){return er(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}})}}),ul=function(e){return u(this,void 0,void 0,function(){var t,n,r;return l(this,function(i){switch(i.label){case 0:return[4,(t=_n(e,"condition","whereAsync","bool")).data()];case 1:return n=i.sent(),r=so(t.shape,n),e!==t&&t.dispose(),[2,r]}})})},ll=Mn({add_:function(e,t){var n,r=_n(e,"a","add"),i=_n(t,"b","add");n=Le(r,i),r=n[0],i=n[1];var o=Ni(r.shape,i.shape);return He.runKernelFunc(function(e){return e.add(r,i)},{a:r,b:i},function(e){return{a:function(){var t=e,n=Ti(r.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Ti(i.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(i.shape)}}},"Add")}}),cl=Mn({addN_:function(e){T(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),T(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(e,t){return _n(e,"tensors"+t,"addN")}),n=t[0];t.forEach(function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(e){if(!P(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=t;return He.runKernelFunc(function(e){return e.addN(t)},r,function(e){var n={};return t.forEach(function(t,r){n[r]=function(){return e.clone()}}),n},"AddN")}}),fl=Mn({addStrict_:function(e,t){var n=_n(e,"a","addStrict"),r=_n(t,"b","addStrict");return N(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),pl=Mn({atan2_:function(e,t){var n,r=_n(e,"a","atan2"),i=_n(t,"b","atan2");n=Le(r,i),r=n[0],i=n[1];var o=Ni(r.shape,i.shape);return He.runKernelFunc(function(e,t){var n=e.atan2(r,i);return t([r,i]),n},{$a:r,$b:i},function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=ll(n.square(),r.square()),i=e.mul(r.div(t)),a=Ti(n.shape,o);return a.length>0&&(i=i.sum(a)),i.reshape(n.shape)},$b:function(){var t=ll(n.square(),r.square()),i=Ou(e.mul(n.div(t))),a=Ti(r.shape,o);return a.length>0&&(i=i.sum(a)),i.reshape(r.shape)}}})}}),hl=Mn({div_:function(e,t){var n,r=_n(e,"a","div"),i=_n(t,"b","div");if(n=Le(r,i),r=n[0],i=n[1],"int32"===r.dtype&&"int32"===i.dtype)return gl(r,i);var o=Ni(r.shape,i.shape);return He.runKernelFunc(function(e,t){var n=e.realDivide(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),i=Ti(n.shape,o);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=Ti(r.shape,o);i.length>0&&(t=t.sum(i).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}},"Div")}}),dl=Mn({divNoNan_:function(e,t){var n,r=_n(e,"a","div"),i=_n(t,"b","div");r=(n=Le(r,i))[0],i=n[1];var o=hl(r,i),a=er(o),s=i.equal(a);return sl(s,a,o)}}),ml=Mn({divStrict_:function(e,t){var n=_n(e,"a","div"),r=_n(t,"b","div");return N(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),gl=Mn({floorDiv_:function(e,t){var n,r=_n(e,"a","floorDiv"),i=_n(t,"b","floorDiv");n=Le(r,i),r=n[0],i=n[1];var o=Ni(r.shape,i.shape);return He.runKernelFunc(function(e,t){var n=e.floorDiv(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),i=Ti(n.shape,o);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=Ti(r.shape,o);i.length>0&&(t=t.sum(i).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}},"FloorDiv")}}),vl=Mn({maximum_:function(e,t){var n,r=_n(e,"a","maximum"),i=_n(t,"b","maximum");return n=Le(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),Ni(r.shape,i.shape),He.runKernelFunc(function(e,t){var n=e.maximum(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}},"Maximum")}}),yl=Mn({maximumStrict_:function(e,t){var n=_n(e,"a","maximumStrict"),r=_n(t,"b","maximumStrict");return N(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),bl=Mn({minimum_:function(e,t){var n,r=_n(e,"a","minimum"),i=_n(t,"b","minimum");return n=Le(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),Ni(r.shape,i.shape),He.runKernelFunc(function(e,t){var n=e.minimum(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}},"Minimum")}}),wl=Mn({minimumStrict_:function(e,t){var n=_n(e,"a","minimumStrict"),r=_n(t,"b","minimumStrict");return N(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),xl=Mn({mod_:function(e,t){var n,r=_n(e,"a","mod"),i=_n(t,"b","mod");n=Le(r,i),r=n[0],i=n[1];var o=Ni(r.shape,i.shape);return He.runKernelFunc(function(e,t){var n=e.mod(r,i);return t([r,i]),n},{$a:r,$b:i},function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=Ti(n.shape,o);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),i=Ti(r.shape,o);return i.length>0?t.sum(i).reshape(r.shape):t}}})}}),_l=Mn({modStrict_:function(e,t){var n=_n(e,"a","modStrict"),r=_n(t,"b","modStrict");return N(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),Cl=Mn({mul_:function(e,t){var n,r=_n(e,"a","mul"),i=_n(t,"b","mul");n=Le(r,i),r=n[0],i=n[1];var o=Ni(r.shape,i.shape);return He.runKernelFunc(function(e,t){var n=e.multiply(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),i=Ti(n.shape,o);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=Ti(r.shape,o);return i.length>0?t.sum(i).reshape(r.shape):t}}},"Mul")}}),El=Mn({mulStrict_:function(e,t){var n=_n(e,"a","mul"),r=_n(t,"b","mul");return N(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Sl=Mn({pow_:function(e,t){var n,r=_n(e,"base","pow"),i=_n(t,"exp","pow");n=Le(r,i),r=n[0],i=n[1];var o=Ni(r.shape,i.shape),a=[r,i];return He.runKernelFunc(function(e,t){var n=e.pow(r,i);return t([r,i,n]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1],i=t[2];return{a:function(){var t=r.toFloat(),i=e.mul(t.mul(n.pow(t.sub(Bn(1))))),a=Ti(n.shape,o);return a.length>0&&(i=i.sum(a)),i.reshape(n.shape)},b:function(){var t=n.greater(0),a=n.log().where(t,er(n)),s=e.mul(i.mul(a)),u=Ti(r.shape,o);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)}}},"Pow",{},a,[!0])}}),kl=Mn({powStrict_:function(e,t){return N(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),Ol=Mn({squaredDifferenceStrict_:function(e,t){var n=_n(e,"a","squaredDifferenceStrict"),r=_n(t,"b","squaredDifferenceStrict");return N(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),Tl=Mn({sub_:function(e,t){var n,r=_n(e,"a","sub"),i=_n(t,"b","sub");n=Le(r,i),r=n[0],i=n[1];var o=Ni(r.shape,i.shape);return He.runKernelFunc(function(e){return e.subtract(r,i)},{a:r,b:i},function(e){return{a:function(){var t=e,n=Ti(r.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Ti(i.shape,o);return n.length>0&&(t=t.sum(n)),t.neg().reshape(i.shape)}}},"Sub")}}),Nl=Mn({subStrict_:function(e,t){var n=_n(e,"a","subStrict"),r=_n(t,"b","subStrict");return N(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),Al=Mn({equal_:function(e,t){var n,r=_n(e,"a","equal"),i=_n(t,"b","equal");return n=Le(r,i),r=n[0],i=n[1],Ni(r.shape,i.shape),He.runKernelFunc(function(e){return e.equal(r,i)},{$a:r,$b:i})}}),Il=Mn({equalStrict_:function(e,t){var n=_n(e,"a","equalStrict"),r=_n(t,"b","equalStrict");return N(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),Rl=Mn({greater_:function(e,t){var n,r=_n(e,"a","greater"),i=_n(t,"b","greater");return n=Le(r,i),r=n[0],i=n[1],Ni(r.shape,i.shape),He.runKernelFunc(function(e){return e.greater(r,i)},{a:r,b:i},null,"Greater")}}),Pl=Mn({greaterEqual_:function(e,t){var n,r=_n(e,"a","greaterEqual"),i=_n(t,"b","greaterEqual");return n=Le(r,i),r=n[0],i=n[1],Ni(r.shape,i.shape),He.runKernelFunc(function(e,t){var n=e.greaterEqual(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){return er(n)},b:function(){return er(r)}}},"GreaterEqual")}}),Ml=Mn({greaterEqualStrict_:function(e,t){var n=_n(e,"a","greaterEqualStrict"),r=_n(t,"b","greaterEqualStrict");return N(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),jl=Mn({greaterStrict_:function(e,t){var n=_n(e,"a","greaterStrict"),r=_n(t,"b","greaterStrict");return N(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),Dl=Mn({less_:function(e,t){var n,r=_n(e,"a","less"),i=_n(t,"b","less");return n=Le(r,i),r=n[0],i=n[1],Ni(r.shape,i.shape),He.runKernelFunc(function(e){return e.less(r,i)},{a:r,b:i},null,"Less")}}),Ll=Mn({lessEqual_:function(e,t){var n,r=_n(e,"a","lessEqual"),i=_n(t,"b","lessEqual");return n=Le(r,i),r=n[0],i=n[1],Ni(r.shape,i.shape),He.runKernelFunc(function(e,t){var n=e.lessEqual(r,i);return t([r,i]),n},{a:r,b:i},null,"LessEqual")}}),Fl=Mn({lessEqualStrict_:function(e,t){var n=_n(e,"a","lessEqualStrict"),r=_n(t,"b","lessEqualStrict");return N(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),zl=Mn({lessStrict_:function(e,t){var n=_n(e,"a","lessStrict"),r=_n(t,"b","lessStrict");return N(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),Bl=Mn({notEqual_:function(e,t){var n,r=_n(e,"a","notEqual"),i=_n(t,"b","notEqual");return n=Le(r,i),r=n[0],i=n[1],Ni(r.shape,i.shape),He.runKernelFunc(function(e){return e.notEqual(r,i)},{a:r,b:i},null,"NotEqual")}}),Ul=Mn({notEqualStrict_:function(e,t){var n=_n(e,"a","notEqualStrict"),r=_n(t,"b","notEqualStrict");return N(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function Wl(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function Vl(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var Hl=Mn({gather_:function(e,t,n){void 0===n&&(n=0);var r=_n(e,"x","gather"),i=_n(t,"indices","gather","int32");n=B(n,r.shape)[0];var o=function(e,t,n){for(var r=e.shape[n],i=[],o=1,a=1,s=0;s<n;s++)i.push(e.shape[s]),o*=e.shape[s];for(s=0;s<t.rank;s++)i.push(t.shape[s]);for(s=n+1;s<e.rank;s++)i.push(e.shape[s]),a*=e.shape[s];return{batchSize:o,sliceSize:a,dimSize:r,outputShape:i}}(r,i,n);return He.runKernelFunc(function(e,t){var o=e.gather(r,i.flatten(),n);return t([i]),o},{x:r,indices:i},function(e,t){var i=t[0];return{x:function(){var t=r.shape,o=i.size,a=t.slice(0,n),s=a.length,u=t.slice(n,t.length).slice(1),l=u.length,c=Wl(0,s),f=Wl(s+1,s+1+l),p=Vl([a,[o],u]),h=e.reshape(p),d=i.reshape([o]),m=Vl([[s],c,f]),g=h.transpose(m),v=Gl(g,d,r.shape[n]),y=An(m);return v.transpose(y)},indices:function(){return i}}},"Gather",{axis:n}).reshape(o.outputShape)}}),Gl=Mn({unsortedSegmentSum_:function(e,t,n){var r=_n(e,"x","unsortedSegmentSum"),i=_n(t,"segmentIds","unsortedSegmentSum","int32");return T(M(n),function(){return"numSegments must be of dtype int"}),He.runKernelFunc(function(e,t){var o=e.unsortedSegmentSum(r,i,n);return t([i]),o},{$x:r},function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=vl(t,er(t)),r=Hl(e,n),i=Pl(t,Bn(0,"int32")),o=r.rank-i.rank,a=0;a<o;++a)i=Or(i,a+1);i=rl(i,Xn(r.shape,"bool"));var s=er(r);return sl(i,r,s)}(e,n)}}})}}),ql=function(e,t,n){return u(this,void 0,void 0,function(){var r,i,o,a,s,u,c,f,p,h,d,m,g;return l(this,function(l){switch(l.label){case 0:for(r=_n(e,"tensor","boolMask"),i=_n(t,"mask","boolMask","bool"),o=null==n?0:n,a=i.rank,s=r.shape,T(a>0,function(){return"mask cannot be scalar"}),N(s.slice(o,o+a),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,c=o;c<o+a;c++)u*=s[c];return f=s.slice(0,o).concat([u],s.slice(o+a)),p=r.reshape(f),h=i.reshape([-1]),[4,ul(h)];case 1:return d=l.sent(),m=d.squeeze([1]),g=Hl(p,m,o),e!==r&&r.dispose(),t!==i&&i.dispose(),m.dispose(),p.dispose(),h.dispose(),d.dispose(),[2,g]}})})};function Kl(e,t,n,r,i,o,a){void 0===o&&(o="NHWC"),T(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var s=e,u=t,l=!1;3===t.rank&&(l=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),T(4===s.length,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),T(4===u.rank,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank}),T(4===n.rank,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var c="NHWC"===o?s[3]:s[1],f="NHWC"===o?u.shape[3]:u.shape[1];T(c===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+c+") must match input depth for filter "+n.shape[2]+"."}),T(f===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+n.shape[3]+"."}),null!=a&&T(M(i),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var p=Ui(o),h=Ri(s,n.shape,r,1,i,a,!1,p),d=He.runKernelFunc(function(e,t){var r=e.conv2dDerInput(u,n,h);return t([n,u]),r},{dy4D:u,filter:n},function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return $l(e,n,r,i,o,1,a)},filter:function(){return Ql(e,s,n.shape,r,i,o,a)}}});return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}function Xl(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],i=t[2];return 1===n&&1===r&&1===i}function Yl(e,t,n,r,i){T(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var o=e,a=t,s=!1;4===t.rank&&(s=!0,a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),o=[1,e[0],e[1],e[2],e[3]]);var u=o[4],l=a.shape[4];T(5===o.length,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+o.length+"."}),T(5===a.rank,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+a.rank}),T(5===n.rank,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),T(u===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."}),T(l===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+l+") must match output depth for filter "+n.shape[4]+"."});var c=Pi(o,n.shape,r,1,i),f=He.runKernelFunc(function(e){return e.conv3dDerInput(a,n,c)},{dy5D:a});return s?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}var Zl=Mn({conv1d_:function(e,t,n,r,i,o,a){void 0===i&&(i="NWC"),void 0===o&&(o=1);var s=_n(e,"x","conv1d"),u=_n(t,"filter","conv1d"),l=s,c=!1;2===s.rank&&(c=!0,l=s.as3D(1,s.shape[0],s.shape[1])),T(3===l.rank,function(){return"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."}),T(3===u.rank,function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."}),null!=a&&T(M(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}),T(l.shape[2]===u.shape[1],function(){return"Error in conv1d: depth of input ("+l.shape[2]+") must match input depth for filter "+u.shape[1]+"."}),T(Bi(n,o),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+o+"'"}),T("NWC"===i,function(){return"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported."});var f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),p=l.as4D(l.shape[0],1,l.shape[1],l.shape[2]),h=$l(p,f,[1,n],r,"NHWC",[1,o],a);return c?h.as2D(h.shape[2],h.shape[3]):h.as3D(h.shape[0],h.shape[2],h.shape[3])}}),$l=Mn({conv2d_:function(e,t,n,r,i,o,a){void 0===i&&(i="NHWC"),void 0===o&&(o=[1,1]);var s=_n(e,"x","conv2d"),u=_n(t,"filter","conv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),T(4===l.rank,function(){return"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."}),T(4===u.rank,function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."}),null!=a&&T(M(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var f="NHWC"===i?l.shape[3]:l.shape[1];T(f===u.shape[2],function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+u.shape[2]+"."}),T(Bi(n,o),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"});var p=Ui(i),h=Ri(l.shape,u.shape,n,o,r,a,!1,p),d=[u,l],m=He.runKernelFunc(function(e,t){var n=e.conv2d(l,u,h);return t([u,l]),n},{x:l,filter:u},function(e,t){var a=t,s=a[0],u=a[1];return T(zi(o),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"}),{x:function(){return ec(u.shape,e,s,n,r,i)},filter:function(){return Ql(u,e,s.shape,n,r,i)}}},"Conv2D",h,d);return c?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),Jl=Mn({conv3d_:function(e,t,n,r,i,o){void 0===i&&(i="NDHWC"),void 0===o&&(o=[1,1,1]);var a=_n(e,"x","conv3d"),s=_n(t,"filter","conv3d"),u=a,l=!1;4===a.rank&&(l=!0,u=a.as5D(1,a.shape[0],a.shape[1],a.shape[2],a.shape[3])),T(5===u.rank,function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."}),T(5===s.rank,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),T(u.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),T(function(e,t){return Xl(e)||Xl(t)}(n,o),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),T("NDHWC"===i,function(){return"Error in conv3d: got dataFormat of "+i+" but only NDHWC is currently supported."});var c=Pi(u.shape,s.shape,n,o,r),f=He.runKernelFunc(function(e,t){var n=e.conv3d(u,s,c);return t([u,s]),n},{x:u,$filter:s},function(e,t){T(Xl(o),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"});var i=t[0],a=t[1];return{x:function(){return Yl(i.shape,e,a,n,r)},$filter:function(){return function(e,t,n,r,i){var o=e;4===e.rank&&(o=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var a=t;4===a.rank&&(a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),T(5===o.rank,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+o.shape+"."}),T(5===a.rank,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+a.shape+"."}),T(5===n.length,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."}),T(o.shape[4]===n[3],function(){return"Error in conv3dDerFilter: depth of input "+o.shape[4]+") must match input depth in filter ("+n[3]+"."}),T(a.shape[4]===n[4],function(){return"Error in conv3dDerFilter: depth of dy ("+a.shape[4]+") must match output depth for filter ("+n[4]+")."});var s=Pi(o.shape,n,r,1,i);return He.runKernelFunc(function(e){return e.conv3dDerFilter(o,a,s)},{x5D:o,dy5D:a})}(i,e,a.shape,n,r)}}});return l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Ql=Mn({conv2dDerFilter_:function(e,t,n,r,i,o,a){void 0===o&&(o="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=t;3===u.rank&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),T(4===s.rank,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),T(4===u.rank,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."}),T(4===n.length,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var l="NHWC"===o?s.shape[3]:s.shape[1],c="NHWC"===o?u.shape[3]:u.shape[1];T(l===n[2],function(){return"Error in conv2dDerFilter: depth of input "+l+") must match input depth in filter ("+n[2]+"."}),T(c===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must match output depth for filter ("+n[3]+")."}),null!=a&&T(M(i),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var f=Ui(o),p=Ri(s.shape,n,r,1,i,a,!1,f);return He.runKernelFunc(function(e){return e.conv2dDerFilter(s,u,p)},{x4D:s,dy4D:u})}}),ec=Mn({conv2dDerInput_:Kl}),tc=Mn({depthwiseConv2d_:function(e,t,n,r,i,o,a){void 0===i&&(i="NHWC"),void 0===o&&(o=[1,1]);var s=_n(e,"x","depthwiseConv2d"),u=_n(t,"filter","depthwiseConv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),T(4===l.rank,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+l.rank+"."}),T(4===u.rank,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."}),T(l.shape[3]===u.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+l.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."}),null==o&&(o=[1,1]),T(Bi(n,o),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),null!=a&&T(M(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var f=Ri(l.shape,u.shape,n,o,r,a,!0),p=[l,u],h=He.runKernelFunc(function(e,t){var n=e.depthwiseConv2D(l,u,f);return t([l,u]),n},{x:l,filter:u},function(e,t){T(zi(o),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+o+"'"});var n=t[0],r=t[1];return{x:function(){return nc(n.shape,e,r,f)},filter:function(){return rc(n,e,r.shape,f)}}},"DepthwiseConv2dNative",f,p);return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),nc=Mn({depthwiseConv2dDerInput_:function(e,t,n,r){var i=t,o=!1;3===t.rank&&(o=!0,i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=He.runKernelFunc(function(e){return e.depthwiseConv2DDerInput(i,n,r)},{dy4D:i});return o?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}}),rc=Mn({depthwiseConv2dDerFilter_:function(e,t,n,r){var i=e;3===e.rank&&(i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var o=t;return 3===o.rank&&(o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),He.runKernelFunc(function(e){return e.depthwiseConv2DDerFilter(i,o,r)},{x4D:i,dy4D:o})}}),ic=Mn({separableConv2d_:function(e,t,n,r,i,o,a){void 0===o&&(o=[1,1]),void 0===a&&(a="NHWC");var s=_n(e,"x","separableConv2d"),u=_n(t,"depthwiseFilter","separableConv2d"),l=_n(n,"pointwiseFilter","separableConv2d"),c=s,f=!1;if(3===s.rank&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");T(4===c.rank,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."}),T(4===u.rank,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."}),T(4===l.rank,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."}),T(1===l.shape[0],function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+l.shape[0]+"."}),T(1===l.shape[1],function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+l.shape[1]+"."});var p=u.shape[2],h=u.shape[3];T(l.shape[2]===p*h,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+p*h+", but got "+l.shape[2]+"."});var d=tc(c,u,r,i,a,o),m=$l(d,l,1,"valid",a);return f?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),oc=Mn({conv2dTranspose_:function(e,t,n,r,i,o){return Kl(n,_n(e,"x","conv2dTranspose"),_n(t,"filter","conv2dTranspose"),r,i,"NHWC",o)}}),ac=Mn({conv3dTranspose_:function(e,t,n,r,i){return Yl(n,_n(e,"x","conv3dTranspose"),_n(t,"filter","conv3dTranspose"),r,i)}}),sc=Mn({matMul_:function(e,t,n,r){var i;void 0===n&&(n=!1),void 0===r&&(r=!1);var o=_n(e,"a","matMul"),a=_n(t,"b","matMul");i=Le(o,a),o=i[0],a=i[1];var s=n?o.shape[o.rank-2]:o.shape[o.rank-1],u=r?a.shape[a.rank-1]:a.shape[a.rank-2],l=n?o.shape[o.rank-1]:o.shape[o.rank-2],c=r?a.shape[a.rank-2]:a.shape[a.rank-1],f=o.shape.slice(0,-2),p=a.shape.slice(0,-2),h=R(f),d=R(p);T(o.rank>=2&&a.rank>=2&&o.rank===a.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+o.rank+" and "+a.rank+"."}),T(P(f,p),function(){return"Error in matMul: outer dimensions ("+f+") and ("+p+") of Tensors with shapes "+o.shape+" and "+a.shape+" must match."}),T(s===u,function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+o.shape+" and "+a.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var m=o.shape.slice(0,-2).concat([l,c]),g=n?o.as3D(h,s,l):o.as3D(h,l,s),v=r?a.as3D(d,c,u):a.as3D(d,u,c),y={transposeA:n,transposeB:r};return He.runKernelFunc(function(e,t){var i=e.batchMatMul(g,v,n,r);return t([g,v]),i},{a:g,b:v},function(e,t){var i=t,o=i[0],a=i[1];return n||r?!n&&r?{a:function(){return e.matMul(a,!1,!1)},b:function(){return e.matMul(o,!0,!1)}}:n&&!r?{a:function(){return a.matMul(e,!1,!0)},b:function(){return o.matMul(e,!1,!1)}}:{a:function(){return a.matMul(e,!0,!0)},b:function(){return e.matMul(o,!0,!0)}}:{a:function(){return e.matMul(a,!1,!0)},b:function(){return o.matMul(e,!0,!1)}}},"BatchMatMul",y).reshape(m)}}),uc=Mn({dot_:function(e,t){var n=_n(e,"t1","dot"),r=_n(t,"t2","dot");T(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var i=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];return T(i===o,function(){return"Error in dot: inner dimensions of inputs must match, but got "+i+" and "+o+"."}),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),lc=Mn({outerProduct_:function(e,t){var n=_n(e,"v1","outerProduct"),r=_n(t,"v2","outerProduct");return T(1===n.rank&&1===r.rank,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),cc=Mn({reverse_:function(e,t){var n=_n(e,"x","reverse");if(0===n.rank)return n.clone();var r=B(t,n.shape);return He.runKernelFunc(function(e){return e.reverse(n,r)},{$x:n},function(e){return{$x:function(){return e.reverse(r)}}}).reshapeAs(n)}}),fc=Mn({reverse1d_:function(e){var t=_n(e,"x","reverse");return T(1===t.rank,function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."}),cc(t,0)}}),pc=Mn({reverse2d_:function(e,t){var n=_n(e,"x","reverse");return T(2===n.rank,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),cc(n,t)}}),hc=Mn({reverse3d_:function(e,t){var n=_n(e,"x","reverse");return T(3===n.rank,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),cc(n,t)}}),dc=Mn({reverse4d_:function(e,t){var n=_n(e,"x","reverse");return T(4===n.rank,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),cc(n,t)}});function mc(e,t,n,r,i,o){var a=_n(e,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),null==r&&(r=[1,1]),T(4===s.rank,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),T(Bi(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),null!=o&&T(M(i),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var l=Ai(s.shape,t,n,r,i,o);if(1===l.filterWidth&&1===l.filterHeight&&P(l.inShape,l.outShape))return a.clone();var c=[s],f=He.runKernelFunc(function(e,t){var n=e.maxPool(s,l);return t([s,n]),n},{x:s},function(e,o){var a=o[0],s=o[1];return{x:function(){return function(e,t,n,r,i,o,a,s){var u=_n(e,"dy","maxPoolBackprop"),l=_n(t,"input","maxPoolBackprop"),c=_n(n,"output","maxPoolBackprop");T(l.rank===u.rank,function(){return"Rank of input ("+l.rank+") does not match rank of dy ("+u.rank+")"}),null==o&&(o=[1,1]),T(Bi(i,o),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'"}),T(4===u.rank,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."}),T(4===l.rank,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+l.rank+"."});var f=Ai(l.shape,r,i,o,a,s);return He.runKernelFunc(function(e){return e.maxPoolBackprop(u,l,c,f)},{$dy:u,$input:l})}(e,a,s,t,n,r,i)}}},"MaxPool",l,c);return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function gc(e,t,n,r,i,o){var a=_n(e,"x","avgPool","float32");null==r&&(r=[1,1]),T(Bi(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),T(4===s.rank,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),null!=o&&T(M(i),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var l=Ai(s.shape,t,n,r,i,o);if(1===l.filterWidth&&1===l.filterHeight&&P(l.inShape,l.outShape))return a.clone();var c=He.runKernelFunc(function(e){return e.avgPool(s,l)},{x:s},function(e){return{x:function(){return function(e,t,n,r,i,o){var a=_n(e,"dy","avgPoolBackprop"),s=_n(t,"input","avgPoolBackprop");T(s.rank===a.rank,function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+a.rank+")"}),null==i&&(i=[1,1]),T(Bi(r,i),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"});var u=s,l=a,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),l=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),T(4===l.rank,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+l.rank+"."}),T(4===u.rank,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+"."});var f=Ai(u.shape,n,r,i,o),p=He.runKernelFunc(function(e){return e.avgPoolBackprop(l,u,f)},{dy4D:l,input4D:u});return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}(e,s,t,n,r,i)}}},"AvgPool",l);return c=c.cast(a.dtype),u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var vc=Mn({maxPool_:function(e,t,n,r,i){return mc(e,t,n,1,r,i)}}),yc=Mn({avgPool_:function(e,t,n,r,i){return gc(e,t,n,1,r,i)}}),bc=Mn({pool_:function(e,t,n,r,i,o){null==i&&(i=[1,1]),null==o&&(o=1),0===r&&(r="valid");var a=_n(e,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),T(Bi(o,i),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"});var l,c=Ai(s.shape,t,o,i,r),f=[c.dilationHeight,c.dilationWidth];l="same"===r?function(e,t){var n=e.map(function(e,n){return e+(e-1)*(t[n]-1)}).map(function(e){return e-1}),r=n.map(function(e){return Math.floor(e/2)}),i=n.map(function(e,t){return e-r[t]});return n.map(function(e,t){return[r[t],i[t]]})}([c.filterHeight,c.filterWidth],f):[[0,0],[0,0]];var p=1===f[0]&&1===f[1],h=function(e,t,n){var r=n.map(function(e){return e[0]}),i=n.map(function(e){return e[1]}),o=e.concat(r,i),a=t.map(function(e,t){return(e-o[t]%e)%e}),s=i.map(function(e,t){return e+a[t]}),u,l;return[t.map(function(e,t){return[r[t],s[t]]}),t.map(function(e,t){return[0,a[t]]})]}([c.inHeight,c.inWidth],f,l),d=h[0],m=h[1],g=p?r:"valid",v=p?s:Ur(s,f,d),y=("avg"===n?function(){return gc(v,t,o,1,g)}:function(){return mc(v,t,o,1,g)})(),b=p?y:xr(y,f,m);return u?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),wc=Mn({maxPool3d_:function(e,t,n,r,i,o,a){void 0===o&&(o="NDHWC");var s=_n(e,"x","maxPool3d"),u=s,l=!1;4===s.rank&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),T(5===u.rank,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."}),T("NDHWC"===o,function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+o}),T(Bi(n,a),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),null!=i&&T(M(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var c=Ii(u.shape,t,n,a,r,i,o),f=He.runKernelFunc(function(e,t){var n=e.maxPool3d(u,c);return t([u,n]),n},{x:u},function(e,o){var s=o[0],u=o[1];return{x:function(){return function(e,t,n,r,i,o,a,s){var u=_n(e,"dy","maxPool3dBackprop"),l=_n(t,"input","maxPool3dBackprop"),c=_n(n,"output","maxPool3dBackprop"),f=u,p=l,h=c,d=!1;4===l.rank&&(d=!0,f=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),p=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]),h=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3])),T(5===f.rank,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+f.rank+"."}),T(5===p.rank,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+p.rank+"."}),T(5===h.rank,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+h.rank+"."}),null==o&&(o=[1,1,1]),T(Bi(i,o),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'"}),null!=s&&T(M(a),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+"."});var m=Ii(p.shape,r,i,o,a,s),g=He.runKernelFunc(function(e){return e.maxPool3dBackprop(f,p,h,m)},{dy5D:f,input5D:p});return d?g.as4D(g.shape[1],g.shape[2],g.shape[3],g.shape[4]):g}(e,s,u,t,n,a,r,i)}}});return l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),xc=Mn({avgPool3d_:function(e,t,n,r,i,o,a){void 0===o&&(o="NDHWC");var s=_n(e,"x","avgPool3d","float32"),u=s,l=!1;4===s.rank&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),T(5===u.rank,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."}),T("NDHWC"===o,function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+o}),T(Bi(n,a),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),null!=i&&T(M(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var c=Ii(u.shape,t,n,a,r,i,o),f=He.runKernelFunc(function(e){return e.avgPool3d(u,c)},{x:u},function(e){return{x:function(){return function(e,t,n,r,i,o,a){var s=_n(e,"dy","avgPool3dBackprop"),u=_n(t,"input","avgPool3dBackprop"),l=s,c=u,f=!1;4===u.rank&&(f=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),c=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),T(5===l.rank,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+l.rank+"."}),T(5===c.rank,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+c.rank+"."}),null==i&&(i=[1,1,1]),T(Bi(r,i),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"}),null!=a&&T(M(o),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."});var p=Ii(c.shape,n,r,i,o,a),h=He.runKernelFunc(function(e){return e.avgPool3dBackprop(l,c,p)},{dy5D:l,input5D:c});return f?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}(e,u,t,n,a,r,i)}}});return f=f.cast(u.dtype),l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),_c=Mn({slice_:function(e,t,n){var r,i,o=_n(e,"x","slice");if(0===o.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(o.rank-1).fill(0)):t.length<o.rank?t.concat(new Array(o.rank-t.length).fill(0)):t.slice()).forEach(function(e){T(-1!==e,function(){return"slice() does not support negative begin indexing."})}),i=(i=null==n?new Array(o.rank).fill(-1):"number"==typeof n?[n].concat(new Array(o.rank-1).fill(-1)):n.length<o.rank?n.concat(new Array(o.rank-n.length).fill(-1)):n).map(function(e,t){return e>=0?e:(T(-1===e,function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."}),o.shape[t]-r[t])}),si(o,r,i);var a=o.shape,s={begin:r,size:i};return He.runKernelFunc(function(e){return e.slice(o,r,i)},{x:o},function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],a[n]-r[n]-i[n]]);return{x:function(){return e.pad(t)}}},"Slice",s)}}),Cc=Mn({slice1d_:function(e,t,n){var r=_n(e,"x","slice1d");return T(1===r.rank,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),_c(r,[t],[n])}}),Ec=Mn({slice2d_:function(e,t,n){var r=_n(e,"x","slice2d");return T(2===r.rank,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),_c(r,t,n)}}),Sc=Mn({slice3d_:function(e,t,n){var r=_n(e,"x","slice3d");return T(3===r.rank,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),_c(r,t,n)}}),kc=Mn({slice4d_:function(e,t,n){var r=_n(e,"x","slice4d");return T(4===r.rank,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),_c(r,t,n)}});function Oc(e,t,n,r,i){return t.rank<n.rank&&(t=t.reshape(On(t.shape,r))),e.rank<n.rank&&(e=e.reshape(On(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==i?r:r.transpose(i)}}}var Tc=Mn({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=_n(e,"x","all","bool"),i=B(t,r.shape),o=i,a=Nn(o,r.rank);null!=a&&(r=r.transpose(a),o=In(o.length,r.rank));var s=He.runKernelFunc(function(e){return e.all(r,o)},{$x:r});if(n){var u=On(s.shape,i);return s.reshape(u)}return s}}),Nc=Mn({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=_n(e,"x","any","bool"),i=B(t,r.shape),o=i,a=Nn(o,r.rank);null!=a&&(r=r.transpose(a),o=In(o.length,r.rank));var s=He.runKernelFunc(function(e){return e.any(r,o)},{$x:r});if(n){var u=On(s.shape,i);return s.reshape(u)}return s}}),Ac=Mn({argMax_:function(e,t){void 0===t&&(t=0);var n=_n(e,"x","argMax");null==t&&(t=0);var r=B(t,n.shape),i=Nn(r,n.rank);null!=i&&(n=n.transpose(i),r=In(r.length,n.rank));var o={axis:r[0]},a=[n];return He.runKernelFunc(function(e,t){var i=e.argMax(n,r[0]);return t([n]),i},{x:n},function(e,t){var n=t[0];return{x:function(){return er(n)}}},"ArgMax",o,a)}}),Ic=Mn({argMin_:function(e,t){void 0===t&&(t=0);var n=_n(e,"x","argMin");null==t&&(t=0);var r=B(t,n.shape),i=Nn(r,n.rank);return null!=i&&(n=n.transpose(i),r=In(r.length,n.rank)),He.runKernelFunc(function(e,t){var i=e.argMin(n,r[0]);return t([n]),i},{$x:n},function(e,t){var n=t[0];return{$x:function(){return er(n)}}})}}),Rc=Mn({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=_n(e,"x","logSumExp"),i=B(t,r.shape),o=r.max(i,!0),a=r.sub(o).exp().sum(i).log(),s=o.reshape(a.shape).add(a);if(n){var u=On(s.shape,i);return s.reshape(u)}return s}}),Pc=Mn({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=_n(e,"x","max"),i=r,o=B(t,r.shape),a=o,s=Nn(a,r.rank);null!=s&&(r=r.transpose(s),a=In(a.length,r.rank));var u=[r],l=He.runKernelFunc(function(e,t){var n=e.max(r,a);return t([i,n]),n},{x:r},function(e,t){return Oc(e,t[1],t[0],o,s)},"Max",{axes:a},u,[!0]);if(n){var c=On(l.shape,o);l=l.reshape(c)}return l}}),Mc=Mn({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=_n(e,"x","mean"),i=B(t,r.shape),o=R(kn(r.shape,i)[1]);return wi(function(e){var r=Bn(o);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return i.forEach(function(e){n[e]=1}),t.reshape(n).mul(Xn(e.shape,"float32")).div(o)}}})(r)}}),jc=Mn({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=_n(e,"x","min"),i=r,o=B(t,r.shape),a=o,s=Nn(a,r.rank);null!=s&&(r=r.transpose(s),a=In(a.length,r.rank));var u=[r],l=He.runKernelFunc(function(e,t){var n=e.min(r,a);return t([i,n]),n},{x:r},function(e,t){return Oc(e,t[1],t[0],o,s)},"Min",{axes:a},u,[!0]);if(n){var c=On(l.shape,o);l=l.reshape(c)}return l}}),Dc=Mn({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=B(t,(e=_n(e,"x","moments")).shape),i=e.mean(r,n),o=i.shape,a;return n||(o=On(i.shape,r)),{mean:i,variance:e.toFloat().sub(i.reshape(o)).square().mean(r,n)}}}),Lc=Mn({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=_n(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var i=B(t,r.shape);return wi(function(e){var t=Nn(i,e.rank),r=i,o=e;null!=t&&(o=e.transpose(t),r=In(r.length,e.rank));var a=function(t){var n=e.shape.slice();return i.forEach(function(e){n[e]=1}),t.reshape(n).mul(Xn(e.shape,"float32"))},s={axes:r},u=He.runKernelFunc(function(e){return e.sum(o,r)},{x:o},function(e){return{x:function(){return a(e)}}},"Sum",s);if(n){var l=On(u.shape,i);u=u.reshape(l)}return{value:u,gradFunc:a}})(r)}}),Fc=Mn({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=_n(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var i=B(t,r.shape),o=Nn(i,r.rank),a=i,s=r;null!=o&&(s=r.transpose(o),a=In(a.length,r.rank));var u=He.runKernelFunc(function(e){return e.prod(s,a)},{permutedX:s});if(n){var l=On(u.shape,i);u=u.reshape(l)}return u}}),zc=Mn({elu_:function(e){var t=_n(e,"x","elu");return He.runKernelFunc(function(e,n){var r=e.elu(t);return n([r]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return He.runKernelFunc(function(t){return t.eluDer(e,n)},{dy:e,y:n})}}})}}),Bc=Mn({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=_n(e,"x","leakyRelu");return vl(Bn(t).mul(n),n)}}),Uc=Mn({prelu_:function(e,t){var n=_n(e,"x","prelu"),r=_n(t,"alpha","prelu");return He.runKernelFunc(function(e,t){var i=e.prelu(n,r);return t([n,r]),i},{x:n,alpha:r},function(e,t){var n=t[0],r=t[1],i=n.greater(0);return{x:function(){return sl(i,e,e.mul(r))},alpha:function(){var t=sl(i,er(e),e.mul(n)),o=Ti(r.shape,e.shape);return o.length>0&&(t=t.sum(o)),t.reshape(r.shape)}}},"Prelu")}}),Wc=Mn({relu_:function(e){var t=_n(e,"x","relu");return"bool"===t.dtype?t.toInt():He.runKernelFunc(function(e,n){var r=e.relu(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}},"Relu")}}),Vc=Mn({relu6_:function(e){var t=_n(e,"x","relu6");return"bool"===t.dtype?t.toInt():He.runKernelFunc(function(e,n){var r=e.relu6(t);return n([t]),r},{x:t},function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}},"Relu6")}}),Hc=Mn({selu_:function(e){var t=_n(e,"x","selu");return He.runKernelFunc(function(e,n){var r=e.selu(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){var t=n.greater(Bn(0)),r=Bn(ks),i=Bn(Os),o=e.mul(i),a=e.mul(r).mul(n.toFloat().exp());return sl(t,o,a)}}})}}),Gc=Mn({transpose_:function(e,t){var n=_n(e,"x","transpose");if(null==t&&(t=n.shape.map(function(e,t){return t}).reverse()),T(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."}),t.forEach(function(e){T(e>=0&&e<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t})}),n.rank<=1)return n.clone();var r={perm:t};return He.runKernelFunc(function(e){return e.transpose(n,t)},{x:n},function(e){var n=An(t);return{x:function(){return e.transpose(n)}}},"Transpose",r)}}),qc=Mn({localResponseNormalization_:function(e,t,n,r,i){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=.5);var o=_n(e,"x","localResponseNormalization");T(4===o.rank||3===o.rank,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+o.rank+"."}),T(M(t),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."});var a=o,s=!1;3===o.rank&&(s=!0,a=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));var u=He.runKernelFunc(function(e,o){var s=e.localResponseNormalization4D(a,t,n,r,i);return o([a,s]),s},{x4D:a},function(e,o){var a=o[0],s=o[1];return{x4D:function(){return He.runKernelFunc(function(o){return o.LRNGrad(e,a,s,t,n,r,i)},{})}}});return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Kc=Mn({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var i=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(Bn(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=_n(e,"x","norm"),t,n),o=i.shape;if(r){var a=B(n,e.shape);o=On(i.shape,a)}return i.reshape(o)}}),Xc=Mn({basicLSTMCell_:function(e,t,n,r,i,o){var a=_n(e,"forgetBias","basicLSTMCell"),s=_n(t,"lstmKernel","basicLSTMCell"),u=_n(n,"lstmBias","basicLSTMCell"),l=_n(r,"data","basicLSTMCell"),c=_n(i,"c","basicLSTMCell"),f=_n(o,"h","basicLSTMCell"),p=l.concat(f,1).matMul(s).add(u),h=p.shape[0],d=p.shape[1]/4,m=[h,d],g=p.slice([0,0],m),v=p.slice([0,d],m),y=p.slice([0,2*d],m),b=p.slice([0,3*d],m),w=g.sigmoid().mulStrict(v.tanh()).addStrict(c.mulStrict(a.add(y).sigmoid())),x;return[w,w.tanh().mulStrict(b.sigmoid())]}}),Yc=Mn({multiRNNCell_:function(e,t,n,r){for(var i=_n(t,"data","multiRNNCell"),o=Cn(n,"c","multiRNNCell"),a=Cn(r,"h","multiRNNCell"),s=i,u=[],l=0;l<e.length;l++){var c=e[l](s,o[l],a[l]);u.push(c[0]),u.push(c[1]),s=c[1]}var f=[],p=[];for(l=0;l<u.length;l+=2)f.push(u[l]),p.push(u[l+1]);return[f,p]}}),Zc=Mn({movingAverage_:function(e,t,n,r,i){void 0===i&&(i=!0);var o=_n(e,"v","movingAverage"),a=_n(t,"x","movingAverage"),s=_n(n,"decay","movingAverage");Fe(o,a),T(P(o.shape,a.shape),function(){return"Shape mismatch in v and x"});var u=Bn(1),l=u.sub(s),c=a.sub(o).mul(l);if(i){T(null!=r,function(){return"When using zeroDebias: true, step is required."});var f=_n(r,"step","movingAverage");c=c.div(u.sub(Sl(s,f)))}return o.add(c)}}),$c=Mn({stridedSlice_:function(e,t,n,r,i,o,a,s,u){if(void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),null==r&&(r=new Array(t.length)),0!==a)throw new Error("ellipsis mask is not yet supported");var l=_n(e,"x","stridedSlice"),c=ui(s),f=l.shape.slice();c.forEach(function(e){t[e]=0,n[e]=1,f.splice(e,0,1)}),l=l.reshape(f);for(var p=0;p<l.rank;p++)t[p]=ci(i,t,r,l.shape,p),n[p]=fi(o,n,r,l.shape,p),r[p]=r[p]||1;var h=ui(u);h.forEach(function(e){n[e]=t[e]+1,r[e]=1});var d=li(t,n,r),m=d.filter(function(e,t){return-1===h.indexOf(t)});return r.every(function(e){return 1===e})?_c(l,t,d).reshape(m):He.runKernelFunc(function(e){return e.stridedSlice(l,t,n,r)},{$x:l}).reshape(m)}}),Jc=Mn({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=_n(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(t>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+t);var o=He.runKernelFunc(function(e){return e.topk(r,t,n)},{$x:r});return{values:o[0],indices:o[1]}}}),Qc=Mn({scatterND_:function(e,t,n){var r=_n(e,"indices","scatterND","int32"),i=_n(t,"updates","scatterND");return ii(i,r,n),He.runKernelFunc(function(e){return e.scatterND(r,i,n)},{indices:r,updates:i},null,"ScatterNd",{shape:n})}}),ef=Mn({fft_:function(e){T("complex64"===e.dtype,function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return He.runKernelFunc(function(e){return e.fft(r)},{input:e}).reshape(e.shape)}}),tf=Mn({ifft_:function(e){T("complex64"===e.dtype,function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return He.runKernelFunc(function(e){return e.ifft(r)},{input:e}).reshape(e.shape)}}),nf=Mn({rfft_:function(e,t){T("float32"===e.dtype,function(){return"The dtype for rfft() must be real value but got "+e.dtype});var n,r=e.shape[e.shape.length-1],i=e.size/r;if(null!=t&&t<r){var o=e.shape.map(function(e){return 0}),a=e.shape.map(function(e){return e});a[e.shape.length-1]=t,n=e.slice(o,a),r=t}else if(null!=t&&t>r){var s=e.shape.map(function(e){return e});s[e.shape.length-1]=t-r,n=e.concat(Yn(s),e.shape.length-1),r=t}else n=e;var u=n.zerosLike(),l=jn(n,u).as2D(i,r),c=ef(l),f=Math.floor(r/2)+1,p=Dn(c),h=Ln(c),d=p.split([f,r-f],p.shape.length-1),m=h.split([f,r-f],h.shape.length-1),g=n.shape.slice();return g[n.shape.length-1]=f,jn(d[0],m[0]).reshape(g)}}),rf=Mn({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),i=tf(r);return Dn(i)}var o=[n,2*(t-1)],a=Dn(e).as2D(n,t),s=Ln(e).as2D(n,t),u=a.slice([0,1],[n,t-2]).reverse(1),l=s.slice([0,1],[n,t-2]).reverse(1).mul(Bn(-1)),c=a.concat(u,1),f=s.concat(l,1);return r=jn(c,f).as2D(o[0],o[1]),i=tf(r),Dn(i)}}),of=Object.freeze({fft:ef,ifft:tf,rfft:nf,irfft:rf}),af=Mn({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var i=_n(e,"sparseIndices","sparseToDense","int32"),o=_n(t,"sparseValues","sparseToDense"),a=_n(r,"defaultValue","sparseToDense",o.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var i=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+o+".");var a=t.size;if(0!==t.rank&&(1!==t.rank||a!==i))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+i+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,o,n,a),He.runKernelFunc(function(e){return e.sparseToDense(i,o,n,a)},{$sparseIndices:i,$sparseValues:o,$defaultValue:a})}}),sf=Mn({gatherND_:function(e,t){var n=_n(t,"indices","gatherND","int32"),r=_n(e,"x","gatherND");return He.runKernelFunc(function(e){return e.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),uf=Mn({diag_:function(e){var t=_n(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return He.runKernelFunc(function(e){return e.diag(t)},{$x:t}).reshape(n)}}),lf=Mn({dropout_:function(e,t,n,r){var i=_n(e,"x","dropout");if(T("float32"===i.dtype,function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+i.dtype+" tensor instead."}),T(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got "+t+"."}),0===t)return e instanceof Oe?i.clone():i;var o=function(e,t){if(null==t)return e.shape.slice();if(P(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),a=1-t,s=zr(o,0,1,"float32",r).add(a).floor().div(a);return i.mul(s)}});function cf(e,t,n){for(var r=1-e%2,i=new Float32Array(e),o=0;o<e;++o){var a=2*Math.PI*o/(e+r-1);i[o]=t-n*Math.cos(a)}return Un(i,"float32")}var ff=Mn({hannWindow_:function(e){return cf(e,.5,.5)}}),pf=Mn({hammingWindow_:function(e){return cf(e,.54,.46)}}),hf=Mn({frame_:function(e,t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=0);for(var o=0,a=[];o+t<=e.size;)a.push(_c(e,o,t)),o+=n;if(r)for(;o<e.size;){var s=o+t-e.size,u=tr([_c(e,o,t-s),Zn([s],i)]);a.push(u),o+=n}return 0===a.length?Wn([],[0,t]):tr(a).as2D(a.length,t)}}),df=Mn({stft_:function(e,t,n,r,i){var o;void 0===i&&(i=ff),null==r&&(o=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(o)/Math.log(2)))));for(var a=hf(e,t,n),s=Cl(a,i(t)),u=[],l=0;l<a.shape[0];l++)u.push(nf(s.slice([l,0],[1,t]),r));return tr(u)}}),mf=Object.freeze({hannWindow:ff,hammingWindow:pf,frame:hf,stft:df}),gf,vf=function(e,t,n){return void 0===n&&(n=1),u(this,void 0,void 0,function(){var r,i,o,a,s,u,c,f,p,h,d,m,g,v;return l(this,function(l){switch(l.label){case 0:return r=_n(e,"predictions","inTopK"),i=_n(t,"targets","inTopK"),T(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),T(r.rank-1===i.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+i.rank}),N(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=r.shape[r.shape.length-1],T(n>0&&n<=o,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+o+"), but got "+n}),[4,r.data()];case 1:return a=l.sent(),[4,i.data()];case 2:for(s=l.sent(),u=[a.length/o,o],f=u[1],p=W("bool",c=u[0]),h=0;h<c;h++){for(d=h*f,m=a.subarray(d,d+f),g=[],v=0;v<m.length;v++)g.push({value:m[v],index:v});for(g.sort(function(e,t){return t.value-e.value}),p[h]=0,v=0;v<n;v++)if(g[v].index===s[h]){p[h]=1;break}}return e!==r&&r.dispose(),t!==i&&i.dispose(),[2,Fn(p,i.shape,"bool")]}})})};!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(gf||(gf={}));var yf=Mn({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=gf.SUM_BY_NONZERO_WEIGHTS);var i=_n(e,"labels","absoluteDifference"),o=_n(t,"predictions","absoluteDifference"),a=null;null!=n&&(a=_n(n,"weights","absoluteDifference")),N(i.shape,o.shape,"Error in absoluteDifference: ");var s=i.sub(o).abs();return bf(s,a,r)}}),bf=Mn({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=gf.SUM_BY_NONZERO_WEIGHTS);var r=_n(e,"losses","computeWeightedLoss"),i=null;null!=t&&(i=_n(t,"weights","computeWeightedLoss"));var o=null==i?r:r.mul(i);if(n===gf.NONE)return o;if(n===gf.SUM)return o.sum();if(n===gf.MEAN){if(null==i)return o.mean();var a=r.size/i.size,s=o.sum().div(i.sum());return a>1?s.div(Bn(a)):s}if(n===gf.SUM_BY_NONZERO_WEIGHTS){if(null==i)return o.sum().div(Bn(r.size));var u=i.mul(Xn(r.shape)).notEqual(Bn(0)).sum().toFloat();return o.sum().div(u)}throw Error("Unknown reduction: "+n)}}),wf=Mn({cosineDistance_:function(e,t,n,r,i){void 0===i&&(i=gf.SUM_BY_NONZERO_WEIGHTS);var o=_n(e,"labels","cosineDistance"),a=_n(t,"predictions","cosineDistance"),s=null;null!=r&&(s=_n(r,"weights","cosineDistance")),N(o.shape,a.shape,"Error in cosineDistance: ");var u=Bn(1).sub(o.mul(a).sum(n,!0));return bf(u,s,i)}}),xf=Mn({hingeLoss_:function(e,t,n,r){void 0===r&&(r=gf.SUM_BY_NONZERO_WEIGHTS);var i=_n(e,"labels","hingeLoss"),o=_n(t,"predictions","hingeLoss"),a=null;null!=n&&(a=_n(n,"weights","hingeLoss")),N(i.shape,o.shape,"Error in hingeLoss: ");var s=Bn(1);i=Bn(2).mul(i).sub(s);var u=s.sub(i.mul(o)).relu();return bf(u,a,r)}}),_f=Mn({huberLoss_:function(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i=gf.SUM_BY_NONZERO_WEIGHTS);var o=_n(e,"labels","huberLoss"),a=_n(t,"predictions","huberLoss"),s=null;null!=n&&(s=_n(n,"weights","huberLoss")),N(o.shape,a.shape,"Error in huberLoss: ");var u=Bn(r),l=a.sub(o).abs(),c=bl(l,u),f=l.sub(c),p=Bn(.5).mul(c.square()).add(u.mul(f));return bf(p,s,i)}}),Cf=Mn({logLoss_:function(e,t,n,r,i){void 0===r&&(r=1e-7),void 0===i&&(i=gf.SUM_BY_NONZERO_WEIGHTS);var o=_n(e,"labels","logLoss"),a=_n(t,"predictions","logLoss"),s=null;null!=n&&(s=_n(n,"weights","logLoss")),N(o.shape,a.shape,"Error in logLoss: ");var u=Bn(1),l=Bn(r),c=o.mul(a.add(l).log()).neg().sub(u.sub(o).mul(u.sub(a).add(l).log()));return bf(c,s,i)}}),Ef=Mn({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=gf.SUM_BY_NONZERO_WEIGHTS);var i=_n(e,"labels","meanSquaredError"),o=_n(t,"predictions","meanSquaredError"),a=null;null!=n&&(a=_n(n,"weights","meanSquaredError")),N(i.shape,o.shape,"Error in meanSquaredError: ");var s=i.squaredDifference(o);return bf(s,a,r)}}),Sf=Mn({sigmoidCrossEntropy_:function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=gf.SUM_BY_NONZERO_WEIGHTS);var o=_n(e,"multiClassLabels","sigmoidCrossEntropy"),a=_n(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=_n(n,"weights","sigmoidCrossEntropy")),N(o.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=Bn(r),l=Bn(1),c=Bn(.5);o=o.mul(l.sub(u)).add(c.mul(u))}var f=function(e,t){var n=_n(e,"labels","sigmoidCrossEntropyWithLogits"),r=_n(t,"logits","sigmoidCrossEntropyWithLogits");N(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=r.relu(),o=r.mul(n),a=r.abs().neg().exp().log1p();return i.sub(o).add(a)}(o,a);return bf(f,s,i)}}),kf=Mn({softmaxCrossEntropy_:function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=gf.SUM_BY_NONZERO_WEIGHTS);var o=_n(e,"onehotLabels","softmaxCrossEntropy"),a=_n(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=_n(n,"weights","softmaxCrossEntropy")),N(o.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){var u=Bn(r),l=Bn(1),c=Bn(o.shape[1]);o=o.mul(l.sub(u)).add(u.div(c))}var f=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return wi(function(e,t,r){var i=t.logSumExp([n],!0),o=t.toFloat().sub(i);return r([e,o]),{value:o.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],i=t[1],o=On(e.shape,[n]);return[e.reshape(o).mul(r.toFloat().sub(i.exp())),e.reshape(o).mul(i.exp().sub(r.toFloat()))]}}})(e,t)}(o,a);return bf(f,s,i)}}),Of=Object.freeze({get Reduction(){return gf},absoluteDifference:yf,computeWeightedLoss:bf,cosineDistance:wf,hingeLoss:xf,huberLoss:_f,logLoss:Cf,meanSquaredError:Ef,sigmoidCrossEntropy:Sf,softmaxCrossEntropy:kf});function Tf(e,t){return void 0===t&&(t=!1),He.tidy(function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],i=Tr(n),o=e.clone(),a=Wn([[1]],[1,1]),s=a.clone(),u=n>=r?r:n,l=function(e){var t,u=o,l=s,c=i;t=He.tidy(function(){var t=o.slice([e,e],[n-e,1]),u=t.norm(),l=o.slice([e,e],[1,1]),c=Wn([[-1]]).where(l.greater(0),Wn([[1]])),f=l.sub(c.mul(u)),p=t.div(f);s=1===p.shape[0]?a.clone():a.concat(p.slice([1,0],[p.shape[0]-1,p.shape[1]]),0);var h=c.matMul(f).div(u).neg(),d=o.slice([e,0],[n-e,r]),m=h.mul(s);if(0===e)o=d.sub(m.matMul(s.transpose().matMul(d)));else{var g=d.sub(m.matMul(s.transpose().matMul(d)));o=o.slice([0,0],[e,r]).concat(g,0)}var v=i.slice([0,e],[n,i.shape[1]-e]);if(0===e)i=v.sub(v.matMul(s).matMul(m.transpose()));else{var y=v.sub(v.matMul(s).matMul(m.transpose()));i=i.slice([0,0],[n,e]).concat(y,1)}return[s,o,i]}),s=t[0],o=t[1],i=t[2],sn([u,l,c])},c=0;c<u;++c)l(c);return!t&&n>r&&(i=i.slice([0,0],[n,r]),o=o.slice([0,0],[r,r])),[i,o]})}var Nf=Mn({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=_n(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var i=r.shape,o=r.shape.slice(-2),a=o[0],s=o[1];if(!(t<=a))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+a+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=a),n<0&&(n=s);var u=Jn(0,a,1,"int32").reshape([-1,1]),l=Jn(0,s,1,"int32"),c=Tl(u,l),f=rl(c.lessEqual(Bn(+t,"int32")),c.greaterEqual(Bn(-n,"int32"))),p=Yn([a,s],r.dtype);return Vr(qr(r.reshape([-1,a,s])).map(function(e){return sl(f,e,p)})).reshape(i)}}),Af=Mn({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,T(null!=e&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=e[0].shape[0],r=function(t){T(e[t].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"})},i=1;i<e.length;++i)r(i)}else t=!0,e=ar(e,e.shape[0],0).map(function(e){return Wr(e,[0])});T(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."});var o=[],a=e,s=function(e){o.push(He.tidy(function(){var t=a[e];if(e>0)for(var n=0;n<e;++n){var r=Lc(o[n].mulStrict(t)).mul(o[n]);t=t.sub(r)}return t.div(Kc(t,"euclidean"))}))};for(i=0;i<e.length;++i)s(i);return t?Vr(o,0):o}}),If=Mn({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return Tf(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce(function(e,t){return e*t}),r,i=[],o=[];return qr(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0).forEach(function(e){var n=Tf(e,t),r=n[0],a=n[1];i.push(r),o.push(a)}),[Vr(i,0).reshape(e.shape),Vr(o,0).reshape(e.shape)]}}),Rf=Object.freeze({bandPart:Nf,gramSchmidt:Af,qr:If});function Pf(e,t,n,r,i,o){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==o&&(o=0);var a=e.shape[0];return n=Math.min(n,a),T(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),T(2===e.rank,function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"}),T(4===e.shape[1],function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]}),T(1===t.rank,function(){return"scores must be a 1D tensor"}),T(t.shape[0]===a,function(){return"scores has incompatible shape with boxes. Expected "+a+", but was "+t.shape[0]}),T(0<=o&&o<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+o+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:o}}var Mf=Mn({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=_n(e,"images","resizeBilinear");T(3===r.rank||4===r.rank,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),T(2===t.length,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."});var i=r,o=!1;3===r.rank&&(o=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],u=He.runKernelFunc(function(e,t){return t([i]),e.resizeBilinear(i,a,s,n)},{x:i},function(e,t){return{x:function(){return He.runKernelFunc(function(r){return r.resizeBilinearBackprop(e,t[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:a,newWidth:s});return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),jf=Mn({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=_n(e,"images","resizeNearestNeighbor");T(3===r.rank||4===r.rank,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),T(2===t.length,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."}),T("float32"===r.dtype||"int32"===r.dtype,function(){return"`images` must have `int32` or `float32` as dtype"});var i=r,o=!1;3===r.rank&&(o=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],u=He.runKernelFunc(function(e,t){return t([i]),e.resizeNearestNeighbor(i,a,s,n)},{batchImages:i},function(e,t){return{batchImages:function(){return He.runKernelFunc(function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)},{})}}});return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Df=Mn({nonMaxSuppression_:function(e,t,n,r,i){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY);var o=_n(e,"boxes","nonMaxSuppression"),a=_n(t,"scores","nonMaxSuppression"),s=Pf(o,a,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:i};return He.runKernelFunc(function(e){return e.nonMaxSuppression(o,a,n,r,i)},{boxes:o,scores:a},null,"NonMaxSuppressionV3",u)}}),Lf=function(e,t,n,r,i){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),u(this,void 0,void 0,function(){var o,a,s,u,c,f,p;return l(this,function(l){switch(l.label){case 0:return o=_n(e,"boxes","nonMaxSuppressionAsync"),a=_n(t,"scores","nonMaxSuppressionAsync"),s=Pf(o,a,n,r,i),n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold,[4,Promise.all([o.data(),a.data()])];case 1:return u=l.sent(),c=u[0],f=u[1],p=Ji(c,f,n,r,i),o!==e&&o.dispose(),a!==t&&a.dispose(),[2,p]}})})},Ff=Mn({nonMaxSuppressionWithScore_:function(e,t,n,r,i,o){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===o&&(o=0);var a=_n(e,"boxes","nonMaxSuppression"),s=_n(t,"scores","nonMaxSuppression"),u=Pf(a,s,n,r,i,o),l={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:i=u.scoreThreshold,softNmsSigma:o=u.softNmsSigma},c=He.runKernel("NonMaxSuppressionV5",{boxes:a,scores:s},l);return{selectedIndices:c[0],selectedScores:c[1]}}}),zf=function(e,t,n,r,i,o){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===o&&(o=0),u(this,void 0,void 0,function(){var a,s,u,c,f,p,h;return l(this,function(l){switch(l.label){case 0:return a=_n(e,"boxes","nonMaxSuppressionAsync"),s=_n(t,"scores","nonMaxSuppressionAsync"),u=Pf(a,s,n,r,i,o),n=u.maxOutputSize,r=u.iouThreshold,i=u.scoreThreshold,o=u.softNmsSigma,[4,Promise.all([a.data(),s.data()])];case 1:return c=l.sent(),f=c[0],p=c[1],h=Qi(f,p,n,r,i,o),a!==e&&a.dispose(),s!==t&&s.dispose(),[2,h]}})})},Bf=Mn({cropAndResize_:function(e,t,n,r,i,o){var a=_n(e,"image","cropAndResize"),s=_n(t,"boxes","cropAndResize","float32"),u=_n(n,"boxInd","cropAndResize","int32");i=i||"bilinear",o=o||0;var l=s.shape[0];return T(4===a.rank,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."}),T(2===s.rank&&4===s.shape[1],function(){return"Error in cropAndResize: boxes must be have size ["+l+",4] but had shape "+s.shape+"."}),T(1===u.rank&&u.shape[0]===l,function(){return"Error in cropAndResize: boxInd must be have size ["+l+"] but had shape "+s.shape+"."}),T(2===r.length,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),T(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),T("bilinear"===i||"nearest"===i,function(){return"method must be bilinear or nearest, but was "+i}),He.runKernelFunc(function(e,t){return e.cropAndResize(a,s,u,r,i,o)},{images:a,boxes:s,boxInd:u},null,"CropAndResize",{method:i,extrapolationValue:o,cropSize:r})}}),Uf=Object.freeze({resizeBilinear:Mf,resizeNearestNeighbor:jf,nonMaxSuppression:Df,nonMaxSuppressionAsync:Lf,nonMaxSuppressionWithScore:Ff,nonMaxSuppressionWithScoreAsync:zf,cropAndResize:Bf}),Wf=function(e,t){return!(e>0)||"linear"===t},Vf=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},Hf=function(e,t){var n=t,r=Ti(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},Gf=function(e,t,n){if("linear"===t)return e;if("relu"===t)return Wc(e);if("elu"===t)return zc(e);if("relu6"===t)return Vc(e);if("prelu"===t)return Uc(e,n);throw new Error("Unknown fused activation "+t+".")},qf=Mn({fusedMatMul_:function(e){var t,n=e.a,r=e.b,i=e.transposeA,o=void 0!==i&&i,a=e.transposeB,s=void 0!==a&&a,u=e.bias,l=e.activation,c=void 0===l?"linear":l,f=e.preluActivationWeights;if(!1===Wf(He.state.gradientDepth,c)){var p=sc(n,r,o,s);return null!=u&&(p=ll(p,u)),Gf(p,c,f)}var h=_n(n,"a","fused matMul"),d=_n(r,"b","fused matMul");t=Le(h,d),h=t[0],d=t[1];var m=o?h.shape[h.rank-2]:h.shape[h.rank-1],g=s?d.shape[d.rank-1]:d.shape[d.rank-2],v=o?h.shape[h.rank-1]:h.shape[h.rank-2],y=s?d.shape[d.rank-2]:d.shape[d.rank-1],b=h.shape.slice(0,-2),w=d.shape.slice(0,-2),x=R(b),_=R(w);T(h.rank>=2&&d.rank>=2&&h.rank===d.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+h.rank+" and "+d.rank+"."}),T(P(b,w),function(){return"Error in fused matMul: outer dimensions ("+b+") and ("+w+") of Tensors with shapes "+h.shape+" and "+d.shape+" must match."}),T(m===g,function(){return"Error in fused matMul: inner shapes ("+m+") and ("+g+") of Tensors with shapes "+h.shape+" and "+d.shape+" and transposeA="+o+" and transposeB="+s+" must match."});var C,E,S=h.shape.slice(0,-2).concat([v,y]),k=o?h.as3D(x,m,v):h.as3D(x,v,m),O=s?d.as3D(_,y,g):d.as3D(_,g,y);null!=u&&Ni(S,(C=Le(C=_n(u,"bias","fused matMul"),h)[0]).shape),null!=f&&(E=_n(f,"prelu weights","fused matMul"));var N={a:k,b:O};null!=u&&(N.bias=C),null!=f&&(N.preluActivationWeights=E);var A=[k,O];return He.runKernelFunc(function(e,t){var n=e.fusedBatchMatMul({a:k,b:O,transposeA:o,transposeB:s,bias:C,activation:c,preluActivationWeights:E});return t([k,O,n]),n},N,function(e,t){var n=t[0],r=t[1],i=t[2],a=Vf(e,i,c),l={};return null!=u&&(l={bias:function(){return Hf(C,a)}}),o||s?!o&&s?Object.assign({a:function(){return a.matMul(r,!1,!1)},b:function(){return a.matMul(n,!0,!1)}},l):o&&!s?Object.assign({a:function(){return r.matMul(a,!1,!0)},b:function(){return n.matMul(a,!1,!1)}},l):Object.assign({a:function(){return r.matMul(a,!0,!0)},b:function(){return a.matMul(n,!0,!0)}},l):Object.assign({a:function(){return a.matMul(r,!1,!0)},b:function(){return n.matMul(a,!0,!1)}},l)},"_FusedMatMul",{transposeA:o,transposeB:s,activation:c},A,[!0]).reshape(S)}}),Kf=Mn({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,o=e.dataFormat,a=void 0===o?"NHWC":o,s=e.dilations,u=void 0===s?[1,1]:s,l=e.dimRoundingMode,c=e.bias,f=e.activation,p=void 0===f?"linear":f,h=e.preluActivationWeights;if(p=p||"linear",!1===Wf(He.state.gradientDepth,p)){var d=$l(t,n,r,i,a,u,l);return null!=c&&(d=ll(d,c)),Gf(d,p,h)}var m=_n(t,"x","conv2d"),g=_n(n,"filter","conv2d"),v=m,y=!1;3===m.rank&&(y=!0,v=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),T(4===v.rank,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+v.rank+"."}),T(4===g.rank,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+g.rank+"."}),null!=l&&T(M(i),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+l+" but got pad "+i+"."}),T(v.shape[3]===g.shape[2],function(){return"Error in conv2d: depth of input ("+v.shape[3]+") must match input depth for filter "+g.shape[2]+"."}),T(Bi(r,u),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"}),T("NHWC"===a,function(){return"Error in conv2d: got dataFormat of "+a+" but only NHWC is currently supported."});var b,w,x=Ri(v.shape,g.shape,r,u,i,l);null!=c&&(b=Le(b=_n(c,"bias","fused conv2d"),m)[0],Ni(x.outShape,b.shape)),null!=h&&(w=_n(h,"prelu weights","fused conv2d"));var _={x:v,filter:g};null!=c&&(_.bias=b),null!=h&&(_.preluActivationWeights=w);var C=[g,v],E=He.runKernelFunc(function(e,t){var n=e.fusedConv2d({input:v,filter:g,convInfo:x,bias:b,activation:p,preluActivationWeights:w});return t([g,v,n]),n},_,function(e,t){var n=t,o=n[0],a=n[1],s=n[2],l=Vf(e,s,p);T(zi(u),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"});var f={};return null!=c&&(f={bias:function(){return Hf(b,l)}}),Object.assign({x:function(){return ec(a.shape,l,o,r,i)},filter:function(){return Ql(a,l,o.shape,r,i)}},f)},"FusedConv2D",{convInfo:x,activation:p},C,[!0]);return y?E.as3D(E.shape[1],E.shape[2],E.shape[3]):E}}),Xf=Mn({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,o=e.dataFormat,a=void 0===o?"NHWC":o,s=e.dilations,u=void 0===s?[1,1]:s,l=e.dimRoundingMode,c=e.bias,f=e.activation,p=void 0===f?"linear":f,h=e.preluActivationWeights;if(!1===Wf(He.state.gradientDepth,p)){var d=tc(t,n,r,i,a,u,l);return null!=c&&(d=ll(d,c)),Gf(d,p,h)}var m=_n(t,"x","depthwiseConv2d"),g=_n(n,"filter","depthwiseConv2d"),v=m,y=!1;3===m.rank&&(y=!0,v=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),T(4===v.rank,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+v.rank+"."}),T(4===g.rank,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+g.rank+"."}),T(v.shape[3]===g.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+v.shape[3]+") must match the inChannels dimension in filter "+g.shape[2]+"."}),null==u&&(u=[1,1]),T(Bi(r,u),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"}),null!=l&&T(M(i),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+l+" but got pad "+i+"."});var b,w,x=Ri(v.shape,g.shape,r,u,i,l,!0);null!=c&&(b=Le(b=_n(c,"bias","fused conv2d"),m)[0],Ni(x.outShape,b.shape)),null!=h&&(w=_n(h,"prelu weights","fused depthwiseConv2d"));var _={x:v,filter:g};null!=c&&(_.bias=b),null!=h&&(_.preluActivationWeights=w);var C=[g,v],E=He.runKernelFunc(function(e,t){var n=e.fusedDepthwiseConv2D({input:v,filter:g,convInfo:x,bias:b,activation:p,preluActivationWeights:w});return t([g,v,n]),n},_,function(e,t){T(zi(u),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"});var n=t[0],r=t[1],i=t[2],o=Vf(e,i,p),a={};return null!=c&&(a={bias:function(){return Hf(b,o)}}),Object.assign({x:function(){return nc(r.shape,o,n,x)},filter:function(){return rc(r,o,n.shape,x)}},a)},"FusedDepthwiseConv2D",{convInfo:x,activation:p},C,[!0]);return y?E.as3D(E.shape[1],E.shape[2],E.shape[3]):E}}),Yf=Object.freeze({matMul:qf,conv2d:Kf,depthwiseConv2d:Xf}),Zf=Object.freeze({image:Uf,linalg:Rf,losses:Of,spectral:of,fused:Yf,signal:mf,square:au,squaredDifference:uu,conv1d:Zl,conv2d:$l,conv3d:Jl,depthwiseConv2d:tc,separableConv2d:ic,conv2dTranspose:oc,conv3dTranspose:ac,op:Mn,batchNormalization2d:Yu,batchNormalization3d:Zu,batchNormalization4d:$u,batchNormalization:Ju,batchNorm:Qu,batchNorm2d:el,batchNorm3d:tl,batchNorm4d:nl,booleanMaskAsync:ql,complex:jn,real:Dn,imag:Ln,concat:tr,concat1d:nr,concat2d:rr,concat3d:ir,concat4d:or,split:ar,matMul:sc,dot:uc,outerProduct:lc,reverse:cc,reverse1d:fc,reverse2d:pc,reverse3d:hc,reverse4d:dc,maxPool:vc,avgPool:yc,pool:bc,maxPool3d:wc,avgPool3d:xc,slice:_c,slice1d:Cc,slice2d:Ec,slice3d:Sc,slice4d:kc,abs:lu,acos:cu,acosh:fu,asin:pu,asinh:hu,atan:du,atanh:mu,ceil:gu,clipByValue:vu,cos:yu,cosh:bu,erf:wu,exp:xu,expm1:_u,floor:Cu,log:Eu,log1p:Su,logSigmoid:ku,neg:Ou,reciprocal:Tu,round:Nu,rsqrt:Au,sigmoid:Iu,sign:Ru,isNaN:Pu,isInf:Mu,isFinite:ju,sin:Du,sinh:Lu,softplus:Fu,sqrt:zu,step:Bu,tan:Uu,tanh:Wu,all:Tc,any:Nc,argMax:Ac,argMin:Ic,logSumExp:Rc,max:Pc,mean:Mc,min:jc,moments:Dc,sum:Lc,prod:Fc,equal:Al,equalStrict:Il,greater:Rl,greaterEqual:Pl,greaterEqualStrict:Ml,greaterStrict:jl,less:Dl,lessEqual:Ll,lessEqualStrict:Fl,lessStrict:zl,notEqual:Bl,notEqualStrict:Ul,add:ll,addN:cl,addStrict:fl,atan2:pl,div:hl,divNoNan:dl,divStrict:ml,floorDiv:gl,maximum:vl,maximumStrict:yl,minimum:bl,minimumStrict:wl,mod:xl,modStrict:_l,mul:Cl,mulStrict:El,pow:Sl,powStrict:kl,squaredDifferenceStrict:Ol,sub:Tl,subStrict:Nl,elu:zc,leakyRelu:Bc,prelu:Uc,relu:Wc,relu6:Vc,selu:Hc,logicalAnd:rl,logicalNot:il,logicalOr:ol,logicalXor:al,where:sl,whereAsync:ul,buffer:br,print:wr,batchToSpaceND:xr,broadcastTo:_r,cast:Cr,clone:Er,cumsum:Sr,depthToSpace:kr,expandDims:Or,eye:Tr,multinomial:Nr,oneHot:Ar,pad:Ir,pad1d:Rr,pad2d:Pr,pad3d:Mr,pad4d:jr,rand:Dr,randomNormal:Lr,randomGamma:Fr,randomUniform:zr,reshape:Br,spaceToBatchND:Ur,squeeze:Wr,stack:Vr,tile:Hr,truncatedNormal:Gr,unstack:qr,setdiff1dAsync:Kr,fill:Zn,linspace:$n,ones:Xn,range:Jn,scalar:Bn,tensor:Fn,tensor1d:Un,tensor2d:Wn,tensor3d:Vn,tensor4d:Hn,tensor5d:Gn,tensor6d:qn,variable:Kn,zeros:Yn,onesLike:Qn,zerosLike:er,transpose:Gc,softmax:_i,logSoftmax:Ci,localResponseNormalization:qc,norm:Kc,gather:Hl,unsortedSegmentSum:Gl,basicLSTMCell:Xc,multiRNNCell:Yc,movingAverage:Zc,stridedSlice:$c,topk:Jc,scatterND:Qc,fft:ef,ifft:tf,rfft:nf,irfft:rf,sparseToDense:af,gatherND:sf,diag:uf,dropout:lf,hannWindow:ff,hammingWindow:pf,frame:hf,stft:df,inTopKAsync:vf});function $f(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&T("complex64"!==e.dtype,function(){return t+" does not support complex64 tensors."})})}function Jf(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var Qf=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new Ei(t,He),t}return s(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,p().get("IS_NODE")&&bn("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return u(this,void 0,void 0,function(){return l(this,function(t){return[2,this.readSync(e)]})})},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?qi(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map(function(e){return ce(e)})}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return br(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return He.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return u(this,void 0,void 0,function(){var t;return l(this,function(n){return t=se(),e(),[2,{kernelMs:se()-t}]})})},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:He.keep(e.clone()),imag:He.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if($f(e,"slice"),pi(e.shape,t,n)){var r=hi(t,e.strides),i=R(n);return Fn(this.readSync(e.dataId).subarray(r,r+i),n,e.dtype)}for(var o=br(n,e.dtype),a=this.bufferSync(e),s=0;s<o.size;++s){var u=o.indexToLoc(s).map(function(e,n){return e+t[n]});o.values[s]=a.get.apply(a,u)}return o.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){$f(e,"stridedSlice");var i=li(t,n,r);if(i.some(function(e){return 0===e}))return Fn([],i);for(var o=br(i,e.dtype),a=this.bufferSync(e),s=0;s<o.size;s++){for(var u=o.indexToLoc(s),l=new Array(u.length),c=0;c<l.length;c++)l[c]=u[c]*r[c]+t[c];o.set.apply(o,[a.get.apply(a,l)].concat(u))}return o.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=br([e.size,e.size],e.dtype),r=n.values,i=0;i<t.length;i++)r[i*e.size+i]=t[i];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),i=0,o=0;o<e.rank;o++)o!==t&&(r[i++]=e.shape[o]);var a=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(o=0;o<u.length;o++)a[t]=o,u[o]=this.slice(e,a,s).reshape(r);return u},t.prototype.reverse=function(e,t){$f(e,"reverse");for(var n=br(e.shape,e.dtype),r=this.bufferSync(e),i=function(i){var o=n.indexToLoc(i),a=o.slice();t.forEach(function(t){return a[t]=e.shape[t]-1-a[t]}),n.set.apply(n,[r.get.apply(r,a)].concat(o))},o=0;o<n.size;o++)i(o);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map(function(e){return Dn(e)}),i=e.map(function(e){return Ln(e)});return jn(this.concat(r,t),this.concat(i,t))}var o=e.map(function(e){var n=R(e.shape.slice(t));return e.as2D(-1,n)}),a=Pn(o.map(function(e){return e.shape}),1),s=br(a,e[0].dtype).values;if(1===o[0].shape[0]){var u=0;o.forEach(function(e){s.set(n.readSync(e.dataId),u),u+=e.size})}else{var l=0;o.forEach(function(e){for(var t=n.readSync(e.dataId),r=0,i=0;i<e.shape[0];++i)for(var o=i*a[1]+l,u=0;u<e.shape[1];++u)s[o+u]=t[r++];l+=e.shape[1]})}var c=Pn(e.map(function(e){return e.shape}),t);return Fn(s,c,e[0].dtype)},t.prototype.neg=function(e){return $f(e,"neg"),this.multiply(Bn(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e+n,imag:t+r}}):this.broadcastedBinaryOp(e,t,je(e.dtype,t.dtype),function(e,t){return e+t})},t.prototype.addN=function(e){var t=this;$f(e,"addN");for(var n=e.map(function(e){return t.readSync(e.dataId)}),r=br(e[0].shape,e[0].dtype),i=r.values,o=0;o<e.length;o++)for(var a=n[o],s=0;s<i.length;s++)i[s]+=a[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=B([t],e.shape),r=this.max(e,n),i=On(r.shape,n),o=this.subtract(e,r.reshape(i)),a=this.exp(o),s=this.sum(a,n).reshape(i);return this.realDivide(a,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e-n,imag:t-r}}):this.broadcastedBinaryOp(e,t,je(e.dtype,t.dtype),function(e,t){return e-t})},t.prototype.pow=function(e,t){return $f([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.pow(e,t)})},t.prototype.batchMatMul=function(e,t,n,r){$f([e,t],"matMul");for(var i=n?e.shape[1]:e.shape[2],o=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],s=e.shape[0],u=this.readSync(e.dataId),l=this.readSync(t.dataId),c=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],f=c[0],p=c[1],h=c[2],d=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],m=d[0],g=d[1],v=d[2],y=o*a,b=br([s,o,a],e.dtype),w=b.values,x=this.blockSize,_=0;_<s;_++)for(var C=0;C<o;C+=x)for(var E=0;E<a;E+=x)for(var S=0;S<i;S+=x)for(var k=Math.min(C+x,o),O=Math.min(E+x,a),T=Math.min(S+x,i),N=C;N<k;N++)for(var A=E;A<O;A++){for(var I=0,R=S;R<T;R++)I+=u[_*f+N*p+R*h]*l[R*m+A*g+_*v];w[_*y+(N*a+A)]+=I}return b.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,o=e.bias,a=e.activation,s=e.preluActivationWeights,u=this.batchMatMul(t,n,r,i);return o&&(u=this.add(u,o)),a&&(u=Jf(this,u,a,s)),u},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}}):this.broadcastedBinaryOp(e,t,je(e.dtype,t.dtype),function(e,t){return e*t})},t.prototype.realDivide=function(e,t){return $f([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",function(e,t){return e/t})},t.prototype.floorDiv=function(e,t){return $f([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",function(e,t){return Math.floor(e/t)})},t.prototype.sum=function(e,t){$f(e,"sum"),Tn("sum",t,e.rank);for(var n=kn(e.shape,t),r=n[0],i=n[1],o=Yn(r,je(e.dtype,"int32")),a=R(i),s=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*a,f=0,p=0;p<a;++p)f+=u[c+p];s[l]=f}return o},t.prototype.prod=function(e,t){$f(e,"sum");for(var n=kn(e.shape,t),r=n[0],i=n[1],o=Yn(r,je(e.dtype,"int32")),a=R(i),s=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*a,f=1,p=0;p<a;++p)f*=u[c+p];s[l]=f}return o},t.prototype.unsortedSegmentSum=function(e,t,n){$f(e,"unsortedSegmentSum");for(var r=[],i=e.rank-t.rank,o=0;o<i;++o)t=t.expandDims(o+1);for(o=0;o<n;++o){var a=Bn(o,"int32"),s=Al(a,t).asType("float32").mul(e).sum(0);r.push(s)}return Vr(r)},t.prototype.argMin=function(e,t){$f(e,"argMin");var n=[t];Tn("argMin",n,e.rank);for(var r=kn(e.shape,n),i=r[0],o=r[1],a=Yn(i,"int32"),s=R(o),u=this.readSync(a.dataId),l=this.readSync(e.dataId),c=0;c<u.length;++c){for(var f=c*s,p=l[f],h=0,d=0;d<s;++d){var m=l[f+d];m<p&&(p=m,h=d)}u[c]=h}return a},t.prototype.argMax=function(e,t){$f(e,"argMax");var n=[t];Tn("argMax",n,e.rank);for(var r=kn(e.shape,n),i=r[0],o=r[1],a=Yn(i,"int32"),s=R(o),u=this.readSync(a.dataId),l=this.readSync(e.dataId),c=0;c<u.length;++c){for(var f=c*s,p=l[f],h=0,d=0;d<s;++d){var m=l[f+d];m>p&&(p=m,h=d)}u[c]=h}return a},t.prototype.cumsum=function(e,t,n,r){if($f(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var i=je(e.dtype,"int32"),o=Yn(e.shape,i),a=this.readSync(o.dataId),s=this.readSync(e.dataId),u=e.shape[e.rank-1],l=r?function(e,t){return e+u-t-1}:function(e,t){return e+t},c=0;c<s.length;c+=u)for(var f=0;f<u;f++){var p=l(c,f);if(0===f)a[p]=n?0:s[p];else{var h=l(c,f-1);a[p]=n?s[h]+a[h]:s[p]+a[h]}}return o},t.prototype.equal=function(e,t){return $f([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e===t?1:0})},t.prototype.notEqual=function(e,t){return $f([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e!==t?1:0})},t.prototype.less=function(e,t){return $f([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<t?1:0})},t.prototype.lessEqual=function(e,t){return $f([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<=t?1:0})},t.prototype.greater=function(e,t){return $f([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>t?1:0})},t.prototype.greaterEqual=function(e,t){return $f([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>=t?1:0})},t.prototype.logicalNot=function(e){$f(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return $f([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e&&t})},t.prototype.logicalOr=function(e,t){return $f([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e||t})},t.prototype.select=function(e,t,n){$f([e,t,n],"select");for(var r=this.readSync(e.dataId),i=this.readSync(t.dataId),o=this.readSync(n.dataId),a=Yn(t.shape,je(t.dtype,n.dtype)),s=this.readSync(a.dataId),u=0,l=0===e.rank||e.rank>1||1===t.rank?1:R(t.shape.slice(1)),c=0;c<r.length;c++)for(var f=0;f<l;f++)1===r[c]?s[u++]=i[c]:s[u++]=o[c];return a},t.prototype.where=function(e){$f([e],"where");var t=this.readSync(e.dataId);return so(e.shape,t)},t.prototype.topk=function(e,t,n){return $f(e,"topk"),ao(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){$f(e,"min"),Tn("min",t,e.rank);for(var n=kn(e.shape,t),r=n[0],i=n[1],o=Yn(r,e.dtype),a=R(i),s=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*a,f=u[c],p=0;p<a;++p){var h=u[c+p];h<f&&(f=h)}s[l]=f}return o},t.prototype.minimum=function(e,t){return $f([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.min(e,t)})},t.prototype.mod=function(e,t){return $f([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})},t.prototype.max=function(e,t){$f(e,"max"),Tn("max",t,e.rank);for(var n=kn(e.shape,t),r=n[0],i=n[1],o=Yn(r,e.dtype),a=R(i),s=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*a,f=u[c],p=0;p<a;++p){var h=u[c+p];h>f&&(f=h)}s[l]=f}return o},t.prototype.maximum=function(e,t){return $f([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.max(e,t)})},t.prototype.all=function(e,t){$f(e,"all"),Tn("all",t,e.rank);for(var n=kn(e.shape,t),r=n[0],i=n[1],o=Yn(r,e.dtype),a=R(i),s=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*a,f=u[c],p=0;p<a;++p){var h=u[c+p];f=f&&h}s[l]=f}return o},t.prototype.any=function(e,t){$f(e,"any"),Tn("any",t,e.rank);for(var n=kn(e.shape,t),r=n[0],i=n[1],o=Yn(r,e.dtype),a=R(i),s=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*a,f=u[c],p=0;p<a;++p){var h=u[c+p];f=f||h}s[l]=f}return o},t.prototype.squaredDifference=function(e,t){return $f([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e-t;return n*n})},t.prototype.ceil=function(e){$f(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){$f(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){$f(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){$f(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){$f(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){$f(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){$f(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=Math.floor(t[r]);t[r]-i<.5?n[r]=Math.floor(t[r]):t[r]-i>.5?n[r]=Math.ceil(t[r]):n[r]=i%2==0?i:i+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){$f(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){$f(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){$f(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.log(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){$f(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.log1p(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){$f(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.sqrt(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){$f(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=1/Math.sqrt(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){$f(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){$f(e,"relu");for(var t=Yn(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),i=0;i<r.length;++i)n[i]=Math.max(0,r[i]);return t},t.prototype.relu6=function(e){$f(e,"relu");for(var t=Yn(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),i=0;i<r.length;++i)n[i]=Math.min(Math.max(0,r[i]),6);return t},t.prototype.prelu=function(e,t){return $f([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return e<0?t*e:e})},t.prototype.elu=function(e){$f(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=n[r];t[r]=i>=0?i:Math.exp(i)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){$f([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),i=this.readSync(e.dataId),o=0;o<r.length;++o){var a=r[o];n[o]=a>=1?i[o]:i[o]*(a+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){$f(e,"selu");for(var t=ks,n=Os,r=new Float32Array(e.size),i=this.readSync(e.dataId),o=0;o<i.length;++o){var a=i[o];r[o]=a>=0?n*a:t*(Math.exp(a)-1)}return this.makeOutput(r,e.shape,"float32")},t.prototype.clip=function(e,t,n){$f(e,"clip");for(var r=new Float32Array(e.size),i=this.readSync(e.dataId),o=0;o<i.length;++o){var a=i[o];r[o]=a>n?n:a<t?t:a}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var i=n[2*r],o=n[2*r+1];t[r]=Math.hypot(i,o)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){$f(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){$f(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){$f(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),i=0;i<r.length;++i){var o=r[i]>-t,a=r[i]<t,s=Math.exp(r[i]),u=void 0;u=a?s:o?r[i]:Math.log(1+s),n[i]=u}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){$f(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){$f(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){$f(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){$f(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){$f(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){$f(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return $f([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.atan2(e,t)})},t.prototype.sinh=function(e){$f(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){$f(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){$f(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=j(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){$f(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){$f(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){$f(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){$f(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=Math.sign(n[r]),o=Math.abs(n[r]),a=1/(1+.3275911*o);t[r]=i*(1-((((1.061405429*a-1.453152027)*a+1.421413741)*a-.284496736)*a+.254829592)*a*Math.exp(-o*o))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),$f(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),i=0;i<r.length;++i){var o=r[i];isNaN(o)?n[i]=NaN:n[i]=o>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,o=e.activation,a=e.preluActivationWeights,s=this.conv2d(t,n,r);return i&&(s=this.add(s,i)),o&&(s=Jf(this,s,o,a)),s},t.prototype.conv2d=function(e,t,n){$f([e,t],"conv2d");for(var r=n.filterHeight,i=n.filterWidth,o=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l="channelsLast"===n.dataFormat,c=br(n.outShape,e.dtype),f=e.strides[0],p=l?e.strides[1]:e.strides[2],h=l?e.strides[2]:1,d=l?1:e.strides[1],m=c.strides[0],g=l?c.strides[1]:c.strides[2],v=l?c.strides[2]:1,y=l?1:c.strides[1],b=this.readSync(e.dataId),w=this.readSync(t.dataId),x=c.values,_=0;_<n.batchSize;++_)for(var C=_*f,E=_*m,S=0;S<n.outHeight;++S)for(var k=E+S*g,O=S*n.strideHeight-u,T=0;T<r;T++){var N=O+T*o;if(!(N<0||N>=n.inHeight))for(var A=T*t.strides[0],I=C+N*p,R=0;R<n.outWidth;++R)for(var P=k+R*v,M=R*n.strideWidth-s,j=0;j<i;j++){var D=M+j*a;if(!(D<0||D>=n.inWidth))for(var L=I+D*h,F=A+j*t.strides[1],z=0;z<n.inChannels;++z){for(var B=b[L+z*d],U=0;U<n.outChannels;++U)x[P+U*y]+=B*w[F+U];F+=n.outChannels}}}return c.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,i=n.filterHeight,o=n.filterWidth,a=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,l=n.padInfo.front,c=n.padInfo.left,f=n.padInfo.top,p=br(n.outShape,e.dtype),h=this.readSync(e.dataId),d=this.readSync(t.dataId),m=p.values,g=0;g<n.batchSize;++g)for(var v=g*e.strides[0],y=g*p.strides[0],b=0;b<n.outDepth;++b)for(var w=y+b*p.strides[1],x=b*n.strideDepth-l,_=0;_<r;_++){var C=x+_*a;if(!(C<0||C>=n.inDepth))for(var E=_*t.strides[0],S=v+C*e.strides[1],k=0;k<n.outHeight;++k)for(var O=w+k*p.strides[2],T=k*n.strideHeight-f,N=0;N<i;N++){var A=T+N*s;if(!(A<0||A>=n.inHeight))for(var I=E+N*t.strides[1],R=S+A*e.strides[2],P=0;P<n.outWidth;++P)for(var M=O+P*n.outChannels,j=P*n.strideWidth-c,D=0;D<o;D++){var L=j+D*u;if(!(L<0||L>=n.inWidth))for(var F=I+D*t.strides[2],z=R+L*n.inChannels,B=F,U=0;U<n.inChannels;++U){for(var W=h[z+U],V=0;V<n.outChannels;++V)m[M+V]+=W*d[B+V];B+=n.outChannels}}}}return p.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){$f([e,t],"conv2dDerInput");for(var r=br(n.inShape,"float32"),i=r.values,o=this.readSync(e.dataId),a=this.readSync(t.dataId),s=t.strides,u=s[0],l=s[1],c=s[2],f=n.batchSize,p=n.filterHeight,h=n.filterWidth,d=n.inChannels,m=n.inHeight,g=n.inWidth,v=n.outChannels,y=n.outHeight,b=n.outWidth,w=n.strideHeight,x=n.strideWidth,_=n.dataFormat,C=p-1-n.padInfo.top,E=h-1-n.padInfo.left,S="channelsLast"===_,k=r.strides[0],O=S?r.strides[1]:r.strides[2],T=S?r.strides[2]:1,N=S?1:r.strides[1],A=e.strides[0],I=S?e.strides[1]:e.strides[2],R=S?e.strides[2]:1,P=S?1:e.strides[1],M=0;M<f;++M)for(var j=0;j<d;++j)for(var D=0;D<m;++D)for(var L=D-C,F=Math.max(0,Math.ceil(L/w)),z=Math.min(y,(p+L)/w),B=0;B<g;++B){for(var U=B-E,W=Math.max(0,Math.ceil(U/x)),V=Math.min(b,(h+U)/x),H=0,G=F;G<z;++G)for(var q=G*w-L,K=W;K<V;++K)for(var X=A*M+I*G+R*K,Y=u*(p-1-q)+l*(h-1-(K*x-U))+c*j,Z=0;Z<v;++Z)H+=o[X+P*Z]*a[Y+Z];i[k*M+O*D+T*B+N*j]=H}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=br(n.inShape,"float32"),i=r.values,o=r.strides,a=o[0],s=o[1],u=o[2],l=o[3],c=this.readSync(e.dataId),f=e.strides,p=f[0],h=f[1],d=f[2],m=f[3],g=this.readSync(t.dataId),v=t.strides,y=v[0],b=v[1],w=v[2],x=v[3],_=n.batchSize,C=n.filterDepth,E=n.filterHeight,S=n.filterWidth,k=n.inChannels,O=n.inDepth,T=n.inHeight,N=n.inWidth,A=n.outChannels,I=n.outDepth,R=n.outHeight,P=n.outWidth,M=n.strideDepth,j=n.strideHeight,D=n.strideWidth,L=C-1-n.padInfo.front,F=E-1-n.padInfo.top,z=S-1-n.padInfo.left,B=0;B<_;++B)for(var U=0;U<k;++U)for(var W=0;W<O;++W)for(var V=W-L,H=Math.max(0,Math.ceil(V/M)),G=Math.min(I,(C+V)/M),q=0;q<T;++q)for(var K=q-F,X=Math.max(0,Math.ceil(K/j)),Y=Math.min(R,(E+K)/j),Z=0;Z<N;++Z){for(var $=Z-z,J=Math.max(0,Math.ceil($/D)),Q=Math.min(P,(S+$)/D),ee=0,te=H;te<G;++te)for(var ne=te*M-V,re=X;re<Y;++re)for(var ie=re*j-K,oe=J;oe<Q;++oe)for(var ae=p*B+h*te+d*re+m*oe,se=y*(C-1-ne)+b*(E-1-ie)+w*(S-1-(oe*D-$))+x*U,ue=0;ue<A;++ue)ee+=c[ae+ue]*g[se+ue];i[a*B+s*W+u*q+l*Z+U]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){$f([e,t],"conv2dDerFilter");for(var r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s="channelsLast"===n.dataFormat,u=br(n.filterShape,"float32"),l=n.padInfo.left,c=n.padInfo.top,f=this.bufferSync(e),p=this.bufferSync(t),h=0;h<o;++h)for(var d=Math.max(0,Math.ceil((c-h)/r)),m=Math.min(n.outHeight,(n.inHeight+c-h)/r),g=0;g<a;++g)for(var v=Math.max(0,Math.ceil((l-g)/i)),y=Math.min(n.outWidth,(n.inWidth+l-g)/i),b=0;b<n.inChannels;++b)for(var w=0;w<n.outChannels;++w){for(var x=0,_=0;_<n.batchSize;++_)for(var C=d;C<m;++C)for(var E=h+C*r-c,S=v;S<y;++S){var k=g+S*i-l;x+=s?f.get(_,E,k,b)*p.get(_,C,S,w):f.get(_,b,E,k)*p.get(_,w,C,S)}u.set(x,h,g,b,w)}return u.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,i=n.strideHeight,o=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,l=br(n.filterShape,"float32"),c=l.values,f=l.strides,p=f[0],h=f[1],d=f[2],m=f[3],g=this.readSync(t.dataId),v=t.strides,y=v[0],b=v[1],w=v[2],x=v[3],_=this.readSync(e.dataId),C=e.strides,E=C[0],S=C[1],k=C[2],O=C[3],T=n.padInfo.front,N=n.padInfo.left,A=n.padInfo.top,I=0;I<a;++I)for(var R=Math.max(0,Math.ceil((T-I)/r)),P=Math.min(n.outDepth,(n.inDepth+T-I)/r),M=I*p,j=0;j<s;++j)for(var D=Math.max(0,Math.ceil((A-j)/i)),L=Math.min(n.outHeight,(n.inHeight+A-j)/i),F=j*h+M,z=0;z<u;++z)for(var B=Math.max(0,Math.ceil((N-z)/o)),U=Math.min(n.outWidth,(n.inWidth+N-z)/o),W=z*d+F,V=0;V<n.inChannels;++V)for(var H=V*m+W,G=0;G<n.outChannels;++G){for(var q=0,K=0;K<n.batchSize;++K)for(var X=K*E,Y=K*y,Z=R;Z<P;++Z)for(var $=(I+Z*r-T)*S+X,J=Z*b+Y,Q=D;Q<L;++Q)for(var ee=(j+Q*i-A)*k+$,te=Q*w+J,ne=B;ne<U;++ne){var re=ne*x+te;q+=_[(z+ne*o-N)*O+ee+V]*g[re+G]}c[H+G]=q}return l.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,o=e.activation,a=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return i&&(s=this.add(s,i)),o&&(s=Jf(this,s,o,a)),s},t.prototype.depthwiseConv2D=function(e,t,n){$f([e,t],"depthwiseConv2D");for(var r=n.filterHeight,i=n.filterWidth,o=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l=n.outChannels/n.inChannels,c=br(n.outShape,e.dtype),f=this.readSync(e.dataId),p=this.readSync(t.dataId),h=c.values,d=0;d<n.batchSize;++d)for(var m=d*e.strides[0],g=d*c.strides[0],v=0;v<n.outHeight;++v)for(var y=g+v*c.strides[1],b=v*n.strideHeight-s,w=0;w<r;++w){var x=b+w*o;if(!(x<0||x>=n.inHeight))for(var _=w*t.strides[0],C=m+x*e.strides[1],E=0;E<n.outWidth;++E)for(var S=y+E*c.strides[2],k=E*n.strideWidth-u,O=0;O<i;++O){var T=k+O*a;if(!(T<0||T>=n.inWidth))for(var N=_+O*t.strides[1],A=C+T*n.inChannels,I=S,R=N,P=0;P<n.inChannels;++P){for(var M=f[A+P],j=0;j<l;++j)h[I+j]+=M*p[R+j];I+=l,R+=l}}}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){$f([e,t],"depthwiseConv2DDerInput");for(var r=br(n.inShape,"float32"),i=r.values,o=r.strides,a=o[0],s=o[1],u=o[2],l=this.readSync(e.dataId),c=e.strides,f=c[0],p=c[1],h=c[2],d=this.readSync(t.dataId),m=t.strides,g=m[0],v=m[1],y=m[2],b=n.batchSize,w=n.filterHeight,x=n.filterWidth,_=n.inChannels,C=n.inHeight,E=n.inWidth,S=n.outChannels,k=n.outHeight,O=n.outWidth,T=n.strideHeight,N=n.strideWidth,A=w-1-n.padInfo.top,I=x-1-n.padInfo.left,R=S/_,P=0;P<b;++P)for(var M=0;M<_;++M)for(var j=0;j<C;++j)for(var D=j-A,L=Math.max(0,Math.ceil(D/T)),F=Math.min(k,(w+D)/T),z=0;z<E;++z){for(var B=z-I,U=Math.max(0,Math.ceil(B/N)),W=Math.min(O,(x+B)/N),V=0,H=L;H<F;++H)for(var G=H*T-D,q=U;q<W;++q)for(var K=f*P+p*H+h*q,X=g*(w-1-G)+v*(x-1-(q*N-B))+y*M,Y=0;Y<R;++Y)V+=l[K+(M*R+Y)]*d[X+Y];i[a*P+s*j+u*z+M]=V}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){$f([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s=br(n.filterShape,"float32"),u=n.padInfo.left,l=n.padInfo.top,c=n.outChannels/n.inChannels,f=this.bufferSync(e),p=this.bufferSync(t),h=0;h<o;++h)for(var d=Math.max(0,Math.ceil((l-h)/r)),m=Math.min(n.outHeight,(n.inHeight+l-h)/r),g=0;g<a;++g)for(var v=Math.max(0,Math.ceil((u-g)/i)),y=Math.min(n.outWidth,(n.inWidth+u-g)/i),b=0;b<n.outChannels;++b){for(var w=Math.trunc(b/c),x=b%c,_=0,C=0;C<n.batchSize;++C)for(var E=d;E<m;++E)for(var S=h+E*r-l,k=v;k<y;++k){var O=g+k*i-u;_+=f.get(C,S,O,w)*p.get(C,E,k,b)}s.set(_,h,g,w,x)}return s.toTensor()},t.prototype.tile=function(e,t){return $f(e,"tile"),oo(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){$f(e,"pad");var r=t.map(function(t,n){return t[0]+e.shape[n]+t[1]}),i=t.map(function(e){return e[0]}),o=this.bufferSync(e),a=br(r,e.dtype);0!==n&&a.values.fill(n);for(var s=0;s<e.size;s++){var u=o.indexToLoc(s),l=u.map(function(e,t){return e+i[t]});a.set.apply(a,[o.get.apply(o,u)].concat(l))}return a.toTensor()},t.prototype.transpose=function(e,t){$f(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var i=this.readSync(e.dataId),o=br(n,e.dtype),a=this.bufferSync(e);for(r=0;r<e.size;++r){for(var s=a.indexToLoc(r),u=new Array(s.length),l=0;l<u.length;l++)u[l]=s[t[l]];var c=o.locToIndex(u);o.values[c]=i[r]}return o.toTensor()},t.prototype.gather=function(e,t,n){$f([e,t],"gather");var r=e.shape.slice(),i=this.readSync(t.dataId);r[n]=i.length;for(var o=br(r,e.dtype),a=this.bufferSync(e),s=0;s<o.size;++s){var u=o.indexToLoc(s),l=u.slice();l[n]=i[u[n]];var c=a.locToIndex(l);o.values[s]=a.values[c]}return o.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){$f([e],"batchToSpaceND");var r=t.reduce(function(e,t){return e*t}),i=Xr(e.shape,t,r),o=Yr(i.length,t.length),a=Zr(e.shape,t,r),s=$r(n,t.length),u=Jr(a,n,t.length);return e.reshape(i).transpose(o).reshape(a).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){$f([e],"spaceToBatchND");var r=t.reduce(function(e,t){return e*t}),i=[[0,0]];i.push.apply(i,n);for(var o=1+t.length;o<e.shape.length;++o)i.push([0,0]);var a=e.pad(i),s=Xr(a.shape,t,r,!1),u=Yr(s.length,t.length,!1),l=Zr(a.shape,t,r,!1);return a.reshape(s).transpose(u).reshape(l)},t.prototype.pool=function(e,t,n){$f(e,"pool");for(var r=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,l=t.padInfo.top,c=t.padInfo.left,f="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,p=this.readSync(e.dataId),h=br(t.outShape,e.dtype),d=h.values,m=t.outShape[1]*t.outShape[2]*t.outShape[3],g=t.outShape[2]*t.outShape[3],v=t.outShape[3],y=0;y<t.batchSize;++y)for(var b=y*m,w=y*e.strides[0],x=0;x<t.inChannels;++x)for(var _=0;_<t.outHeight;++_)for(var C=_*r-l,E=Math.max(0,C),S=Math.min(t.inHeight,s+C),k=b+_*g,O=0;O<t.outWidth;++O){for(var T=O*i-c,N=Math.max(0,T),A=Math.min(t.inWidth,u+T),I=f,R=0,P=0,M=E;M<S;M+=o){for(var j=w+M*e.strides[1],D=N;D<A;D+=a){var L=p[j+D*e.strides[2]+x];"max"===n&&L>I?I=L:"avg"===n&&(R+=L,P++)}if(isNaN(I))break}d[k+O*v+x]="avg"===n?R/P:I}return h.toTensor()},t.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},t.prototype.maxPoolPositions=function(e,t){for(var n=br(t.outShape,"int32"),r=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,l=t.padInfo.top,c=t.padInfo.left,f=this.bufferSync(e),p=0;p<t.batchSize;++p)for(var h=0;h<t.inChannels;++h)for(var d=0;d<t.outHeight;++d){for(var m=d*r-l,g=m;g<0;)g+=o;for(var v=Math.min(t.inHeight,s+m),y=0;y<t.outWidth;++y){for(var b=y*i-c,w=b;w<0;)w+=a;for(var x=Math.min(t.inWidth,u+b),_=Number.NEGATIVE_INFINITY,C=-1,E=g;E<v;E+=o)for(var S=E-m,k=w;k<x;k+=a){var O=k-b,T=f.get(p,E,k,h);T>_&&(_=T,C=S*u+O)}n.set(C,p,d,y,h)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){$f([t,n],"maxPoolBackprop");for(var i=this.maxPoolPositions(t,r),o=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,l=r.effectiveFilterHeight,c=r.effectiveFilterWidth,f=c-1-r.padInfo.left,p=l-1-r.padInfo.top,h=br(t.shape,"float32"),d=this.bufferSync(i),m=this.bufferSync(e),g=0;g<r.batchSize;++g)for(var v=0;v<r.inChannels;++v)for(var y=0;y<r.inHeight;++y)for(var b=0;b<r.inWidth;++b){for(var w=y-p,x=b-f,_=0,C=0;C<l;C+=s){var E=(w+C)/o;if(!(E<0||E>=r.outHeight||Math.floor(E)!==E))for(var S=0;S<c;S+=u){var k=(x+S)/a;if(!(k<0||k>=r.outWidth||Math.floor(k)!==k)){var O=l*c-1-d.get(g,E,k,v)===C*c+S?1:0;0!==O&&(_+=m.get(g,E,k,v)*O)}}}h.set(_,g,y,b,v)}return h.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){$f([e,t],"avgPoolBackprop");for(var r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,f=c-1-n.padInfo.left,p=l-1-n.padInfo.top,h=br(t.shape,"float32"),d=1/(o*a),m=this.bufferSync(e),g=0;g<n.batchSize;++g)for(var v=0;v<n.inChannels;++v)for(var y=0;y<n.inHeight;++y)for(var b=0;b<n.inWidth;++b){for(var w=y-p,x=b-f,_=0,C=0;C<l;C+=s){var E=(w+C)/r;if(!(E<0||E>=n.outHeight||Math.floor(E)!==E))for(var S=0;S<c;S+=u){var k=(x+S)/i;k<0||k>=n.outWidth||Math.floor(k)!==k||(_+=m.get(g,E,k,v))}}h.set(_*d,g,y,b,v)}return h.toTensor()},t.prototype.pool3d=function(e,t,n){$f(e,"pool3d");for(var r=t.strideDepth,i=t.strideHeight,o=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,d=t.padInfo.left,m="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(e.dataId),v=br(t.outShape,e.dtype),y=v.values,b=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[2]*t.outShape[3]*t.outShape[4],x=t.outShape[3]*t.outShape[4],_=t.outShape[4],C=0;C<t.batchSize;++C)for(var E=C*b,S=C*e.strides[0],k=0;k<t.inChannels;++k)for(var O=0;O<t.outDepth;++O){for(var T=O*r-p,N=T;N<0;)N+=a;for(var A=Math.min(t.inDepth,l+T),I=E+O*w,R=0;R<t.outHeight;++R){for(var P=R*i-h,M=P;M<0;)M+=s;for(var j=Math.min(t.inHeight,c+P),D=I+R*x,L=0;L<t.outWidth;++L){for(var F=L*o-d,z=F;z<0;)z+=u;for(var B=Math.min(t.inWidth,f+F),U=D+L*_,W=m,V=0,H=0,G=N;G<A;G+=a){for(var q=S+G*e.strides[1],K=M;K<j;K+=s){for(var X=q+K*e.strides[2],Y=z;Y<B;Y+=u){var Z=g[X+Y*e.strides[3]+k];if("max"===n&&Z>W?W=Z:"avg"===n&&(V+=Z,H++),isNaN(W))break}if(isNaN(W))break}if(isNaN(W))break}y[U+k]="avg"===n?V/H:W}}}return v.toTensor()},t.prototype.avgPool3d=function(e,t){return $f(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){$f([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,i=n.strideHeight,o=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,l=n.dilationDepth,c=n.dilationHeight,f=n.dilationWidth,p=n.effectiveFilterDepth,h=n.effectiveFilterHeight,d=n.effectiveFilterWidth,m=p-1-n.padInfo.front,g=d-1-n.padInfo.left,v=h-1-n.padInfo.top,y=br(t.shape,"float32"),b=1/(a*s*u),w=this.bufferSync(e),x=0;x<n.batchSize;++x)for(var _=0;_<n.inChannels;++_)for(var C=0;C<n.inDepth;++C)for(var E=0;E<n.inHeight;++E)for(var S=0;S<n.inWidth;++S){for(var k=C-m,O=E-v,T=S-g,N=0,A=0;A<p;A+=l){var I=(k+A)/r;if(!(I<0||I>=n.outDepth||Math.floor(I)!==I))for(var R=0;R<h;R+=c){var P=(O+R)/i;if(!(P<0||P>=n.outHeight||Math.floor(P)!==P))for(var M=0;M<d;M+=f){var j=(T+M)/o;j<0||j>=n.outWidth||Math.floor(j)!==j||(N+=w.get(x,I,P,j,_))}}}y.set(N*b,x,C,E,S,_)}return y.toTensor()},t.prototype.maxPool3d=function(e,t){return $f(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=br(t.outShape,"int32"),r=t.strideDepth,i=t.strideHeight,o=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,d=t.padInfo.left,m=this.bufferSync(e),g=0;g<t.batchSize;++g)for(var v=0;v<t.inChannels;++v)for(var y=0;y<t.outDepth;++y){for(var b=y*r-p,w=b;w<0;)w+=a;for(var x=Math.min(t.inDepth,l+b),_=0;_<t.outHeight;++_){for(var C=_*i-h,E=C;E<0;)E+=s;for(var S=Math.min(t.inHeight,c+C),k=0;k<t.outWidth;++k){for(var O=k*o-d,T=O;T<0;)T+=u;for(var N=Math.min(t.inWidth,f+O),A=Number.NEGATIVE_INFINITY,I=-1,R=w;R<x;R+=a)for(var P=R-b,M=E;M<S;M+=s)for(var j=M-C,D=T;D<N;D+=u){var L=D-O,F=m.get(g,R,M,D,v);F>=A&&(A=F,I=P*c*f+j*c+L)}n.set(I,g,y,_,k,v)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){$f([t,n],"maxPool3dBackprop");for(var i=this.maxPool3dPositions(t,r),o=r.strideDepth,a=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,l=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterDepth,p=r.effectiveFilterHeight,h=r.effectiveFilterWidth,d=f-1-r.padInfo.front,m=h-1-r.padInfo.left,g=p-1-r.padInfo.top,v=br(t.shape,"float32"),y=this.bufferSync(i),b=this.bufferSync(e),w=0;w<r.batchSize;++w)for(var x=0;x<r.inChannels;++x)for(var _=0;_<r.inDepth;++_)for(var C=0;C<r.inHeight;++C)for(var E=0;E<r.inWidth;++E){for(var S=_-d,k=C-g,O=E-m,T=0,N=0;N<f;N+=u){var A=(S+N)/o;if(!(A<0||A>=r.outDepth||Math.floor(A)!==A))for(var I=0;I<p;I+=l){var R=(k+I)/a;if(!(R<0||R>=r.outHeight||Math.floor(R)!==R))for(var P=0;P<h;P+=c){var M=(O+P)/s;if(!(M<0||M>=r.outWidth||Math.floor(M)!==M)){var j=f*p*h-1-y.get(w,A,R,M,x)===N*p*h+I*h+P?1:0;0!==j&&(T+=b.get(w,A,R,M,x)*j)}}}}v.set(T,w,_,C,E,x)}return v.toTensor()},t.prototype.cast=function(e,t){return Wi(e,t,this)},t.prototype.reshape=function(e,t){return Vi(e,t)},t.prototype.avgPool=function(e,t){return $f(e,"avgPool"),this.pool(e,t,"avg").toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){$f(e,"resizeBilinear");for(var i=e.shape,o=i[0],a=i[1],s=i[2],u=i[3],l=this.readSync(e.dataId),c=new Float32Array(R([o,t,n,u])),f=[r&&t>1?a-1:a,r&&n>1?s-1:s],p=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=0,d=f[0]/p[0],m=f[1]/p[1],g=0;g<o;g++)for(var v=0;v<t;v++)for(var y=d*v,b=Math.floor(y),w=y-b,x=Math.min(a-1,Math.ceil(y)),_=g*e.strides[0]+b*e.strides[1],C=g*e.strides[0]+x*e.strides[1],E=0;E<n;E++)for(var S=m*E,k=Math.floor(S),O=S-k,T=Math.min(s-1,Math.ceil(S)),N=_+k*e.strides[2],A=C+k*e.strides[2],I=_+T*e.strides[2],P=C+T*e.strides[2],M=0;M<u;M++){var j=l[N+M],D=l[A+M],L=j+(l[I+M]-j)*O,F=L+(D+(l[P+M]-D)*O-L)*w;c[h++]=F}return Fn(c,[o,t,n,u])},t.prototype.resizeBilinearBackprop=function(e,t,n){$f([e,t],"resizeBilinearBackprop");for(var r=t.shape,i=r[0],o=r[1],a=r[2],s=r[3],u=e.shape,l=u[1],c=u[2],f=new Float32Array(i*o*a*s),p=[n&&l>1?o-1:o,n&&c>1?a-1:a],h=[n&&l>1?l-1:l,n&&c>1?c-1:c],d=p[0]/h[0],m=p[1]/h[1],g=this.readSync(e.dataId),v=0,y=0;y<i;y++)for(var b=y*t.strides[0],w=0;w<l;w++)for(var x=w*d,_=Math.floor(x),C=Math.min(Math.ceil(x),o-1),E=b+_*t.strides[1],S=b+C*t.strides[1],k=x-_,O=1-k,T=0;T<c;T++)for(var N=T*m,A=Math.floor(N),I=Math.min(Math.ceil(N),a-1),R=N-A,P=1-R,M=E+A*t.strides[2],j=E+I*t.strides[2],D=S+A*t.strides[2],L=S+I*t.strides[2],F=O*P,z=O*R,B=k*P,U=k*R,W=0;W<s;W++){var V=g[v++];f[M+W]+=V*F,f[j+W]+=V*z,f[D+W]+=V*B,f[L+W]+=V*U}return Hn(f,[i,a,o,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){$f(e,"resizeNearestNeighbor");for(var i=e.shape,o=i[0],a=i[1],s=i[2],u=i[3],l=this.readSync(e.dataId),c=new Float32Array(o*t*n*u),f=[r&&t>1?a-1:a,r&&n>1?s-1:s],p=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=f[0]/p[0],d=f[1]/p[1],m=0,g=0;g<o;g++)for(var v=g*e.strides[0],y=0;y<t;y++)for(var b=h*y,w=v+Math.min(a-1,r?Math.round(b):Math.floor(b))*e.strides[1],x=0;x<n;x++)for(var _=d*x,C=w+Math.min(s-1,r?Math.round(_):Math.floor(_))*e.strides[2],E=0;E<u;E++){var S=l[C+E];c[m++]=S}return Fn(c,[o,t,n,u],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){$f([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,i=r[0],o=r[1],a=r[2],s=r[3],u=e.shape,l=u[1],c=u[2],f=new Float32Array(i*o*a*s),p=this.readSync(e.dataId),h=[n&&l>1?o-1:o,n&&c>1?a-1:a],d=[n&&l>1?l-1:l,n&&c>1?c-1:c],m=h[0]/d[0],g=h[1]/d[1],v=1/m,y=1/g,b=2*Math.ceil(v)+2,w=2*Math.ceil(y)+2,x=0;x<i;x++)for(var _=x*t.strides[0],C=0;C<o;C++)for(var E=_+C*t.strides[1],S=Math.floor(C*v),k=Math.floor(S-b/2),O=0;O<a;O++)for(var T=E+O*t.strides[2],N=Math.floor(O*y),A=Math.floor(N-w/2),I=0;I<s;I++){for(var R=0,P=0;P<b;P++){var M=P+k;if(!(M<0||M>=l)){var j=_+M*e.strides[1],D=M*m;if(C===Math.min(o-1,n?Math.round(D):Math.floor(D)))for(var L=0;L<w;L++){var F=L+A;if(!(F<0||F>=c)){var z=j+F*e.strides[2],B=F*g;O===Math.min(a-1,n?Math.round(B):Math.floor(B))&&(R+=p[z+I])}}}}f[T+I]=R}return Hn(f,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,i,o){$f([e,t,n,i,o],"batchNorm");for(var a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=this.readSync(n.dataId),l=i?this.readSync(i.dataId):new Float32Array([1]),c=o?this.readSync(o.dataId):new Float32Array([0]),f=new Float32Array(a.length),p=c.length,h=l.length,d=u.length,m=s.length,g=0,v=0,y=0,b=0,w=0;w<a.length;++w)f[w]=c[g++]+(a[w]-s[v++])*l[y++]/Math.sqrt(u[b++]+r),g>=p&&(g=0),v>=m&&(v=0),y>=h&&(y=0),b>=d&&(b=0);return Hn(f,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,i){$f(e,"localResponseNormalization4D");var o=e.shape[3],a=o-1,s=this.readSync(e.dataId),u=e.size,l=new Float32Array(u);function c(e){for(var n=e%o,r=e-n+Math.max(0,n-t),i=e-n+Math.min(n+t,a),u=0;r<=i;r++){var l=s[r];u+=l*l}return u}for(var f=0;f<u;f++){var p=c(f),h=s[f]*Math.pow(n+r*p,-i);l[f]=h}return Hn(l,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,i,o,a){$f(e,"LRNGrad");for(var s=e.shape[3],u=this.readSync(e.dataId),l=this.readSync(t.dataId),c=this.readSync(n.dataId),f=new Float32Array(e.size),p=e.size,h=0;h<p;h++){for(var d=h%s,m=h-d+Math.max(0,d-r),g=h-d+Math.min(s,d+r+1),v=0,y=m;y<g;y++)v+=Math.pow(l[y],2);for(v=o*v+i,y=m;y<g;y++){var b=-2*o*a*l[y]*c[h]/v;h===y&&(b+=Math.pow(v,-a)),b*=u[h],f[y]+=b}}return Hn(f,e.shape)},t.prototype.multinomial=function(e,t,n,r){$f(e,"multinomial");for(var i=t?e:_i(e),o=i.shape[0],a=i.shape[1],s=Yn([o,n],"int32"),u=this.readSync(s.dataId),l=this.readSync(i.dataId),c=0;c<o;++c){var f=c*a,p=new Float32Array(a-1);p[0]=l[f];for(var h=1;h<p.length;++h)p[h]=p[h-1]+l[f+h];for(var d=mr(r.toString()),m=c*n,g=0;g<n;++g){var v=d();u[m+g]=p.length;for(var y=0;y<p.length;y++)if(v<p[y]){u[m+g]=y;break}}}return s},t.prototype.oneHot=function(e,t,n,r){$f(e,"oneHot");var i=new Float32Array(e.size*t);i.fill(r);for(var o=this.readSync(e.dataId),a=0;a<e.size;++a)o[a]>=0&&o[a]<t&&(i[a*t+o[a]]=n);return Wn(i,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,i){return $f(e,"nonMaxSuppression"),Ji(this.readSync(e.dataId),this.readSync(t.dataId),n,r,i)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],i=br(e.shape,"float32"),o=br(e.shape,"float32"),a=Dn(e).as2D(n,r),s=Ln(e).as2D(n,r),u=0;u<n;u++)for(var l=a.slice([u,0],[1,r]),c=s.slice([u,0],[1,r]),f=jn(l,c),p=this.readSync(this.fftImpl(f,t).dataId),h=0;h<r;h++){var d=Ki(p,h);i.values[u*r+h]=d.real,o.values[u*r+h]=d.imag}return jn(i.toTensor(),o.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var i=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(i=jn(Dn(i).div(Bn(r)),Ln(i).div(Bn(r)))),i}var o=this.readSync(e.dataId),a=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(o,r,t));return jn(a.real,a.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),i=t/2,o=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}(r),a=jn(o.real,o.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}(r),u=jn(s.real,s.imag).as1D();a=this.fftRadix2(a,i,n),u=this.fftRadix2(u,i,n);var l=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),i=0;i<Math.ceil(e/2);i++){var o=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(o),r[i]=Math.sin(o)}return{real:n,imag:r}}(t,n),c=jn(l.real,l.imag).mul(u),f=a.add(c),p=a.sub(c),h=Dn(f).concat(Dn(p)),d=Ln(f).concat(Ln(p));return jn(h,d).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),i=0;i<t;i++){for(var o=0,a=0,s=0;s<t;s++){var u=Yi(i*s,t,n),l=Ki(e,s);o+=l.real*u.real-l.imag*u.imag,a+=l.real*u.imag+l.imag*u.real}n&&(o/=t,a/=t),Xi(r,o,a,i)}return r},t.prototype.depthToSpace=function(e,t,n){T("NHWC"===n,function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n}),T(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+t});for(var r=e.shape[0],i=e.shape[1],o=e.shape[2],a=e.shape[3],s=i*t,u=o*t,l=a/(t*t),c=this.readSync(e.dataId),f=new Float32Array(r*s*u*l),p=0,h=0;h<r;++h)for(var d=0;d<s;++d)for(var m=Math.floor(d/t),g=d%t,v=0;v<u;++v)for(var y=Math.floor(v/t),b=(g*t+v%t)*l,w=0;w<l;++w){var x=w+b+a*(y+o*(m+i*h));f[p++]=c[x]}return Hn(f,[r,s,u,l])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var i=Ni(e.shape,t.shape),o=br(i,n),a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=Oi(e.shape,i),l=Oi(t.shape,i),c=o.values;if(u.length+l.length===0)for(var f=0;f<c.length;++f)c[f]=r(a[f%a.length],s[f%s.length]);else{var p=this.bufferSync(e),h=this.bufferSync(t),d=function(n){var i=o.indexToLoc(n),f=i.slice(-e.rank);u.forEach(function(e){return f[e]=0});var d=p.locToIndex(f),m=i.slice(-t.rank);l.forEach(function(e){return m[e]=0});var g=h.locToIndex(m);c[n]=r(a[d],s[g])};for(f=0;f<c.length;++f)d(f)}return o.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=Ni(e.shape,t.shape),i=br(r,"float32"),o=br(r,"float32"),a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=Oi(e.shape,r),l=Oi(t.shape,r),c=i.values,f=o.values;if(u.length+l.length===0)for(var p=0;p<c.length;p++){var h=p%a.length,d=p%s.length,m=n(a[2*h],a[2*h+1],s[2*d],s[2*d+1]);c[p]=m.real,f[p]=m.imag}else{var g=this.bufferSync(this.data.get(e.dataId).complexTensors.real),v=this.bufferSync(this.data.get(t.dataId).complexTensors.real),y=function(r){var o=i.indexToLoc(r),p=o.slice(-e.rank);u.forEach(function(e){return p[e]=0});var h=g.locToIndex(p),d=o.slice(-t.rank);l.forEach(function(e){return d[e]=0});var m=v.locToIndex(d),y=n(a[2*h],a[2*h+1],s[2*m],s[2*m+1]);c[r]=y.real,f[r]=y.imag};for(p=0;p<c.length;p++)y(p)}return this.complex(i.toTensor(),o.toTensor())},t.prototype.split=function(e,t,n){return io(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,i,o){for(var a=e.shape,s=a[0],u=a[1],l=a[2],c=a[3],f=t.shape[0],p=r[0],h=r[1],d=br([f,p,h,c],"float32"),m=this.readSync(t.dataId),g=this.readSync(n.dataId),v=this.readSync(e.dataId),y=e.strides,b=d.strides,w=0;w<f;w++){var x=4*w,_=m[x],C=m[x+1],E=m[x+2],S=m[x+3],k=g[w];if(!(k>=s))for(var O=p>1?(E-_)*(u-1)/(p-1):0,T=h>1?(S-C)*(l-1)/(h-1):0,N=0;N<p;N++){var A=p>1?_*(u-1)+N*O:.5*(_+E)*(u-1);if(A<0||A>u-1)for(var I=0;I<h;I++)for(var R=0;R<c;R++){var P=R+I*b[2]+N*b[1]+w*b[0];d.values[P]=o}else if("bilinear"===i){var M=Math.floor(A),j=Math.ceil(A),D=A-M;for(I=0;I<h;I++)if((G=h>1?C*(l-1)+I*T:.5*(C+S)*(l-1))<0||G>l-1)for(R=0;R<c;R++)P=R+I*b[2]+N*b[1]+w*b[0],d.values[P]=o;else{var L=Math.floor(G),F=Math.ceil(G),z=G-L;for(R=0;R<c;R++){var B=v[P=R+L*y[2]+M*y[1]+k*y[0]],U=v[P=R+F*y[2]+M*y[1]+k*y[0]],W=v[P=R+L*y[2]+j*y[1]+k*y[0]],V=B+(U-B)*z,H=W+(v[P=R+F*y[2]+j*y[1]+k*y[0]]-W)*z;P=R+I*b[2]+N*b[1]+w*b[0],d.values[P]=V+(H-V)*D}}}else for(I=0;I<h;++I){var G;if((G=h>1?C*(l-1)+I*T:.5*(C+S)*(l-1))<0||G>l-1)for(R=0;R<c;R++)P=R+I*b[2]+N*b[1]+w*b[0],d.values[P]=o;else{var q=Math.round(G),K=Math.round(A);for(R=0;R<c;R++){var X=R+q*y[2]+K*y[1]+k*y[0],Y=R+I*b[2]+N*b[1]+w*b[0];d.values[Y]=v[X]}}}}}return d.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var i=oi(0,e,n),o=i.sliceRank,a=i.numUpdates,s=i.sliceSize,u=i.strides,l=i.outputSize;return this.scatter(e,t,n,l,s,a,o,u,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],i=Qr(e,t),o=i[0],a=i[1],s=i[2],u=i[3];if(0===a)return Fn([],o,e.dtype);for(var l=new Ce([a,s],e.dtype),c=this.readSync(t.dataId),f=this.readSync(e.dataId),p=0;p<a;p++){for(var h=[],d=0,m=0;m<r;m++){var g=c[p*r+m];d+=g*u[m],h.push(g)}if(d<0||d>=e.size/s)throw new Error("Invalid indices: "+h+" does not index into "+e.shape);for(var v=0;v<s;v++)l.values[p*s+v]=f[d*s+v]}return l.toTensor().reshape(o)},t.prototype.scatterND=function(e,t,n){var r=oi(0,e,n),i=r.sliceRank,o=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,l=Bn(0);return this.scatter(e,t,n,u,a,o,i,s,l,!0)},t.prototype.fill=function(e,t,n){var r=V(n=n||Q(t),R(e));return r.fill(t),He.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=V(e.dtype,R(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return Hi(e,t,n)},t.prototype.scatter=function(e,t,n,r,i,o,a,s,u,l){var c=[r/i,i],f=this.readSync(e.dataId),p=this.readSync(t.dataId);if(0===r)return Fn([],n,t.dtype);var h=new Ce(c,t.dtype);h.values.fill(this.readSync(u.dataId)[0]);for(var d=0;d<o;d++){for(var m=[],g=0,v=0;v<a;v++){var y=f[d*a+v];m.push(y),g+=y*s[v]}if(g<0||g>=r/i)throw new Error("Invalid indices: "+m+" does not index into "+n);for(var b=0;b<i;b++)l?h.values[g*i+b]+=p[d*i+b]:h.values[g*i+b]=0===t.rank?p[0]:p[d*i+b]}return h.toTensor().reshape(n)},t}(Si);He.registerBackend("cpu",function(){return new Qf},1);for(var ep=0,tp=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t,o=i.boxes,a=i.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,f=s.softNmsSigma,p=n;$f(o,"NonMaxSuppressionWithScore");var h=Qi(p.data.get(o.dataId).values,p.data.get(a.dataId).values,u,l,c,f);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n;$f(r,"square");for(var o=i.data.get(r.dataId).values,a=new Float32Array(o.length),s=0;s<o.length;++s){var u=o[s];a[s]=u*u}return{dataId:i.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:su,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,i=r.a,o=r.b,a=n;$f([i,o],su);var s=a.data.get(i.dataId).values,u=a.data.get(o.dataId).values,l=function(e,t,n,r,i,o){var a=Ni(e,t),s=a.length,u=ne(a),l=W(i,R(a)),c=e.length,f=t.length,p=ne(e),h=ne(t),d=Oi(e,a),m=Oi(t,a);if(d.length+m.length===0)for(var g=0;g<l.length;++g)l[g]=o(n[g%n.length],r[g%r.length]);else{var v=function(e){var t=pe(e,s,u),i=t.slice(-c);d.forEach(function(e){return i[e]=0});var a=fe(i,c,p),g=t.slice(-f);m.forEach(function(e){return g[e]=0});var v=fe(g,f,h);l[e]=o(n[a],r[v])};for(g=0;g<l.length;++g)v(g)}return[l,a]}(i.shape,o.shape,s,u,i.dtype,function(e,t){var n=e-t;return n*n}),c=l[0],f=l[1];return{dataId:a.write(c,f,i.dtype),shape:f,dtype:i.dtype}}}];ep<tp.length;ep++)b(tp[ep]);for(var np,rp=function(e){this.variableNames=["A"];var t=ho(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},ip=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=ho(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},op=0,ap=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.pixels,o=r.numChannels,a="undefined"!=typeof HTMLVideoElement&&i instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement,u=a?[i.videoWidth,i.videoHeight]:[i.width,i.height],l=u[0],c=u[1],f=[c,l],h=[c,l,o];(s||a)&&(null==np&&(np=document.createElement("canvas").getContext("2d")),np.canvas.width=l,np.canvas.height=c,np.drawImage(i,0,0,l,c),i=np.canvas);var d=n.makeTensorInfo(f,"int32");n.texData.get(d.dataId).usage=Xe.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),i);var m=p().getBool("WEBGL_PACK")?new ip(h):new rp(h),g=n.runWebGLProgram(m,[d],"int32");return n.disposeData(d.dataId),g}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;bn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var i=t,o=i.boxes,a=i.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,f=s.softNmsSigma,p=n,h=Qi(p.readSync(o.dataId),p.readSync(a.dataId),u,l,c,f);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n,o=new Ts(r.shape,"return x * x;");return i.runWebGLProgram(o,[r],r.dtype)}},{kernelName:su,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,i=r.a,o=r.b,a=n,s=p().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ho("return (a - b) * (a - b);",i.shape,o.shape):new Wo("return (a - b) * (a - b);",i.shape,o.shape);return a.compileAndRun(s,[i,o])}}];op<ap.length;op++)b(ap[op]);for(var sp=0,up=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:su,gradFunc:function(e,t){var n=t[0],r=t[1],i=Bn(2);return{a:function(){return Cl(e,Cl(i,Tl(n,r)))},b:function(){return Cl(e,Cl(i,Tl(r,n)))}}}}];sp<up.length;sp++)w(up[sp]);var lp=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();p().get("IS_BROWSER")&&p().setPlatform("browser",new lp);var cp,fp=function(){return n(555)},pp=function(){function e(){this.util=n(556),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=p().global.fetch?p().global.fetch(e,t):(null==cp&&(cp=fp()),cp(e,t))},e.prototype.now=function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();p().get("IS_NODE")&&p().setPlatform("node",new pp);var hp={float32:4,int32:4,uint16:2,uint8:1,bool:1},dp=4;function mp(e,t){for(var n={},r=0,i=function(t){var i=t.name,o=t.dtype,a=t.shape,s=R(a),u=void 0;if("quantization"in t){var l=t.quantization;if("uint8"!==l.dtype&&"uint16"!==l.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+l.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var c=hp[l.dtype],f=e.slice(r,r+s*c),p="uint8"===l.dtype?new Uint8Array(f):new Uint16Array(f);if("float32"===o)u=Float32Array.from(p,function(e){return e*l.scale+l.min});else{if("int32"!==o)throw new Error("Unsupported dtype in weight '"+i+"': "+o);u=Int32Array.from(p,function(e){return Math.round(e*l.scale+l.min)})}r+=s*c}else if("string"===o){var h=R(t.shape);u=[];for(var d=0;d<h;d++){var m=new Uint32Array(e.slice(r,r+dp))[0];r+=dp;var g=new Uint8Array(e.slice(r,r+m));u.push(g),r+=m}}else{var v=hp[o];if(f=e.slice(r,r+s*v),"float32"===o)u=new Float32Array(f);else if("int32"===o)u=new Int32Array(f);else{if("bool"!==o)throw new Error("Unsupported dtype in weight '"+i+"': "+o);u=new Uint8Array(f)}r+=s*v}n[i]=Fn(u,a,o)},o=0,a=t;o<a.length;o++)i(a[o]);return n}function gp(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach(function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)});var r=new Uint8Array(t),i=0;return n.forEach(function(e){r.set(new Uint8Array(e.buffer),i),i+=e.byteLength}),r.buffer}var vp=void 0!==i&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function yp(e){return vp?i.byteLength(e):new Blob([e]).size}function bp(e){var t=0;e.forEach(function(e){t+=e.byteLength});var n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(new Uint8Array(e),r),r+=e.byteLength}),n.buffer}function wp(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function xp(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:yp(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:yp(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var _p=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var i=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(e){var n=e(t,r);null!==n&&i.push(n)}),i},e}(),Cp="://",Ep=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){T(null!=t,function(){return"scheme must not be undefined or null."}),t.endsWith(Cp)&&(t=t.slice(0,t.indexOf(Cp))),T(t.length>0,function(){return"scheme must not be an empty string."});var r=e.getInstance();T(null==r.managers[t],function(){return"A model store manager is already registered for scheme '"+t+"'."}),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function Sp(e){if(-1===e.indexOf(Cp))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+Ep.getSchemes().join(","));return{scheme:e.split(Cp)[0],path:e.split(Cp)[1]}}function kp(e,t,n){return void 0===n&&(n=!1),u(this,void 0,void 0,function(){var r,i,o,a,s,u,c,f,p;return l(this,function(l){switch(l.label){case 0:return T(e!==t,function(){return"Old path and new path are the same: '"+e+"'"}),T((r=_p.getLoadHandlers(e)).length>0,function(){return"Copying failed because no load handler is found for source URL "+e+"."}),T(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."}),i=r[0],T((o=_p.getSaveHandlers(t)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+t+"."}),T(o.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."}),a=o[0],s=Sp(e).scheme,u=Sp(e).path,c=s===Sp(e).scheme,[4,i.load()];case 1:return f=l.sent(),n&&c?[4,Ep.getManager(s).removeModel(u)]:[3,3];case 2:l.sent(),l.label=3;case 3:return[4,a.save(f)];case 4:return p=l.sent(),!n||c?[3,6]:[4,Ep.getManager(s).removeModel(u)];case 5:l.sent(),l.label=6;case 6:return[2,p.modelArtifactsInfo]}})})}var Op="models_store",Tp="model_info_store";function Np(){if(!p().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Ap(e){var t=e.result;t.createObjectStore(Op,{keyPath:"modelPath"}),t.createObjectStore(Tp,{keyPath:"modelPath"})}var Ip=function(){function e(e){if(this.indexedDB=Np(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){return l(this,function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){return l(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(e,t){var n=this;return new Promise(function(e,r){var i=n.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return Ap(i)},i.onsuccess=function(){var o=i.result;if(null==t){var a=o.transaction(Op,"readonly"),s=a.objectStore(Op).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return o.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return o.close(),r(s.error)},a.oncomplete=function(){return o.close()}}else{var u,l=xp(t),c=o.transaction(Tp,"readwrite"),f=c.objectStore(Tp),p=f.put({modelPath:n.modelPath,modelArtifactsInfo:l});p.onsuccess=function(){var i=(u=o.transaction(Op,"readwrite")).objectStore(Op).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:l});i.onsuccess=function(){return e({modelArtifactsInfo:l})},i.onerror=function(e){var t=(f=c.objectStore(Tp)).delete(n.modelPath);t.onsuccess=function(){return o.close(),r(i.error)},t.onerror=function(e){return o.close(),r(i.error)}}},p.onerror=function(e){return o.close(),r(p.error)},c.oncomplete=function(){null==u?o.close():u.oncomplete=function(){return o.close()}}}},i.onerror=function(e){return r(i.error)}})},e.URL_SCHEME="indexeddb://",e}(),Rp=function(e){return p().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Ip.URL_SCHEME)?(t=e.slice(Ip.URL_SCHEME.length),new Ip(t)):null;var t};_p.registerSaveRouter(Rp),_p.registerLoadRouter(Rp);var Pp=function(){function e(){this.indexedDB=Np()}return e.prototype.listModels=function(){return u(this,void 0,void 0,function(){var e=this;return l(this,function(t){return[2,new Promise(function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return Ap(r)},r.onsuccess=function(){var e=r.result,i=e.transaction(Tp,"readonly"),o=i.objectStore(Tp).getAll();o.onsuccess=function(){for(var e={},n=0,r=o.result;n<r.length;n++){var i=r[n];e[i.modelPath]=i.modelArtifactsInfo}t(e)},o.onerror=function(t){return e.close(),n(o.error)},i.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}})]})})},e.prototype.removeModel=function(e){return u(this,void 0,void 0,function(){var t=this;return l(this,function(n){var r;return e=(r=e).startsWith(Ip.URL_SCHEME)?r.slice(Ip.URL_SCHEME.length):r,[2,new Promise(function(n,r){var i=t.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return Ap(i)},i.onsuccess=function(){var t,o=i.result,a=o.transaction(Tp,"readwrite"),s=a.objectStore(Tp),u=s.get(e);u.onsuccess=function(){if(null==u.result)return o.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var i=s.delete(e),a=function(){var i=(t=o.transaction(Op,"readwrite")).objectStore(Op).delete(e);i.onsuccess=function(){return n(u.result.modelArtifactsInfo)},i.onerror=function(e){return r(u.error)}};i.onsuccess=a,i.onerror=function(e){return a(),o.close(),r(u.error)}},u.onerror=function(e){return o.close(),r(u.error)},a.oncomplete=function(){null==t?o.close():t.oncomplete=function(){return o.close()}}},i.onerror=function(e){return r(i.error)}})]})})},e}();if(p().getBool("IS_BROWSER"))try{Ep.registerManager(Ip.URL_SCHEME,new Pp)}catch(a){}var Mp="/",jp="tensorflowjs_models",Dp="info",Lp="model_topology",Fp="weight_specs",zp="weight_data",Bp="model_metadata";function Up(e){return{info:[jp,e,Dp].join(Mp),topology:[jp,e,Lp].join(Mp),weightSpecs:[jp,e,Fp].join(Mp),weightData:[jp,e,zp].join(Mp),modelMetadata:[jp,e,Bp].join(Mp)}}function Wp(e){var t=e.split(Mp);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(Mp)}var Vp=function(){function e(e){if(!p().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Up(this.modelPath)}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){var t,n,r;return l(this,function(o){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=xp(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(vp)return i.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,o=t.length;r<o;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){var e,t,n,r,o,a,s;return l(this,function(u){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(o=this.LS.getItem(this.keys.modelMetadata))&&(a=JSON.parse(o),t.format=a.format,t.generatedBy=a.generatedBy,t.convertedBy=a.convertedBy,t.userDefinedMetadata=a.userDefinedMetadata),null==(s=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(vp){var t=i.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),o=0;o<n.length;++o)r.set([n.charCodeAt(o)],o);return r.buffer}(s),[2,t]})})},e.URL_SCHEME="localstorage://",e}(),Hp=function(e){return p().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Vp.URL_SCHEME)?(t=e.slice(Vp.URL_SCHEME.length),new Vp(t)):null;var t};_p.registerSaveRouter(Hp),_p.registerLoadRouter(Hp);var Gp=function(){function e(){T(p().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),T("undefined"==typeof window||void 0!==window.localStorage,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return e.prototype.listModels=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i,o;return l(this,function(a){for(e={},t=jp+Mp,n=Mp+Dp,r=0;r<this.LS.length;++r)(i=this.LS.key(r)).startsWith(t)&&i.endsWith(n)&&(o=Wp(i),e[o]=JSON.parse(this.LS.getItem(i)));return[2,e]})})},e.prototype.removeModel=function(e){return u(this,void 0,void 0,function(){var t,n;return l(this,function(r){var i;if(e=(i=e).startsWith(Vp.URL_SCHEME)?i.slice(Vp.URL_SCHEME.length):i,t=Up(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]})})},e}();if(p().getBool("IS_BROWSER"))try{Ep.registerManager(Vp.URL_SCHEME,new Gp)}catch(a){}var qp="model",Kp=".json",Xp=".weights.bin";function Yp(e){return new Promise(function(e){return setTimeout(e)}).then(e)}var Zp=function(){function e(t){if(!p().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t=qp),this.modelTopologyFileName=t+Kp,this.weightDataFileName=t+Xp}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){var t,n,r,i,o,a;return l(this,function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(o=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,o.href=i,[4,Yp(function(){return o.dispatchEvent(new MouseEvent("click"))})];case 2:return s.sent(),null==e.weightData?[3,4]:((a=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,a.href=t,[4,Yp(function(){return a.dispatchEvent(new MouseEvent("click"))})]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:xp(e)}]}})})},e.URL_SCHEME="downloads://",e}(),$p=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return u(this,void 0,void 0,function(){var e,t,n=this;return l(this,function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise(function(r,i){var o=new FileReader;o.onload=function(o){var a=JSON.parse(o.target.result),s=a.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var u=a.weightsManifest;if(null!=u){var l;try{l=n.checkManifestAndWeightFiles(u,t)}catch(e){return void i(e)}var c=[],f=[],p=[];u.forEach(function(e){e.paths.forEach(function(e){f.push(e),p.push(null)}),c.push.apply(c,e.weights)}),u.forEach(function(e){e.paths.forEach(function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,i=f.indexOf(e);p[i]=n,-1===p.indexOf(null)&&r({modelTopology:s,weightSpecs:c,weightData:bp(p),format:a.format,generatedBy:a.generatedBy,convertedBy:a.convertedBy,userDefinedMetadata:a.userDefinedMetadata})},t.onerror=function(t){return i("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(l[e])})})}else i(new Error("weightManifest field is missing from file "+e.name))}else i(new Error("modelTopology field is missing from file "+e.name))},o.onerror=function(t){return i("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},o.readAsText(e)})]})})},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map(function(e){return wp(e.name)}),i={},o=0,a=e;o<a.length;o++)a[o].paths.forEach(function(e){var o=wp(e);if(-1!==n.indexOf(o))throw new Error("Duplicate file basename found in weights manifest: '"+o+"'");if(n.push(o),-1===r.indexOf(o))throw new Error("Weight file with basename '"+o+"' is not provided.");i[e]=t[r.indexOf(o)]});if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return i},e}();function Jp(e,t,n,r){!function(e){T(null!=e&&Array.isArray(e)&&e.length>0,function(){return"promises must be a none empty array"})}(e),function(e,t){T(e>=0&&e<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e}),T(t>=0&&t<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t}),T(t>=e,function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t})}(n=null==n?0:n,r=null==r?1:r);var i=0;return Promise.all(e.map(function(o){return o.then(function(o){var a=n+ ++i/e.length*(r-n);return t(a),o}),o}))}function Qp(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,f;return l(this,function(l){switch(l.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?p().platform.fetch:t.fetchFunc,r=e.map(function(e){return n(e,t.requestInit,{isBinary:!0})}),i=0,o=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return a=l.sent(),[3,4];case 2:return[4,Jp(r,t.onProgress,i,o)];case 3:a=l.sent(),l.label=4;case 4:return s=a.map(function(e){return e.arrayBuffer()}),u=.5,c=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return f=l.sent(),[3,8];case 6:return[4,Jp(s,t.onProgress,u,c)];case 7:f=l.sent(),l.label=8;case 8:return[2,f]}})})}function eh(e){var t=this;return function(n,r,i){return void 0===r&&(r=""),u(t,void 0,void 0,function(){var t,o,a,s,u,c,f,p,h,d;return l(this,function(l){switch(l.label){case 0:if(t=n.map(function(){return!1}),o={},a=null!=i?i.map(function(){return!1}):[],s=[],n.forEach(function(e,n){var r=0;e.weights.forEach(function(e){var u="quantization"in e?e.quantization.dtype:e.dtype,l=hp[u]*R(e.shape),c=function(){t[n]=!0,null==o[n]&&(o[n]=[]),o[n].push({manifestEntry:e,groupOffset:r,sizeBytes:l})};null!=i?i.forEach(function(t,n){t===e.name&&(c(),a[n]=!0)}):c(),s.push(e.name),r+=l})}),!a.every(function(e){return e}))throw u=i.filter(function(e,t){return!a[t]}),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return c=t.reduce(function(e,t,n){return t&&e.push(n),e},[]),f=[],c.forEach(function(e){n[e].paths.forEach(function(e){var t=r+(r.endsWith("/")?"":"/")+e;f.push(t)})}),[4,e(f)];case 1:return p=l.sent(),h={},d=0,c.forEach(function(e){for(var t=n[e].paths.length,r=0,i=0;i<t;i++)r+=p[d+i].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),u=0,l=0;l<t;l++){var c=new Uint8Array(p[d+l]);s.set(c,u),u+=c.byteLength}o[e].forEach(function(e){var t=mp(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)h[n]=t[n]}),d+=t}),[2,h]}})})}}_p.registerSaveRouter(function(e){return p().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Zp.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new Zp(e)}(e.slice(Zp.URL_SCHEME.length)):null});var th=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(T("function"==typeof t.fetchFunc,function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=t.fetchFunc):this.fetch=p().platform.fetch,T(null!=e&&e.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(e)&&T(2===e.length,function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."}),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){var t,n,r,i;return l(this,function(o){switch(o.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((i=o.sent()).ok)return[2,{modelArtifactsInfo:xp(e),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,c,f,p;return l(this,function(l){switch(l.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=l.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");l.label=2;case 2:return l.trys.push([2,4,,5]),[4,e.json()];case 3:return t=l.sent(),[3,5];case 4:throw l.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,i=t.weightsManifest,o=t.generatedBy,a=t.convertedBy,s=t.format,u=t.userDefinedMetadata,null==r&&null==i)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==i?[3,7]:[4,this.loadWeights(i)];case 6:p=l.sent(),c=p[0],f=p[1],l.label=7;case 7:return[2,{modelTopology:r,weightSpecs:c,weightData:f,userDefinedMetadata:u,generatedBy:o,convertedBy:a,format:s}]}})})},e.prototype.loadWeights=function(e){return u(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,f,p;return l(this,function(l){switch(l.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r,i;return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],i=n[1],o=this.weightPathPrefix||r,a=[],s=0,u=e;s<u.length;s++)c=u[s],a.push.apply(a,c.weights);return f=[],e.forEach(function(e){e.paths.forEach(function(e){f.push(o+e+i)})}),[4,Qp(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return p=l.sent(),[2,[a,bp(p)]]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function nh(e){return null!=e.match(th.URL_SCHEME_REGEX)}var rh=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every(function(e){return nh(e)}):nh(e))?ih(e,{onProgress:t}):null};function ih(e,t){return new th(e,t)}_p.registerSaveRouter(rh),_p.registerLoadRouter(rh);var oh=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return u(this,void 0,void 0,function(){return l(this,function(e){return[2,this.modelArtifacts]})})},e}(),ah=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){return l(this,function(t){return[2,this.saveHandler(e)]})})},e}(),sh=Object.freeze({browserFiles:function(e){return new $p(e)},browserHTTPRequest:function(e,t){return ih(e,t)},concatenateArrayBuffers:bp,decodeWeights:mp,encodeWeights:function(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a,s=this;return l(this,function(c){switch(c.label){case 0:for(n=[],r=[],i=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e),o=function(o){var a=i[o],c=Array.isArray(e)?e[o].tensor:e[a];if("float32"!==c.dtype&&"int32"!==c.dtype&&"bool"!==c.dtype&&"string"!==c.dtype)throw new Error("Unsupported dtype in weight '"+a+"': "+c.dtype);var f={name:a,shape:c.shape,dtype:c.dtype};if("string"===c.dtype){var p=new Promise(function(e){return u(s,void 0,void 0,function(){var t,n,r,i,o,a,s;return l(this,function(u){switch(u.label){case 0:return[4,c.bytes()];case 1:for(t=u.sent(),n=t.reduce(function(e,t){return e+t.length},0)+dp*t.length,r=new Uint8Array(n),i=0,o=0;o<t.length;o++)a=t[o],s=new Uint8Array(new Uint32Array([a.length]).buffer),r.set(s,i),i+=dp,r.set(a,i),i+=a.length;return e(r),[2]}})})});r.push(p)}else r.push(c.data());null!=t&&(f.group=t),n.push(f)},a=0;a<i.length;++a)o(a);return[4,Promise.all(r)];case 1:return[2,{data:gp(c.sent()),specs:n}]}})})},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new oh(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new oh({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new oh({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return _p.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:xp,getSaveHandlers:function(e){return _p.getSaveHandlers(e)},http:ih,isHTTPScheme:nh,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),u(this,void 0,void 0,function(){return l(this,function(i){return[2,eh(function(e){return Qp(e,{requestInit:r})})(e,t,n)]})})},registerLoadRouter:function(e){return _p.registerLoadRouter(e)},registerSaveRouter:function(e){return _p.registerSaveRouter(e)},weightsLoaderFactory:eh,withSaveHandler:function(e){return new ah(e)},copyModel:function(e,t){return u(this,void 0,void 0,function(){return l(this,function(n){return[2,kp(e,t,!1)]})})},listModels:function(){return u(this,void 0,void 0,function(){var e,t,n,r,i,o,a;return l(this,function(s){switch(s.label){case 0:e=Ep.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],[4,Ep.getManager(i).listModels()]):[3,4];case 2:for(a in o=s.sent())t[i+Cp+a]=o[a];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},moveModel:function(e,t){return u(this,void 0,void 0,function(){return l(this,function(n){return[2,kp(e,t,!0)]})})},removeModel:function(e){return u(this,void 0,void 0,function(){var t;return l(this,function(n){return t=Sp(e),[2,Ep.getManager(t.scheme).removeModel(t.path)]})})}}),uh,lh=Mn({confusionMatrix_:function(e,t,n){var r=_n(e,"labels","confusionMatrix"),i=_n(t,"predictions","confusionMatrix");T(null==n||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),T(1===r.rank,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),T(1===i.rank,function(){return"Expected the rank of predictions to be 1, but got "+i.rank}),T(r.shape[0]===i.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+i.shape[0]+". Labels and predictions should have the same number of elements."}),T(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var o=Ar(r.asType("int32"),n),a=Ar(i.asType("int32"),n);return o.transpose().matMul(a).asType("int32")}}),ch=Object.freeze({confusionMatrix:lh}),fh=Mn({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,i=!1,o=!1,a=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);a=!0}if(i&&i&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=g("FromPixels",He.backendName))return He.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,u,l=i?[e.videoWidth,e.videoHeight]:[e.width,e.height],c=l[0],f=l[1];if(a?s=e.getContext("2d").getImageData(0,0,c,f).data:r||n?s=e.data:(o||i)&&(null==uh&&(uh=document.createElement("canvas").getContext("2d")),uh.canvas.width=c,uh.canvas.height=f,uh.drawImage(e,0,0,c,f),s=uh.getImageData(0,0,c,f).data),4===t)u=new Int32Array(s);else{var p=c*f;u=new Int32Array(p*t);for(var h=0;h<p;h++)for(var d=0;d<t;++d)u[h*t+d]=s[4*h+d]}return Vn(u,[f,c,t],"int32")}}),ph=Object.freeze({toPixels:function(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,f,p,h,d,m,g,v,y,b,w,x,_,C,E,S;return l(this,function(l){switch(l.label){case 0:if(n=_n(e,"img","toPixels"),e instanceof Oe||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),i=r[0],o=r[1],(a=2===n.rank?1:n.shape[2])>4||2===a)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return[4,n.data()];case 1:return s=l.sent(),u=n.min(),c=n.max(),[4,Promise.all([u.data(),c.data()])];case 2:if(f=l.sent(),p=f[0],h=f[1],d=p[0],m=h[0],u.dispose(),c.dispose(),"float32"===n.dtype){if(d<0||m>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+d+" - "+m+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(d<0||m>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+d+" - "+m+"].")}for(g="float32"===n.dtype?255:1,v=new Uint8ClampedArray(o*i*4),y=0;y<i*o;++y)b=void 0,w=void 0,x=void 0,_=void 0,1===a?(b=s[y]*g,w=s[y]*g,x=s[y]*g,_=255):3===a?(b=s[3*y]*g,w=s[3*y+1]*g,x=s[3*y+2]*g,_=255):4===a&&(b=s[4*y]*g,w=s[4*y+1]*g,x=s[4*y+2]*g,_=s[4*y+3]*g),v[0+(C=4*y)]=Math.round(b),v[C+1]=Math.round(w),v[C+2]=Math.round(x),v[C+3]=Math.round(_);return null!=t&&(t.width=o,t.height=i,E=t.getContext("2d"),S=new ImageData(v,o,i),E.putImageData(S,0,0)),n!==e&&n.dispose(),[2,v]}})})},fromPixels:fh}),hh=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),dh=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function mh(e){T(null!=e.className,function(){return"Class being registered does not have the static className property defined."}),T("string"==typeof e.className,function(){return"className is required to be a string, but got type "+typeof e.className}),T(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),dh.register(e)}var gh=Object.freeze({Serializable:hh,SerializationMap:dh,registerClass:mh}),vh=.001,yh=.1;function bh(){return 32===He.backend.floatPrecision()?vh:yh}function wh(e,t,n){var r=!0;if((K(e)||K(t))&&(r=!1),K(e)&&K(t)&&(r=!0),r){var i=e.constructor.name,o=t.constructor.name;if(i!==o)throw new Error("Arrays are of different type. Actual: "+i+". Expected: "+o)}if(Array.isArray(e)&&Array.isArray(t)){var a=wn(e),s=wn(t);if(!P(a,s))throw new Error("Arrays have different shapes. Actual: ["+a+"]. Expected: ["+s+"]")}var u=K(e)?e:I(e),l=K(t)?t:I(t);if(u.length!==l.length)throw new Error("Arrays have different lengths actual: "+u.length+" vs expected: "+l.length+".\nActual:   "+u+".\nExpected: "+l+".");for(var c=0;c<l.length;++c){var f=u[c],p=l[c];if(!n(f,p))throw new Error("Arrays differ: actual["+c+"] = "+f+", expected["+c+"] = "+p+".\nActual:   "+u+".\nExpected: "+l+".")}}function xh(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}var _h=Object.freeze({TEST_EPSILON_FLOAT16:yh,expectArraysClose:function(e,t,n){return null==n&&(n=bh()),wh(e,t,function(e,t){return xh(e,t,n)})},testEpsilon:bh,expectPromiseToFail:function(e,t){e().then(function(){return t.fail()},function(){return t()})},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return Z(e)||Z(e[0])||Z(t)||Z(t[0])?wh(e,n,function(e,t){return e==t}):wh(e,t,function(e,t){return xh(e,t,0)})},expectNumbersClose:function(e,t,n){if(null==n&&(n=bh()),!xh(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),Ch="1.7.0",Eh=Object.freeze({gpgpu_util:Ua,webgl_util:Yt,forceHalfFloat:function(){p().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:ou,setWebGLContext:Je,GPGPUContext:Wa}),Sh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),i=r.value,o=r.grads;if(null!=n){var a=n.map(function(e){return{name:e.name,tensor:o[e.name]}});this.applyGradients(a)}else this.applyGradients(o);return sn(o),t?i:(i.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return bi(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&sn(this.iterations_)},t.prototype.saveIterations=function(){return u(this,void 0,void 0,function(){return l(this,function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:Bn(this.iterations_,"int32")}]})})},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return l(this,function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){return l(this,function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},t.prototype.extractIterations=function(e){return u(this,void 0,void 0,function(){var t;return l(this,function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}})})},t}(hh);Object.defineProperty(Sh,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var kh=function(e){function t(t,n,r){void 0===r&&(r=null);var i=e.call(this)||this;return i.learningRate=t,i.rho=n,i.epsilon=r,i.accumulatedGrads=[],i.accumulatedUpdates=[],null==r&&(i.epsilon=He.backend.epsilon()),i}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=He.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:an(function(){return er(i).variable(!1)})}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:an(function(){return er(i).variable(!1)})});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var a=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;an(function(){var e=a.mul(t.rho).add(o.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(a.add(t.epsilon).sqrt()).mul(o),r=s.mul(t.rho).add(n.square().mul(1-t.rho));a.assign(e),s.assign(r);var u=n.mul(-t.learningRate).add(i);i.assign(u)})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(sn(this.accumulatedGrads.map(function(e){return e.variable})),sn(this.accumulatedUpdates.map(function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){var t;return l(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedUpdates=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(Sh);mh(kh);var Oh=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=He.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:an(function(){return Zn(i.shape,t.initialAccumulatorValue).variable(!1)})});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var a=t.accumulatedGrads[r].variable;an(function(){var e=a.add(o.square());a.assign(e);var n=o.div(e.add(He.backend.epsilon()).sqrt()).mul(-t.learningRate).add(i);i.assign(n)})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&sn(this.accumulatedGrads.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(Sh);mh(Oh);var Th=function(e){function t(t,n,r,i){void 0===i&&(i=null);var o=e.call(this)||this;return o.learningRate=t,o.beta1=n,o.beta2=r,o.epsilon=i,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],an(function(){o.accBeta1=Bn(n).variable(),o.accBeta2=Bn(r).variable()}),null==i&&(o.epsilon=He.backend.epsilon()),o}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);an(function(){var r=Tl(1,t.accBeta1),i=Tl(1,t.accBeta2);n.forEach(function(n,o){var a=He.registeredVariables[n];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:n+"/m",variable:an(function(){return er(a).variable(!1)})}),null==t.accumulatedSecondMoment[o]&&(t.accumulatedSecondMoment[o]={originalName:n+"/v",variable:an(function(){return er(a).variable(!1)})});var s=Array.isArray(e)?e[o].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[o].variable,l=t.accumulatedSecondMoment[o].variable,c=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=l.mul(t.beta2).add(s.square().mul(1-t.beta2)),p=c.div(r),h=f.div(i);u.assign(c),l.assign(f);var d=p.div(h.sqrt().add(t.epsilon)).mul(-t.learningRate).add(a);a.assign(d)}}),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&sn(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedSecondMoment&&sn(this.accumulatedSecondMoment.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){var t,n=this;return l(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),an(function(){n.accBeta1.assign(Sl(n.beta1,n.iterations_+1)),n.accBeta2.assign(Sl(n.beta2,n.iterations_+1))}),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedSecondMoment=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(Sh);mh(Th);var Nh=function(e){function t(t,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=0);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=i,a.decay=o,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],an(function(){a.iteration=Bn(0).variable(),a.accBeta1=Bn(n).variable()}),null==i&&(a.epsilon=He.backend.epsilon()),a}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);an(function(){var r=Tl(1,t.accBeta1),i=hl(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach(function(n,o){var a=He.registeredVariables[n];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:n+"/m",variable:er(a).variable(!1)}),null==t.accumulatedWeightedInfNorm[o]&&(t.accumulatedWeightedInfNorm[o]={originalName:n+"/v",variable:er(a).variable(!1)});var s=Array.isArray(e)?e[o].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[o].variable,l=t.accumulatedWeightedInfNorm[o].variable,c=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=l.mul(t.beta2),p=s.abs(),h=f.maximum(p);u.assign(c),l.assign(h);var d=i.div(r).mul(c.div(h.add(t.epsilon))).add(a);a.assign(d)}}),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&sn(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedWeightedInfNorm&&sn(this.accumulatedWeightedInfNorm.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return l(this,function(e){throw new Error("getWeights() is not implemented for Adamax yet.")})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){return l(this,function(e){throw new Error("setWeights() is not implemented for Adamax yet.")})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(Sh);mh(Nh);var Ah=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=He.registeredVariables[n];an(function(){var e=t.c.mul(i).add(o);o.assign(e)})}}),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=un(Bn(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(Sh);mh(Ah);var Ih=function(e){function t(t,n,r){void 0===r&&(r=!1);var i=e.call(this,t)||this;return i.learningRate=t,i.momentum=n,i.useNesterov=r,i.accumulations=[],i.m=Bn(i.momentum),i}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=He.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:an(function(){return er(i).variable(!1)})});var o=t.accumulations[r].variable,a=Array.isArray(e)?e[r].tensor:e[n];null!=a&&an(function(){var e,n=t.m.mul(o).add(a);e=t.useNesterov?t.c.mul(a.add(n.mul(t.m))).add(i):t.c.mul(n).add(i),o.assign(n),i.assign(e)})}),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&sn(this.accumulations.map(function(e){return e.variable}))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(Ah);mh(Ih);var Rh=function(e){function t(t,n,r,i,o){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===i&&(i=null),void 0===o&&(o=!1);var a=e.call(this)||this;if(a.learningRate=t,a.decay=n,a.momentum=r,a.epsilon=i,a.accumulatedMeanSquares=[],a.accumulatedMoments=[],a.accumulatedMeanGrads=[],a.centered=o,null==i&&(a.epsilon=He.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return a}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=He.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:an(function(){return er(i).variable(!1)})}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:an(function(){return er(i).variable(!1)})}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:an(function(){return er(i).variable(!1)})});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var a=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;an(function(){var e=a.mul(t.decay).add(o.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,u=n.mul(t.decay).add(o.mul(1-t.decay)),l=s.mul(t.momentum).add(o.mul(t.learningRate).div(e.sub(u.square().add(t.epsilon)).sqrt()));a.assign(e),n.assign(u),s.assign(l);var c=i.sub(l);i.assign(c)}else{var f=a.mul(t.decay).add(o.square().mul(1-t.decay));l=s.mul(t.momentum).add(o.mul(t.learningRate).div(f.add(t.epsilon).sqrt())),a.assign(f),s.assign(l),c=i.sub(l),i.assign(c)}})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&sn(this.accumulatedMeanSquares.map(function(e){return e.variable})),null!=this.accumulatedMeanGrads&&this.centered&&sn(this.accumulatedMeanGrads.map(function(e){return e.variable})),null!=this.accumulatedMoments&&sn(this.accumulatedMoments.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){var t;return l(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedMoments=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(Sh);mh(Rh);var Ph=function(){function e(){}return e.sgd=function(e){return new Ah(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new Ih(e,t,n)},e.rmsprop=function(e,t,n,r,i){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=!1),new Rh(e,t,n,r,i)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new Th(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new kh(e,t,n)},e.adamax=function(e,t,n,r,i){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===i&&(i=0),new Nh(e,t,n,r,i)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new Oh(e,t)},e}(),Mh={sgd:Ph.sgd,momentum:Ph.momentum,adadelta:Ph.adadelta,adagrad:Ph.adagrad,rmsprop:Ph.rmsprop,adamax:Ph.adamax,adam:Ph.adam},jh="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:void 0!==o?o:function(e){return e()};function Dh(){return new Promise(function(e){return jh(function(){return e()})})}Oe.prototype.squaredDifference=function(e){return uu(this,e)},Se=Zf}).call(this,n(44),n(108),n(160).Buffer,n(552).setImmediate)},function(e,t,n){"use strict";e.exports=n(452)},function(e,t,n){"use strict";t.__esModule=!0;var r,i=o(n(465));function o(e){return e&&e.__esModule?e:{default:e}}t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=o(n(14));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=l(n(495)),o,a=l(n(499)),s,u=l(n(14));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,u.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,n){var r,i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,r=[]))||(e.exports=i)}()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){var r=n(13),i=n(26).f,o=n(29),a=n(27),s=n(121),u=n(166),l=n(80);e.exports=function(e,t){var n=e.target,c=e.global,f=e.stat,p,h,d,m,g,v;if(h=c?r:f?r[n]||s(n,{}):(r[n]||{}).prototype)for(d in t){if(g=t[d],m=e.noTargetGet?(v=i(h,d))&&v.value:h[d],!(p=l(c?d:n+(f?".":"#")+d,e.forced))&&void 0!==m){if(typeof g==typeof m)continue;u(g,m)}(e.sham||m&&m.sham)&&o(g,"sham",!0),a(h,d,g,e)}}},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}}r(),e.exports=n(451)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){function t(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}this.setState(t.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function e(t,n,r){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;c.call(this,t,n,i)}}return e}n.r(t),n.d(t,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(44))},function(e,t,n){"use strict";t.__esModule=!0;var r,i=u(n(473)),o,a=u(n(485)),s="function"==typeof a.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function u(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof a.default&&"symbol"===s(i.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(15);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(13),i=n(123),o=n(24),a=n(77),s=n(127),u=n(169),l=i("wks"),c=r.Symbol,f=u?c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)||(s&&o(c,e)?l[e]=c[e]:l[e]=f("Symbol."+e)),l[e]}},function(e,t,n){"use strict";var r=n(134),i=n(19),o=n(13),a=n(15),s=n(24),u=n(86),l=n(29),c=n(27),f=n(21).f,p=n(43),h=n(62),d=n(17),m=n(77),g=o.Int8Array,v=g&&g.prototype,y=o.Uint8ClampedArray,b=y&&y.prototype,w=g&&p(g),x=v&&p(v),_=Object.prototype,C=_.isPrototypeOf,E=d("toStringTag"),S=m("TYPED_ARRAY_TAG"),k=r&&!!h&&"Opera"!==u(o.opera),O=!1,T,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},A=function e(t){var n=u(t);return"DataView"===n||s(N,n)},I=function(e){return a(e)&&s(N,u(e))},R=function(e){if(I(e))return e;throw TypeError("Target is not a typed array")},P=function(e){if(h){if(C.call(w,e))return e}else for(var t in N)if(s(N,T)){var n=o[t];if(n&&(e===n||C.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},M=function(e,t,n){if(i){if(n)for(var r in N){var a=o[r];a&&s(a.prototype,e)&&delete a.prototype[e]}x[e]&&!n||c(x,e,n?t:k&&v[e]||t)}},j=function(e,t,n){var r,a;if(i){if(h){if(n)for(r in N)(a=o[r])&&s(a,e)&&delete a[e];if(w[e]&&!n)return;try{return c(w,e,n?t:k&&g[e]||t)}catch(e){}}for(r in N)!(a=o[r])||a[e]&&!n||c(a,e,t)}};for(T in N)o[T]||(k=!1);if((!k||"function"!=typeof w||w===Function.prototype)&&(w=function e(){throw TypeError("Incorrect invocation")},k))for(T in N)o[T]&&h(o[T],w);if((!k||!x||x===_)&&(x=w.prototype,k))for(T in N)o[T]&&h(o[T].prototype,x);if(k&&p(b)!==x&&h(b,x),i&&!s(x,E))for(T in O=!0,f(x,E,{get:function(){return a(this)?this[S]:void 0}}),N)o[T]&&l(o[T],S,T);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_TAG:O&&S,aTypedArray:R,aTypedArrayConstructor:P,exportTypedArrayMethod:M,exportTypedArrayStaticMethod:j,isView:A,isTypedArray:I,TypedArray:w,TypedArrayPrototype:x}},function(e,t,n){var r=n(11);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t,n){var r=n(37),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(19),i=n(163),o=n(16),a=n(41),s=Object.defineProperty;t.f=r?s:function e(t,n,r){if(o(t),n=a(n,!0),o(r),i)try{return s(t,n,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[n]=r.value),t}},function(e,t,n){var r=n(28);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r,i;e.exports=n(545)()},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(52),i=n(76),o=n(22),a=n(20),s=n(82),u=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,c=4==e,f=6==e,p=5==e||f;return function(h,d,m,g){for(var v=o(h),y=i(v),b=r(d,m,3),w=a(y.length),x=0,_=g||s,C=t?_(h,w):n?_(h,0):void 0,E,S;w>x;x++)if((p||x in y)&&(S=b(E=y[x],x,v),e))if(t)C[x]=S;else if(S)switch(e){case 3:return!0;case 5:return E;case 6:return x;case 2:u.call(C,E)}else if(c)return!1;return f?-1:l||c?c:C}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,t,n){var r=n(19),i=n(91),o=n(49),a=n(31),s=n(41),u=n(24),l=n(163),c=Object.getOwnPropertyDescriptor;t.f=r?c:function e(t,n){if(t=a(t),n=s(n,!0),l)try{return c(t,n)}catch(e){}if(u(t,n))return o(!i.f.call(t,n),t[n])}},function(e,t,n){var r=n(13),i=n(29),o=n(24),a=n(121),s=n(122),u=n(32),l=u.get,c=u.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),c(n).source=f.join("string"==typeof t?t:"")),e!==r?(u?!p&&e[t]&&(l=!0):delete e[t],l?e[t]=n:i(e,t,n)):l?e[t]=n:a(t,n)})(Function.prototype,"toString",function e(){return"function"==typeof this&&l(this).source||s(this)})},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(19),i=n(21),o=n(49);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(19),i=n(11),o=n(24),a=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var n=[][e],l=!!o(t,"ACCESSORS")&&t.ACCESSORS,c=o(t,0)?t[0]:u,f=o(t,1)?t[1]:void 0;return s[e]=!!n&&!i(function(){if(l&&!r)return!0;var e={length:-1};l?a(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,c,f)})}},function(e,t,n){var r=n(76),i=n(28);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(165),i=n(13),o=n(15),a=n(29),s=n(24),u=n(92),l=n(78),c=i.WeakMap,f,p,h,d=function(e){return h(e)?p(e):f(e,{})},m=function(e){return function(t){var n;if(!o(t)||(n=p(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(r){var g=new c,v=g.get,y=g.has,b=g.set;f=function(e,t){return b.call(g,e,t),t},p=function(e){return v.call(g,e)||{}},h=function(e){return y.call(g,e)}}else{var w=u("state");l[w]=!0,f=function(e,t){return a(e,w,t),t},p=function(e){return s(e,w)?e[w]:{}},h=function(e){return s(e,w)}}e.exports={set:f,get:p,has:h,enforce:d,getterFor:m}},function(e,t,n){var r=n(167),i=n(24),o=n(173),a=n(21).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(28),i=/"/g;e.exports=function(e,t,n,o){var a=String(r(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(o).replace(i,"&quot;")+'"'),s+">"+a+"</"+t+">"}},function(e,t,n){var r=n(11);e.exports=function(e){return r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",function(){return r})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";var r=n(221),i=n(528),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return"[object ArrayBuffer]"===o.call(e)}function u(e){return"undefined"!=typeof FormData&&e instanceof FormData}function l(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function c(e){return"string"==typeof e}function f(e){return"number"==typeof e}function p(e){return void 0===e}function h(e){return null!==e&&"object"==typeof e}function d(e){return"[object Date]"===o.call(e)}function m(e){return"[object File]"===o.call(e)}function g(e){return"[object Blob]"===o.call(e)}function v(e){return"[object Function]"===o.call(e)}function y(e){return h(e)&&v(e.pipe)}function b(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function w(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function x(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function _(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function C(){var e={};function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=C(e[n],t):e[n]=t}for(var n=0,r=arguments.length;n<r;n++)_(arguments[n],t);return e}function E(e,t,n){return _(t,function t(i,o){e[o]=n&&"function"==typeof i?r(i,n):i}),e}e.exports={isArray:a,isArrayBuffer:s,isBuffer:i,isFormData:u,isArrayBufferView:l,isString:c,isNumber:f,isObject:h,isUndefined:p,isDate:d,isFile:m,isBlob:g,isFunction:v,isStream:y,isURLSearchParams:b,isStandardBrowserEnv:x,forEach:_,merge:C,extend:E,trim:w}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(15);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(167),i=n(13),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(24),i=n(22),o=n(92),a=n(133),s=o("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=!1},function(e,t,n){var r=n(21).f,i=n(24),o,a=n(17)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(11);e.exports=function(e,t){var n=[][e];return!!n&&r(function(){n.call(null,t||function(){throw 1},1)})}},function(e,t,n){"use strict";var r=n(9),i=n(13),o=n(19),a=n(145),s=n(18),u=n(97),l=n(54),c=n(49),f=n(29),p=n(20),h=n(183),d=n(201),m=n(41),g=n(24),v=n(86),y=n(15),b=n(51),w=n(62),x=n(60).f,_=n(202),C=n(25).forEach,E=n(68),S=n(21),k=n(26),O=n(32),T=n(99),N=O.get,A=O.set,I=S.f,R=k.f,P=Math.round,M=i.RangeError,j=u.ArrayBuffer,D=u.DataView,L=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,z=s.TypedArray,B=s.TypedArrayPrototype,U=s.aTypedArrayConstructor,W=s.isTypedArray,V="BYTES_PER_ELEMENT",H="Wrong length",G=function(e,t){for(var n=0,r=t.length,i=new(U(e))(r);r>n;)i[n]=t[n++];return i},q=function(e,t){I(e,t,{get:function(){return N(this)[t]}})},K=function(e){var t;return e instanceof j||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},X=function(e,t){return W(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function e(t,n){return X(t,n=m(n,!0))?c(2,t[n]):R(t,n)},Z=function e(t,n,r){return!(X(t,n=m(n,!0))&&y(r)&&g(r,"value"))||g(r,"get")||g(r,"set")||r.configurable||g(r,"writable")&&!r.writable||g(r,"enumerable")&&!r.enumerable?I(t,n,r):(t[n]=r.value,t)};o?(L||(k.f=Y,S.f=Z,q(B,"buffer"),q(B,"byteOffset"),q(B,"byteLength"),q(B,"length")),r({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:Y,defineProperty:Z}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",u="get"+e,c="set"+e,m=i[s],g=m,v=g&&g.prototype,S={},k=function(e,t){var n=N(e);return n.view[u](t*o+n.byteOffset,!0)},O=function(e,t,r){var i=N(e);n&&(r=(r=P(r))<0?0:r>255?255:255&r),i.view[c](t*o+i.byteOffset,r,!0)},R=function(e,t){I(e,t,{get:function(){return k(this,t)},set:function(e){return O(this,t,e)},enumerable:!0})};L?a&&(g=t(function(e,t,n,r){return l(e,g,s),T(y(t)?K(t)?void 0!==r?new m(t,d(n,o),r):void 0!==n?new m(t,d(n,o)):new m(t):W(t)?G(g,t):_.call(g,t):new m(h(t)),e,g)}),w&&w(g,z),C(x(m),function(e){e in g||f(g,e,m[e])}),g.prototype=v):(g=t(function(e,t,n,r){l(e,g,s);var i=0,a=0,u,c,f;if(y(t)){if(!K(t))return W(t)?G(g,t):_.call(g,t);u=t,a=d(n,o);var m=t.byteLength;if(void 0===r){if(m%o)throw M(H);if((c=m-a)<0)throw M(H)}else if((c=p(r)*o)+a>m)throw M(H);f=c/o}else f=h(t),u=new j(c=f*o);for(A(e,{buffer:u,byteOffset:a,byteLength:c,length:f,view:new D(u)});i<f;)R(e,i++)}),w&&w(g,z),v=g.prototype=b(B)),v.constructor!==g&&f(v,"constructor",g),F&&f(v,F,s),S[s]=g,r({global:!0,forced:g!=m,sham:!L},S),V in g||f(g,V,o),V in v||f(v,V,o),E(s)}):e.exports=function(){}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(37),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t,n){var r=n(16),i=n(170),o=n(125),a=n(78),s=n(171),u=n(120),l,c=">",f="<",p="prototype",h="script",d=n(92)("IE_PROTO"),m=function(){},g=function(e){return"<script>"+e+f+"/"+h+c},v=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e=u("iframe"),t="javascript:",n;return e.style.display="none",s.appendChild(e),e.src=String(t),(n=e.contentWindow.document).open(),n.write(g("document.F=Object")),n.close(),n.F},b,w=function(){try{b=document.domain&&new ActiveXObject("htmlfile")}catch(e){}w=b?v(b):y();for(var e=o.length;e--;)delete w.prototype[o[e]];return w()};a[d]=!0,e.exports=Object.create||function e(t,n){var o;return null!==t?(m.prototype=r(t),o=new m,m.prototype=null,o[d]=t):o=w(),void 0===n?o:i(o,n)}},function(e,t,n){var r=n(38);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(17),i=n(51),o=n(21),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(16),i=n(38),o,a=n(17)("species");e.exports=function(e,t){var n=r(e).constructor,o;return void 0===n||void 0==(o=r(n)[a])?t:i(o)}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(90)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){(function(t){var n,n,r,i;if((void 0===o||!o)&&"undefined"!=typeof self)var o=self;r=function(){var e,r,i;return function(){function e(t,r,i){function o(s,u){if(!r[s]){if(!t[s]){var l;if(!u&&("function"==typeof n&&n))return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var n;return o(t[s][1][e]||e)},f,f.exports,e,t,r,i)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<i.length;s++)o(i[s]);return o}return e}()({1:[function(e,t,n){function r(e){if(Array.isArray(e))return e}t.exports=r},{}],2:[function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}t.exports=r},{}],3:[function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.exports=r},{}],4:[function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.exports=r},{}],5:[function(e,t,n){var r=e("./setPrototypeOf");function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function o(e,n,a){return i()?t.exports=o=Reflect.construct:t.exports=o=function e(t,n,i){var o=[null];o.push.apply(o,n);var a,s=new(Function.bind.apply(t,o));return i&&r(s,i.prototype),s},o.apply(null,arguments)}t.exports=o},{"./setPrototypeOf":17}],6:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.exports=i},{}],7:[function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.exports=r},{}],8:[function(e,t,n){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}t.exports=r},{}],9:[function(e,t,n){var r=e("./setPrototypeOf");function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}t.exports=i},{"./setPrototypeOf":17}],10:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}t.exports=r},{}],11:[function(e,t,n){var r=e("../helpers/typeof");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function t(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}t.exports=o},{"../helpers/typeof":20}],12:[function(e,t,n){function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}t.exports=r},{}],13:[function(e,t,n){function r(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}t.exports=r},{}],14:[function(e,t,n){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t.exports=r},{}],15:[function(e,t,n){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.exports=r},{}],16:[function(e,t,n){var r=e("../helpers/typeof"),i=e("./assertThisInitialized");function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}t.exports=o},{"../helpers/typeof":20,"./assertThisInitialized":3}],17:[function(e,t,n){function r(e,n){return t.exports=r=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t},r(e,n)}t.exports=r},{}],18:[function(e,t,n){var r=e("./arrayWithHoles"),i=e("./iterableToArrayLimit"),o=e("./nonIterableRest");function a(e,t){return r(e)||i(e,t)||o()}t.exports=a},{"./arrayWithHoles":1,"./iterableToArrayLimit":13,"./nonIterableRest":14}],19:[function(e,t,n){var r=e("./arrayWithoutHoles"),i=e("./iterableToArray"),o=e("./nonIterableSpread");function a(e){return r(e)||i(e)||o()}t.exports=a},{"./arrayWithoutHoles":2,"./iterableToArray":12,"./nonIterableSpread":15}],20:[function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?t.exports=i=function e(t){return r(t)}:t.exports=i=function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)},i(e)}t.exports=i},{}],21:[function(e,t,n){t.exports=e("regenerator-runtime")},{"regenerator-runtime":332}],22:[function(e,t,n){var r=e("./src/converter");function i(e,t){var n=new r(e,t);return function(e){return n.convert(e)}}i.BIN="01",i.OCT="01234567",i.DEC="0123456789",i.HEX="0123456789abcdef",t.exports=i},{"./src/converter":23}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e&&t&&e.length&&t.length))throw new Error("Bad alphabet");this.srcAlphabet=e,this.dstAlphabet=t}r.prototype.convert=function(e){var t,n,r,i={},o=this.srcAlphabet.length,a=this.dstAlphabet.length,s=e.length,u="string"==typeof e?"":[];if(!this.isValid(e))throw new Error('Number "'+e+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return e;for(t=0;t<s;t++)i[t]=this.srcAlphabet.indexOf(e[t]);do{for(n=0,r=0,t=0;t<s;t++)(n=n*o+i[t])>=a?(i[r++]=parseInt(n/a,10),n%=a):r>0&&(i[r++]=0);s=r,u=this.dstAlphabet.slice(n,n+1).concat(u)}while(0!==r);return u},r.prototype.isValid=function(e){for(var t=0;t<e.length;++t)if(-1===this.srcAlphabet.indexOf(e[t]))return!1;return!0},t.exports=r},{}],24:[function(e,n,r){(function(t){"use strict";var r=e("object-assign");
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=e("util/"),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,l="foo"===function e(){}.name;function c(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var p=n.exports=b,h=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(a.isFunction(e)){if(l)return e.name;var t,n=e.toString().match(h);return n&&n[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(l||!a.isFunction(e))return a.inspect(e);var t=d(e),n;return"[Function"+(t?": "+t:"")+"]"}function v(e){return m(g(e.actual),128)+" "+e.operator+" "+m(g(e.expected),128)}function y(e,t,n,r,i){throw new p.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function b(e,t){e||y(e,!0,t,"==",p.ok)}function w(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),_(e,t,n,r))}return n?e===t:e==t}function x(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=x(e),o=x(t);if(i&&!o||!i&&o)return!1;if(i)return w(e=u.call(e),t=u.call(t),n);var s=T(e),l=T(t),c,f;if(s.length!==l.length)return!1;for(s.sort(),l.sort(),f=s.length-1;f>=0;f--)if(s[f]!==l[f])return!1;for(f=s.length-1;f>=0;f--)if(!w(e[c=s[f]],t[c],n,r))return!1;return!0}function C(e,t,n){w(e,t,!0)&&y(e,t,n,"notDeepStrictEqual",C)}function E(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function S(e){var t;try{e()}catch(e){t=e}return t}function k(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=S(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&y(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&a.isError(i),u=!e&&i&&!n;if((s&&o&&E(i,n)||u)&&y(i,n,"Got unwanted exception"+r),e&&i&&n&&!E(i,n)||!e&&i)throw i}function O(e,t){e||y(e,!0,t,"==",O)}p.AssertionError=function e(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=v(this),this.generatedMessage=!0);var n=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var i=r.stack,o=d(n),a=i.indexOf("\n"+o);if(a>=0){var s=i.indexOf("\n",a+1);i=i.substring(s+1)}this.stack=i}}},a.inherits(p.AssertionError,Error),p.fail=y,p.ok=b,p.equal=function e(t,n,r){t!=n&&y(t,n,r,"==",p.equal)},p.notEqual=function e(t,n,r){t==n&&y(t,n,r,"!=",p.notEqual)},p.deepEqual=function e(t,n,r){w(t,n,!1)||y(t,n,r,"deepEqual",p.deepEqual)},p.deepStrictEqual=function e(t,n,r){w(t,n,!0)||y(t,n,r,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function e(t,n,r){w(t,n,!1)&&y(t,n,r,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=C,p.strictEqual=function e(t,n,r){t!==n&&y(t,n,r,"===",p.strictEqual)},p.notStrictEqual=function e(t,n,r){t===n&&y(t,n,r,"!==",p.notStrictEqual)},p.throws=function(e,t,n){k(!0,e,t,n)},p.doesNotThrow=function(e,t,n){k(!1,e,t,n)},p.ifError=function(e){if(e)throw e},p.strict=r(O,p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict;var T=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{"object-assign":263,"util/":27}],25:[function(e,t,n){"function"==typeof Object.create?t.exports=function e(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function e(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],26:[function(e,t,n){t.exports=function e(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],27:[function(e,n,r){(function(t,n){var i=/%[sdj%]/g;r.format=function(e){if(!_(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<o;u=r[++n])b(u)||!k(u)?a+=" "+u:a+=" "+s(u);return a},r.deprecate=function(e,i){if(E(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;function a(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}return a};var o={},a;function s(e,t){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&r._extend(n,t),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),f(n,e,n.depth)}function u(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function l(e,t){return e}function c(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function f(e,t,n){if(e.customInspect&&t&&N(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return _(i)||(i=f(e,i,n)),i}var o=p(e,t);if(o)return o;var a=Object.keys(t),s=c(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),T(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(t);if(0===a.length){if(N(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(S(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(O(t))return e.stylize(Date.prototype.toString.call(t),"date");if(T(t))return h(t)}var l="",y=!1,b=["{","}"],w,x;(v(t)&&(y=!0,b=["[","]"]),N(t))&&(l=" [Function"+(t.name?": "+t.name:"")+"]");return S(t)&&(l=" "+RegExp.prototype.toString.call(t)),O(t)&&(l=" "+Date.prototype.toUTCString.call(t)),T(t)&&(l=" "+h(t)),0!==a.length||y&&0!=t.length?n<0?S(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),x=y?d(e,t,n,s,a):a.map(function(r){return m(e,t,n,s,r,y)}),e.seen.pop(),g(x,l,b)):b[0]+l+b[1]}function p(e,t){if(E(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return x(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)j(t,String(a))?o.push(m(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(m(e,t,n,r,i,!0))}),o}function m(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),j(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=b(n)?f(e,u.value,null):f(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),E(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function g(e,t,n){var r=0,i;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function v(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function b(e){return null===e}function w(e){return null==e}function x(e){return"number"==typeof e}function _(e){return"string"==typeof e}function C(e){return"symbol"==typeof e}function E(e){return void 0===e}function S(e){return k(e)&&"[object RegExp]"===I(e)}function k(e){return"object"==typeof e&&null!==e}function O(e){return k(e)&&"[object Date]"===I(e)}function T(e){return k(e)&&("[object Error]"===I(e)||e instanceof Error)}function N(e){return"function"==typeof e}function A(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function I(e){return Object.prototype.toString.call(e)}function R(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(E(a)&&(a=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var n=t.pid;o[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else o[e]=function(){};return o[e]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=v,r.isBoolean=y,r.isNull=b,r.isNullOrUndefined=w,r.isNumber=x,r.isString=_,r.isSymbol=C,r.isUndefined=E,r.isRegExp=S,r.isObject=k,r.isDate=O,r.isError=T,r.isFunction=N,r.isPrimitive=A,r.isBuffer=e("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var e=new Date,t=[R(e.getHours()),R(e.getMinutes()),R(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){console.log("%s - %s",M(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{"./support/isBuffer":26,_process:312,inherits:25}],28:[function(e,t,n){"use strict";n.byteLength=c,n.toByteArray=p,n.fromByteArray=m;for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("="),r;return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function f(e,t,n){return 3*(t+n)/4-n}function p(e){var t,n=l(e),r=n[0],a=n[1],s=new o(f(e,r,a)),u=0,c=a>0?r-4:r,p;for(p=0;p<c;p+=4)t=i[e.charCodeAt(p)]<<18|i[e.charCodeAt(p+1)]<<12|i[e.charCodeAt(p+2)]<<6|i[e.charCodeAt(p+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===a&&(t=i[e.charCodeAt(p)]<<2|i[e.charCodeAt(p+1)]>>4,s[u++]=255&t),1===a&&(t=i[e.charCodeAt(p)]<<10|i[e.charCodeAt(p+1)]<<4|i[e.charCodeAt(p+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s}function h(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function d(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(h(r));return i.join("")}function m(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=16383)o.push(d(e,s,s+16383>u?u:s+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],29:[function(e,t,n){var r=e("./lib/encoder"),i=e("./lib/decoder");t.exports={encode:r,decode:i}},{"./lib/decoder":30,"./lib/encoder":31}],30:[function(e,t,n){(function(e){function n(e,t){if(this.pos=0,this.buffer=e,this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),"BM"!=this.flag)throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}n.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},n.prototype.parseRGBA=function(){var t="bit"+this.bitPP,n=this.width*this.height*4;this.data=new e(n),this[t]()},n.prototype.bit1=function(){for(var e=Math.ceil(this.width/8),t=e%4,n=this.height>=0?this.height-1:-this.height,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.buffer.readUInt8(this.pos++),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var u=this.palette[o>>7-s&1];this.data[a+4*s]=0,this.data[a+4*s+1]=u.blue,this.data[a+4*s+2]=u.green,this.data[a+4*s+3]=u.red}0!=t&&(this.pos+=4-t)}},n.prototype.bit4=function(){if(2==this.compress){this.data.fill(255);for(var e=0,t=this.bottom_up?this.height-1:0,n=!1;e<this.data.length;){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(0==r){if(0==i){this.bottom_up?t--:t++,e=t*this.width*4,n=!1;continue}if(1==i)break;if(2==i){var o=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.bottom_up?t-=a:t+=a,e+=a*this.width*4+4*o}else{for(var s=this.buffer.readUInt8(this.pos++),u=0;u<i;u++)n?l.call(this,15&s):l.call(this,(240&s)>>4),1&u&&u+1<i&&(s=this.buffer.readUInt8(this.pos++)),n=!n;1==(i+1>>1&1)&&this.pos++}}else for(var u=0;u<r;u++)n?l.call(this,15&i):l.call(this,(240&i)>>4),n=!n}function l(t){var n=this.palette[t];this.data[e]=0,this.data[e+1]=n.blue,this.data[e+2]=n.green,this.data[e+3]=n.red,e+=4}}else for(var c=Math.ceil(this.width/2),f=c%4,a=this.height-1;a>=0;a--){for(var p=this.bottom_up?a:this.height-1-a,o=0;o<c;o++){var i=this.buffer.readUInt8(this.pos++),e=p*this.width*4+2*o*4,h=i>>4,d=15&i,m=this.palette[h];if(this.data[e]=0,this.data[e+1]=m.blue,this.data[e+2]=m.green,this.data[e+3]=m.red,2*o+1>=this.width)break;m=this.palette[d],this.data[e+4]=0,this.data[e+4+1]=m.blue,this.data[e+4+2]=m.green,this.data[e+4+3]=m.red}0!=f&&(this.pos+=4-f)}},n.prototype.bit8=function(){if(1==this.compress){this.data.fill(255);for(var e=0,t=this.bottom_up?this.height-1:0;e<this.data.length;){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);if(0==n){if(0==r){this.bottom_up?t--:t++,e=t*this.width*4;continue}if(1==r)break;if(2==r){var i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.bottom_up?t-=o:t+=o,e+=o*this.width*4+4*i}else{for(var a=0;a<r;a++){var s=this.buffer.readUInt8(this.pos++);u.call(this,s)}!0&r&&this.pos++}}else for(var a=0;a<n;a++)u.call(this,r)}function u(t){var n=this.palette[t];this.data[e]=0,this.data[e+1]=n.blue,this.data[e+2]=n.green,this.data[e+3]=n.red,e+=4}}else for(var l=this.width%4,o=this.height-1;o>=0;o--){for(var c=this.bottom_up?o:this.height-1-o,i=0;i<this.width;i++){var r=this.buffer.readUInt8(this.pos++),e=c*this.width*4+4*i;if(r<this.palette.length){var f=this.palette[r];this.data[e]=0,this.data[e+1]=f.blue,this.data[e+2]=f.green,this.data[e+3]=f.red}else this.data[e]=0,this.data[e+1]=255,this.data[e+2]=255,this.data[e+3]=255}0!=l&&(this.pos+=4-l)}},n.prototype.bit15=function(){for(var e=this.width%3,t,n=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(a&n)/n*255|0,u=(a>>5&n)/n*255|0,l=(a>>10&n)/n*255|0,c=a>>15?255:0,f=i*this.width*4+4*o;this.data[f]=c,this.data[f+1]=s,this.data[f+2]=u,this.data[f+3]=l}this.pos+=e}},n.prototype.bit16=function(){var e=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,3==this.compress&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var t=[0,0,0],n=0;n<16;n++)this.maskRed>>n&1&&t[0]++,this.maskGreen>>n&1&&t[1]++,this.maskBlue>>n&1&&t[2]++;t[1]+=t[0],t[2]+=t[1],t[0]=8-t[0],t[1]-=8,t[2]-=8;for(var r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(a&this.maskBlue)<<t[0],u=(a&this.maskGreen)>>t[1],l=(a&this.maskRed)>>t[2],c=i*this.width*4+4*o;this.data[c]=0,this.data[c+1]=s,this.data[c+2]=u,this.data[c+3]=l}this.pos+=e}},n.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),a=t*this.width*4+4*n;this.data[a]=0,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}this.pos+=this.width%4}},n.prototype.bit32=function(){if(3==this.compress){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),s=t*this.width*4+4*n;this.data[s]=r,this.data[s+1]=i,this.data[s+2]=o,this.data[s+3]=a}}else for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),s=t*this.width*4+4*n;this.data[s]=r,this.data[s+1]=i,this.data[s+2]=o,this.data[s+3]=a}},n.prototype.getData=function(){return this.data},t.exports=function(e){var t;return new n(e)}}).call(this,e("buffer").Buffer)},{buffer:47}],31:[function(e,t,n){(function(e){function n(e){this.buffer=e.data,this.width=e.width,this.height=e.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}n.prototype.encode=function(){var t=new e(this.offset+this.rgbSize);this.pos=0,t.write(this.flag,this.pos,2),this.pos+=2,t.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,t.writeUInt32LE(this.reserved,this.pos),this.pos+=4,t.writeUInt32LE(this.offset,this.pos),this.pos+=4,t.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,t.writeUInt32LE(this.width,this.pos),this.pos+=4,t.writeInt32LE(-this.height,this.pos),this.pos+=4,t.writeUInt16LE(this.planes,this.pos),this.pos+=2,t.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,t.writeUInt32LE(this.compress,this.pos),this.pos+=4,t.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,t.writeUInt32LE(this.hr,this.pos),this.pos+=4,t.writeUInt32LE(this.vr,this.pos),this.pos+=4,t.writeUInt32LE(this.colors,this.pos),this.pos+=4,t.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var n=0,r=3*this.width+this.extraBytes,i=0;i<this.height;i++){for(var o=0;o<this.width;o++){var a=this.pos+i*r+3*o;n++,t[a]=this.buffer[n++],t[a+1]=this.buffer[n++],t[a+2]=this.buffer[n++]}if(this.extraBytes>0){var s=this.pos+i*r+3*this.width;t.fill(0,s,s+this.extraBytes)}}return t},t.exports=function(e,t){var r,i;return void 0===t&&(t=100),{data:new n(e).encode(),width:e.width,height:e.height}}}).call(this,e("buffer").Buffer)},{buffer:47}],32:[function(e,t,n){},{}],33:[function(e,t,n){(function(t,r){"use strict";var i=e("assert"),o=e("pako/lib/zlib/zstream"),a=e("pako/lib/zlib/deflate.js"),s=e("pako/lib/zlib/inflate.js"),u=e("pako/lib/zlib/constants");for(var l in u)n[l]=u[l];n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7;var c=31,f=139;function p(e){if("number"!=typeof e||e<n.DEFLATE||e>n.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}p.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=n.UNZIP),this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==n.INFLATE&&this.mode!==n.GUNZIP&&this.mode!==n.INFLATERAW&&this.mode!==n.UNZIP||s.inflateEnd(this.strm),this.mode=n.NONE,this.dictionary=null)},p.prototype.write=function(e,t,n,r,i,o,a){return this._write(!0,e,t,n,r,i,o,a)},p.prototype.writeSync=function(e,t,n,r,i,o,a){return this._write(!1,e,t,n,r,i,o,a)},p.prototype._write=function(e,o,a,s,u,l,c,f){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==n.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==n.Z_NO_FLUSH&&o!==n.Z_PARTIAL_FLUSH&&o!==n.Z_SYNC_FLUSH&&o!==n.Z_FULL_FLUSH&&o!==n.Z_FINISH&&o!==n.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=r.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=f,this.strm.output=l,this.strm.next_out=c,this.flush=o,!e)return this._process(),this._checkError()?this._afterSync():void 0;var p=this;return t.nextTick(function(){p._process(),p._after()}),this},p.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},p.prototype._process=function(){var e=null;switch(this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case n.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=n.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=n.GUNZIP):this.mode=n.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===n.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===n.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===n.Z_DATA_ERROR&&(this.err=n.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===n.GUNZIP&&this.err===n.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},p.prototype._checkError=function(){switch(this.err){case n.Z_OK:case n.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===n.Z_FINISH)return this._error("unexpected end of file"),!1;break;case n.Z_STREAM_END:break;case n.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},p.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},p.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},p.prototype.init=function(e,t,r,o,a){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(t>=-1&&t<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(o===n.Z_FILTERED||o===n.Z_HUFFMAN_ONLY||o===n.Z_RLE||o===n.Z_FIXED||o===n.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(t,e,r,o,a),this._setDictionary()},p.prototype.params=function(){throw new Error("deflateParams Not supported")},p.prototype.reset=function(){this._reset(),this._setDictionary()},p.prototype._init=function(e,t,r,i,u){switch(this.level=e,this.windowBits=t,this.memLevel=r,this.strategy=i,this.flush=n.Z_NO_FLUSH,this.err=n.Z_OK,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==n.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},p.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==n.Z_OK&&this._error("Failed to set dictionary")}},p.prototype._reset=function(){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:case n.GZIP:this.err=a.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:case n.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==n.Z_OK&&this._error("Failed to reset stream")},n.Zlib=p}).call(this,e("_process"),e("buffer").Buffer)},{_process:312,assert:24,buffer:47,"pako/lib/zlib/constants":37,"pako/lib/zlib/deflate.js":39,"pako/lib/zlib/inflate.js":41,"pako/lib/zlib/zstream":45}],34:[function(e,t,n){(function(t){"use strict";var r=e("buffer").Buffer,i=e("stream").Transform,o=e("./binding"),a=e("util"),s=e("assert").ok,u=e("buffer").kMaxLength,l="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(o),f=0;f<c.length;f++){var p=c[f];p.match(/^Z/)&&Object.defineProperty(n,p,{enumerable:!0,value:o[p],writable:!1})}for(var h={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},d=Object.keys(h),m=0;m<d.length;m++){var g=d[m];h[h[g]]=g}function v(e,t,n){var i=[],o=0;function a(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",a)}function s(t){e.removeListener("end",c),e.removeListener("readable",a),n(t)}function c(){var t,a=null;o>=u?a=new RangeError(l):t=r.concat(i,o),i=[],e.close(),n(a,t)}e.on("error",s),e.on("end",c),e.end(t),a()}function y(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function b(e){if(!(this instanceof b))return new b(e);O.call(this,e,o.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);O.call(this,e,o.INFLATE)}function x(e){if(!(this instanceof x))return new x(e);O.call(this,e,o.GZIP)}function _(e){if(!(this instanceof _))return new _(e);O.call(this,e,o.GUNZIP)}function C(e){if(!(this instanceof C))return new C(e);O.call(this,e,o.DEFLATERAW)}function E(e){if(!(this instanceof E))return new E(e);O.call(this,e,o.INFLATERAW)}function S(e){if(!(this instanceof S))return new S(e);O.call(this,e,o.UNZIP)}function k(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function O(e,t){var a=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||n.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!k(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!k(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<n.Z_MIN_CHUNK||e.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<n.Z_MIN_WINDOWBITS||e.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<n.Z_MIN_LEVEL||e.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<n.Z_MIN_MEMLEVEL||e.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=n.Z_FILTERED&&e.strategy!=n.Z_HUFFMAN_ONLY&&e.strategy!=n.Z_RLE&&e.strategy!=n.Z_FIXED&&e.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(t);var s=this;this._hadError=!1,this._handle.onerror=function(e,t){T(s),s._hadError=!0;var r=new Error(e);r.errno=t,r.code=n.codes[t],s.emit("error",r)};var u=n.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(u=e.level);var l=n.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||n.Z_DEFAULT_WINDOWBITS,u,e.memLevel||n.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function T(e,n){n&&t.nextTick(n),e._handle&&(e._handle.close(),e._handle=null)}function N(e){e.emit("close")}Object.defineProperty(n,"codes",{enumerable:!0,value:Object.freeze(h),writable:!1}),n.Deflate=b,n.Inflate=w,n.Gzip=x,n.Gunzip=_,n.DeflateRaw=C,n.InflateRaw=E,n.Unzip=S,n.createDeflate=function(e){return new b(e)},n.createInflate=function(e){return new w(e)},n.createDeflateRaw=function(e){return new C(e)},n.createInflateRaw=function(e){return new E(e)},n.createGzip=function(e){return new x(e)},n.createGunzip=function(e){return new _(e)},n.createUnzip=function(e){return new S(e)},n.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new b(t),e,n)},n.deflateSync=function(e,t){return y(new b(t),e)},n.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new x(t),e,n)},n.gzipSync=function(e,t){return y(new x(t),e)},n.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new C(t),e,n)},n.deflateRawSync=function(e,t){return y(new C(t),e)},n.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new S(t),e,n)},n.unzipSync=function(e,t){return y(new S(t),e)},n.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new w(t),e,n)},n.inflateSync=function(e,t){return y(new w(t),e)},n.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new _(t),e,n)},n.gunzipSync=function(e,t){return y(new _(t),e)},n.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new E(t),e,n)},n.inflateRawSync=function(e,t){return y(new E(t),e)},a.inherits(O,i),O.prototype.params=function(e,r,i){if(e<n.Z_MIN_LEVEL||e>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(r!=n.Z_FILTERED&&r!=n.Z_HUFFMAN_ONLY&&r!=n.Z_RLE&&r!=n.Z_FIXED&&r!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==e||this._strategy!==r){var a=this;this.flush(o.Z_SYNC_FLUSH,function(){s(a._handle,"zlib binding closed"),a._handle.params(e,r),a._hadError||(a._level=e,a._strategy=r,i&&i())})}else t.nextTick(i)},O.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},O.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},O.prototype.flush=function(e,n){var i=this,a=this._writableState;("function"==typeof e||void 0===e&&!n)&&(n=e,e=o.Z_FULL_FLUSH),a.ended?n&&t.nextTick(n):a.ending?n&&this.once("end",n):a.needDrain?n&&this.once("drain",function(){return i.flush(e,n)}):(this._flushFlag=e,this.write(r.alloc(0),"",n))},O.prototype.close=function(e){T(this,e),t.nextTick(N,this)},O.prototype._transform=function(e,t,n){var i,a=this._writableState,s,u=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||r.isBuffer(e)?this._handle?(u?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},O.prototype._processChunk=function(e,t,n){var i=e&&e.length,o=this._chunkSize-this._offset,a=0,c=this,f="function"==typeof n;if(!f){var p=[],h=0,d;this.on("error",function(e){d=e}),s(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,a,i,this._buffer,this._offset,o)}while(!this._hadError&&y(m[0],m[1]));if(this._hadError)throw d;if(h>=u)throw T(this),new RangeError(l);var g=r.concat(p,h);return T(this),g}s(this._handle,"zlib binding closed");var v=this._handle.write(t,e,a,i,this._buffer,this._offset,o);function y(u,l){if(this&&(this.buffer=null,this.callback=null),!c._hadError){var d=o-l;if(s(d>=0,"have should not go down"),d>0){var m=c._buffer.slice(c._offset,c._offset+d);c._offset+=d,f?c.push(m):(p.push(m),h+=m.length)}if((0===l||c._offset>=c._chunkSize)&&(o=c._chunkSize,c._offset=0,c._buffer=r.allocUnsafe(c._chunkSize)),0===l){if(a+=i-u,i=u,!f)return!0;var g=c._handle.write(t,e,a,i,c._buffer,c._offset,c._chunkSize);return g.callback=y,void(g.buffer=e)}if(!f)return!1;n()}}v.buffer=e,v.callback=y},a.inherits(b,O),a.inherits(w,O),a.inherits(x,O),a.inherits(_,O),a.inherits(C,O),a.inherits(E,O),a.inherits(S,O)}).call(this,e("_process"))},{"./binding":33,_process:312,assert:24,buffer:47,stream:334,util:365}],35:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],36:[function(e,t,n){"use strict";function r(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},{}],37:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],38:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var i=r();function o(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}t.exports=o},{}],39:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./trees"),o=e("./adler32"),a=e("./crc32"),s=e("./messages"),u=0,l=1,c=3,f=4,p=5,h=0,d=1,m=-2,g=-3,v=-5,y=-1,b=1,w=2,x=3,_=4,C=0,E=2,S=8,k=9,O=15,T=8,N=29,A=256,I=286,R=30,P=19,M=2*I+1,j=15,D=3,L=258,F=L+D+1,z=32,B=42,U=69,W=73,V=91,H=103,G=113,q=666,K=1,X=2,Y=3,Z=4,$=3,J;function Q(e,t){return e.msg=s[t],t}function ee(e){return(e<<1)-(e>4?9:0)}function te(e){for(var t=e.length;--t>=0;)e[t]=0}function ne(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function re(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ne(e.strm)}function ie(e,t){e.pending_buf[e.pending++]=t}function oe(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ae(e,t,n,i){var s=e.avail_in;return s>i&&(s=i),0===s?0:(e.avail_in-=s,r.arraySet(t,e.input,e.next_in,s,n),1===e.state.wrap?e.adler=o(e.adler,t,s,n):2===e.state.wrap&&(e.adler=a(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)}function se(e,t){var n=e.max_chain_length,r=e.strstart,i,o,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0,l=e.window,c=e.w_mask,f=e.prev,p=e.strstart+L,h=l[r+a-1],d=l[r+a];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(i=t)+a]===d&&l[i+a-1]===h&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<p);if(o=L-(p-r),r=p-L,o>a){if(e.match_start=t,a=o,o>=s)break;h=l[r+a-1],d=l[r+a]}}}while((t=f[t&c])>u&&0!=--n);return a<=e.lookahead?a:e.lookahead}function ue(e){var t=e.w_size,n,i,o,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-F)){r.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=i=e.hash_size;do{o=e.head[--n],e.head[n]=o>=t?o-t:0}while(--i);n=i=t;do{o=e.prev[--n],e.prev[n]=o>=t?o-t:0}while(--i);a+=t}if(0===e.strm.avail_in)break;if(i=ae(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=i,e.lookahead+e.insert>=D)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+D-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<F&&0!==e.strm.avail_in)}function le(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ue(e),0===e.lookahead&&t===u)return K;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,re(e,!1),0===e.strm.avail_out))return K;if(e.strstart-e.block_start>=e.w_size-F&&(re(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===f?(re(e,!0),0===e.strm.avail_out?Y:Z):(e.strstart>e.block_start&&(re(e,!1),e.strm.avail_out),K)}function ce(e,t){for(var n,r;;){if(e.lookahead<F){if(ue(e),e.lookahead<F&&t===u)return K;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-F&&(e.match_length=se(e,n)),e.match_length>=D)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(re(e,!1),0===e.strm.avail_out))return K}return e.insert=e.strstart<D-1?e.strstart:D-1,t===f?(re(e,!0),0===e.strm.avail_out?Y:Z):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?K:X}function fe(e,t){for(var n,r,o;;){if(e.lookahead<F){if(ue(e),e.lookahead<F&&t===u)return K;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-F&&(e.match_length=se(e,n),e.match_length<=5&&(e.strategy===b||e.match_length===D&&e.strstart-e.match_start>4096)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-D,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=D-1,e.strstart++,r&&(re(e,!1),0===e.strm.avail_out))return K}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&re(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return K}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,t===f?(re(e,!0),0===e.strm.avail_out?Y:Z):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?K:X}function pe(e,t){for(var n,r,o,a,s=e.window;;){if(e.lookahead<=L){if(ue(e),e.lookahead<=L&&t===u)return K;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=D&&e.strstart>0&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=e.strstart+L;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);e.match_length=L-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=D?(n=i._tr_tally(e,1,e.match_length-D),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(re(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===f?(re(e,!0),0===e.strm.avail_out?Y:Z):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?K:X}function he(e,t){for(var n;;){if(0===e.lookahead&&(ue(e),0===e.lookahead)){if(t===u)return K;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(re(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===f?(re(e,!0),0===e.strm.avail_out?Y:Z):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?K:X}function de(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function me(e){e.window_size=2*e.w_size,te(e.head),e.max_lazy_match=J[e.level].max_lazy,e.good_match=J[e.level].good_length,e.nice_match=J[e.level].nice_length,e.max_chain_length=J[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=D-1,e.match_available=0,e.ins_h=0}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*M),this.dyn_dtree=new r.Buf16(2*(2*R+1)),this.bl_tree=new r.Buf16(2*(2*P+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(j+1),this.heap=new r.Buf16(2*I+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*I+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ve(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=E,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?B:G,e.adler=2===t.wrap?0:1,t.last_flush=u,i._tr_init(t),h):Q(e,m)}function ye(e){var t=ve(e);return t===h&&me(e.state),t}function be(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,h):m}function we(e,t,n,i,o,a){if(!e)return m;var s=1;if(t===y&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>k||n!==S||i<8||i>15||t<0||t>9||a<0||a>_)return Q(e,m);8===i&&(i=9);var u=new ge;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+D-1)/D),u.window=new r.Buf8(2*u.w_size),u.head=new r.Buf16(u.hash_size),u.prev=new r.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new r.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,ye(e)}function xe(e,t){return we(e,t,S,O,T,C)}function _e(e,t){var n,r,o,s;if(!e||!e.state||t>p||t<0)return e?Q(e,m):m;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===q&&t!==f)return Q(e,0===e.avail_out?v:m);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===B)if(2===r.wrap)e.adler=0,ie(r,31),ie(r,139),ie(r,8),r.gzhead?(ie(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ie(r,255&r.gzhead.time),ie(r,r.gzhead.time>>8&255),ie(r,r.gzhead.time>>16&255),ie(r,r.gzhead.time>>24&255),ie(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),ie(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ie(r,255&r.gzhead.extra.length),ie(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=a(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=U):(ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),ie(r,$),r.status=G);else{var g=S+(r.w_bits-8<<4)<<8,y=-1;g|=(y=r.strategy>=w||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(g|=z),g+=31-g%31,r.status=G,oe(r,g),0!==r.strstart&&(oe(r,e.adler>>>16),oe(r,65535&e.adler)),e.adler=1}if(r.status===U)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),ne(e),o=r.pending,r.pending!==r.pending_buf_size));)ie(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=W)}else r.status=W;if(r.status===W)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),ne(e),o=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ie(r,s)}while(0!==s);r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),0===s&&(r.gzindex=0,r.status=V)}else r.status=V;if(r.status===V)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),ne(e),o=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ie(r,s)}while(0!==s);r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),0===s&&(r.status=H)}else r.status=H;if(r.status===H&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ne(e),r.pending+2<=r.pending_buf_size&&(ie(r,255&e.adler),ie(r,e.adler>>8&255),e.adler=0,r.status=G)):r.status=G),0!==r.pending){if(ne(e),0===e.avail_out)return r.last_flush=-1,h}else if(0===e.avail_in&&ee(t)<=ee(n)&&t!==f)return Q(e,v);if(r.status===q&&0!==e.avail_in)return Q(e,v);if(0!==e.avail_in||0!==r.lookahead||t!==u&&r.status!==q){var b=r.strategy===w?he(r,t):r.strategy===x?pe(r,t):J[r.level].func(r,t);if(b!==Y&&b!==Z||(r.status=q),b===K||b===Y)return 0===e.avail_out&&(r.last_flush=-1),h;if(b===X&&(t===l?i._tr_align(r):t!==p&&(i._tr_stored_block(r,0,0,!1),t===c&&(te(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ne(e),0===e.avail_out))return r.last_flush=-1,h}return t!==f?h:r.wrap<=0?d:(2===r.wrap?(ie(r,255&e.adler),ie(r,e.adler>>8&255),ie(r,e.adler>>16&255),ie(r,e.adler>>24&255),ie(r,255&e.total_in),ie(r,e.total_in>>8&255),ie(r,e.total_in>>16&255),ie(r,e.total_in>>24&255)):(oe(r,e.adler>>>16),oe(r,65535&e.adler)),ne(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?h:d)}function Ce(e){var t;return e&&e.state?(t=e.state.status)!==B&&t!==U&&t!==W&&t!==V&&t!==H&&t!==G&&t!==q?Q(e,m):(e.state=null,t===G?Q(e,g):h):m}function Ee(e,t){var n=t.length,i,a,s,u,l,c,f,p;if(!e||!e.state)return m;if(2===(u=(i=e.state).wrap)||1===u&&i.status!==B||i.lookahead)return m;for(1===u&&(e.adler=o(e.adler,t,n,0)),i.wrap=0,n>=i.w_size&&(0===u&&(te(i.head),i.strstart=0,i.block_start=0,i.insert=0),p=new r.Buf8(i.w_size),r.arraySet(p,t,n-i.w_size,i.w_size,0),t=p,n=i.w_size),l=e.avail_in,c=e.next_in,f=e.input,e.avail_in=n,e.next_in=0,e.input=t,ue(i);i.lookahead>=D;){a=i.strstart,s=i.lookahead-(D-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[a+D-1])&i.hash_mask,i.prev[a&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=a,a++}while(--s);i.strstart=a,i.lookahead=D-1,ue(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=D-1,i.match_available=0,e.next_in=c,e.input=f,e.avail_in=l,i.wrap=u,h}J=[new de(0,0,0,0,le),new de(4,4,8,4,ce),new de(4,5,16,8,ce),new de(4,6,32,32,ce),new de(4,4,16,16,fe),new de(8,16,32,32,fe),new de(8,16,128,128,fe),new de(8,32,128,256,fe),new de(32,128,258,1024,fe),new de(32,258,258,4096,fe)],n.deflateInit=xe,n.deflateInit2=we,n.deflateReset=ye,n.deflateResetKeep=ve,n.deflateSetHeader=be,n.deflate=_e,n.deflateEnd=Ce,n.deflateSetDictionary=Ee,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":35,"./adler32":36,"./crc32":38,"./messages":43,"./trees":44}],40:[function(e,t,n){"use strict";var r=30,i=12;t.exports=function e(t,n){var r,i,o,a,s,u,l,c,f,p,h,d,m,g,v,y,b,w,x,_,C,E,S,k,O;r=t.state,i=t.next_in,k=t.input,o=i+(t.avail_in-5),a=t.next_out,O=t.output,s=a-(n-t.avail_out),u=a+(t.avail_out-257),l=r.dmax,c=r.wsize,f=r.whave,p=r.wnext,h=r.window,d=r.hold,m=r.bits,g=r.lencode,v=r.distcode,y=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{m<15&&(d+=k[i++]<<m,m+=8,d+=k[i++]<<m,m+=8),w=g[d&y];t:for(;;){if(d>>>=x=w>>>24,m-=x,0===(x=w>>>16&255))O[a++]=65535&w;else{if(!(16&x)){if(0==(64&x)){w=g[(65535&w)+(d&(1<<x)-1)];continue t}if(32&x){r.mode=12;break e}t.msg="invalid literal/length code",r.mode=30;break e}_=65535&w,(x&=15)&&(m<x&&(d+=k[i++]<<m,m+=8),_+=d&(1<<x)-1,d>>>=x,m-=x),m<15&&(d+=k[i++]<<m,m+=8,d+=k[i++]<<m,m+=8),w=v[d&b];n:for(;;){if(d>>>=x=w>>>24,m-=x,!(16&(x=w>>>16&255))){if(0==(64&x)){w=v[(65535&w)+(d&(1<<x)-1)];continue n}t.msg="invalid distance code",r.mode=30;break e}if(C=65535&w,m<(x&=15)&&(d+=k[i++]<<m,(m+=8)<x&&(d+=k[i++]<<m,m+=8)),(C+=d&(1<<x)-1)>l){t.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=x,m-=x,C>(x=a-s)){if((x=C-x)>f&&r.sane){t.msg="invalid distance too far back",r.mode=30;break e}if(E=0,S=h,0===p){if(E+=c-x,x<_){_-=x;do{O[a++]=h[E++]}while(--x);E=a-C,S=O}}else if(p<x){if(E+=c+p-x,(x-=p)<_){_-=x;do{O[a++]=h[E++]}while(--x);if(E=0,p<_){_-=x=p;do{O[a++]=h[E++]}while(--x);E=a-C,S=O}}}else if(E+=p-x,x<_){_-=x;do{O[a++]=h[E++]}while(--x);E=a-C,S=O}for(;_>2;)O[a++]=S[E++],O[a++]=S[E++],O[a++]=S[E++],_-=3;_&&(O[a++]=S[E++],_>1&&(O[a++]=S[E++]))}else{E=a-C;do{O[a++]=O[E++],O[a++]=O[E++],O[a++]=O[E++],_-=3}while(_>2);_&&(O[a++]=O[E++],_>1&&(O[a++]=O[E++]))}break}}break}}while(i<o&&a<u);i-=_=m>>3,d&=(1<<(m-=_<<3))-1,t.next_in=i,t.next_out=a,t.avail_in=i<o?o-i+5:5-(i-o),t.avail_out=a<u?u-a+257:257-(a-u),r.hold=d,r.bits=m}},{}],41:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),u=0,l=1,c=2,f=4,p=5,h=6,d=0,m=1,g=2,v=-2,y=-3,b=-4,w=-5,x=8,_=1,C=2,E=3,S=4,k=5,O=6,T=7,N=8,A=9,I=10,R=11,P=12,M=13,j=14,D=15,L=16,F=17,z=18,B=19,U=20,W=21,V=22,H=23,G=24,q=25,K=26,X=27,Y=28,Z=29,$=30,J=31,Q=32,ee=852,te=592,ne=15,re=15;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ae(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=_,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,d):v}function se(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ae(e)):v}function ue(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,se(e))):v}function le(e,t){var n,r;return e?(r=new oe,e.state=r,r.window=null,(n=ue(e,t))!==d&&(e.state=null),n):v}function ce(e){return le(e,re)}var fe=!0,pe,he;function de(e){if(fe){var t;for(pe=new r.Buf32(512),he=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,pe,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(c,e.lens,0,32,he,0,e.work,{bits:5}),fe=!1}e.lencode=pe,e.lenbits=9,e.distcode=he,e.distbits=5}function me(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}function ge(e,t){var n,ee,te,ne,re,oe,ae,se,ue,le,ce,fe,pe,he,ge=0,ve,ye,be,we,xe,_e,Ce,Ee,Se=new r.Buf8(4),ke,Oe,Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return v;(n=e.state).mode===P&&(n.mode=M),re=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,se=n.hold,ue=n.bits,le=oe,ce=ae,Ee=d;e:for(;;)switch(n.mode){case _:if(0===n.wrap){n.mode=M;break}for(;ue<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}if(2&n.wrap&&35615===se){n.check=0,Se[0]=255&se,Se[1]=se>>>8&255,n.check=o(n.check,Se,2,0),se=0,ue=0,n.mode=C;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=$;break}if((15&se)!==x){e.msg="unknown compression method",n.mode=$;break}if(ue-=4,Ce=8+(15&(se>>>=4)),0===n.wbits)n.wbits=Ce;else if(Ce>n.wbits){e.msg="invalid window size",n.mode=$;break}n.dmax=1<<Ce,e.adler=n.check=1,n.mode=512&se?I:P,se=0,ue=0;break;case C:for(;ue<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}if(n.flags=se,(255&n.flags)!==x){e.msg="unknown compression method",n.mode=$;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=$;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(Se[0]=255&se,Se[1]=se>>>8&255,n.check=o(n.check,Se,2,0)),se=0,ue=0,n.mode=E;case E:for(;ue<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}n.head&&(n.head.time=se),512&n.flags&&(Se[0]=255&se,Se[1]=se>>>8&255,Se[2]=se>>>16&255,Se[3]=se>>>24&255,n.check=o(n.check,Se,4,0)),se=0,ue=0,n.mode=S;case S:for(;ue<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(Se[0]=255&se,Se[1]=se>>>8&255,n.check=o(n.check,Se,2,0)),se=0,ue=0,n.mode=k;case k:if(1024&n.flags){for(;ue<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(Se[0]=255&se,Se[1]=se>>>8&255,n.check=o(n.check,Se,2,0)),se=0,ue=0}else n.head&&(n.head.extra=null);n.mode=O;case O:if(1024&n.flags&&((fe=n.length)>oe&&(fe=oe),fe&&(n.head&&(Ce=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,ee,ne,fe,Ce)),512&n.flags&&(n.check=o(n.check,ee,fe,ne)),oe-=fe,ne+=fe,n.length-=fe),n.length))break e;n.length=0,n.mode=T;case T:if(2048&n.flags){if(0===oe)break e;fe=0;do{Ce=ee[ne+fe++],n.head&&Ce&&n.length<65536&&(n.head.name+=String.fromCharCode(Ce))}while(Ce&&fe<oe);if(512&n.flags&&(n.check=o(n.check,ee,fe,ne)),oe-=fe,ne+=fe,Ce)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=N;case N:if(4096&n.flags){if(0===oe)break e;fe=0;do{Ce=ee[ne+fe++],n.head&&Ce&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ce))}while(Ce&&fe<oe);if(512&n.flags&&(n.check=o(n.check,ee,fe,ne)),oe-=fe,ne+=fe,Ce)break e}else n.head&&(n.head.comment=null);n.mode=A;case A:if(512&n.flags){for(;ue<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=$;break}se=0,ue=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=P;break;case I:for(;ue<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}e.adler=n.check=ie(se),se=0,ue=0,n.mode=R;case R:if(0===n.havedict)return e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=ue,g;e.adler=n.check=1,n.mode=P;case P:if(t===p||t===h)break e;case M:if(n.last){se>>>=7&ue,ue-=7&ue,n.mode=X;break}for(;ue<3;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}switch(n.last=1&se,ue-=1,3&(se>>>=1)){case 0:n.mode=j;break;case 1:if(de(n),n.mode=U,t===h){se>>>=2,ue-=2;break e}break;case 2:n.mode=F;break;case 3:e.msg="invalid block type",n.mode=$}se>>>=2,ue-=2;break;case j:for(se>>>=7&ue,ue-=7&ue;ue<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=$;break}if(n.length=65535&se,se=0,ue=0,n.mode=D,t===h)break e;case D:n.mode=L;case L:if(fe=n.length){if(fe>oe&&(fe=oe),fe>ae&&(fe=ae),0===fe)break e;r.arraySet(te,ee,ne,fe,re),oe-=fe,ne+=fe,ae-=fe,re+=fe,n.length-=fe;break}n.mode=P;break;case F:for(;ue<14;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}if(n.nlen=257+(31&se),se>>>=5,ue-=5,n.ndist=1+(31&se),se>>>=5,ue-=5,n.ncode=4+(15&se),se>>>=4,ue-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=$;break}n.have=0,n.mode=z;case z:for(;n.have<n.ncode;){for(;ue<3;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}n.lens[Te[n.have++]]=7&se,se>>>=3,ue-=3}for(;n.have<19;)n.lens[Te[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ke={bits:n.lenbits},Ee=s(u,n.lens,0,19,n.lencode,0,n.work,ke),n.lenbits=ke.bits,Ee){e.msg="invalid code lengths set",n.mode=$;break}n.have=0,n.mode=B;case B:for(;n.have<n.nlen+n.ndist;){for(;ye=(ge=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,be=65535&ge,!((ve=ge>>>24)<=ue);){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}if(be<16)se>>>=ve,ue-=ve,n.lens[n.have++]=be;else{if(16===be){for(Oe=ve+2;ue<Oe;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}if(se>>>=ve,ue-=ve,0===n.have){e.msg="invalid bit length repeat",n.mode=$;break}Ce=n.lens[n.have-1],fe=3+(3&se),se>>>=2,ue-=2}else if(17===be){for(Oe=ve+3;ue<Oe;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}ue-=ve,Ce=0,fe=3+(7&(se>>>=ve)),se>>>=3,ue-=3}else{for(Oe=ve+7;ue<Oe;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}ue-=ve,Ce=0,fe=11+(127&(se>>>=ve)),se>>>=7,ue-=7}if(n.have+fe>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=$;break}for(;fe--;)n.lens[n.have++]=Ce}}if(n.mode===$)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=$;break}if(n.lenbits=9,ke={bits:n.lenbits},Ee=s(l,n.lens,0,n.nlen,n.lencode,0,n.work,ke),n.lenbits=ke.bits,Ee){e.msg="invalid literal/lengths set",n.mode=$;break}if(n.distbits=6,n.distcode=n.distdyn,ke={bits:n.distbits},Ee=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ke),n.distbits=ke.bits,Ee){e.msg="invalid distances set",n.mode=$;break}if(n.mode=U,t===h)break e;case U:n.mode=W;case W:if(oe>=6&&ae>=258){e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=ue,a(e,ce),re=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,se=n.hold,ue=n.bits,n.mode===P&&(n.back=-1);break}for(n.back=0;ye=(ge=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,be=65535&ge,!((ve=ge>>>24)<=ue);){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}if(ye&&0==(240&ye)){for(we=ve,xe=ye,_e=be;ye=(ge=n.lencode[_e+((se&(1<<we+xe)-1)>>we)])>>>16&255,be=65535&ge,!(we+(ve=ge>>>24)<=ue);){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}se>>>=we,ue-=we,n.back+=we}if(se>>>=ve,ue-=ve,n.back+=ve,n.length=be,0===ye){n.mode=K;break}if(32&ye){n.back=-1,n.mode=P;break}if(64&ye){e.msg="invalid literal/length code",n.mode=$;break}n.extra=15&ye,n.mode=V;case V:if(n.extra){for(Oe=n.extra;ue<Oe;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,ue-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=H;case H:for(;ye=(ge=n.distcode[se&(1<<n.distbits)-1])>>>16&255,be=65535&ge,!((ve=ge>>>24)<=ue);){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}if(0==(240&ye)){for(we=ve,xe=ye,_e=be;ye=(ge=n.distcode[_e+((se&(1<<we+xe)-1)>>we)])>>>16&255,be=65535&ge,!(we+(ve=ge>>>24)<=ue);){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}se>>>=we,ue-=we,n.back+=we}if(se>>>=ve,ue-=ve,n.back+=ve,64&ye){e.msg="invalid distance code",n.mode=$;break}n.offset=be,n.extra=15&ye,n.mode=G;case G:if(n.extra){for(Oe=n.extra;ue<Oe;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,ue-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=$;break}n.mode=q;case q:if(0===ae)break e;if(fe=ce-ae,n.offset>fe){if((fe=n.offset-fe)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=$;break}fe>n.wnext?(fe-=n.wnext,pe=n.wsize-fe):pe=n.wnext-fe,fe>n.length&&(fe=n.length),he=n.window}else he=te,pe=re-n.offset,fe=n.length;fe>ae&&(fe=ae),ae-=fe,n.length-=fe;do{te[re++]=he[pe++]}while(--fe);0===n.length&&(n.mode=W);break;case K:if(0===ae)break e;te[re++]=n.length,ae--,n.mode=W;break;case X:if(n.wrap){for(;ue<32;){if(0===oe)break e;oe--,se|=ee[ne++]<<ue,ue+=8}if(ce-=ae,e.total_out+=ce,n.total+=ce,ce&&(e.adler=n.check=n.flags?o(n.check,te,ce,re-ce):i(n.check,te,ce,re-ce)),ce=ae,(n.flags?se:ie(se))!==n.check){e.msg="incorrect data check",n.mode=$;break}se=0,ue=0}n.mode=Y;case Y:if(n.wrap&&n.flags){for(;ue<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<ue,ue+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=$;break}se=0,ue=0}n.mode=Z;case Z:Ee=m;break e;case $:Ee=y;break e;case J:return b;case Q:default:return v}return e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=ue,(n.wsize||ce!==e.avail_out&&n.mode<$&&(n.mode<X||t!==f))&&me(e,e.output,e.next_out,ce-e.avail_out)?(n.mode=J,b):(le-=e.avail_in,ce-=e.avail_out,e.total_in+=le,e.total_out+=ce,n.total+=ce,n.wrap&&ce&&(e.adler=n.check=n.flags?o(n.check,te,ce,e.next_out-ce):i(n.check,te,ce,e.next_out-ce)),e.data_type=n.bits+(n.last?64:0)+(n.mode===P?128:0)+(n.mode===U||n.mode===D?256:0),(0===le&&0===ce||t===f)&&Ee===d&&(Ee=w),Ee)}function ve(e){if(!e||!e.state)return v;var t=e.state;return t.window&&(t.window=null),e.state=null,d}function ye(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?v:(n.head=t,t.done=!1,d):v}function be(e,t){var n=t.length,r,o,a;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==R?v:r.mode===R&&(o=i(o=1,t,n,0))!==r.check?y:(a=me(e,t,n,n))?(r.mode=J,b):(r.havedict=1,d):v}n.inflateReset=se,n.inflateReset2=ue,n.inflateResetKeep=ae,n.inflateInit=ce,n.inflateInit2=le,n.inflate=ge,n.inflateEnd=ve,n.inflateGetHeader=ye,n.inflateSetDictionary=be,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":35,"./adler32":36,"./crc32":38,"./inffast":40,"./inftrees":42}],42:[function(e,t,n){"use strict";var r=e("../utils/common"),i=15,o=852,a=592,s=0,u=1,l=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function e(t,n,i,o,a,s,u,l){var d=l.bits,m=0,g=0,v=0,y=0,b=0,w=0,x=0,_=0,C=0,E=0,S,k,O,T,N,A=null,I=0,R,P=new r.Buf16(16),M=new r.Buf16(16),j=null,D=0,L,F,z;for(m=0;m<=15;m++)P[m]=0;for(g=0;g<o;g++)P[n[i+g]]++;for(b=d,y=15;y>=1&&0===P[y];y--);if(b>y&&(b=y),0===y)return a[s++]=20971520,a[s++]=20971520,l.bits=1,0;for(v=1;v<y&&0===P[v];v++);for(b<v&&(b=v),_=1,m=1;m<=15;m++)if(_<<=1,(_-=P[m])<0)return-1;if(_>0&&(0===t||1!==y))return-1;for(M[1]=0,m=1;m<15;m++)M[m+1]=M[m]+P[m];for(g=0;g<o;g++)0!==n[i+g]&&(u[M[n[i+g]]++]=g);if(0===t?(A=j=u,R=19):1===t?(A=c,I-=257,j=f,D-=257,R=256):(A=p,j=h,R=-1),E=0,g=0,m=v,N=s,w=b,x=0,O=-1,T=(C=1<<b)-1,1===t&&C>852||2===t&&C>592)return 1;for(;;){L=m-x,u[g]<R?(F=0,z=u[g]):u[g]>R?(F=j[D+u[g]],z=A[I+u[g]]):(F=96,z=0),S=1<<m-x,v=k=1<<w;do{a[N+(E>>x)+(k-=S)]=L<<24|F<<16|z|0}while(0!==k);for(S=1<<m-1;E&S;)S>>=1;if(0!==S?(E&=S-1,E+=S):E=0,g++,0==--P[m]){if(m===y)break;m=n[i+u[g]]}if(m>b&&(E&T)!==O){for(0===x&&(x=b),N+=v,_=1<<(w=m-x);w+x<y&&!((_-=P[w+x])<=0);)w++,_<<=1;if(C+=1<<w,1===t&&C>852||2===t&&C>592)return 1;a[O=E&T]=b<<24|w<<16|N-s|0}}return 0!==E&&(a[N+E]=m-x<<24|64<<16|0),l.bits=b,0}},{"../utils/common":35}],43:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],44:[function(e,t,n){"use strict";var r=e("../utils/common"),i=4,o=0,a=1,s=2;function u(e){for(var t=e.length;--t>=0;)e[t]=0}var l=0,c=1,f=2,p=3,h=258,d=29,m=256,g=m+1+d,v=30,y=19,b=2*g+1,w=15,x=16,_=7,C=256,E=16,S=17,k=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=512,R=new Array(2*(g+2));u(R);var P=new Array(2*v);u(P);var M=new Array(512);u(M);var j=new Array(256);u(j);var D=new Array(d);u(D);var L=new Array(v),F,z,B;function U(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function W(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function V(e){return e<256?M[e]:M[256+(e>>>7)]}function H(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function G(e,t,n){e.bi_valid>x-n?(e.bi_buf|=t<<e.bi_valid&65535,H(e,e.bi_buf),e.bi_buf=t>>x-e.bi_valid,e.bi_valid+=n-x):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function q(e,t,n){G(e,n[2*t],n[2*t+1])}function K(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function X(e){16===e.bi_valid?(H(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function Y(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,u=t.stat_desc.max_length,l,c,f,p,h,d,m=0;for(p=0;p<=w;p++)e.bl_count[p]=0;for(n[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<b;l++)(p=n[2*n[2*(c=e.heap[l])+1]+1]+1)>u&&(p=u,m++),n[2*c+1]=p,c>r||(e.bl_count[p]++,h=0,c>=s&&(h=a[c-s]),d=n[2*c],e.opt_len+=d*(p+h),o&&(e.static_len+=d*(i[2*c+1]+h)));if(0!==m){do{for(p=u-1;0===e.bl_count[p];)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[u]--,m-=2}while(m>0);for(p=u;0!==p;p--)for(c=e.bl_count[p];0!==c;)(f=e.heap[--l])>r||(n[2*f+1]!==p&&(e.opt_len+=(p-n[2*f+1])*n[2*f],n[2*f+1]=p),c--)}}function Z(e,t,n){var r=new Array(w+1),i=0,o,a;for(o=1;o<=w;o++)r[o]=i=i+n[o-1]<<1;for(a=0;a<=t;a++){var s=e[2*a+1];0!==s&&(e[2*a]=K(r[s]++,s))}}function $(){var e,t,n,r,i,o=new Array(w+1);for(n=0,r=0;r<d-1;r++)for(D[r]=n,e=0;e<1<<O[r];e++)j[n++]=r;for(j[n-1]=r,i=0,r=0;r<16;r++)for(L[r]=i,e=0;e<1<<T[r];e++)M[i++]=r;for(i>>=7;r<v;r++)for(L[r]=i<<7,e=0;e<1<<T[r]-7;e++)M[256+i++]=r;for(t=0;t<=w;t++)o[t]=0;for(e=0;e<=143;)R[2*e+1]=8,e++,o[8]++;for(;e<=255;)R[2*e+1]=9,e++,o[9]++;for(;e<=279;)R[2*e+1]=7,e++,o[7]++;for(;e<=287;)R[2*e+1]=8,e++,o[8]++;for(Z(R,g+1,o),e=0;e<v;e++)P[2*e+1]=5,P[2*e]=K(e,5);F=new U(R,O,m+1,g,w),z=new U(P,T,0,v,w),B=new U(new Array(0),N,0,y,_)}function J(e){var t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<v;t++)e.dyn_dtree[2*t]=0;for(t=0;t<y;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*C]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Q(e){e.bi_valid>8?H(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,n,i){Q(e),i&&(H(e,n),H(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function te(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function ne(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&te(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!te(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function re(e,t,n){var r,i,o=0,a,s;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===r?q(e,i,t):(q(e,(a=j[i])+m+1,t),0!==(s=O[a])&&G(e,i-=D[a],s),q(e,a=V(--r),n),0!==(s=T[a])&&G(e,r-=L[a],s))}while(o<e.last_lit);q(e,C,t)}function ie(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,a,s,u=-1,l;for(e.heap_len=0,e.heap_max=b,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)n[2*(l=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[2*l+1]);for(t.max_code=u,a=e.heap_len>>1;a>=1;a--)ne(e,n,a);l=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ne(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*l]=n[2*a]+n[2*s],e.depth[l]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=l,e.heap[1]=l++,ne(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Y(e,t),Z(n,u,e.bl_count)}function oe(e,t,n){var r,i=-1,o,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<u&&o===a||(s<l?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*E]++):s<=10?e.bl_tree[2*S]++:e.bl_tree[2*k]++,s=0,i=o,0===a?(u=138,l=3):o===a?(u=6,l=3):(u=7,l=4))}function ae(e,t,n){var r,i=-1,o,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<u&&o===a)){if(s<l)do{q(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(q(e,o,e.bl_tree),s--),q(e,E,e.bl_tree),G(e,s-3,2)):s<=10?(q(e,S,e.bl_tree),G(e,s-3,3)):(q(e,k,e.bl_tree),G(e,s-11,7));s=0,i=o,0===a?(u=138,l=3):o===a?(u=6,l=3):(u=7,l=4)}}function se(e){var t;for(oe(e,e.dyn_ltree,e.l_desc.max_code),oe(e,e.dyn_dtree,e.d_desc.max_code),ie(e,e.bl_desc),t=y-1;t>=3&&0===e.bl_tree[2*A[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function ue(e,t,n,r){var i;for(G(e,t-257,5),G(e,n-1,5),G(e,r-4,4),i=0;i<r;i++)G(e,e.bl_tree[2*A[i]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,n-1)}function le(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(n=32;n<m;n++)if(0!==e.dyn_ltree[2*n])return a;return o}u(L);var ce=!1;function fe(e){ce||($(),ce=!0),e.l_desc=new W(e.dyn_ltree,F),e.d_desc=new W(e.dyn_dtree,z),e.bl_desc=new W(e.bl_tree,B),e.bi_buf=0,e.bi_valid=0,J(e)}function pe(e,t,n,r){G(e,(l<<1)+(r?1:0),3),ee(e,t,n,!0)}function he(e){G(e,c<<1,3),q(e,C,R),X(e)}function de(e,t,n,r){var o,a,u=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=le(e)),ie(e,e.l_desc),ie(e,e.d_desc),u=se(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==t?pe(e,t,n,r):e.strategy===i||a===o?(G(e,(c<<1)+(r?1:0),3),re(e,R,P)):(G(e,(f<<1)+(r?1:0),3),ue(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),re(e,e.dyn_ltree,e.dyn_dtree)),J(e),r&&Q(e)}function me(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(j[n]+m+1)]++,e.dyn_dtree[2*V(t)]++),e.last_lit===e.lit_bufsize-1}n._tr_init=fe,n._tr_stored_block=pe,n._tr_flush_block=de,n._tr_tally=me,n._tr_align=he},{"../utils/common":35}],45:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}],46:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],47:[function(e,t,n){(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var r=e("base64-js"),i=e("ieee754"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=t,n.SlowBuffer=y,n.INSPECT_MAX_BYTES=50;var a=2147483647;function s(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}function u(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=new Uint8Array(e);return Object.setPrototypeOf(n,t.prototype),n}function t(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return l(e,t,n)}function l(e,n,r){if("string"==typeof e)return h(e,n);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return m(e,n,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return t.from(i,n,r);var o=g(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e,t,n){return c(e),e<=0?u(e):void 0!==t?"string"==typeof n?u(e).fill(t,n):u(e).fill(t):u(e)}function p(e){return c(e),u(e<0?0:0|v(e))}function h(e,n){if("string"==typeof n&&""!==n||(n="utf8"),!t.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r=0|b(e,n),i=u(r),o=i.write(e,n);return o!==r&&(i=i.slice(0,o)),i}function d(e){for(var t=e.length<0?0:0|v(e.length),n=u(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function m(e,n,r){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),Object.setPrototypeOf(i,t.prototype),i}function g(e){if(t.isBuffer(e)){var n=0|v(e.length),r=u(n);return 0===r.length?r:(e.copy(r,0,0,n),r)}return void 0!==e.length?"number"!=typeof e.length||$(e.length)?u(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}function v(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),t.alloc(+e)}function b(e,n){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(o)return i?-1:G(e).length;n=(""+n).toLowerCase(),o=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function x(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),$(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:C(e,n,r,i,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):C(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,r,i){var o=1,a=e.length,s=t.length,u;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,s/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(u=n;u<a;u++)if(l(e,u)===l(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===s)return c*o}else-1!==c&&(u-=u-c),c=-1}else for(n+s>a&&(n=a-s),u=n;u>=0;u--){for(var f=!0,p=0;p<s;p++)if(l(e,u+p)!==l(t,p)){f=!1;break}if(f)return u}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if($(s))return a;e[n+a]=s}return a}function S(e,t,n,r){return Y(G(t,e.length-n),e,n,r)}function k(e,t,n,r){return Y(q(t),e,n,r)}function O(e,t,n,r){return k(e,t,n,r)}function T(e,t,n,r){return Y(X(t),e,n,r)}function N(e,t,n,r){return Y(K(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1,u,l,c,f;if(i+s<=n)switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(u=e[i+1]))&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=e[i+1],l=e[i+2],128==(192&u)&&128==(192&l)&&(f=(15&o)<<12|(63&u)<<6|63&l)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(f=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(a=f)}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return P(r)}n.kMaxLength=a,t.TYPED_ARRAY_SUPPORT=s(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(e,t,n){return f(e,t,n)},t.allocUnsafe=function(e){return p(e)},t.allocUnsafeSlow=function(e){return p(e)},t.isBuffer=function e(n){return null!=n&&!0===n._isBuffer&&n!==t.prototype},t.compare=function e(n,r){if(Z(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),Z(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(n)||!t.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===r)return 0;for(var i=n.length,o=r.length,a=0,s=Math.min(i,o);a<s;++a)if(n[a]!==r[a]){i=n[a],o=r[a];break}return i<o?-1:o<i?1:0},t.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function e(n,r){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return t.alloc(0);var i;if(void 0===r)for(r=0,i=0;i<n.length;++i)r+=n[i].length;var o=t.allocUnsafe(r),a=0;for(i=0;i<n.length;++i){var s=n[i];if(Z(s,Uint8Array)&&(s=t.from(s)),!t.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(o,a),a+=s.length}return o},t.byteLength=b,t.prototype._isBuffer=!0,t.prototype.swap16=function e(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)x(this,n,n+1);return this},t.prototype.swap32=function e(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)x(this,n,n+3),x(this,n+1,n+2);return this},t.prototype.swap64=function e(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)x(this,n,n+7),x(this,n+1,n+6),x(this,n+2,n+5),x(this,n+3,n+4);return this},t.prototype.toString=function e(){var t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):w.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function e(n){if(!t.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||0===t.compare(this,n)},t.prototype.inspect=function e(){var t="",r=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(t.prototype[o]=t.prototype.inspect),t.prototype.compare=function e(n,r,i,o,a){if(Z(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),!t.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(void 0===r&&(r=0),void 0===i&&(i=n?n.length:0),void 0===o&&(o=0),void 0===a&&(a=this.length),r<0||i>n.length||o<0||a>this.length)throw new RangeError("out of range index");if(o>=a&&r>=i)return 0;if(o>=a)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,o>>>=0,a>>>=0,this===n)return 0;for(var s=a-o,u=i-r,l=Math.min(s,u),c=this.slice(o,a),f=n.slice(r,i),p=0;p<l;++p)if(c[p]!==f[p]){s=c[p],u=f[p];break}return s<u?-1:u<s?1:0},t.prototype.includes=function e(t,n,r){return-1!==this.indexOf(t,n,r)},t.prototype.indexOf=function e(t,n,r){return _(this,t,n,r,!0)},t.prototype.lastIndexOf=function e(t,n,r){return _(this,t,n,r,!1)},t.prototype.write=function e(t,n,r,i){if(void 0===n)i="utf8",r=this.length,n=0;else if(void 0===r&&"string"==typeof n)i=n,r=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var o=this.length-n;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return E(this,t,n,r);case"utf8":case"utf-8":return S(this,t,n,r);case"ascii":return k(this,t,n,r);case"latin1":case"binary":return O(this,t,n,r);case"base64":return T(this,t,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n,r);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},t.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function P(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=J[e[o]];return i}function L(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function F(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function z(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),i.write(e,t,n,r,23,4),n+4}function W(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),i.write(e,t,n,r,52,8),n+8}t.prototype.slice=function e(n,r){var i=this.length;n=~~n,r=void 0===r?i:~~r,n<0?(n+=i)<0&&(n=0):n>i&&(n=i),r<0?(r+=i)<0&&(r=0):r>i&&(r=i),r<n&&(r=n);var o=this.subarray(n,r);return Object.setPrototypeOf(o,t.prototype),o},t.prototype.readUIntLE=function e(t,n,r){t>>>=0,n>>>=0,r||F(t,n,this.length);for(var i=this[t],o=1,a=0;++a<n&&(o*=256);)i+=this[t+a]*o;return i},t.prototype.readUIntBE=function e(t,n,r){t>>>=0,n>>>=0,r||F(t,n,this.length);for(var i=this[t+--n],o=1;n>0&&(o*=256);)i+=this[t+--n]*o;return i},t.prototype.readUInt8=function e(t,n){return t>>>=0,n||F(t,1,this.length),this[t]},t.prototype.readUInt16LE=function e(t,n){return t>>>=0,n||F(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function e(t,n){return t>>>=0,n||F(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function e(t,n){return t>>>=0,n||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function e(t,n){return t>>>=0,n||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function e(t,n,r){t>>>=0,n>>>=0,r||F(t,n,this.length);for(var i=this[t],o=1,a=0;++a<n&&(o*=256);)i+=this[t+a]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*n)),i},t.prototype.readIntBE=function e(t,n,r){t>>>=0,n>>>=0,r||F(t,n,this.length);for(var i=n,o=1,a=this[t+--i];i>0&&(o*=256);)a+=this[t+--i]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*n)),a},t.prototype.readInt8=function e(t,n){return t>>>=0,n||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function e(t,n){t>>>=0,n||F(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function e(t,n){t>>>=0,n||F(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function e(t,n){return t>>>=0,n||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function e(t,n){return t>>>=0,n||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function e(t,n){return t>>>=0,n||F(t,4,this.length),i.read(this,t,!0,23,4)},t.prototype.readFloatBE=function e(t,n){return t>>>=0,n||F(t,4,this.length),i.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function e(t,n){return t>>>=0,n||F(t,8,this.length),i.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function e(t,n){return t>>>=0,n||F(t,8,this.length),i.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function e(t,n,r,i){var o;(t=+t,n>>>=0,r>>>=0,i)||z(this,t,n,r,Math.pow(2,8*r)-1,0);var a=1,s=0;for(this[n]=255&t;++s<r&&(a*=256);)this[n+s]=t/a&255;return n+r},t.prototype.writeUIntBE=function e(t,n,r,i){var o;(t=+t,n>>>=0,r>>>=0,i)||z(this,t,n,r,Math.pow(2,8*r)-1,0);var a=r-1,s=1;for(this[n+a]=255&t;--a>=0&&(s*=256);)this[n+a]=t/s&255;return n+r},t.prototype.writeUInt8=function e(t,n,r){return t=+t,n>>>=0,r||z(this,t,n,1,255,0),this[n]=255&t,n+1},t.prototype.writeUInt16LE=function e(t,n,r){return t=+t,n>>>=0,r||z(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},t.prototype.writeUInt16BE=function e(t,n,r){return t=+t,n>>>=0,r||z(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},t.prototype.writeUInt32LE=function e(t,n,r){return t=+t,n>>>=0,r||z(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},t.prototype.writeUInt32BE=function e(t,n,r){return t=+t,n>>>=0,r||z(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},t.prototype.writeIntLE=function e(t,n,r,i){if(t=+t,n>>>=0,!i){var o=Math.pow(2,8*r-1);z(this,t,n,r,o-1,-o)}var a=0,s=1,u=0;for(this[n]=255&t;++a<r&&(s*=256);)t<0&&0===u&&0!==this[n+a-1]&&(u=1),this[n+a]=(t/s>>0)-u&255;return n+r},t.prototype.writeIntBE=function e(t,n,r,i){if(t=+t,n>>>=0,!i){var o=Math.pow(2,8*r-1);z(this,t,n,r,o-1,-o)}var a=r-1,s=1,u=0;for(this[n+a]=255&t;--a>=0&&(s*=256);)t<0&&0===u&&0!==this[n+a+1]&&(u=1),this[n+a]=(t/s>>0)-u&255;return n+r},t.prototype.writeInt8=function e(t,n,r){return t=+t,n>>>=0,r||z(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},t.prototype.writeInt16LE=function e(t,n,r){return t=+t,n>>>=0,r||z(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},t.prototype.writeInt16BE=function e(t,n,r){return t=+t,n>>>=0,r||z(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},t.prototype.writeInt32LE=function e(t,n,r){return t=+t,n>>>=0,r||z(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},t.prototype.writeInt32BE=function e(t,n,r){return t=+t,n>>>=0,r||z(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},t.prototype.writeFloatLE=function e(t,n,r){return U(this,t,n,!0,r)},t.prototype.writeFloatBE=function e(t,n,r){return U(this,t,n,!1,r)},t.prototype.writeDoubleLE=function e(t,n,r){return W(this,t,n,!0,r)},t.prototype.writeDoubleBE=function e(t,n,r){return W(this,t,n,!1,r)},t.prototype.copy=function e(n,r,i,o){if(!t.isBuffer(n))throw new TypeError("argument should be a Buffer");if(i||(i=0),o||0===o||(o=this.length),r>=n.length&&(r=n.length),r||(r=0),o>0&&o<i&&(o=i),o===i)return 0;if(0===n.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),n.length-r<o-i&&(o=n.length-r+i);var a=o-i;if(this===n&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,i,o);else if(this===n&&i<r&&r<o)for(var s=a-1;s>=0;--s)n[s+r]=this[s+i];else Uint8Array.prototype.set.call(n,this.subarray(i,o),r);return a},t.prototype.fill=function e(n,r,i,o){if("string"==typeof n){if("string"==typeof r?(o=r,r=0,i=this.length):"string"==typeof i&&(o=i,i=this.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!t.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(1===n.length){var a=n.charCodeAt(0);("utf8"===o&&a<128||"latin1"===o)&&(n=a)}}else"number"==typeof n?n&=255:"boolean"==typeof n&&(n=Number(n));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;var s;if(r>>>=0,i=void 0===i?this.length:i>>>0,n||(n=0),"number"==typeof n)for(s=r;s<i;++s)this[s]=n;else{var u=t.isBuffer(n)?n:t.from(n,o),l=u.length;if(0===l)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(s=0;s<i-r;++s)this[s+r]=u[s%l]}return this};var V=/[^+/0-9A-Za-z-_]/g;function H(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function G(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function X(e){return r.toByteArray(H(e))}function Y(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}var J=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()}).call(this,e("buffer").Buffer)},{"base64-js":28,buffer:47,ieee754:253}],48:[function(e,t,n){var r=e("buffer").Buffer;t.exports=function(e,t){if(r.isBuffer(e)&&r.isBuffer(t)){if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}},{buffer:47}],49:[function(e,t,n){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],50:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},{}],51:[function(e,t,n){var r=e("../internals/is-object");t.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},{"../internals/is-object":105}],52:[function(e,t,n){var r=e("../internals/well-known-symbol"),i=e("../internals/object-create"),o=e("../internals/create-non-enumerable-property"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o(s,a,i(null)),t.exports=function(e){s[a][e]=!0}},{"../internals/create-non-enumerable-property":76,"../internals/object-create":118,"../internals/well-known-symbol":169}],53:[function(e,t,n){"use strict";var r=e("../internals/string-multibyte").charAt;t.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},{"../internals/string-multibyte":151}],54:[function(e,t,n){t.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},{}],55:[function(e,t,n){var r=e("../internals/is-object");t.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},{"../internals/is-object":105}],56:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/global"),o=e("../internals/is-object"),a=e("../internals/has"),s=e("../internals/classof"),u=e("../internals/create-non-enumerable-property"),l=e("../internals/redefine"),c=e("../internals/object-define-property").f,f=e("../internals/object-get-prototype-of"),p=e("../internals/object-set-prototype-of"),h=e("../internals/well-known-symbol"),d=e("../internals/uid"),m=i.DataView,g=m&&m.prototype,v=i.Int8Array,y=v&&v.prototype,b=i.Uint8ClampedArray,w=b&&b.prototype,x=v&&f(v),_=y&&f(y),C=Object.prototype,E=C.isPrototypeOf,S=h("toStringTag"),k=d("TYPED_ARRAY_TAG"),O=!(!i.ArrayBuffer||!m),T=O&&!!p&&"Opera"!==s(i.opera),N=!1,A,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R=function e(t){var n=s(t);return"DataView"===n||a(I,n)},P=function(e){return o(e)&&a(I,s(e))},M=function(e){if(P(e))return e;throw TypeError("Target is not a typed array")},j=function(e){if(p){if(E.call(x,e))return e}else for(var t in I)if(a(I,A)){var n=i[t];if(n&&(e===n||E.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},D=function(e,t,n){if(r){if(n)for(var o in I){var s=i[o];s&&a(s.prototype,e)&&delete s.prototype[e]}_[e]&&!n||l(_,e,n?t:T&&y[e]||t)}},L=function(e,t,n){var o,s;if(r){if(p){if(n)for(o in I)(s=i[o])&&a(s,e)&&delete s[e];if(x[e]&&!n)return;try{return l(x,e,n?t:T&&v[e]||t)}catch(e){}}for(o in I)!(s=i[o])||s[e]&&!n||l(s,e,t)}};for(A in I)i[A]||(T=!1);if((!T||"function"!=typeof x||x===Function.prototype)&&(x=function e(){throw TypeError("Incorrect invocation")},T))for(A in I)i[A]&&p(i[A],x);if((!T||!_||_===C)&&(_=x.prototype,T))for(A in I)i[A]&&p(i[A].prototype,_);if(T&&f(w)!==_&&p(w,_),r&&!a(_,S))for(A in N=!0,c(_,S,{get:function(){return o(this)?this[k]:void 0}}),I)i[A]&&u(i[A],k,A);O&&p&&f(g)!==C&&p(g,C),t.exports={NATIVE_ARRAY_BUFFER:O,NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:N&&k,aTypedArray:M,aTypedArrayConstructor:j,exportProto:D,exportStatic:L,isView:R,isTypedArray:P,TypedArray:x,TypedArrayPrototype:_}},{"../internals/classof":71,"../internals/create-non-enumerable-property":76,"../internals/descriptors":81,"../internals/global":92,"../internals/has":93,"../internals/is-object":105,"../internals/object-define-property":120,"../internals/object-get-prototype-of":125,"../internals/object-set-prototype-of":129,"../internals/redefine":138,"../internals/uid":166,"../internals/well-known-symbol":169}],57:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/descriptors"),o=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER,a=e("../internals/create-non-enumerable-property"),s=e("../internals/redefine-all"),u=e("../internals/fails"),l=e("../internals/an-instance"),c=e("../internals/to-integer"),f=e("../internals/to-length"),p=e("../internals/to-index"),h=e("../internals/object-get-own-property-names").f,d=e("../internals/object-define-property").f,m=e("../internals/array-fill"),g=e("../internals/set-to-string-tag"),v=e("../internals/internal-state"),y=v.get,b=v.set,w="ArrayBuffer",x="DataView",_="prototype",C="Wrong length",E="Wrong index",S=r.ArrayBuffer,k=S,O=r.DataView,T=r.Math,N=r.RangeError,A=1/0,I=T.abs,R=T.pow,P=T.floor,M=T.log,j=T.LN2,D=function(e,t,n){var r=new Array(n),i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=23===t?R(2,-24)-R(2,-77):0,u=e<0||0===e&&1/e<0?1:0,l=0,c,f,p;for((e=I(e))!=e||e===1/0?(f=e!=e?1:0,c=o):(c=P(M(e)/j),e*(p=R(2,-c))<1&&(c--,p*=2),(e+=c+a>=1?s/p:s*R(2,1-a))*p>=2&&(c++,p/=2),c+a>=o?(f=0,c=o):c+a>=1?(f=(e*p-1)*R(2,t),c+=a):(f=e*R(2,a-1)*R(2,t),c=0));t>=8;r[l++]=255&f,f/=256,t-=8);for(c=c<<t|f,i+=t;i>0;r[l++]=255&c,c/=256,i-=8);return r[--l]|=128*u,r},L=function(e,t){var n=e.length,r=8*n-t-1,i=(1<<r)-1,o=i>>1,a=r-7,s=n-1,u=e[s--],l=127&u,c;for(u>>=7;a>0;l=256*l+e[s],s--,a-=8);for(c=l&(1<<-a)-1,l>>=-a,a+=t;a>0;c=256*c+e[s],s--,a-=8);if(0===l)l=1-o;else{if(l===i)return c?NaN:u?-1/0:1/0;c+=R(2,t),l-=o}return(u?-1:1)*c*R(2,l-t)},F=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},z=function(e){return[255&e]},B=function(e){return[255&e,e>>8&255]},U=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},W=function(e){return D(e,23,4)},V=function(e){return D(e,52,8)},H=function(e,t){d(e.prototype,t,{get:function(){return y(this)[t]}})},G=function(e,t,n,r){var i,o=p(+n),a=y(e);if(o+t>a.byteLength)throw N(E);var s=y(a.buffer).bytes,u=o+a.byteOffset,l=s.slice(u,u+t);return r?l:l.reverse()},q=function(e,t,n,r,i,o){var a,s=p(+n),u=y(e);if(s+t>u.byteLength)throw N(E);for(var l=y(u.buffer).bytes,c=s+u.byteOffset,f=r(+i),h=0;h<t;h++)l[c+h]=f[o?h:t-h-1]};if(o){if(!u(function(){S(1)})||!u(function(){new S(-1)})||u(function(){return new S,new S(1.5),new S(NaN),S.name!=w})){for(var K=(k=function e(t){return l(this,k),new S(p(t))}).prototype=S.prototype,X=h(S),Y=0,Z;X.length>Y;)(Z=X[Y++])in k||a(k,Z,S[Z]);K.constructor=k}var $=new O(new k(2)),J=O.prototype.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||s(O.prototype,{setInt8:function e(t,n){J.call(this,t,n<<24>>24)},setUint8:function e(t,n){J.call(this,t,n<<24>>24)}},{unsafe:!0})}else k=function e(t){l(this,k,w);var n=p(t);b(this,{bytes:m.call(new Array(n),0),byteLength:n}),i||(this.byteLength=n)},O=function e(t,n,r){l(this,O,x),l(t,k,x);var o=y(t).byteLength,a=c(n);if(a<0||a>o)throw N("Wrong offset");if(a+(r=void 0===r?o-a:f(r))>o)throw N(C);b(this,{buffer:t,byteLength:r,byteOffset:a}),i||(this.buffer=t,this.byteLength=r,this.byteOffset=a)},i&&(H(k,"byteLength"),H(O,"buffer"),H(O,"byteLength"),H(O,"byteOffset")),s(O.prototype,{getInt8:function e(t){return G(this,1,t)[0]<<24>>24},getUint8:function e(t){return G(this,1,t)[0]},getInt16:function e(t){var n=G(this,2,t,arguments.length>1?arguments[1]:void 0);return(n[1]<<8|n[0])<<16>>16},getUint16:function e(t){var n=G(this,2,t,arguments.length>1?arguments[1]:void 0);return n[1]<<8|n[0]},getInt32:function e(t){return F(G(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function e(t){return F(G(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function e(t){return L(G(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function e(t){return L(G(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function e(t,n){q(this,1,t,z,n)},setUint8:function e(t,n){q(this,1,t,z,n)},setInt16:function e(t,n){q(this,2,t,B,n,arguments.length>2?arguments[2]:void 0)},setUint16:function e(t,n){q(this,2,t,B,n,arguments.length>2?arguments[2]:void 0)},setInt32:function e(t,n){q(this,4,t,U,n,arguments.length>2?arguments[2]:void 0)},setUint32:function e(t,n){q(this,4,t,U,n,arguments.length>2?arguments[2]:void 0)},setFloat32:function e(t,n){q(this,4,t,W,n,arguments.length>2?arguments[2]:void 0)},setFloat64:function e(t,n){q(this,8,t,V,n,arguments.length>2?arguments[2]:void 0)}});g(k,w),g(O,x),t.exports={ArrayBuffer:k,DataView:O}},{"../internals/an-instance":54,"../internals/array-buffer-view-core":56,"../internals/array-fill":59,"../internals/create-non-enumerable-property":76,"../internals/descriptors":81,"../internals/fails":86,"../internals/global":92,"../internals/internal-state":100,"../internals/object-define-property":120,"../internals/object-get-own-property-names":123,"../internals/redefine-all":137,"../internals/set-to-string-tag":145,"../internals/to-index":155,"../internals/to-integer":157,"../internals/to-length":158}],58:[function(e,t,n){"use strict";var r=e("../internals/to-object"),i=e("../internals/to-absolute-index"),o=e("../internals/to-length"),a=Math.min;t.exports=[].copyWithin||function e(t,n){var s=r(this),u=o(s.length),l=i(t,u),c=i(n,u),f=arguments.length>2?arguments[2]:void 0,p=a((void 0===f?u:i(f,u))-c,u-l),h=1;for(c<l&&l<c+p&&(h=-1,c+=p-1,l+=p-1);p-- >0;)c in s?s[l]=s[c]:delete s[l],l+=h,c+=h;return s}},{"../internals/to-absolute-index":154,"../internals/to-length":158,"../internals/to-object":159}],59:[function(e,t,n){"use strict";var r=e("../internals/to-object"),i=e("../internals/to-absolute-index"),o=e("../internals/to-length");t.exports=function e(t){for(var n=r(this),a=o(n.length),s=arguments.length,u=i(s>1?arguments[1]:void 0,a),l=s>2?arguments[2]:void 0,c=void 0===l?a:i(l,a);c>u;)n[u++]=t;return n}},{"../internals/to-absolute-index":154,"../internals/to-length":158,"../internals/to-object":159}],60:[function(e,t,n){"use strict";var r=e("../internals/array-iteration").forEach,i=e("../internals/sloppy-array-method");t.exports=i("forEach")?function e(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},{"../internals/array-iteration":62,"../internals/sloppy-array-method":149}],61:[function(e,t,n){var r=e("../internals/to-indexed-object"),i=e("../internals/to-length"),o=e("../internals/to-absolute-index"),a=function(e){return function(t,n,a){var s=r(t),u=i(s.length),l=o(a,u),c;if(e&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/to-absolute-index":154,"../internals/to-indexed-object":156,"../internals/to-length":158}],62:[function(e,t,n){var r=e("../internals/bind-context"),i=e("../internals/indexed-object"),o=e("../internals/to-object"),a=e("../internals/to-length"),s=e("../internals/array-species-create"),u=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,c=4==e,f=6==e,p=5==e||f;return function(h,d,m,g){for(var v=o(h),y=i(v),b=r(d,m,3),w=a(y.length),x=0,_=g||s,C=t?_(h,w):n?_(h,0):void 0,E,S;w>x;x++)if((p||x in y)&&(S=b(E=y[x],x,v),e))if(t)C[x]=S;else if(S)switch(e){case 3:return!0;case 5:return E;case 6:return x;case 2:u.call(C,E)}else if(c)return!1;return f?-1:l||c?c:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},{"../internals/array-species-create":66,"../internals/bind-context":67,"../internals/indexed-object":98,"../internals/to-length":158,"../internals/to-object":159}],63:[function(e,t,n){"use strict";var r=e("../internals/to-indexed-object"),i=e("../internals/to-integer"),o=e("../internals/to-length"),a=e("../internals/sloppy-array-method"),s=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,c=a("lastIndexOf");t.exports=l||c?function e(t){if(l)return u.apply(this,arguments)||0;var n=r(this),a=o(n.length),c=a-1;for(arguments.length>1&&(c=s(c,i(arguments[1]))),c<0&&(c=a+c);c>=0;c--)if(c in n&&n[c]===t)return c||0;return-1}:u},{"../internals/sloppy-array-method":149,"../internals/to-indexed-object":156,"../internals/to-integer":157,"../internals/to-length":158}],64:[function(e,t,n){var r=e("../internals/fails"),i=e("../internals/well-known-symbol"),o=e("../internals/v8-version"),a=i("species");t.exports=function(e){return o>=51||!r(function(){var t=[],n;return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},{"../internals/fails":86,"../internals/v8-version":168,"../internals/well-known-symbol":169}],65:[function(e,t,n){var r=e("../internals/a-function"),i=e("../internals/to-object"),o=e("../internals/indexed-object"),a=e("../internals/to-length"),s=function(e){return function(t,n,s,u){r(n);var l=i(t),c=o(l),f=a(l.length),p=e?f-1:0,h=e?-1:1;if(s<2)for(;;){if(p in c){u=c[p],p+=h;break}if(p+=h,e?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=h)p in c&&(u=n(u,c[p],p,l));return u}};t.exports={left:s(!1),right:s(!0)}},{"../internals/a-function":50,"../internals/indexed-object":98,"../internals/to-length":158,"../internals/to-object":159}],66:[function(e,t,n){var r=e("../internals/is-object"),i=e("../internals/is-array"),o,a=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},{"../internals/is-array":102,"../internals/is-object":105,"../internals/well-known-symbol":169}],67:[function(e,t,n){var r=e("../internals/a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"../internals/a-function":50}],68:[function(e,t,n){var r=e("../internals/an-object");t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},{"../internals/an-object":55}],69:[function(e,t,n){var r,i=e("../internals/well-known-symbol")("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},{"../internals/well-known-symbol":169}],70:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],71:[function(e,t,n){var r=e("../internals/classof-raw"),i,o=e("../internals/well-known-symbol")("toStringTag"),a="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};t.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},{"../internals/classof-raw":70,"../internals/well-known-symbol":169}],72:[function(e,t,n){var r=e("../internals/has"),i=e("../internals/own-keys"),o=e("../internals/object-get-own-property-descriptor"),a=e("../internals/object-define-property");t.exports=function(e,t){for(var n=i(t),s=a.f,u=o.f,l=0;l<n.length;l++){var c=n[l];r(e,c)||s(e,c,u(t,c))}}},{"../internals/has":93,"../internals/object-define-property":120,"../internals/object-get-own-property-descriptor":121,"../internals/own-keys":132}],73:[function(e,t,n){var r,i=e("../internals/well-known-symbol")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},{"../internals/well-known-symbol":169}],74:[function(e,t,n){var r=e("../internals/fails");t.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},{"../internals/fails":86}],75:[function(e,t,n){"use strict";var r=e("../internals/iterators-core").IteratorPrototype,i=e("../internals/object-create"),o=e("../internals/create-property-descriptor"),a=e("../internals/set-to-string-tag"),s=e("../internals/iterators"),u=function(){return this};t.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,l,!1,!0),s[l]=u,e}},{"../internals/create-property-descriptor":77,"../internals/iterators":110,"../internals/iterators-core":109,"../internals/object-create":118,"../internals/set-to-string-tag":145}],76:[function(e,t,n){var r=e("../internals/descriptors"),i=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"../internals/create-property-descriptor":77,"../internals/descriptors":81,"../internals/object-define-property":120}],77:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],78:[function(e,t,n){"use strict";var r=e("../internals/to-primitive"),i=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},{"../internals/create-property-descriptor":77,"../internals/object-define-property":120,"../internals/to-primitive":162}],79:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/create-iterator-constructor"),o=e("../internals/object-get-prototype-of"),a=e("../internals/object-set-prototype-of"),s=e("../internals/set-to-string-tag"),u=e("../internals/create-non-enumerable-property"),l=e("../internals/redefine"),c=e("../internals/well-known-symbol"),f=e("../internals/is-pure"),p=e("../internals/iterators"),h=e("../internals/iterators-core"),d=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,g=c("iterator"),v="keys",y="values",b="entries",w=function(){return this};t.exports=function(e,t,n,c,h,x,_){i(n,t,c);var C=function(e){if(e===h&&T)return T;if(!m&&e in k)return k[e];switch(e){case v:return function t(){return new n(this,e)};case y:return function t(){return new n(this,e)};case b:return function t(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",S=!1,k=e.prototype,O=k[g]||k["@@iterator"]||h&&k[h],T=!m&&O||C(h),N="Array"==t&&k.entries||O,A,I,R;if(N&&(A=o(N.call(new e)),d!==Object.prototype&&A.next&&(f||o(A)===d||(a?a(A,d):"function"!=typeof A[g]&&u(A,g,w)),s(A,E,!0,!0),f&&(p[E]=w))),h==y&&O&&O.name!==y&&(S=!0,T=function e(){return O.call(this)}),f&&!_||k[g]===T||u(k,g,T),p[t]=T,h)if(I={values:C(y),keys:x?T:C(v),entries:C(b)},_)for(R in I)!m&&!S&&R in k||l(k,R,I[R]);else r({target:t,proto:!0,forced:m||S},I);return I}},{"../internals/create-iterator-constructor":75,"../internals/create-non-enumerable-property":76,"../internals/export":85,"../internals/is-pure":106,"../internals/iterators":110,"../internals/iterators-core":109,"../internals/object-get-prototype-of":125,"../internals/object-set-prototype-of":129,"../internals/redefine":138,"../internals/set-to-string-tag":145,"../internals/well-known-symbol":169}],80:[function(e,t,n){var r=e("../internals/path"),i=e("../internals/has"),o=e("../internals/wrapped-well-known-symbol"),a=e("../internals/object-define-property").f;t.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},{"../internals/has":93,"../internals/object-define-property":120,"../internals/path":134,"../internals/wrapped-well-known-symbol":171}],81:[function(e,t,n){var r=e("../internals/fails");t.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"../internals/fails":86}],82:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/is-object"),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(e){return a?o.createElement(e):{}}},{"../internals/global":92,"../internals/is-object":105}],83:[function(e,t,n){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],84:[function(e,t,n){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],85:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/create-non-enumerable-property"),a=e("../internals/redefine"),s=e("../internals/set-global"),u=e("../internals/copy-constructor-properties"),l=e("../internals/is-forced");t.exports=function(e,t){var n=e.target,c=e.global,f=e.stat,p,h,d,m,g,v;if(h=c?r:f?r[n]||s(n,{}):(r[n]||{}).prototype)for(d in t){if(g=t[d],m=e.noTargetGet?(v=i(h,d))&&v.value:h[d],!(p=l(c?d:n+(f?".":"#")+d,e.forced))&&void 0!==m){if(typeof g==typeof m)continue;u(g,m)}(e.sham||m&&m.sham)&&o(g,"sham",!0),a(h,d,g,e)}}},{"../internals/copy-constructor-properties":72,"../internals/create-non-enumerable-property":76,"../internals/global":92,"../internals/is-forced":103,"../internals/object-get-own-property-descriptor":121,"../internals/redefine":138,"../internals/set-global":143}],86:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],87:[function(e,t,n){"use strict";var r=e("../internals/create-non-enumerable-property"),i=e("../internals/redefine"),o=e("../internals/fails"),a=e("../internals/well-known-symbol"),s=e("../internals/regexp-exec"),u=a("species"),l=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),c=!o(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});t.exports=function(e,t,n,f){var p=a(e),h=!o(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),d=h&&!o(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t});if(!h||!d||"replace"===e&&!l||"split"===e&&!c){var m=/./[p],g=n(p,""[e],function(e,t,n,r,i){return t.exec===s?h&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),v=g[0],y=g[1];i(String.prototype,e,v),i(RegExp.prototype,p,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)}),f&&r(RegExp.prototype[p],"sham",!0)}}},{"../internals/create-non-enumerable-property":76,"../internals/fails":86,"../internals/redefine":138,"../internals/regexp-exec":140,"../internals/well-known-symbol":169}],88:[function(e,t,n){"use strict";var r=e("../internals/a-function"),i=e("../internals/is-object"),o=[].slice,a={},s=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)};t.exports=Function.bind||function e(t){var n=r(this),a=o.call(arguments,1),u=function e(){var r=a.concat(o.call(arguments));return this instanceof u?s(n,r.length,r):n.apply(t,r)};return i(n.prototype)&&(u.prototype=n.prototype),u}},{"../internals/a-function":50,"../internals/is-object":105}],89:[function(e,t,n){var r=e("../internals/shared");t.exports=r("native-function-to-string",Function.toString)},{"../internals/shared":148}],90:[function(e,t,n){var r=e("../internals/path"),i=e("../internals/global"),o=function(e){return"function"==typeof e?e:void 0};t.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},{"../internals/global":92,"../internals/path":134}],91:[function(e,t,n){var r=e("../internals/classof"),i=e("../internals/iterators"),o,a=e("../internals/well-known-symbol")("iterator");t.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},{"../internals/classof":71,"../internals/iterators":110,"../internals/well-known-symbol":169}],92:[function(e,n,r){(function(e){var t=function(e){return e&&e.Math==Math&&e};n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof o&&o)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{}],93:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],94:[function(e,t,n){t.exports={}},{}],95:[function(e,t,n){var r=e("../internals/global");t.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},{"../internals/global":92}],96:[function(e,t,n){var r=e("../internals/get-built-in");t.exports=r("document","documentElement")},{"../internals/get-built-in":90}],97:[function(e,t,n){var r=e("../internals/descriptors"),i=e("../internals/fails"),o=e("../internals/document-create-element");t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":81,"../internals/document-create-element":82,"../internals/fails":86}],98:[function(e,t,n){var r=e("../internals/fails"),i=e("../internals/classof-raw"),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},{"../internals/classof-raw":70,"../internals/fails":86}],99:[function(e,t,n){var r=e("../internals/is-object"),i=e("../internals/object-set-prototype-of");t.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},{"../internals/is-object":105,"../internals/object-set-prototype-of":129}],100:[function(e,t,n){var r=e("../internals/native-weak-map"),i=e("../internals/global"),o=e("../internals/is-object"),a=e("../internals/create-non-enumerable-property"),s=e("../internals/has"),u=e("../internals/shared-key"),l=e("../internals/hidden-keys"),c=i.WeakMap,f,p,h,d=function(e){return h(e)?p(e):f(e,{})},m=function(e){return function(t){var n;if(!o(t)||(n=p(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(r){var g=new c,v=g.get,y=g.has,b=g.set;f=function(e,t){return b.call(g,e,t),t},p=function(e){return v.call(g,e)||{}},h=function(e){return y.call(g,e)}}else{var w=u("state");l[w]=!0,f=function(e,t){return a(e,w,t),t},p=function(e){return s(e,w)?e[w]:{}},h=function(e){return s(e,w)}}t.exports={set:f,get:p,has:h,enforce:d,getterFor:m}},{"../internals/create-non-enumerable-property":76,"../internals/global":92,"../internals/has":93,"../internals/hidden-keys":94,"../internals/is-object":105,"../internals/native-weak-map":114,"../internals/shared-key":146}],101:[function(e,t,n){var r=e("../internals/well-known-symbol"),i=e("../internals/iterators"),o=r("iterator"),a=Array.prototype;t.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},{"../internals/iterators":110,"../internals/well-known-symbol":169}],102:[function(e,t,n){var r=e("../internals/classof-raw");t.exports=Array.isArray||function e(t){return"Array"==r(t)}},{"../internals/classof-raw":70}],103:[function(e,t,n){var r=e("../internals/fails"),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==l||n!=u&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},{"../internals/fails":86}],104:[function(e,t,n){var r=e("../internals/user-agent");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},{"../internals/user-agent":167}],105:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],106:[function(e,t,n){t.exports=!1},{}],107:[function(e,t,n){var r=e("../internals/is-object"),i=e("../internals/classof-raw"),o,a=e("../internals/well-known-symbol")("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},{"../internals/classof-raw":70,"../internals/is-object":105,"../internals/well-known-symbol":169}],108:[function(e,t,n){var r=e("../internals/an-object"),i=e("../internals/is-array-iterator-method"),o=e("../internals/to-length"),a=e("../internals/bind-context"),s=e("../internals/get-iterator-method"),u=e("../internals/call-with-safe-iteration-closing"),l=function(e,t){this.stopped=e,this.result=t},c;(t.exports=function(e,t,n,c,f){var p=a(t,n,c?2:1),h,d,m,g,v,y,b;if(f)h=e;else{if("function"!=typeof(d=s(e)))throw TypeError("Target is not iterable");if(i(d)){for(m=0,g=o(e.length);g>m;m++)if((v=c?p(r(b=e[m])[0],b[1]):p(e[m]))&&v instanceof l)return v;return new l(!1)}h=d.call(e)}for(y=h.next;!(b=y.call(h)).done;)if("object"==typeof(v=u(h,p,b.value,c))&&v&&v instanceof l)return v;return new l(!1)}).stop=function(e){return new l(!0,e)}},{"../internals/an-object":55,"../internals/bind-context":67,"../internals/call-with-safe-iteration-closing":68,"../internals/get-iterator-method":91,"../internals/is-array-iterator-method":101,"../internals/to-length":158}],109:[function(e,t,n){"use strict";var r=e("../internals/object-get-prototype-of"),i=e("../internals/create-non-enumerable-property"),o=e("../internals/has"),a=e("../internals/well-known-symbol"),s=e("../internals/is-pure"),u=a("iterator"),l=!1,c=function(){return this},f,p,h;[].keys&&("next"in(h=[].keys())?(p=r(r(h)))!==Object.prototype&&(f=p):l=!0),void 0==f&&(f={}),s||o(f,u)||i(f,u,c),t.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:l}},{"../internals/create-non-enumerable-property":76,"../internals/has":93,"../internals/is-pure":106,"../internals/object-get-prototype-of":125,"../internals/well-known-symbol":169}],110:[function(e,t,n){arguments[4][94][0].apply(n,arguments)},{dup:94}],111:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/classof-raw"),a=e("../internals/task").set,s=e("../internals/is-ios"),u=r.MutationObserver||r.WebKitMutationObserver,l=r.process,c=r.Promise,f="process"==o(l),p=i(r,"queueMicrotask"),h=p&&p.value,d,m,g,v,y,b,w,x;h||(d=function(){var e,t;for(f&&(e=l.domain)&&e.exit();m;){t=m.fn,m=m.next;try{t()}catch(e){throw m?v():g=void 0,e}}g=void 0,e&&e.enter()},f?v=function(){l.nextTick(d)}:u&&!s?(y=!0,b=document.createTextNode(""),new u(d).observe(b,{characterData:!0}),v=function(){b.data=y=!y}):c&&c.resolve?(w=c.resolve(void 0),x=w.then,v=function(){x.call(w,d)}):v=function(){a.call(r,d)}),t.exports=h||function(e){var t={fn:e,next:void 0};g&&(g.next=t),m||(m=t,v()),g=t}},{"../internals/classof-raw":70,"../internals/global":92,"../internals/is-ios":104,"../internals/object-get-own-property-descriptor":121,"../internals/task":153}],112:[function(e,t,n){var r=e("../internals/global");t.exports=r.Promise},{"../internals/global":92}],113:[function(e,t,n){var r=e("../internals/fails");t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},{"../internals/fails":86}],114:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/function-to-string"),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i.call(o))},{"../internals/function-to-string":89,"../internals/global":92}],115:[function(e,t,n){"use strict";var r=e("../internals/a-function"),i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)};t.exports.f=function(e){return new i(e)}},{"../internals/a-function":50}],116:[function(e,t,n){var r=e("../internals/is-regexp");t.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},{"../internals/is-regexp":107}],117:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/fails"),o=e("../internals/object-keys"),a=e("../internals/object-get-own-property-symbols"),s=e("../internals/object-property-is-enumerable"),u=e("../internals/to-object"),l=e("../internals/indexed-object"),c=Object.assign;t.exports=!c||i(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||o(c({},t)).join("")!=r})?function e(t,n){for(var i=u(t),c=arguments.length,f=1,p=a.f,h=s.f;c>f;)for(var d=l(arguments[f++]),m=p?o(d).concat(p(d)):o(d),g=m.length,v=0,y;g>v;)y=m[v++],r&&!h.call(d,y)||(i[y]=d[y]);return i}:c},{"../internals/descriptors":81,"../internals/fails":86,"../internals/indexed-object":98,"../internals/object-get-own-property-symbols":124,"../internals/object-keys":127,"../internals/object-property-is-enumerable":128,"../internals/to-object":159}],118:[function(e,t,n){var r=e("../internals/an-object"),i=e("../internals/object-define-properties"),o=e("../internals/enum-bug-keys"),a=e("../internals/hidden-keys"),s=e("../internals/html"),u=e("../internals/document-create-element"),l,c=e("../internals/shared-key")("IE_PROTO"),f="prototype",p=function(){},h=function(){var e=u("iframe"),t=o.length,n="<",r="script",i=">",a="javascript:",l;for(e.style.display="none",s.appendChild(e),e.src=String(a),(l=e.contentWindow.document).open(),l.write("<script>document.F=Object<\/script>"),l.close(),h=l.F;t--;)delete h.prototype[o[t]];return h()};t.exports=Object.create||function e(t,n){var o;return null!==t?(p.prototype=r(t),o=new p,p.prototype=null,o[c]=t):o=h(),void 0===n?o:i(o,n)},a[c]=!0},{"../internals/an-object":55,"../internals/document-create-element":82,"../internals/enum-bug-keys":84,"../internals/hidden-keys":94,"../internals/html":96,"../internals/object-define-properties":119,"../internals/shared-key":146}],119:[function(e,t,n){var r=e("../internals/descriptors"),i=e("../internals/object-define-property"),o=e("../internals/an-object"),a=e("../internals/object-keys");t.exports=r?Object.defineProperties:function e(t,n){o(t);for(var r=a(n),s=r.length,u=0,l;s>u;)i.f(t,l=r[u++],n[l]);return t}},{"../internals/an-object":55,"../internals/descriptors":81,"../internals/object-define-property":120,"../internals/object-keys":127}],120:[function(e,t,n){var r=e("../internals/descriptors"),i=e("../internals/ie8-dom-define"),o=e("../internals/an-object"),a=e("../internals/to-primitive"),s=Object.defineProperty;n.f=r?s:function e(t,n,r){if(o(t),n=a(n,!0),o(r),i)try{return s(t,n,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[n]=r.value),t}},{"../internals/an-object":55,"../internals/descriptors":81,"../internals/ie8-dom-define":97,"../internals/to-primitive":162}],121:[function(e,t,n){var r=e("../internals/descriptors"),i=e("../internals/object-property-is-enumerable"),o=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),s=e("../internals/to-primitive"),u=e("../internals/has"),l=e("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=r?c:function e(t,n){if(t=a(t),n=s(n,!0),l)try{return c(t,n)}catch(e){}if(u(t,n))return o(!i.f.call(t,n),t[n])}},{"../internals/create-property-descriptor":77,"../internals/descriptors":81,"../internals/has":93,"../internals/ie8-dom-define":97,"../internals/object-property-is-enumerable":128,"../internals/to-indexed-object":156,"../internals/to-primitive":162}],122:[function(e,t,n){var r=e("../internals/to-indexed-object"),i=e("../internals/object-get-own-property-names").f,a={}.toString,s="object"==typeof o&&o&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(o):[],u=function(e){try{return i(e)}catch(e){return s.slice()}};t.exports.f=function e(t){return s&&"[object Window]"==a.call(t)?u(t):i(r(t))}},{"../internals/object-get-own-property-names":123,"../internals/to-indexed-object":156}],123:[function(e,t,n){var r=e("../internals/object-keys-internal"),i,o=e("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function e(t){return r(t,o)}},{"../internals/enum-bug-keys":84,"../internals/object-keys-internal":126}],124:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],125:[function(e,t,n){var r=e("../internals/has"),i=e("../internals/to-object"),o=e("../internals/shared-key"),a=e("../internals/correct-prototype-getter"),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},{"../internals/correct-prototype-getter":74,"../internals/has":93,"../internals/shared-key":146,"../internals/to-object":159}],126:[function(e,t,n){var r=e("../internals/has"),i=e("../internals/to-indexed-object"),o=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys");t.exports=function(e,t){var n=i(e),s=0,u=[],l;for(l in n)!r(a,l)&&r(n,l)&&u.push(l);for(;t.length>s;)r(n,l=t[s++])&&(~o(u,l)||u.push(l));return u}},{"../internals/array-includes":61,"../internals/has":93,"../internals/hidden-keys":94,"../internals/to-indexed-object":156}],127:[function(e,t,n){var r=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys");t.exports=Object.keys||function e(t){return r(t,i)}},{"../internals/enum-bug-keys":84,"../internals/object-keys-internal":126}],128:[function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);n.f=o?function e(t){var n=i(this,t);return!!n&&n.enumerable}:r},{}],129:[function(e,t,n){var r=e("../internals/an-object"),i=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),e=t instanceof Array}catch(e){}return function t(o,a){return r(o),i(a),e?n.call(o,a):o.__proto__=a,o}}():void 0)},{"../internals/a-possible-prototype":51,"../internals/an-object":55}],130:[function(e,t,n){var r=e("../internals/descriptors"),i=e("../internals/object-keys"),o=e("../internals/to-indexed-object"),a=e("../internals/object-property-is-enumerable").f,s=function(e){return function(t){for(var n=o(t),s=i(n),u=s.length,l=0,c=[],f;u>l;)f=s[l++],r&&!a.call(n,f)||c.push(e?[f,n[f]]:n[f]);return c}};t.exports={entries:s(!0),values:s(!1)}},{"../internals/descriptors":81,"../internals/object-keys":127,"../internals/object-property-is-enumerable":128,"../internals/to-indexed-object":156}],131:[function(e,t,n){"use strict";var r=e("../internals/classof"),i,o,a={};a[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports="[object z]"!==String(a)?function e(){return"[object "+r(this)+"]"}:a.toString},{"../internals/classof":71,"../internals/well-known-symbol":169}],132:[function(e,t,n){var r=e("../internals/get-built-in"),i=e("../internals/object-get-own-property-names"),o=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object");t.exports=r("Reflect","ownKeys")||function e(t){var n=i.f(a(t)),r=o.f;return r?n.concat(r(t)):n}},{"../internals/an-object":55,"../internals/get-built-in":90,"../internals/object-get-own-property-names":123,"../internals/object-get-own-property-symbols":124}],133:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/string-trim").trim,o=e("../internals/whitespaces"),a=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");t.exports=u?function e(t,n){var r=i(String(t));return a(r,n>>>0||(s.test(r)?16:10))}:a},{"../internals/global":92,"../internals/string-trim":152,"../internals/whitespaces":170}],134:[function(e,t,n){t.exports=e("../internals/global")},{"../internals/global":92}],135:[function(e,t,n){t.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},{}],136:[function(e,t,n){var r=e("../internals/an-object"),i=e("../internals/is-object"),o=e("../internals/new-promise-capability");t.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),a;return(0,n.resolve)(t),n.promise}},{"../internals/an-object":55,"../internals/is-object":105,"../internals/new-promise-capability":115}],137:[function(e,t,n){var r=e("../internals/redefine");t.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},{"../internals/redefine":138}],138:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/shared"),o=e("../internals/create-non-enumerable-property"),a=e("../internals/has"),s=e("../internals/set-global"),u=e("../internals/function-to-string"),l=e("../internals/internal-state"),c=l.get,f=l.enforce,p=String(u).split("toString");i("inspectSource",function(e){return u.call(e)}),(t.exports=function(e,t,n,i){var u=!!i&&!!i.unsafe,l=!!i&&!!i.enumerable,c=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||o(n,"name",t),f(n).source=p.join("string"==typeof t?t:"")),e!==r?(u?!c&&e[t]&&(l=!0):delete e[t],l?e[t]=n:o(e,t,n)):l?e[t]=n:s(t,n)})(Function.prototype,"toString",function e(){return"function"==typeof this&&c(this).source||u.call(this)})},{"../internals/create-non-enumerable-property":76,"../internals/function-to-string":89,"../internals/global":92,"../internals/has":93,"../internals/internal-state":100,"../internals/set-global":143,"../internals/shared":148}],139:[function(e,t,n){var r=e("./classof-raw"),i=e("./regexp-exec");t.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},{"./classof-raw":70,"./regexp-exec":140}],140:[function(e,t,n){"use strict";var r=e("./regexp-flags"),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=(u=/a/,l=/b*/g,i.call(u,"a"),i.call(l,"a"),0!==u.lastIndex||0!==l.lastIndex),u,l,c=void 0!==/()??/.exec("")[1],f;(s||c)&&(a=function e(t){var n=this,a,u,l,f;return c&&(u=new RegExp("^"+n.source+"$(?!\\s)",r.call(n))),s&&(a=n.lastIndex),l=i.call(n,t),s&&l&&(n.lastIndex=n.global?l.index+l[0].length:a),c&&l&&l.length>1&&o.call(l[0],u,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(l[f]=void 0)}),l}),t.exports=a},{"./regexp-flags":141}],141:[function(e,t,n){"use strict";var r=e("../internals/an-object");t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"../internals/an-object":55}],142:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},{}],143:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/create-non-enumerable-property");t.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},{"../internals/create-non-enumerable-property":76,"../internals/global":92}],144:[function(e,t,n){"use strict";var r=e("../internals/get-built-in"),i=e("../internals/object-define-property"),o=e("../internals/well-known-symbol"),a=e("../internals/descriptors"),s=o("species");t.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":81,"../internals/get-built-in":90,"../internals/object-define-property":120,"../internals/well-known-symbol":169}],145:[function(e,t,n){var r=e("../internals/object-define-property").f,i=e("../internals/has"),o,a=e("../internals/well-known-symbol")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},{"../internals/has":93,"../internals/object-define-property":120,"../internals/well-known-symbol":169}],146:[function(e,t,n){var r=e("../internals/shared"),i=e("../internals/uid"),o=r("keys");t.exports=function(e){return o[e]||(o[e]=i(e))}},{"../internals/shared":148,"../internals/uid":166}],147:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/set-global"),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},{"../internals/global":92,"../internals/set-global":143}],148:[function(e,t,n){var r=e("../internals/is-pure"),i=e("../internals/shared-store");(t.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.1",mode:r?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":106,"../internals/shared-store":147}],149:[function(e,t,n){"use strict";var r=e("../internals/fails");t.exports=function(e,t){var n=[][e];return!n||!r(function(){n.call(null,t||function(){throw 1},1)})}},{"../internals/fails":86}],150:[function(e,t,n){var r=e("../internals/an-object"),i=e("../internals/a-function"),o,a=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var n=r(e).constructor,o;return void 0===n||void 0==(o=r(n)[a])?t:i(o)}},{"../internals/a-function":50,"../internals/an-object":55,"../internals/well-known-symbol":169}],151:[function(e,t,n){var r=e("../internals/to-integer"),i=e("../internals/require-object-coercible"),o=function(e){return function(t,n){var o=String(i(t)),a=r(n),s=o.length,u,l;return a<0||a>=s?e?"":void 0:(u=o.charCodeAt(a))<55296||u>56319||a+1===s||(l=o.charCodeAt(a+1))<56320||l>57343?e?o.charAt(a):u:e?o.slice(a,a+2):l-56320+(u-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},{"../internals/require-object-coercible":142,"../internals/to-integer":157}],152:[function(e,t,n){var r=e("../internals/require-object-coercible"),i,o="["+e("../internals/whitespaces")+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),u=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(s,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},{"../internals/require-object-coercible":142,"../internals/whitespaces":170}],153:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/fails"),o=e("../internals/classof-raw"),a=e("../internals/bind-context"),s=e("../internals/html"),u=e("../internals/document-create-element"),l=e("../internals/is-ios"),c=r.location,f=r.setImmediate,p=r.clearImmediate,h=r.process,d=r.MessageChannel,m=r.Dispatch,g=0,v={},y="onreadystatechange",b,w,x,_=function(e){if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},C=function(e){return function(){_(e)}},E=function(e){_(e.data)},S=function(e){r.postMessage(e+"",c.protocol+"//"+c.host)};f&&p||(f=function e(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return v[++g]=function(){("function"==typeof t?t:Function(t)).apply(void 0,n)},b(g),g},p=function e(t){delete v[t]},"process"==o(h)?b=function(e){h.nextTick(C(e))}:m&&m.now?b=function(e){m.now(C(e))}:d&&!l?(x=(w=new d).port2,w.port1.onmessage=E,b=a(x.postMessage,x,1)):!r.addEventListener||"function"!=typeof postMessage||r.importScripts||i(S)?b=y in u("script")?function(e){s.appendChild(u("script")).onreadystatechange=function(){s.removeChild(this),_(e)}}:function(e){setTimeout(C(e),0)}:(b=S,r.addEventListener("message",E,!1))),t.exports={set:f,clear:p}},{"../internals/bind-context":67,"../internals/classof-raw":70,"../internals/document-create-element":82,"../internals/fails":86,"../internals/global":92,"../internals/html":96,"../internals/is-ios":104}],154:[function(e,t,n){var r=e("../internals/to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},{"../internals/to-integer":157}],155:[function(e,t,n){var r=e("../internals/to-integer"),i=e("../internals/to-length");t.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},{"../internals/to-integer":157,"../internals/to-length":158}],156:[function(e,t,n){var r=e("../internals/indexed-object"),i=e("../internals/require-object-coercible");t.exports=function(e){return r(i(e))}},{"../internals/indexed-object":98,"../internals/require-object-coercible":142}],157:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],158:[function(e,t,n){var r=e("../internals/to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"../internals/to-integer":157}],159:[function(e,t,n){var r=e("../internals/require-object-coercible");t.exports=function(e){return Object(r(e))}},{"../internals/require-object-coercible":142}],160:[function(e,t,n){var r=e("../internals/to-positive-integer");t.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},{"../internals/to-positive-integer":161}],161:[function(e,t,n){var r=e("../internals/to-integer");t.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},{"../internals/to-integer":157}],162:[function(e,t,n){var r=e("../internals/is-object");t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":105}],163:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/global"),o=e("../internals/descriptors"),a=e("../internals/typed-arrays-constructors-requires-wrappers"),s=e("../internals/array-buffer-view-core"),u=e("../internals/array-buffer"),l=e("../internals/an-instance"),c=e("../internals/create-property-descriptor"),f=e("../internals/create-non-enumerable-property"),p=e("../internals/to-length"),h=e("../internals/to-index"),d=e("../internals/to-offset"),m=e("../internals/to-primitive"),g=e("../internals/has"),v=e("../internals/classof"),y=e("../internals/is-object"),b=e("../internals/object-create"),w=e("../internals/object-set-prototype-of"),x=e("../internals/object-get-own-property-names").f,_=e("../internals/typed-array-from"),C=e("../internals/array-iteration").forEach,E=e("../internals/set-species"),S=e("../internals/object-define-property"),k=e("../internals/object-get-own-property-descriptor"),O=e("../internals/internal-state"),T=e("../internals/inherit-if-required"),N=O.get,A=O.set,I=S.f,R=k.f,P=Math.round,M=i.RangeError,j=u.ArrayBuffer,D=u.DataView,L=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,z=s.TypedArray,B=s.TypedArrayPrototype,U=s.aTypedArrayConstructor,W=s.isTypedArray,V="BYTES_PER_ELEMENT",H="Wrong length",G=function(e,t){for(var n=0,r=t.length,i=new(U(e))(r);r>n;)i[n]=t[n++];return i},q=function(e,t){I(e,t,{get:function(){return N(this)[t]}})},K=function(e){var t;return e instanceof j||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},X=function(e,t){return W(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function e(t,n){return X(t,n=m(n,!0))?c(2,t[n]):R(t,n)},Z=function e(t,n,r){return!(X(t,n=m(n,!0))&&y(r)&&g(r,"value"))||g(r,"get")||g(r,"set")||r.configurable||g(r,"writable")&&!r.writable||g(r,"enumerable")&&!r.enumerable?I(t,n,r):(t[n]=r.value,t)};o?(L||(k.f=Y,S.f=Z,q(B,"buffer"),q(B,"byteOffset"),q(B,"byteLength"),q(B,"length")),r({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:Y,defineProperty:Z}),t.exports=function(e,t,n,o){var s=e+(o?"Clamped":"")+"Array",u="get"+e,c="set"+e,m=i[s],g=m,v=g&&g.prototype,S={},k=function(e,n){var r=N(e);return r.view[u](n*t+r.byteOffset,!0)},O=function(e,n,r){var i=N(e);o&&(r=(r=P(r))<0?0:r>255?255:255&r),i.view[c](n*t+i.byteOffset,r,!0)},R=function(e,t){I(e,t,{get:function(){return k(this,t)},set:function(e){return O(this,t,e)},enumerable:!0})};L?a&&(g=n(function(e,n,r,i){return l(e,g,s),T(y(n)?K(n)?void 0!==i?new m(n,d(r,t),i):void 0!==r?new m(n,d(r,t)):new m(n):W(n)?G(g,n):_.call(g,n):new m(h(n)),e,g)}),w&&w(g,z),C(x(m),function(e){e in g||f(g,e,m[e])}),g.prototype=v):(g=n(function(e,n,r,i){l(e,g,s);var o=0,a=0,u,c,f;if(y(n)){if(!K(n))return W(n)?G(g,n):_.call(g,n);u=n,a=d(r,t);var m=n.byteLength;if(void 0===i){if(m%t)throw M(H);if((c=m-a)<0)throw M(H)}else if((c=p(i)*t)+a>m)throw M(H);f=c/t}else f=h(n),u=new j(c=f*t);for(A(e,{buffer:u,byteOffset:a,byteLength:c,length:f,view:new D(u)});o<f;)R(e,o++)}),w&&w(g,z),v=g.prototype=b(B)),v.constructor!==g&&f(v,"constructor",g),F&&f(v,F,s),S[s]=g,r({global:!0,forced:g!=m,sham:!L},S),V in g||f(g,V,t),V in v||f(v,V,t),E(s)}):t.exports=function(){}},{"../internals/an-instance":54,"../internals/array-buffer":57,"../internals/array-buffer-view-core":56,"../internals/array-iteration":62,"../internals/classof":71,"../internals/create-non-enumerable-property":76,"../internals/create-property-descriptor":77,"../internals/descriptors":81,"../internals/export":85,"../internals/global":92,"../internals/has":93,"../internals/inherit-if-required":99,"../internals/internal-state":100,"../internals/is-object":105,"../internals/object-create":118,"../internals/object-define-property":120,"../internals/object-get-own-property-descriptor":121,"../internals/object-get-own-property-names":123,"../internals/object-set-prototype-of":129,"../internals/set-species":144,"../internals/to-index":155,"../internals/to-length":158,"../internals/to-offset":160,"../internals/to-primitive":162,"../internals/typed-array-from":164,"../internals/typed-arrays-constructors-requires-wrappers":165}],164:[function(e,t,n){var r=e("../internals/to-object"),i=e("../internals/to-length"),o=e("../internals/get-iterator-method"),a=e("../internals/is-array-iterator-method"),s=e("../internals/bind-context"),u=e("../internals/array-buffer-view-core").aTypedArrayConstructor;t.exports=function e(t){var n=r(t),l=arguments.length,c=l>1?arguments[1]:void 0,f=void 0!==c,p=o(n),h,d,m,g,v,y;if(void 0!=p&&!a(p))for(y=(v=p.call(n)).next,n=[];!(g=y.call(v)).done;)n.push(g.value);for(f&&l>2&&(c=s(c,arguments[2],2)),d=i(n.length),m=new(u(this))(d),h=0;d>h;h++)m[h]=f?c(n[h],h):n[h];return m}},{"../internals/array-buffer-view-core":56,"../internals/bind-context":67,"../internals/get-iterator-method":91,"../internals/is-array-iterator-method":101,"../internals/to-length":158,"../internals/to-object":159}],165:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/fails"),o=e("../internals/check-correctness-of-iteration"),a=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;t.exports=!a||!i(function(){u(1)})||!i(function(){new u(-1)})||!o(function(e){new u,new u(null),new u(1.5),new u(e)},!0)||i(function(){return 1!==new u(new s(2),1,void 0).length})},{"../internals/array-buffer-view-core":56,"../internals/check-correctness-of-iteration":69,"../internals/fails":86,"../internals/global":92}],166:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+i).toString(36)}},{}],167:[function(e,t,n){var r=e("../internals/get-built-in");t.exports=r("navigator","userAgent")||""},{"../internals/get-built-in":90}],168:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/user-agent"),o=r.process,a=o&&o.versions,s=a&&a.v8,u,l;s?l=(u=s.split("."))[0]+u[1]:i&&(!(u=i.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=i.match(/Chrome\/(\d+)/))&&(l=u[1]),t.exports=l&&+l},{"../internals/global":92,"../internals/user-agent":167}],169:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/shared"),o=e("../internals/uid"),a=e("../internals/native-symbol"),s=r.Symbol,u=i("wks");t.exports=function(e){return u[e]||(u[e]=a&&s[e]||(a?s:o)("Symbol."+e))}},{"../internals/global":92,"../internals/native-symbol":113,"../internals/shared":148,"../internals/uid":166}],170:[function(e,t,n){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],171:[function(e,t,n){n.f=e("../internals/well-known-symbol")},{"../internals/well-known-symbol":169}],172:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/fails"),o=e("../internals/array-buffer"),a=e("../internals/an-object"),s=e("../internals/to-absolute-index"),u=e("../internals/to-length"),l=e("../internals/species-constructor"),c=o.ArrayBuffer,f=o.DataView,p=c.prototype.slice,h;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i(function(){return!new c(2).slice(1,void 0).byteLength})},{slice:function e(t,n){if(void 0!==p&&void 0===n)return p.call(a(this),t);for(var r=a(this).byteLength,i=s(t,r),o=s(void 0===n?r:n,r),h=new(l(this,c))(u(o-i)),d=new f(this),m=new f(h),g=0;i<o;)m.setUint8(g++,d.getUint8(i++));return h}})},{"../internals/an-object":55,"../internals/array-buffer":57,"../internals/export":85,"../internals/fails":86,"../internals/species-constructor":150,"../internals/to-absolute-index":154,"../internals/to-length":158}],173:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/fails"),o=e("../internals/is-array"),a=e("../internals/is-object"),s=e("../internals/to-object"),u=e("../internals/to-length"),l=e("../internals/create-property"),c=e("../internals/array-species-create"),f=e("../internals/array-method-has-species-support"),p=e("../internals/well-known-symbol"),h=e("../internals/v8-version"),d=p("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=h>=51||!i(function(){var e=[];return e[d]=!1,e.concat()[0]!==e}),y=f("concat"),b=function(e){if(!a(e))return!1;var t=e[d];return void 0!==t?!!t:o(e)},w;r({target:"Array",proto:!0,forced:!v||!y},{concat:function e(t){var n=s(this),r=c(n,0),i=0,o,a,f,p,h;for(o=-1,f=arguments.length;o<f;o++)if(h=-1===o?n:arguments[o],b(h)){if(i+(p=u(h.length))>9007199254740991)throw TypeError(g);for(a=0;a<p;a++,i++)a in h&&l(r,i,h[a])}else{if(i>=9007199254740991)throw TypeError(g);l(r,i++,h)}return r.length=i,r}})},{"../internals/array-method-has-species-support":64,"../internals/array-species-create":66,"../internals/create-property":78,"../internals/export":85,"../internals/fails":86,"../internals/is-array":102,"../internals/is-object":105,"../internals/to-length":158,"../internals/to-object":159,"../internals/v8-version":168,"../internals/well-known-symbol":169}],174:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/array-fill"),o=e("../internals/add-to-unscopables");r({target:"Array",proto:!0},{fill:i}),o("fill")},{"../internals/add-to-unscopables":52,"../internals/array-fill":59,"../internals/export":85}],175:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-iteration").filter,o;r({target:"Array",proto:!0,forced:!e("../internals/array-method-has-species-support")("filter")},{filter:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-iteration":62,"../internals/array-method-has-species-support":64,"../internals/export":85}],176:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-iteration").findIndex,o=e("../internals/add-to-unscopables"),a="findIndex",s=!0;a in[]&&Array(1).findIndex(function(){s=!1}),r({target:"Array",proto:!0,forced:s},{findIndex:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},{"../internals/add-to-unscopables":52,"../internals/array-iteration":62,"../internals/export":85}],177:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-iteration").find,o=e("../internals/add-to-unscopables"),a="find",s=!0;a in[]&&Array(1).find(function(){s=!1}),r({target:"Array",proto:!0,forced:s},{find:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},{"../internals/add-to-unscopables":52,"../internals/array-iteration":62,"../internals/export":85}],178:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-for-each");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},{"../internals/array-for-each":60,"../internals/export":85}],179:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-includes").includes,o=e("../internals/add-to-unscopables");r({target:"Array",proto:!0},{includes:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},{"../internals/add-to-unscopables":52,"../internals/array-includes":61,"../internals/export":85}],180:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-includes").indexOf,o=e("../internals/sloppy-array-method"),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,u=o("indexOf");r({target:"Array",proto:!0,forced:s||u},{indexOf:function e(t){return s?a.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-includes":61,"../internals/export":85,"../internals/sloppy-array-method":149}],181:[function(e,t,n){var r,i;e("../internals/export")({target:"Array",stat:!0},{isArray:e("../internals/is-array")})},{"../internals/export":85,"../internals/is-array":102}],182:[function(e,t,n){"use strict";var r=e("../internals/to-indexed-object"),i=e("../internals/add-to-unscopables"),o=e("../internals/iterators"),a=e("../internals/internal-state"),s=e("../internals/define-iterator"),u="Array Iterator",l=a.set,c=a.getterFor(u);t.exports=s(Array,"Array",function(e,t){l(this,{type:u,target:r(e),index:0,kind:t})},function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{"../internals/add-to-unscopables":52,"../internals/define-iterator":79,"../internals/internal-state":100,"../internals/iterators":110,"../internals/to-indexed-object":156}],183:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/indexed-object"),o=e("../internals/to-indexed-object"),a=e("../internals/sloppy-array-method"),s=[].join,u=i!=Object,l=a("join",",");r({target:"Array",proto:!0,forced:u||l},{join:function e(t){return s.call(o(this),void 0===t?",":t)}})},{"../internals/export":85,"../internals/indexed-object":98,"../internals/sloppy-array-method":149,"../internals/to-indexed-object":156}],184:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-iteration").map,o;r({target:"Array",proto:!0,forced:!e("../internals/array-method-has-species-support")("map")},{map:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-iteration":62,"../internals/array-method-has-species-support":64,"../internals/export":85}],185:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/is-array"),o=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function e(){return i(this)&&(this.length=this.length),o.call(this)}})},{"../internals/export":85,"../internals/is-array":102}],186:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/is-object"),o=e("../internals/is-array"),a=e("../internals/to-absolute-index"),s=e("../internals/to-length"),u=e("../internals/to-indexed-object"),l=e("../internals/create-property"),c=e("../internals/array-method-has-species-support"),f,p=e("../internals/well-known-symbol")("species"),h=[].slice,d=Math.max;r({target:"Array",proto:!0,forced:!c("slice")},{slice:function e(t,n){var r=u(this),c=s(r.length),f=a(t,c),m=a(void 0===n?c:n,c),g,v,y;if(o(r)&&("function"!=typeof(g=r.constructor)||g!==Array&&!o(g.prototype)?i(g)&&null===(g=g[p])&&(g=void 0):g=void 0,g===Array||void 0===g))return h.call(r,f,m);for(v=new(void 0===g?Array:g)(d(m-f,0)),y=0;f<m;f++,y++)f in r&&l(v,y,r[f]);return v.length=y,v}})},{"../internals/array-method-has-species-support":64,"../internals/create-property":78,"../internals/export":85,"../internals/is-array":102,"../internals/is-object":105,"../internals/to-absolute-index":154,"../internals/to-indexed-object":156,"../internals/to-length":158,"../internals/well-known-symbol":169}],187:[function(e,t,n){var r=e("../internals/redefine"),i=Date.prototype,o="Invalid Date",a="toString",s=i.toString,u=i.getTime;new Date(NaN)+""!=o&&r(i,a,function e(){var t=u.call(this);return t==t?s.call(this):o})},{"../internals/redefine":138}],188:[function(e,t,n){var r,i;e("../internals/export")({target:"Function",proto:!0},{bind:e("../internals/function-bind")})},{"../internals/export":85,"../internals/function-bind":88}],189:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/global"),o=e("../internals/is-forced"),a=e("../internals/redefine"),s=e("../internals/has"),u=e("../internals/classof-raw"),l=e("../internals/inherit-if-required"),c=e("../internals/to-primitive"),f=e("../internals/fails"),p=e("../internals/object-create"),h=e("../internals/object-get-own-property-names").f,d=e("../internals/object-get-own-property-descriptor").f,m=e("../internals/object-define-property").f,g=e("../internals/string-trim").trim,v="Number",y=i.Number,b=y.prototype,w=u(p(b))==v,x=function(e){var t=c(e,!1),n,r,i,o,a,s,u,l;if("string"==typeof t&&t.length>2)if(43===(n=(t=g(t)).charCodeAt(0))||45===n){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t}for(s=(a=t.slice(2)).length,u=0;u<s;u++)if((l=a.charCodeAt(u))<48||l>o)return NaN;return parseInt(a,i)}return+t};if(o(v,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var _=function e(t){var n=arguments.length<1?0:t,r=this;return r instanceof _&&(w?f(function(){b.valueOf.call(r)}):u(r)!=v)?l(new y(x(n)),r,_):x(n)},C=r?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0,S;C.length>E;E++)s(y,S=C[E])&&!s(_,S)&&m(_,S,d(y,S));_.prototype=b,b.constructor=_,a(i,v,_)}},{"../internals/classof-raw":70,"../internals/descriptors":81,"../internals/fails":86,"../internals/global":92,"../internals/has":93,"../internals/inherit-if-required":99,"../internals/is-forced":103,"../internals/object-create":118,"../internals/object-define-property":120,"../internals/object-get-own-property-descriptor":121,"../internals/object-get-own-property-names":123,"../internals/redefine":138,"../internals/string-trim":152,"../internals/to-primitive":162}],190:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/object-assign");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},{"../internals/export":85,"../internals/object-assign":117}],191:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/descriptors"),o;r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:e("../internals/object-define-properties")})},{"../internals/descriptors":81,"../internals/export":85,"../internals/object-define-properties":119}],192:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/descriptors"),o;r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:e("../internals/object-define-property").f})},{"../internals/descriptors":81,"../internals/export":85,"../internals/object-define-property":120}],193:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/object-to-array").entries;r({target:"Object",stat:!0},{entries:function e(t){return i(t)}})},{"../internals/export":85,"../internals/object-to-array":130}],194:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/fails"),o=e("../internals/to-indexed-object"),a=e("../internals/object-get-own-property-descriptor").f,s=e("../internals/descriptors"),u=i(function(){a(1)}),l;r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function e(t,n){return a(o(t),n)}})},{"../internals/descriptors":81,"../internals/export":85,"../internals/fails":86,"../internals/object-get-own-property-descriptor":121,"../internals/to-indexed-object":156}],195:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/descriptors"),o=e("../internals/own-keys"),a=e("../internals/to-indexed-object"),s=e("../internals/object-get-own-property-descriptor"),u=e("../internals/create-property");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function e(t){for(var n=a(t),r=s.f,i=o(n),l={},c=0,f,p;i.length>c;)void 0!==(p=r(n,f=i[c++]))&&u(l,f,p);return l}})},{"../internals/create-property":78,"../internals/descriptors":81,"../internals/export":85,"../internals/object-get-own-property-descriptor":121,"../internals/own-keys":132,"../internals/to-indexed-object":156}],196:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/to-object"),o=e("../internals/object-keys"),a,s;r({target:"Object",stat:!0,forced:e("../internals/fails")(function(){o(1)})},{keys:function e(t){return o(i(t))}})},{"../internals/export":85,"../internals/fails":86,"../internals/object-keys":127,"../internals/to-object":159}],197:[function(e,t,n){var r=e("../internals/redefine"),i=e("../internals/object-to-string"),o=Object.prototype;i!==o.toString&&r(o,"toString",i,{unsafe:!0})},{"../internals/object-to-string":131,"../internals/redefine":138}],198:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/parse-int");r({global:!0,forced:parseInt!=i},{parseInt:i})},{"../internals/export":85,"../internals/parse-int":133}],199:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/is-pure"),o=e("../internals/global"),a=e("../internals/get-built-in"),s=e("../internals/native-promise-constructor"),u=e("../internals/redefine"),l=e("../internals/redefine-all"),c=e("../internals/shared"),f=e("../internals/set-to-string-tag"),p=e("../internals/set-species"),h=e("../internals/is-object"),d=e("../internals/a-function"),m=e("../internals/an-instance"),g=e("../internals/classof-raw"),v=e("../internals/iterate"),y=e("../internals/check-correctness-of-iteration"),b=e("../internals/species-constructor"),w=e("../internals/task").set,x=e("../internals/microtask"),_=e("../internals/promise-resolve"),C=e("../internals/host-report-errors"),E=e("../internals/new-promise-capability"),S=e("../internals/perform"),k=e("../internals/internal-state"),O=e("../internals/is-forced"),T=e("../internals/well-known-symbol"),N=e("../internals/v8-version"),A=T("species"),I="Promise",R=k.get,P=k.set,M=k.getterFor(I),j=s,D=o.TypeError,L=o.document,F=o.process,z=c("inspectSource"),B=a("fetch"),U=E.f,W=U,V="process"==g(F),H=!!(L&&L.createEvent&&o.dispatchEvent),G="unhandledrejection",q="rejectionhandled",K=0,X=1,Y=2,Z=1,$=2,J,Q,ee,te,ne=O(I,function(){var e=z(j)!==String(j);if(66===N)return!0;if(!e&&!V&&"function"!=typeof PromiseRejectionEvent)return!0;if(i&&!j.prototype.finally)return!0;if(N>=51&&/native code/.test(j))return!1;var t=j.resolve(1),n=function(e){e(function(){},function(){})},r;return(t.constructor={})[A]=n,!(t.then(function(){})instanceof n)}),re=ne||!y(function(e){j.all(e).catch(function(){})}),ie=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},oe=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;x(function(){for(var i=t.value,o=1==t.state,a=0;r.length>a;){var s=r[a++],u=o?s.ok:s.fail,l=s.resolve,c=s.reject,f=s.domain,p,h,d;try{u?(o||(2===t.rejection&&le(e,t),t.rejection=1),!0===u?p=i:(f&&f.enter(),p=u(i),f&&(f.exit(),d=!0)),p===s.promise?c(D("Promise-chain cycle")):(h=ie(p))?h.call(p,l,c):l(p)):c(i)}catch(e){f&&!d&&f.exit(),c(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&se(e,t)})}},ae=function(e,t,n){var r,i;H?((r=L.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),o.dispatchEvent(r)):r={promise:t,reason:n},(i=o["on"+e])?i(r):e===G&&C("Unhandled promise rejection",n)},se=function(e,t){w.call(o,function(){var n=t.value,r,i;if(ue(t)&&(i=S(function(){V?F.emit("unhandledRejection",n,e):ae(G,e,n)}),t.rejection=V||ue(t)?2:1,i.error))throw i.value})},ue=function(e){return 1!==e.rejection&&!e.parent},le=function(e,t){w.call(o,function(){V?F.emit("rejectionHandled",e):ae(q,e,t.value)})},ce=function(e,t,n,r){return function(i){e(t,n,i,r)}},fe=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,oe(e,t,!0))},pe=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw D("Promise can't be resolved itself");var i=ie(n);i?x(function(){var r={done:!1};try{i.call(n,ce(pe,e,r,t),ce(fe,e,r,t))}catch(n){fe(e,r,n,t)}}):(t.value=n,t.state=1,oe(e,t,!1))}catch(n){fe(e,{done:!1},n,t)}}};ne&&(j=function e(t){m(this,j,I),d(t),J.call(this);var n=R(this);try{t(ce(pe,this,n),ce(fe,this,n))}catch(e){fe(this,n,e)}},(J=function e(t){P(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=l(j.prototype,{then:function e(t,n){var r=M(this),i=U(b(this,j));return i.ok="function"!=typeof t||t,i.fail="function"==typeof n&&n,i.domain=V?F.domain:void 0,r.parent=!0,r.reactions.push(i),0!=r.state&&oe(this,r,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),Q=function(){var e=new J,t=R(e);this.promise=e,this.resolve=ce(pe,e,t),this.reject=ce(fe,e,t)},E.f=U=function(e){return e===j||e===ee?new Q(e):W(e)},i||"function"!=typeof s||(te=s.prototype.then,u(s.prototype,"then",function e(t,n){var r=this;return new j(function(e,t){te.call(r,e,t)}).then(t,n)},{unsafe:!0}),"function"==typeof B&&r({global:!0,enumerable:!0,forced:!0},{fetch:function e(t){return _(j,B.apply(o,arguments))}}))),r({global:!0,wrap:!0,forced:ne},{Promise:j}),f(j,I,!1,!0),p(I),ee=a(I),r({target:I,stat:!0,forced:ne},{reject:function e(t){var n=U(this);return n.reject.call(void 0,t),n.promise}}),r({target:I,stat:!0,forced:i||ne},{resolve:function e(t){return _(i&&this===ee?j:this,t)}}),r({target:I,stat:!0,forced:re},{all:function e(t){var n=this,r=U(n),i=r.resolve,o=r.reject,a=S(function(){var e=d(n.resolve),r=[],a=0,s=1;v(t,function(t){var u=a++,l=!1;r.push(void 0),s++,e.call(n,t).then(function(e){l||(l=!0,r[u]=e,--s||i(r))},o)}),--s||i(r)});return a.error&&o(a.value),r.promise},race:function e(t){var n=this,r=U(n),i=r.reject,o=S(function(){var e=d(n.resolve);v(t,function(t){e.call(n,t).then(r.resolve,i)})});return o.error&&i(o.value),r.promise}})},{"../internals/a-function":50,"../internals/an-instance":54,"../internals/check-correctness-of-iteration":69,"../internals/classof-raw":70,"../internals/export":85,"../internals/get-built-in":90,"../internals/global":92,"../internals/host-report-errors":95,"../internals/internal-state":100,"../internals/is-forced":103,"../internals/is-object":105,"../internals/is-pure":106,"../internals/iterate":108,"../internals/microtask":111,"../internals/native-promise-constructor":112,"../internals/new-promise-capability":115,"../internals/perform":135,"../internals/promise-resolve":136,"../internals/redefine":138,"../internals/redefine-all":137,"../internals/set-species":144,"../internals/set-to-string-tag":145,"../internals/shared":148,"../internals/species-constructor":150,"../internals/task":153,"../internals/v8-version":168,"../internals/well-known-symbol":169}],200:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/regexp-exec");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},{"../internals/export":85,"../internals/regexp-exec":140}],201:[function(e,t,n){"use strict";var r=e("../internals/redefine"),i=e("../internals/an-object"),o=e("../internals/fails"),a=e("../internals/regexp-flags"),s="toString",u=RegExp.prototype,l=u.toString,c=o(function(){return"/a/b"!=l.call({source:"a",flags:"b"})}),f=l.name!=s;(c||f)&&r(RegExp.prototype,s,function e(){var t=i(this),n=String(t.source),r=t.flags,o;return"/"+n+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in u)?a.call(t):r)},{unsafe:!0})},{"../internals/an-object":55,"../internals/fails":86,"../internals/redefine":138,"../internals/regexp-flags":141}],202:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/not-a-regexp"),o=e("../internals/require-object-coercible"),a;r({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function e(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":73,"../internals/export":85,"../internals/not-a-regexp":116,"../internals/require-object-coercible":142}],203:[function(e,t,n){"use strict";var r=e("../internals/string-multibyte").charAt,i=e("../internals/internal-state"),o=e("../internals/define-iterator"),a="String Iterator",s=i.set,u=i.getterFor(a);o(String,"String",function(e){s(this,{type:a,string:String(e),index:0})},function e(){var t=u(this),n=t.string,i=t.index,o;return i>=n.length?{value:void 0,done:!0}:(o=r(n,i),t.index+=o.length,{value:o,done:!1})})},{"../internals/define-iterator":79,"../internals/internal-state":100,"../internals/string-multibyte":151}],204:[function(e,t,n){"use strict";var r=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),o=e("../internals/to-length"),a=e("../internals/require-object-coercible"),s=e("../internals/advance-string-index"),u=e("../internals/regexp-exec-abstract");r("match",1,function(e,t,n){return[function t(n){var r=a(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),l=String(this);if(!a.global)return u(a,l);var c=a.unicode;a.lastIndex=0;for(var f=[],p=0,h;null!==(h=u(a,l));){var d=String(h[0]);f[p]=d,""===d&&(a.lastIndex=s(l,o(a.lastIndex),c)),p++}return 0===p?null:f}]})},{"../internals/advance-string-index":53,"../internals/an-object":55,"../internals/fix-regexp-well-known-symbol-logic":87,"../internals/regexp-exec-abstract":139,"../internals/require-object-coercible":142,"../internals/to-length":158}],205:[function(e,t,n){"use strict";var r=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),o=e("../internals/to-object"),a=e("../internals/to-length"),s=e("../internals/to-integer"),u=e("../internals/require-object-coercible"),l=e("../internals/advance-string-index"),c=e("../internals/regexp-exec-abstract"),f=Math.max,p=Math.min,h=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};r("replace",2,function(e,t,n){return[function n(r,i){var o=u(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):t.call(String(o),r,i)},function(e,o){var u=n(t,e,this,o);if(u.done)return u.value;var h=i(e),d=String(this),m="function"==typeof o;m||(o=String(o));var v=h.global;if(v){var y=h.unicode;h.lastIndex=0}for(var b=[];;){var w=c(h,d),x;if(null===w)break;if(b.push(w),!v)break;""===String(w[0])&&(h.lastIndex=l(d,a(h.lastIndex),y))}for(var _="",C=0,E=0;E<b.length;E++){w=b[E];for(var S=String(w[0]),k=f(p(s(w.index),d.length),0),O=[],T=1;T<w.length;T++)O.push(g(w[T]));var N=w.groups;if(m){var A=[S].concat(O,k,d);void 0!==N&&A.push(N);var I=String(o.apply(void 0,A))}else I=r(S,d,k,O,N,o);k>=C&&(_+=d.slice(C,k)+I,C=k+S.length)}return _+d.slice(C)}];function r(e,n,r,i,a,s){var u=r+e.length,l=i.length,c=m;return void 0!==a&&(a=o(a),c=d),t.call(s,c,function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return t;if(c>l){var f=h(c/10);return 0===f?t:f<=l?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):t}s=i[c-1]}return void 0===s?"":s})}})},{"../internals/advance-string-index":53,"../internals/an-object":55,"../internals/fix-regexp-well-known-symbol-logic":87,"../internals/regexp-exec-abstract":139,"../internals/require-object-coercible":142,"../internals/to-integer":157,"../internals/to-length":158,"../internals/to-object":159}],206:[function(e,t,n){"use strict";var r=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/is-regexp"),o=e("../internals/an-object"),a=e("../internals/require-object-coercible"),s=e("../internals/species-constructor"),u=e("../internals/advance-string-index"),l=e("../internals/to-length"),c=e("../internals/regexp-exec-abstract"),f=e("../internals/regexp-exec"),p=e("../internals/fails"),h=[].push,d=Math.min,m=4294967295,g=!p(function(){return!RegExp(4294967295,"y")});r("split",2,function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);for(var s=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,c=new RegExp(e.source,u+"g"),p,d,m;(p=f.call(c,r))&&!((d=c.lastIndex)>l&&(s.push(r.slice(l,p.index)),p.length>1&&p.index<r.length&&h.apply(s,p.slice(1)),m=p[0].length,l=d,s.length>=o));)c.lastIndex===p.index&&c.lastIndex++;return l===r.length?!m&&c.test("")||s.push(""):s.push(r.slice(l)),s.length>o?s.slice(0,o):s}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function t(n,i){var o=a(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,o,i):r.call(String(o),n,i)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var f=o(e),p=String(this),h=s(f,RegExp),m=f.unicode,v=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(g?"y":"g"),y=new h(g?f:"^(?:"+f.source+")",v),b=void 0===i?4294967295:i>>>0;if(0===b)return[];if(0===p.length)return null===c(y,p)?[p]:[];for(var w=0,x=0,_=[];x<p.length;){y.lastIndex=g?x:0;var C=c(y,g?p:p.slice(x)),E;if(null===C||(E=d(l(y.lastIndex+(g?0:x)),p.length))===w)x=u(p,x,m);else{if(_.push(p.slice(w,x)),_.length===b)return _;for(var S=1;S<=C.length-1;S++)if(_.push(C[S]),_.length===b)return _;x=w=E}}return _.push(p.slice(w)),_}]},!g)},{"../internals/advance-string-index":53,"../internals/an-object":55,"../internals/fails":86,"../internals/fix-regexp-well-known-symbol-logic":87,"../internals/is-regexp":107,"../internals/regexp-exec":140,"../internals/regexp-exec-abstract":139,"../internals/require-object-coercible":142,"../internals/species-constructor":150,"../internals/to-length":158}],207:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/global"),o=e("../internals/get-built-in"),a=e("../internals/is-pure"),s=e("../internals/descriptors"),u=e("../internals/native-symbol"),l=e("../internals/fails"),c=e("../internals/has"),f=e("../internals/is-array"),p=e("../internals/is-object"),h=e("../internals/an-object"),d=e("../internals/to-object"),m=e("../internals/to-indexed-object"),g=e("../internals/to-primitive"),v=e("../internals/create-property-descriptor"),y=e("../internals/object-create"),b=e("../internals/object-keys"),w=e("../internals/object-get-own-property-names"),x=e("../internals/object-get-own-property-names-external"),_=e("../internals/object-get-own-property-symbols"),C=e("../internals/object-get-own-property-descriptor"),E=e("../internals/object-define-property"),S=e("../internals/object-property-is-enumerable"),k=e("../internals/create-non-enumerable-property"),O=e("../internals/redefine"),T=e("../internals/shared"),N=e("../internals/shared-key"),A=e("../internals/hidden-keys"),I=e("../internals/uid"),R=e("../internals/well-known-symbol"),P=e("../internals/wrapped-well-known-symbol"),M=e("../internals/define-well-known-symbol"),j=e("../internals/set-to-string-tag"),D=e("../internals/internal-state"),L=e("../internals/array-iteration").forEach,F=N("hidden"),z="Symbol",B="prototype",U=R("toPrimitive"),W=D.set,V=D.getterFor(z),H=Object.prototype,G=i.Symbol,q=o("JSON","stringify"),K=C.f,X=E.f,Y=x.f,Z=S.f,$=T("symbols"),J=T("op-symbols"),Q=T("string-to-symbol-registry"),ee=T("symbol-to-string-registry"),te=T("wks"),ne=i.QObject,re=!ne||!ne.prototype||!ne.prototype.findChild,ie=s&&l(function(){return 7!=y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=K(H,t);r&&delete H[t],X(e,t,n),r&&e!==H&&X(H,t,r)}:X,oe=function(e,t){var n=$[e]=y(G.prototype);return W(n,{type:z,tag:e,description:t}),s||(n.description=t),n},ae=u&&"symbol"==typeof G.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof G},se=function e(t,n,r){t===H&&se(J,n,r),h(t);var i=g(n,!0);return h(r),c($,i)?(r.enumerable?(c(t,F)&&t[F][i]&&(t[F][i]=!1),r=y(r,{enumerable:v(0,!1)})):(c(t,F)||X(t,F,v(1,{})),t[F][i]=!0),ie(t,i,r)):X(t,i,r)},ue=function e(t,n){h(t);var r=m(n),i=b(r).concat(he(r));return L(i,function(e){s&&!ce.call(r,e)||se(t,e,r[e])}),t},le=function e(t,n){return void 0===n?y(t):ue(y(t),n)},ce=function e(t){var n=g(t,!0),r=Z.call(this,n);return!(this===H&&c($,n)&&!c(J,n))&&(!(r||!c(this,n)||!c($,n)||c(this,F)&&this[F][n])||r)},fe=function e(t,n){var r=m(t),i=g(n,!0);if(r!==H||!c($,i)||c(J,i)){var o=K(r,i);return!o||!c($,i)||c(r,F)&&r[F][i]||(o.enumerable=!0),o}},pe=function e(t){var n=Y(m(t)),r=[];return L(n,function(e){c($,e)||c(A,e)||r.push(e)}),r},he=function e(t){var n=t===H,r=Y(n?J:m(t)),i=[];return L(r,function(e){!c($,e)||n&&!c(H,e)||i.push($[e])}),i},de;(u||(O((G=function e(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,n=I(t),r=function(e){this===H&&r.call(J,e),c(this,F)&&c(this[F],n)&&(this[F][n]=!1),ie(this,n,v(1,e))};return s&&re&&ie(H,n,{configurable:!0,set:r}),oe(n,t)}).prototype,"toString",function e(){return V(this).tag}),S.f=ce,E.f=se,C.f=fe,w.f=x.f=pe,_.f=he,s&&(X(G.prototype,"description",{configurable:!0,get:function e(){return V(this).description}}),a||O(H,"propertyIsEnumerable",ce,{unsafe:!0})),P.f=function(e){return oe(R(e),e)}),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:G}),L(b(te),function(e){M(e)}),r({target:z,stat:!0,forced:!u},{for:function(e){var t=String(e);if(c(Q,t))return Q[t];var n=G(t);return Q[t]=n,ee[n]=t,n},keyFor:function e(t){if(!ae(t))throw TypeError(t+" is not a symbol");if(c(ee,t))return ee[t]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:le,defineProperty:se,defineProperties:ue,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:pe,getOwnPropertySymbols:he}),r({target:"Object",stat:!0,forced:l(function(){_.f(1)})},{getOwnPropertySymbols:function e(t){return _.f(d(t))}}),q)&&r({target:"JSON",stat:!0,forced:!u||l(function(){var e=G();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))})},{stringify:function e(t,n,r){for(var i=[t],o=1,a;arguments.length>o;)i.push(arguments[o++]);if(a=n,(p(n)||void 0!==t)&&!ae(t))return f(n)||(n=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!ae(t))return t}),i[1]=n,q.apply(null,i)}});G.prototype[U]||k(G.prototype,U,G.prototype.valueOf),j(G,z),A[F]=!0},{"../internals/an-object":55,"../internals/array-iteration":62,"../internals/create-non-enumerable-property":76,"../internals/create-property-descriptor":77,"../internals/define-well-known-symbol":80,"../internals/descriptors":81,"../internals/export":85,"../internals/fails":86,"../internals/get-built-in":90,"../internals/global":92,"../internals/has":93,"../internals/hidden-keys":94,"../internals/internal-state":100,"../internals/is-array":102,"../internals/is-object":105,"../internals/is-pure":106,"../internals/native-symbol":113,"../internals/object-create":118,"../internals/object-define-property":120,"../internals/object-get-own-property-descriptor":121,"../internals/object-get-own-property-names":123,"../internals/object-get-own-property-names-external":122,"../internals/object-get-own-property-symbols":124,"../internals/object-keys":127,"../internals/object-property-is-enumerable":128,"../internals/redefine":138,"../internals/set-to-string-tag":145,"../internals/shared":148,"../internals/shared-key":146,"../internals/to-indexed-object":156,"../internals/to-object":159,"../internals/to-primitive":162,"../internals/uid":166,"../internals/well-known-symbol":169,"../internals/wrapped-well-known-symbol":171}],208:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-copy-within"),o=r.aTypedArray;r.exportProto("copyWithin",function e(t,n){return i.call(o(this),t,n,arguments.length>2?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-copy-within":58}],209:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").every,o=r.aTypedArray;r.exportProto("every",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62}],210:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-fill"),o=r.aTypedArray;r.exportProto("fill",function e(t){return i.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":56,"../internals/array-fill":59}],211:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").filter,o=e("../internals/species-constructor"),a=r.aTypedArray,s=r.aTypedArrayConstructor;r.exportProto("filter",function e(t){for(var n=i(a(this),t,arguments.length>1?arguments[1]:void 0),r=o(this,this.constructor),u=0,l=n.length,c=new(s(r))(l);l>u;)c[u]=n[u++];return c})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62,"../internals/species-constructor":150}],212:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").findIndex,o=r.aTypedArray;r.exportProto("findIndex",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62}],213:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").find,o=r.aTypedArray;r.exportProto("find",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62}],214:[function(e,t,n){var r;e("../internals/typed-array-constructor")("Float32",4,function(e){return function t(n,r,i){return e(this,n,r,i)}})},{"../internals/typed-array-constructor":163}],215:[function(e,t,n){var r;e("../internals/typed-array-constructor")("Float64",8,function(e){return function t(n,r,i){return e(this,n,r,i)}})},{"../internals/typed-array-constructor":163}],216:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").forEach,o=r.aTypedArray;r.exportProto("forEach",function e(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62}],217:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-includes").includes,o=r.aTypedArray;r.exportProto("includes",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-includes":61}],218:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-includes").indexOf,o=r.aTypedArray;r.exportProto("indexOf",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-includes":61}],219:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/array-buffer-view-core"),o=e("../modules/es.array.iterator"),a,s=e("../internals/well-known-symbol")("iterator"),u=r.Uint8Array,l=o.values,c=o.keys,f=o.entries,p=i.aTypedArray,h=i.exportProto,d=u&&u.prototype[s],m=!!d&&("values"==d.name||void 0==d.name),g=function e(){return l.call(p(this))};h("entries",function e(){return f.call(p(this))}),h("keys",function e(){return c.call(p(this))}),h("values",g,!m),h(s,g,!m)},{"../internals/array-buffer-view-core":56,"../internals/global":92,"../internals/well-known-symbol":169,"../modules/es.array.iterator":182}],220:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=r.aTypedArray,o=[].join;r.exportProto("join",function e(t){return o.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":56}],221:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-last-index-of"),o=r.aTypedArray;r.exportProto("lastIndexOf",function e(t){return i.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":56,"../internals/array-last-index-of":63}],222:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").map,o=e("../internals/species-constructor"),a=r.aTypedArray,s=r.aTypedArrayConstructor;r.exportProto("map",function e(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0,function(e,t){return new(s(o(e,e.constructor)))(t)})})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62,"../internals/species-constructor":150}],223:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-reduce").right,o=r.aTypedArray;r.exportProto("reduceRight",function e(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-reduce":65}],224:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-reduce").left,o=r.aTypedArray;r.exportProto("reduce",function e(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-reduce":65}],225:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=r.aTypedArray,o=Math.floor;r.exportProto("reverse",function e(){for(var t=this,n=i(this).length,r=o(n/2),a=0,s;a<r;)s=this[a],this[a++]=this[--n],this[n]=s;return this})},{"../internals/array-buffer-view-core":56}],226:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/to-length"),o=e("../internals/to-offset"),a=e("../internals/to-object"),s=e("../internals/fails"),u=r.aTypedArray,l=s(function(){new Int8Array(1).set({})});r.exportProto("set",function e(t){u(this);var n=o(arguments.length>1?arguments[1]:void 0,1),r=this.length,s=a(t),l=i(s.length),c=0;if(l+n>r)throw RangeError("Wrong length");for(;c<l;)this[n+c]=s[c++]},l)},{"../internals/array-buffer-view-core":56,"../internals/fails":86,"../internals/to-length":158,"../internals/to-object":159,"../internals/to-offset":160}],227:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/species-constructor"),o=e("../internals/fails"),a=r.aTypedArray,s=r.aTypedArrayConstructor,u=[].slice,l=o(function(){new Int8Array(1).slice()});r.exportProto("slice",function e(t,n){for(var r=u.call(a(this),t,n),o=i(this,this.constructor),l=0,c=r.length,f=new(s(o))(c);c>l;)f[l]=r[l++];return f},l)},{"../internals/array-buffer-view-core":56,"../internals/fails":86,"../internals/species-constructor":150}],228:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").some,o=r.aTypedArray;r.exportProto("some",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62}],229:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=r.aTypedArray,o=[].sort;r.exportProto("sort",function e(t){return o.call(i(this),t)})},{"../internals/array-buffer-view-core":56}],230:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/to-length"),o=e("../internals/to-absolute-index"),a=e("../internals/species-constructor"),s=r.aTypedArray;r.exportProto("subarray",function e(t,n){var r=s(this),u=r.length,l=o(t,u);return new(a(r,r.constructor))(r.buffer,r.byteOffset+l*r.BYTES_PER_ELEMENT,i((void 0===n?u:o(n,u))-l))})},{"../internals/array-buffer-view-core":56,"../internals/species-constructor":150,"../internals/to-absolute-index":154,"../internals/to-length":158}],231:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/array-buffer-view-core"),o=e("../internals/fails"),a=r.Int8Array,s=i.aTypedArray,u=[].toLocaleString,l=[].slice,c=!!a&&o(function(){u.call(new a(1))}),f=o(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!o(function(){a.prototype.toLocaleString.call([1,2])});i.exportProto("toLocaleString",function e(){return u.apply(c?l.call(s(this)):s(this),arguments)},f)},{"../internals/array-buffer-view-core":56,"../internals/fails":86,"../internals/global":92}],232:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/array-buffer-view-core"),o=e("../internals/fails"),a=r.Uint8Array,s=a&&a.prototype,u=[].toString,l=[].join;o(function(){u.call({})})&&(u=function e(){return l.call(this)}),i.exportProto("toString",u,(s||{}).toString!=u)},{"../internals/array-buffer-view-core":56,"../internals/fails":86,"../internals/global":92}],233:[function(e,t,n){var r;e("../internals/typed-array-constructor")("Uint8",1,function(e){return function t(n,r,i){return e(this,n,r,i)}})},{"../internals/typed-array-constructor":163}],234:[function(e,t,n){var r;e("../internals/typed-array-constructor")("Uint8",1,function(e){return function t(n,r,i){return e(this,n,r,i)}},!0)},{"../internals/typed-array-constructor":163}],235:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/dom-iterables"),o=e("../internals/array-for-each"),a=e("../internals/create-non-enumerable-property");for(var s in i){var u=r[s],l=u&&u.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(e){l.forEach=o}}},{"../internals/array-for-each":60,"../internals/create-non-enumerable-property":76,"../internals/dom-iterables":83,"../internals/global":92}],236:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/dom-iterables"),o=e("../modules/es.array.iterator"),a=e("../internals/create-non-enumerable-property"),s=e("../internals/well-known-symbol"),u=s("iterator"),l=s("toStringTag"),c=o.values;for(var f in i){var p=r[f],h=p&&p.prototype;if(h){if(h[u]!==c)try{a(h,u,c)}catch(e){h[u]=c}if(h[l]||a(h,l,f),i[f])for(var d in o)if(h[d]!==o[d])try{a(h,d,o[d])}catch(e){h[d]=o[d]}}}},{"../internals/create-non-enumerable-property":76,"../internals/dom-iterables":83,"../internals/global":92,"../internals/well-known-symbol":169,"../modules/es.array.iterator":182}],237:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/global"),o=e("../internals/user-agent"),a=[].slice,s,u=function(e){return function(t,n){var r=arguments.length>2,i=r?a.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},{"../internals/export":85,"../internals/global":92,"../internals/user-agent":167}],238:[function(e,t,n){(function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function l(e){return void 0===e}function c(e){return"[object RegExp]"===g(e)}function f(e){return"object"==typeof e&&null!==e}function p(e){return"[object Date]"===g(e)}function h(e){return"[object Error]"===g(e)||e instanceof Error}function d(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function g(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=a,n.isString=s,n.isSymbol=u,n.isUndefined=l,n.isRegExp=c,n.isObject=f,n.isDate=p,n.isError=h,n.isFunction=d,n.isPrimitive=m,n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":255}],239:[function(e,t,n){var r=Object.create||E,i=Object.keys||S,o=Function.prototype.bind||k;function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var s=10,u;try{var l={};Object.defineProperty&&Object.defineProperty(l,"x",{value:0}),u=0===l.x}catch(e){u=!1}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,n){if(t)e.call(n);else for(var r=e.length,i=_(e,r),o=0;o<r;++o)i[o].call(n)}function p(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=_(e,i),a=0;a<i;++a)o[a].call(n,r)}function h(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=_(e,o),s=0;s<o;++s)a[s].call(n,r,i)}function d(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=_(e,a),u=0;u<a;++u)s[u].call(n,r,i,o)}function m(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=_(e,i),a=0;a<i;++a)o[a].apply(n,r)}function g(e,t,n,i){var o,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]):(a=e._events=r(null),e._eventsCount=0),s){if("function"==typeof s?s=a[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),!s.warned&&(o=c(e))&&o>0&&s.length>o){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",u.name,u.message)}}else s=a[t]=n,++e._eventsCount;return e}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function y(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=o.call(v,r);return i.listener=n,r.wrapFn=i,i}function b(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?C(i):_(i,i.length):[]}function w(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function x(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function _(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function C(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function E(e){var t=function(){};return t.prototype=e,new t}function S(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n}function k(e){var t=this;return function(){return t.apply(e,arguments)}}u?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');s=e}}):a.defaultMaxListeners=s,a.prototype.setMaxListeners=function e(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},a.prototype.getMaxListeners=function e(){return c(this)},a.prototype.emit=function e(t){var n,r,i,o,a,s,u="error"===t;if(s=this._events)u=u&&null==s.error;else if(!u)return!1;if(u){if(arguments.length>1&&(n=arguments[1]),n instanceof Error)throw n;var l=new Error('Unhandled "error" event. ('+n+")");throw l.context=n,l}if(!(r=s[t]))return!1;var c="function"==typeof r;switch(i=arguments.length){case 1:f(r,c,this);break;case 2:p(r,c,this,arguments[1]);break;case 3:h(r,c,this,arguments[1],arguments[2]);break;case 4:d(r,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(i-1),a=1;a<i;a++)o[a-1]=arguments[a];m(r,c,this,o)}return!0},a.prototype.addListener=function e(t,n){return g(this,t,n,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function e(t,n){return g(this,t,n,!0)},a.prototype.once=function e(t,n){if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return this.on(t,y(this,t,n)),this},a.prototype.prependOnceListener=function e(t,n){if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,y(this,t,n)),this},a.prototype.removeListener=function e(t,n){var i,o,a,s,u;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(i=o[t]))return this;if(i===n||i.listener===n)0==--this._eventsCount?this._events=r(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,i.listener||n));else if("function"!=typeof i){for(a=-1,s=i.length-1;s>=0;s--)if(i[s]===n||i[s].listener===n){u=i[s].listener,a=s;break}if(a<0)return this;0===a?i.shift():x(i,a),1===i.length&&(o[t]=i[0]),o.removeListener&&this.emit("removeListener",t,u||n)}return this},a.prototype.removeAllListeners=function e(t){var n,o,a;if(!(o=this._events))return this;if(!o.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):o[t]&&(0==--this._eventsCount?this._events=r(null):delete o[t]),this;if(0===arguments.length){var s=i(o),u;for(a=0;a<s.length;++a)"removeListener"!==(u=s[a])&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(n=o[t]))this.removeListener(t,n);else if(n)for(a=n.length-1;a>=0;a--)this.removeListener(t,n[a]);return this},a.prototype.listeners=function e(t){return b(this,t,!0)},a.prototype.rawListeners=function e(t){return b(this,t,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):w.call(e,t)},a.prototype.listenerCount=w,a.prototype.eventNames=function e(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],240:[function(e,t,n){var r=e("./lib/parser");function i(){return(0,eval)("this")}t.exports={create:function(t,n){if(t instanceof(n=n||i()).ArrayBuffer){var o=e("./lib/dom-bufferstream");return new r(new o(t,0,t.byteLength,!0,n))}var a=e("./lib/bufferstream");return new r(new a(t,0,t.length,!0))}}},{"./lib/bufferstream":241,"./lib/dom-bufferstream":243,"./lib/parser":247}],241:[function(e,t,n){function r(e,t,n,r){this.buffer=e,this.offset=t||0,n="number"==typeof n?n:e.length,this.endPosition=this.offset+n,this.setBigEndian(r)}r.prototype={setBigEndian:function(e){this.bigEndian=!!e},nextUInt8:function(){var e=this.buffer.readUInt8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.buffer.readInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,e},nextUInt32:function(){var e=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,e},nextInt16:function(){var e=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,e},nextInt32:function(){var e=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,e},nextFloat:function(){var e=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,e},nextDouble:function(){var e=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,e},nextBuffer:function(e){var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.endPosition-this.offset},nextString:function(e){var t=this.buffer.toString("utf8",this.offset,this.offset+e);return this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(t){return t=(t||0)+this.offset,new r(e.buffer,t,e.endPosition-t,e.bigEndian)},offset:this.offset}},offsetFrom:function(e){return this.offset-e.offset},skip:function(e){this.offset+=e},branch:function(e,t){return t="number"==typeof t?t:this.endPosition-(this.offset+e),new r(this.buffer,this.offset+e,t,this.bigEndian)}},t.exports=r},{}],242:[function(e,t,n){function r(e){return parseInt(e,10)}var i=3600,o=60;function a(e,t){e=e.map(r),t=t.map(r);var n=e[0],i=e[1]-1,o=e[2],a=t[0],s=t[1],u=t[2],l,c;return Date.UTC(n,i,o,a,s,u,0)/1e3}function s(e){var t=e.substr(0,10).split("-"),n=e.substr(11,8).split(":"),s,u=e.substr(19,6).split(":").map(r),l=u[0]*i+u[1]*o,c=a(t,n);if("number"==typeof(c-=l)&&!isNaN(c))return c}function u(e){var t=e.split(" "),n,r,i=a(t[0].split(":"),t[1].split(":"));if("number"==typeof i&&!isNaN(i))return i}function l(e){var t=19===e.length&&":"===e.charAt(4),n,r;return 25===e.length&&"T"===e.charAt(10)?s(e):t?u(e):void 0}t.exports={parseDateWithSpecFormat:u,parseDateWithTimezoneFormat:s,parseExifDate:l}},{}],243:[function(e,t,n){function r(e,t,n,r,i,o){this.global=i,t=t||0,n=n||e.byteLength-t,this.arrayBuffer=e.slice(t,t+n),this.view=new i.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(r),this.offset=0,this.parentOffset=(o||0)+t}r.prototype={setBigEndian:function(e){this.littleEndian=!e},nextUInt8:function(){var e=this.view.getUint8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.view.getInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},nextUInt32:function(){var e=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},nextInt16:function(){var e=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},nextInt32:function(){var e=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},nextFloat:function(){var e=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},nextDouble:function(){var e=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},nextBuffer:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return t=String.fromCharCode.apply(null,new this.global.Uint8Array(t)),this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(t){return t=(t||0)+this.offset,new r(e.arrayBuffer,t,e.arrayBuffer.byteLength-t,!e.littleEndian,e.global,e.parentOffset)},offset:this.offset,getParentOffset:function(){return e.parentOffset}}},offsetFrom:function(e){return this.parentOffset+this.offset-(e.offset+e.getParentOffset())},skip:function(e){this.offset+=e},branch:function(e,t){return t="number"==typeof t?t:this.arrayBuffer.byteLength-(this.offset+e),new r(this.arrayBuffer,this.offset+e,t,!this.littleEndian,this.global,this.parentOffset)}},t.exports=r},{}],244:[function(e,t,n){t.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65000:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],245:[function(e,t,n){function r(e,t){switch(e){case 1:return t.nextUInt8();case 3:return t.nextUInt16();case 4:return t.nextUInt32();case 5:return[t.nextUInt32(),t.nextUInt32()];case 6:return t.nextInt8();case 8:return t.nextUInt16();case 9:return t.nextUInt32();case 10:return[t.nextInt32(),t.nextInt32()];case 11:return t.nextFloat();case 12:return t.nextDouble();default:throw new Error("Invalid format while decoding: "+e)}}function i(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function o(e,t){var n=t.nextUInt16(),o=t.nextUInt16(),a=i(o),s=t.nextUInt32(),u=a*s,l,c,f;if(u>4&&(t=e.openWithOffset(t.nextUInt32())),2===o){var p=(l=t.nextString(s)).indexOf("\0");-1!==p&&(l=l.substr(0,p))}else if(7===o)l=t.nextBuffer(s);else if(0!==o)for(l=[],f=0;f<s;++f)l.push(r(o,t));return u<4&&t.skip(4-u),[n,l,o]}function a(e,t,n){var r=t.nextUInt16(),i,a;for(a=0;a<r;++a)n((i=o(e,t))[0],i[1],i[2])}function s(e){var t;if("Exif\0\0"!==e.nextString(6))throw new Error("Invalid EXIF header");var n=e.mark(),r=e.nextUInt16();if(18761===r)e.setBigEndian(!1);else{if(19789!==r)throw new Error("Invalid TIFF header");e.setBigEndian(!0)}if(42!==e.nextUInt16())throw new Error("Invalid TIFF data");return n}t.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(e,t){var n,r,i,o;try{n=s(e)}catch(e){return!1}var u=n.openWithOffset(e.nextUInt32()),l=this.IFD0;a(n,u,function(e,n,o){switch(e){case 34853:i=n[0];break;case 34665:r=n[0];break;default:t(l,e,n,o)}});var c=u.nextUInt32(),f,p,h;0!==c&&a(n,n.openWithOffset(c),t.bind(null,this.IFD1));i&&a(n,n.openWithOffset(i),t.bind(null,this.GPSIFD));if(r){var d=n.openWithOffset(r),m=this.InteropIFD;a(n,d,function(e,n,r){40965===e?o=n[0]:t(m,e,n,r)})}o&&a(n,n.openWithOffset(o),t.bind(null,this.InteropIFD));return!0}}},{}],246:[function(e,t,n){t.exports={parseSections:function(e,t){var n,r;for(e.setBigEndian(!0);e.remainingLength()>0&&218!==r;){if(255!==e.nextUInt8())throw new Error("Invalid JPEG section offset");n=(r=e.nextUInt8())>=208&&r<=217||218===r?0:e.nextUInt16()-2,t(r,e.branch(0,n)),e.skip(n)}},getSizeFromSOFSection:function(e){return e.skip(1),{height:e.nextUInt16(),width:e.nextUInt16()}},getSectionName:function(e){var t,n;switch(e){case 216:t="SOI";break;case 196:t="DHT";break;case 219:t="DQT";break;case 221:t="DRI";break;case 218:t="SOS";break;case 254:t="COM";break;case 217:t="EOI";break;default:e>=224&&e<=239?(t="APP",n=e-224):e>=192&&e<=207&&196!==e&&200!==e&&204!==e?(t="SOF",n=e-192):e>=208&&e<=215&&(t="RST",n=e-208)}var r={name:t};return"number"==typeof n&&(r.index=n),r}}},{}],247:[function(e,t,n){var r=e("./jpeg"),i=e("./exif"),o=e("./simplify");function a(e,t,n,r,i,o,a){this.startMarker=e,this.tags=t,this.imageSize=n,this.thumbnailOffset=r,this.thumbnailLength=i,this.thumbnailType=o,this.app1Offset=a}function s(e){this.stream=e,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}a.prototype={hasThumbnail:function(e){return!(!this.thumbnailOffset||!this.thumbnailLength)&&("string"!=typeof e||("image/jpeg"===e.toLowerCase().trim()?6===this.thumbnailType:"image/tiff"===e.toLowerCase().trim()&&1===this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var e=this._getThumbnailStream(),t;return r.parseSections(e,function(e,n){"SOF"===r.getSectionName(e).name&&(t=r.getSizeFromSOFSection(n))}),t}},s.prototype={enableBinaryFields:function(e){return this.flags.readBinaryTags=!!e,this},enablePointers:function(e){return this.flags.hidePointers=!e,this},enableTagNames:function(e){return this.flags.resolveTagNames=!!e,this},enableImageSize:function(e){return this.flags.imageSize=!!e,this},enableReturnTags:function(e){return this.flags.returnTags=!!e,this},enableSimpleValues:function(e){return this.flags.simplifyValues=!!e,this},parse:function(){var t=this.stream.mark(),n=t.openWithOffset(0),s=this.flags,u,l,c,f,p,h,d,m,g;return s.resolveTagNames&&(d=e("./exif-tags")),s.resolveTagNames?(u={},m=function(e){return u[e.name]},g=function(e,t){u[e.name]=t}):(u=[],m=function(e){var t;for(t=0;t<u.length;++t)if(u[t].type===e.type&&u[t].section===e.section)return u.value},g=function(e,t){var n;for(n=0;n<u.length;++n)if(u[n].type===e.type&&u[n].section===e.section)return void(u.value=t)}),r.parseSections(n,function(e,n){var a,m=n.offsetFrom(t);225===e?(a=i.parseTags(n,function(e,t,n,r){if(s.readBinaryTags||7!==r){if(513===t){if(c=n[0],s.hidePointers)return}else if(514===t){if(f=n[0],s.hidePointers)return}else if(259===t&&(p=n[0],s.hidePointers))return;if(s.returnTags)if(s.simplifyValues&&(n=o.simplifyValue(n,r)),s.resolveTagNames){var a,l=(e===i.GPSIFD?d.gps:d.exif)[t];l||(l=d.exif[t]),u.hasOwnProperty(l)||(u[l]=n)}else u.push({section:e,type:t,value:n})}}))&&(h=m):s.imageSize&&"SOF"===r.getSectionName(e).name&&(l=r.getSizeFromSOFSection(n))}),s.simplifyValues&&(o.castDegreeValues(m,g),o.castDateValues(m,g)),new a(t,u,l,c,f,p,h)}},t.exports=s},{"./exif":245,"./exif-tags":244,"./jpeg":246,"./simplify":248}],248:[function(e,t,n){var r=e("./exif"),i=e("./date"),o=[{section:r.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:r.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],a=[{section:r.SubIFD,type:306,name:"ModifyDate"},{section:r.SubIFD,type:36867,name:"DateTimeOriginal"},{section:r.SubIFD,type:36868,name:"CreateDate"},{section:r.SubIFD,type:306,name:"ModifyDate"}];t.exports={castDegreeValues:function(e,t){o.forEach(function(n){var r=e(n);if(r){var i,o=e({section:n.section,type:n.refType,name:n.refName})===n.posVal?1:-1,a=(r[0]+r[1]/60+r[2]/3600)*o;t(n,a)}})},castDateValues:function(e,t){a.forEach(function(n){var r=e(n);if(r){var o=i.parseExifDate(r);void 0!==o&&t(n,o)}})},simplifyValue:function(e,t){return Array.isArray(e)&&1===(e=e.map(function(e){return 10===t||5===t?e[0]/e[1]:e})).length&&(e=e[0]),e}}},{"./date":242,"./exif":245}],249:[function(e,t,n){"use strict";var r,i=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/toConsumableArray")),o=function e(t){return(0,i.default)(t).map(function(e){return e.charCodeAt(0)})},a=o("META-INF/mozilla.rsa"),s=o("[Content_Types].xml"),u=o("_rels/.rels");t.exports=function(e){var t=e instanceof Uint8Array?e:new Uint8Array(e);if(!(t&&t.length>1))return null;var n=function e(n,r){r=Object.assign({offset:0},r);for(var i=0;i<n.length;i++)if(r.mask){if(n[i]!==(r.mask[i]&t[i+r.offset]))return!1}else if(n[i]!==t[i+r.offset])return!1;return!0},r=function e(t,r){return n(o(t),r)};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(n([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((n([73,73,42,0])||n([77,77,0,42]))&&n([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n([73,73,42,0])||n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n([80,75,3,4])){if(n([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(n(a,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(r("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(r("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(r("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var l=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.findIndex(function(e,t,r){return t>=n&&80===r[t]&&75===r[t+1]&&3===r[t+2]&&4===r[t+3]})},c=0,f=!1,p=null;do{var h=c+30;if(f||(f=n(s,{offset:h})||n(u,{offset:h})),p||(r("word/",{offset:h})?p={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:r("ppt/",{offset:h})?p={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:r("xl/",{offset:h})&&(p={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),f&&p)return p;c=l(t,h)}while(c>=0);if(p)return p}if(n([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(n([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(n([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([51,103,112,53])||n([0,0,0])&&n([102,116,121,112],{offset:4})&&(n([109,112,52,49],{offset:8})||n([109,112,52,50],{offset:8})||n([105,115,111,109],{offset:8})||n([105,115,111,50],{offset:8})||n([109,109,112,52],{offset:8})||n([77,52,86],{offset:8})||n([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(n([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(n([26,69,223,163])){var d=t.subarray(4,4100),m=d.findIndex(function(e,t,n){return 66===n[t]&&130===n[t+1]});if(-1!==m){var g=m+3,v=function e(t){return(0,i.default)(t).every(function(e,t){return d[g+t]===e.charCodeAt(0)})};if(v("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(v("webm"))return{ext:"webm",mime:"video/webm"}}}if(n([0,0,0,20,102,116,121,112,113,116,32,32])||n([102,114,101,101],{offset:4})||n([102,116,121,112,113,116,32,32],{offset:4})||n([109,100,97,116],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var y=0;y<2&&y<t.length-16;y++){if(n([73,68,51],{offset:y})||n([255,226],{offset:y,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([255,228],{offset:y,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,248],{offset:y,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,240],{offset:y,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(n([102,116,121,112,77,52,65],{offset:4})||n([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(n([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(n([79,103,103,83]))return n([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:n([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:n([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:n([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:n([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(n([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(n([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(n([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(n([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(n([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===t[0]||70===t[0])&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([119,79,70,70])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(n([119,79,70,50])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n([37,33]))return{ext:"ps",mime:"application/postscript"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n([77,83,67,70])||n([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(n([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(n([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n([0,0,0,12,106,80,32,32,13,10,135,10])){if(n([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(n([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(n([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(n([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(n([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(r("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([102,116,121,112],{offset:4})){if(n([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(n([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(n([104,101,105,99],{offset:8})||n([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(n([104,101,118,99],{offset:8})||n([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return n([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/toConsumableArray":19}],250:[function(e,t,n){"use strict";var r=e("is-callable"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,a=function e(t,n,r){for(var i=0,a=t.length;i<a;i++)o.call(t,i)&&(null==r?n(t[i],i,t):n.call(r,t[i],i,t))},s=function e(t,n,r){for(var i=0,o=t.length;i<o;i++)null==r?n(t.charAt(i),i,t):n.call(r,t.charAt(i),i,t)},u=function e(t,n,r){for(var i in t)o.call(t,i)&&(null==r?n(t[i],i,t):n.call(r,t[i],i,t))},l=function e(t,n,o){if(!r(n))throw new TypeError("iterator must be a function");var l;arguments.length>=3&&(l=o),"[object Array]"===i.call(t)?a(t,n,l):"string"==typeof t?s(t,n,l):u(t,n,l)};t.exports=l},{"is-callable":256}],251:[function(e,n,r){(function(e){var t;t=void 0!==o?o:void 0!==e?e:"undefined"!=typeof self?self:{},n.exports=t}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{}],252:[function(e,t,n){var r=e("http"),i=e("url"),o=t.exports;for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);function s(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=s(e),r.request.call(this,e,t)},o.get=function(e,t){return e=s(e),r.get.call(this,e,t)}},{http:335,url:359}],253:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,p=n?-1:1,h=e[t+f];for(f+=p,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=d,a/=256,l-=8);e[n+h-d]|=128*m}},{}],254:[function(e,t,n){"function"==typeof Object.create?t.exports=function e(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function e(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}},{}],255:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(r(e)||i(e)||!!e._isBuffer)}},{}],256:[function(e,t,n){"use strict";var r=Function.prototype.toString,i=/^\s*class\b/,o=function e(t){try{var n=r.call(t);return i.test(n)}catch(e){return!1}},a=function e(t){try{return!o(t)&&(r.call(t),!0)}catch(e){return!1}},s=Object.prototype.toString,u="[object Function]",l="[object GeneratorFunction]",c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function e(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(c)return a(t);if(o(t))return!1;var n=s.call(t);return n===u||n===l}},{}],257:[function(e,t,n){t.exports=i;var r=Object.prototype.toString;function i(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||void 0!==o&&(e===o.setTimeout||e===o.alert||e===o.confirm||e===o.prompt)}},{}],258:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],259:[function(e,t,n){var r=e("./lib/encoder"),i=e("./lib/decoder");t.exports={encode:r,decode:i}},{"./lib/decoder":260,"./lib/encoder":261}],260:[function(e,t,n){(function(e){var n=function e(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),n=4017,r=799,i=3406,o=2276,a=1567,s=3784,u=5793,l=2896;function c(){}function f(e,t){for(var n=0,r=[],i,o,a=16;a>0&&!e[a-1];)a--;r.push({children:[],index:0});var s=r[0],u;for(i=0;i<a;i++){for(o=0;o<e[i];o++){for((s=r.pop()).children[s.index]=t[n];s.index>0;)s=r.pop();for(s.index++,r.push(s);r.length<=i;)r.push(u={children:[],index:0}),s.children[s.index]=u.children,s=u;n++}i+1<a&&(r.push(u={children:[],index:0}),s.children[s.index]=u.children,s=u)}return r[0].children}function p(e,n,r,i,o,a,s,u,l){var c=r.precision,f=r.samplesPerLine,p=r.scanLines,h=r.mcusPerLine,d=r.progressive,m=r.maxH,g=r.maxV,v=n,y=0,b=0;function w(){if(b>0)return y>>--b&1;if(255==(y=e[n++])){var t=e[n++];if(t)throw new Error("unexpected marker: "+(y<<8|t).toString(16))}return b=7,y>>>7}function x(e){for(var t=e,n;null!==(n=w());){if("number"==typeof(t=t[n]))return t;if("object"!=typeof t)throw new Error("invalid huffman sequence")}return null}function _(e){for(var t=0;e>0;){var n=w();if(null===n)return;t=t<<1|n,e--}return t}function C(e){var t=_(e);return t>=1<<e-1?t:t+(-1<<e)+1}function E(e,n){var r=x(e.huffmanTableDC),i=0===r?0:C(r);n[0]=e.pred+=i;for(var o=1;o<64;){var a=x(e.huffmanTableAC),s=15&a,u=a>>4;if(0!==s){var l;n[t[o+=u]]=C(s),o++}else{if(u<15)break;o+=16}}}function S(e,t){var n=x(e.huffmanTableDC),r=0===n?0:C(n)<<l;t[0]=e.pred+=r}function k(e,t){t[0]|=w()<<l}var O=0;function T(e,n){if(O>0)O--;else for(var r=a,i=s;r<=i;){var o=x(e.huffmanTableAC),u=15&o,c=o>>4;if(0!==u){var f;n[t[r+=c]]=C(u)*(1<<l),r++}else{if(c<15){O=_(c)+(1<<c)-1;break}r+=16}}}var N=0,A;function I(e,n){for(var r=a,i=s,o=0;r<=i;){var u=t[r],c=n[u]<0?-1:1;switch(N){case 0:var f=x(e.huffmanTableAC),p=15&f,o=f>>4;if(0===p)o<15?(O=_(o)+(1<<o),N=4):(o=16,N=1);else{if(1!==p)throw new Error("invalid ACn encoding");A=C(p),N=o?2:3}continue;case 1:case 2:n[u]?n[u]+=(w()<<l)*c:0===--o&&(N=2==N?3:0);break;case 3:n[u]?n[u]+=(w()<<l)*c:(n[u]=A<<l,N=0);break;case 4:n[u]&&(n[u]+=(w()<<l)*c)}r++}4===N&&0===--O&&(N=0)}function R(e,t,n,r,i){var o,a=n%h,s=(n/h|0)*e.v+r,u=a*e.h+i;t(e,e.blocks[s][u])}function P(e,t,n){var r=n/e.blocksPerLine|0,i=n%e.blocksPerLine;t(e,e.blocks[r][i])}var M=i.length,j,D,L,F,z,B;B=d?0===a?0===u?S:k:0===u?T:I:E;var U=0,W,V,H,G;for(V=1==M?i[0].blocksPerLine*i[0].blocksPerColumn:h*r.mcusPerColumn,o||(o=V);U<V;){for(D=0;D<M;D++)i[D].pred=0;if(O=0,1==M)for(j=i[0],z=0;z<o;z++)P(j,B,U),U++;else for(z=0;z<o;z++){for(D=0;D<M;D++)for(H=(j=i[D]).h,G=j.v,L=0;L<G;L++)for(F=0;F<H;F++)R(j,B,U,L,F);if(++U===V)break}if(b=0,(W=e[n]<<8|e[n+1])<65280)throw new Error("marker was not found");if(!(W>=65488&&W<=65495))break;n+=2}return n-v}function h(e,t){var c=[],f=t.blocksPerLine,p=t.blocksPerColumn,h=f<<3,d=new Int32Array(64),m=new Uint8Array(64),g,v;function y(e,c,f){var p=t.quantizationTable,h,d,m,g,v,y,b,w,x,_=f,C;for(C=0;C<64;C++)_[C]=e[C]*p[C];for(C=0;C<8;++C){var E=8*C;0!=_[1+E]||0!=_[2+E]||0!=_[3+E]||0!=_[4+E]||0!=_[5+E]||0!=_[6+E]||0!=_[7+E]?(h=u*_[0+E]+128>>8,d=u*_[4+E]+128>>8,m=_[2+E],g=_[6+E],v=l*(_[1+E]-_[7+E])+128>>8,w=l*(_[1+E]+_[7+E])+128>>8,y=_[3+E]<<4,b=_[5+E]<<4,x=h-d+1>>1,h=h+d+1>>1,d=x,x=m*s+g*a+128>>8,m=m*a-g*s+128>>8,g=x,x=v-b+1>>1,v=v+b+1>>1,b=x,x=w+y+1>>1,y=w-y+1>>1,w=x,x=h-g+1>>1,h=h+g+1>>1,g=x,x=d-m+1>>1,d=d+m+1>>1,m=x,x=v*o+w*i+2048>>12,v=v*i-w*o+2048>>12,w=x,x=y*r+b*n+2048>>12,y=y*n-b*r+2048>>12,b=x,_[0+E]=h+w,_[7+E]=h-w,_[1+E]=d+b,_[6+E]=d-b,_[2+E]=m+y,_[5+E]=m-y,_[3+E]=g+v,_[4+E]=g-v):(x=u*_[0+E]+512>>10,_[0+E]=x,_[1+E]=x,_[2+E]=x,_[3+E]=x,_[4+E]=x,_[5+E]=x,_[6+E]=x,_[7+E]=x)}for(C=0;C<8;++C){var S=C;0!=_[8+S]||0!=_[16+S]||0!=_[24+S]||0!=_[32+S]||0!=_[40+S]||0!=_[48+S]||0!=_[56+S]?(h=u*_[0+S]+2048>>12,d=u*_[32+S]+2048>>12,m=_[16+S],g=_[48+S],v=l*(_[8+S]-_[56+S])+2048>>12,w=l*(_[8+S]+_[56+S])+2048>>12,y=_[24+S],b=_[40+S],x=h-d+1>>1,h=h+d+1>>1,d=x,x=m*s+g*a+2048>>12,m=m*a-g*s+2048>>12,g=x,x=v-b+1>>1,v=v+b+1>>1,b=x,x=w+y+1>>1,y=w-y+1>>1,w=x,x=h-g+1>>1,h=h+g+1>>1,g=x,x=d-m+1>>1,d=d+m+1>>1,m=x,x=v*o+w*i+2048>>12,v=v*i-w*o+2048>>12,w=x,x=y*r+b*n+2048>>12,y=y*n-b*r+2048>>12,b=x,_[0+S]=h+w,_[56+S]=h-w,_[8+S]=d+b,_[48+S]=d-b,_[16+S]=m+y,_[40+S]=m-y,_[24+S]=g+v,_[32+S]=g-v):(x=u*f[C+0]+8192>>14,_[0+S]=x,_[8+S]=x,_[16+S]=x,_[24+S]=x,_[32+S]=x,_[40+S]=x,_[48+S]=x,_[56+S]=x)}for(C=0;C<64;++C){var k=128+(_[C]+8>>4);c[C]=k<0?0:k>255?255:k}}for(var b=0;b<p;b++){var w=b<<3;for(g=0;g<8;g++)c.push(new Uint8Array(h));for(var x=0;x<f;x++){y(t.blocks[b][x],m,d);var _=0,C=x<<3;for(v=0;v<8;v++){var E=c[w+v];for(g=0;g<8;g++)E[C+g]=m[_++]}}}return c}function d(e){return e<0?0:e>255?255:e}return c.prototype={load:function e(t){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){var e=new Uint8Array(n.response||n.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),n.send(null)},parse:function e(n){var r=0,i=n.length;function o(){var e=n[r]<<8|n[r+1];return r+=2,e}function a(){var e=o(),t=n.subarray(r,r+e-2);return r+=t.length,t}function s(e){var t=0,n=0,r,i;for(i in e.components)e.components.hasOwnProperty(i)&&(t<(r=e.components[i]).h&&(t=r.h),n<r.v&&(n=r.v));var o=Math.ceil(e.samplesPerLine/8/t),a=Math.ceil(e.scanLines/8/n);for(i in e.components)if(e.components.hasOwnProperty(i)){r=e.components[i];for(var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*r.h/t),u=Math.ceil(Math.ceil(e.scanLines/8)*r.v/n),l=o*r.h,c=a*r.v,f=[],p=0;p<c;p++){for(var h=[],d=0;d<l;d++)h.push(new Int32Array(64));f.push(h)}r.blocksPerLine=s,r.blocksPerColumn=u,r.blocks=f}e.maxH=t,e.maxV=n,e.mcusPerLine=o,e.mcusPerColumn=a}var u=null,l=null,c=null,d,m,g=[],v=[],y=[],b=[],w=o();if(65496!=w)throw new Error("SOI not found");for(w=o();65497!=w;){var x,_,C;switch(w){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var E=a();65504===w&&74===E[0]&&70===E[1]&&73===E[2]&&70===E[3]&&0===E[4]&&(u={version:{major:E[5],minor:E[6]},densityUnits:E[7],xDensity:E[8]<<8|E[9],yDensity:E[10]<<8|E[11],thumbWidth:E[12],thumbHeight:E[13],thumbData:E.subarray(14,14+3*E[12]*E[13])}),65518===w&&65===E[0]&&100===E[1]&&111===E[2]&&98===E[3]&&101===E[4]&&0===E[5]&&(l={version:E[6],flags0:E[7]<<8|E[8],flags1:E[9]<<8|E[10],transformCode:E[11]});break;case 65499:for(var S,k=o()+r-2;r<k;){var O=n[r++],T=new Int32Array(64);if(O>>4==0)for(_=0;_<64;_++){var N;T[N=t[_]]=n[r++]}else{if(O>>4!=1)throw new Error("DQT: invalid table spec");for(_=0;_<64;_++){var N;T[N=t[_]]=o()}}g[15&O]=T}break;case 65472:case 65473:case 65474:o(),(d={}).extended=65473===w,d.progressive=65474===w,d.precision=n[r++],d.scanLines=o(),d.samplesPerLine=o(),d.components={},d.componentsOrder=[];var A=n[r++],I,R=0,P=0;for(x=0;x<A;x++){I=n[r];var M=n[r+1]>>4,j=15&n[r+1],D=n[r+2];d.componentsOrder.push(I),d.components[I]={h:M,v:j,quantizationIdx:D},r+=3}s(d),v.push(d);break;case 65476:var L=o();for(x=2;x<L;){var F=n[r++],z=new Uint8Array(16),B=0;for(_=0;_<16;_++,r++)B+=z[_]=n[r];var U=new Uint8Array(B);for(_=0;_<B;_++,r++)U[_]=n[r];x+=17+B,(F>>4==0?b:y)[15&F]=f(z,U)}break;case 65501:o(),m=o();break;case 65498:var W=o(),V=n[r++],H=[],G;for(x=0;x<V;x++){G=d.components[n[r++]];var q=n[r++];G.huffmanTableDC=b[q>>4],G.huffmanTableAC=y[15&q],H.push(G)}var K=n[r++],X=n[r++],Y=n[r++],Z=p(n,r,d,H,m,K,X,Y>>4,15&Y);r+=Z;break;case 65535:255!==n[r]&&r--;break;default:if(255==n[r-3]&&n[r-2]>=192&&n[r-2]<=254){r-=3;break}throw new Error("unknown JPEG marker "+w.toString(16))}w=o()}if(1!=v.length)throw new Error("only single frame JPEGs supported");for(var x=0;x<v.length;x++){var $=v[x].components;for(var _ in $)$[_].quantizationTable=g[$[_].quantizationIdx],delete $[_].quantizationIdx}this.width=d.samplesPerLine,this.height=d.scanLines,this.jfif=u,this.adobe=l,this.components=[];for(var x=0;x<d.componentsOrder.length;x++){var G=d.components[d.componentsOrder[x]];this.components.push({lines:h(d,G),scaleX:G.h/d.maxH,scaleY:G.v/d.maxV})}},getData:function e(t,n){var r=this.width/t,i=this.height/n,o,a,s,u,l,c,f,p,h,m,g=0,v,y,b,w,x,_,C,E,S,k,O,T=t*n*this.components.length,N=new Uint8Array(T);switch(this.components.length){case 1:for(o=this.components[0],m=0;m<n;m++)for(l=o.lines[0|m*o.scaleY*i],h=0;h<t;h++)v=l[0|h*o.scaleX*r],N[g++]=v;break;case 2:for(o=this.components[0],a=this.components[1],m=0;m<n;m++)for(l=o.lines[0|m*o.scaleY*i],c=a.lines[0|m*a.scaleY*i],h=0;h<t;h++)v=l[0|h*o.scaleX*r],N[g++]=v,v=c[0|h*a.scaleX*r],N[g++]=v;break;case 3:for(O=!0,this.adobe&&this.adobe.transformCode?O=!0:void 0!==this.colorTransform&&(O=!!this.colorTransform),o=this.components[0],a=this.components[1],s=this.components[2],m=0;m<n;m++)for(l=o.lines[0|m*o.scaleY*i],c=a.lines[0|m*a.scaleY*i],f=s.lines[0|m*s.scaleY*i],h=0;h<t;h++)O?(v=l[0|h*o.scaleX*r],y=c[0|h*a.scaleX*r],E=d(v+1.402*((b=f[0|h*s.scaleX*r])-128)),S=d(v-.3441363*(y-128)-.71413636*(b-128)),k=d(v+1.772*(y-128))):(E=l[0|h*o.scaleX*r],S=c[0|h*a.scaleX*r],k=f[0|h*s.scaleX*r]),N[g++]=E,N[g++]=S,N[g++]=k;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";for(O=!1,this.adobe&&this.adobe.transformCode?O=!0:void 0!==this.colorTransform&&(O=!!this.colorTransform),o=this.components[0],a=this.components[1],s=this.components[2],u=this.components[3],m=0;m<n;m++)for(l=o.lines[0|m*o.scaleY*i],c=a.lines[0|m*a.scaleY*i],f=s.lines[0|m*s.scaleY*i],p=u.lines[0|m*u.scaleY*i],h=0;h<t;h++)O?(v=l[0|h*o.scaleX*r],y=c[0|h*a.scaleX*r],b=f[0|h*s.scaleX*r],w=p[0|h*u.scaleX*r],x=255-d(v+1.402*(b-128)),_=255-d(v-.3441363*(y-128)-.71413636*(b-128)),C=255-d(v+1.772*(y-128))):(x=l[0|h*o.scaleX*r],_=c[0|h*a.scaleX*r],C=f[0|h*s.scaleX*r],w=p[0|h*u.scaleX*r]),N[g++]=255-x,N[g++]=255-_,N[g++]=255-C,N[g++]=255-w;break;default:throw"Unsupported color mode"}return N},copyToImageData:function e(t){var n=t.width,r=t.height,i=t.data,o=this.getData(n,r),a=0,s=0,u,l,c,f,p,h,m,g,v;switch(this.components.length){case 1:for(l=0;l<r;l++)for(u=0;u<n;u++)c=o[a++],i[s++]=c,i[s++]=c,i[s++]=c,i[s++]=255;break;case 3:for(l=0;l<r;l++)for(u=0;u<n;u++)m=o[a++],g=o[a++],v=o[a++],i[s++]=m,i[s++]=g,i[s++]=v,i[s++]=255;break;case 4:for(l=0;l<r;l++)for(u=0;u<n;u++)p=o[a++],h=o[a++],c=o[a++],m=255-d(p*(1-(f=o[a++])/255)+f),g=255-d(h*(1-f/255)+f),v=255-d(c*(1-f/255)+f),i[s++]=m,i[s++]=g,i[s++]=v,i[s++]=255;break;default:throw"Unsupported color mode"}}},c}();function r(t,r){var i=new Uint8Array(t),o=new n;o.parse(i);var a={width:o.width,height:o.height,data:r?new Uint8Array(o.width*o.height*4):new e(o.width*o.height*4)};return o.copyToImageData(a),a}t.exports=r}).call(this,e("buffer").Buffer)},{buffer:47}],261:[function(e,t,n){(function(e){var n=n||function(t){return new e(t).toString("base64")};function r(t){var n=this,r=Math.round,i=Math.floor,o=new Array(64),a=new Array(64),s=new Array(64),u=new Array(64),l,c,f,p,h=new Array(65535),d=new Array(65535),m=new Array(64),g=new Array(64),v=[],y=0,b=7,w=new Array(64),x=new Array(64),_=new Array(64),C=new Array(256),E=new Array(2048),S,k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function j(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=i((t[n]*e+50)/100);r<1?r=1:r>255&&(r=255),o[k[n]]=r}for(var l=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],c=0;c<64;c++){var f=i((l[c]*e+50)/100);f<1?f=1:f>255&&(f=255),a[k[c]]=f}for(var p=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,d=0;d<8;d++)for(var m=0;m<8;m++)s[h]=1/(o[k[h]]*p[d]*p[m]*8),u[h]=1/(a[k[h]]*p[d]*p[m]*8),h++}function D(e,t){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=e[o];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function L(){l=D(O,T),c=D(I,R),f=D(N,A),p=D(P,M)}function F(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)d[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)d[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=t-1+i;e<<=1,t<<=1}}function z(){for(var e=0;e<256;e++)E[e]=19595*e,E[e+256>>0]=38470*e,E[e+512>>0]=7471*e+32768,E[e+768>>0]=-11059*e,E[e+1024>>0]=-21709*e,E[e+1280>>0]=32768*e+8421375,E[e+1536>>0]=-27439*e,E[e+1792>>0]=-5329*e}function B(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(y|=1<<b),n--,--b<0&&(255==y?(U(255),U(0)):U(y),b=7,y=0)}function U(e){v.push(e)}function W(e){U(e>>8&255),U(255&e)}function V(e,t){var n,r,i,o,a,s,u,l,c=0,f,p=8,h=64,d;for(f=0;f<8;++f){n=e[c],r=e[c+1],i=e[c+2],o=e[c+3],a=e[c+4],s=e[c+5],u=e[c+6];var g=n+(l=e[c+7]),v=n-l,y=r+u,b=r-u,w=i+s,x=i-s,_=o+a,C=o-a,E=g+_,S=g-_,k=y+w,O=y-w;e[c]=E+k,e[c+4]=E-k;var T=.707106781*(O+S);e[c+2]=S+T,e[c+6]=S-T;var N=.382683433*((E=C+x)-(O=b+v)),A=.5411961*E+N,I=1.306562965*O+N,R=.707106781*(k=x+b),P=v+R,M=v-R;e[c+5]=M+A,e[c+3]=M-A,e[c+1]=P+I,e[c+7]=P-I,c+=8}for(c=0,f=0;f<8;++f){n=e[c],r=e[c+8],i=e[c+16],o=e[c+24],a=e[c+32],s=e[c+40],u=e[c+48];var j=n+(l=e[c+56]),D=n-l,L=r+u,F=r-u,z=i+s,B=i-s,U=o+a,W=o-a,V=j+U,H=j-U,G=L+z,q=L-z;e[c]=V+G,e[c+32]=V-G;var K=.707106781*(q+H);e[c+16]=H+K,e[c+48]=H-K;var X=.382683433*((V=W+B)-(q=F+D)),Y=.5411961*V+X,Z=1.306562965*q+X,$=.707106781*(G=B+F),J=D+$,Q=D-$;e[c+40]=Q+Y,e[c+24]=Q-Y,e[c+8]=J+Z,e[c+56]=J-Z,c++}for(f=0;f<64;++f)d=e[f]*t[f],m[f]=d>0?d+.5|0:d-.5|0;return m}function H(){W(65504),W(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),W(1),W(1),U(0),U(0)}function G(e,t){W(65472),W(17),U(8),W(t),W(e),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}function q(){W(65499),W(132),U(0);for(var e=0;e<64;e++)U(o[e]);U(1);for(var t=0;t<64;t++)U(a[t])}function K(){W(65476),W(418),U(0);for(var e=0;e<16;e++)U(O[e+1]);for(var t=0;t<=11;t++)U(T[t]);U(16);for(var n=0;n<16;n++)U(N[n+1]);for(var r=0;r<=161;r++)U(A[r]);U(1);for(var i=0;i<16;i++)U(I[i+1]);for(var o=0;o<=11;o++)U(R[o]);U(17);for(var a=0;a<16;a++)U(P[a+1]);for(var s=0;s<=161;s++)U(M[s])}function X(){W(65498),W(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0)}function Y(e,t,n,r,i){for(var o=i[0],a=i[240],s,u=16,l=63,c=64,f=V(e,t),p=0;p<64;++p)g[k[p]]=f[p];var m=g[0]-n;n=g[0],0==m?B(r[0]):(B(r[d[s=32767+m]]),B(h[s]));for(var v=63;v>0&&0==g[v];v--);if(0==v)return B(o),n;for(var y=1,b;y<=v;){for(var w=y;0==g[y]&&y<=v;++y);var x=y-w;if(x>=16){b=x>>4;for(var _=1;_<=b;++_)B(a);x&=15}s=32767+g[y],B(i[(x<<4)+d[s]]),B(h[s]),y++}return 63!=v&&B(o),n}function Z(){for(var e=String.fromCharCode,t=0;t<256;t++)C[t]=e(t)}function $(e){if(e<=0&&(e=1),e>100&&(e=100),S!=e){var t=0;j(t=e<50?Math.floor(5e3/e):Math.floor(200-2*e)),S=e}}function J(){var e=(new Date).getTime();t||(t=50),Z(),L(),F(),z(),$(t);var n=(new Date).getTime()-e}this.encode=function(t,n){var r=(new Date).getTime();n&&$(n),v=new Array,y=0,b=7,W(65496),H(),q(),G(t.width,t.height),K(),X();var i=0,o=0,a=0;y=0,b=7,this.encode.displayName="_encode_";for(var h=t.data,d=t.width,m=t.height,g=4*d,C=3*d,S,k=0,O,T,N,A,I,R,P,M,j,D;k<m;){for(S=0;S<g;){for(I=A=g*k+S,R=-1,P=0,M=0;M<64;M++)I=A+(P=M>>3)*g+(R=4*(7&M)),k+P>=m&&(I-=g*(k+1+P-m)),S+R>=g&&(I-=S+R-g+4),O=h[I++],T=h[I++],N=h[I++],w[M]=(E[O]+E[T+256>>0]+E[N+512>>0]>>16)-128,x[M]=(E[O+768>>0]+E[T+1024>>0]+E[N+1280>>0]>>16)-128,_[M]=(E[O+1280>>0]+E[T+1536>>0]+E[N+1792>>0]>>16)-128;i=Y(w,s,i,l,f),o=Y(x,u,o,c,p),a=Y(_,u,a,c,p),S+=32}k+=8}if(b>=0){var L=[];L[1]=b+1,L[0]=(1<<b+1)-1,B(L)}return W(65497),new e(v)},J()}function i(e,t){var n,i;return void 0===t&&(t=50),{data:new r(t).encode(e,t),width:e.width,height:e.height}}function o(e){var t="string"==typeof e?document.getElementById(e):e,n=document.createElement("canvas");n.width=t.width,n.height=t.height;var r=n.getContext("2d");return r.drawImage(t,0,0),r.getImageData(0,0,n.width,n.height)}t.exports=i}).call(this,e("buffer").Buffer)},{buffer:47}],262:[function(e,t,n){(function(n){var r=e("path"),i=e("fs"),o=parseInt("0777",8);function a(e,t,s,u){"function"==typeof t?(s=t,t={}):t&&"object"==typeof t||(t={mode:t});var l=t.mode,c=t.fs||i;void 0===l&&(l=o&~n.umask()),u||(u=null);var f=s||function(){};e=r.resolve(e),c.mkdir(e,l,function(n){if(!n)return f(null,u=u||e);switch(n.code){case"ENOENT":a(r.dirname(e),t,function(n,r){n?f(n,r):a(e,t,f,r)});break;default:c.stat(e,function(e,t){e||!t.isDirectory()?f(n,u):f(null,u)})}})}t.exports=a.mkdirp=a.mkdirP=a,a.sync=function e(t,a,s){a&&"object"==typeof a||(a={mode:a});var u=a.mode,l=a.fs||i;void 0===u&&(u=o&~n.umask()),s||(s=null),t=r.resolve(t);try{l.mkdirSync(t,u),s=s||t}catch(n){switch(n.code){case"ENOENT":e(t,a,s=e(r.dirname(t),a,s));break;default:var c;try{c=l.statSync(t)}catch(e){throw n}if(!c.isDirectory())throw n}}return s}}).call(this,e("_process"))},{_process:312,fs:46,path:286}],263:[function(e,t,n){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc"),t;if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},r=0;r<10;r++)n["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(n).map(function(e){return n[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}t.exports=s()?Object.assign:function(e,t){for(var n,s=a(e),u,l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(s[c]=n[c]);if(r){u=r(n);for(var f=0;f<u.length;f++)o.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},{}],264:[function(e,t,n){"use strict";function r(e,t,n,r){var o=0,r,a=void 0===(r=void 0===r?{}:r).loop?null:r.loop,s=void 0===r.palette?null:r.palette;if(t<=0||n<=0||t>65535||n>65535)throw new Error("Width/Height invalid.");function u(e){var t=e.length;if(t<2||t>256||t&t-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return t}e[o++]=71,e[o++]=73,e[o++]=70,e[o++]=56,e[o++]=57,e[o++]=97;var l=0,c=0;if(null!==s){for(var f=u(s);f>>=1;)++l;if(f=1<<l,--l,void 0!==r.background){if((c=r.background)>=f)throw new Error("Background index out of range.");if(0===c)throw new Error("Background index explicitly passed as 0.")}}if(e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&n,e[o++]=n>>8&255,e[o++]=(null!==s?128:0)|l,e[o++]=c,e[o++]=0,null!==s)for(var p=0,h=s.length;p<h;++p){var d=s[p];e[o++]=d>>16&255,e[o++]=d>>8&255,e[o++]=255&d}if(null!==a){if(a<0||a>65535)throw new Error("Loop count invalid.");e[o++]=33,e[o++]=255,e[o++]=11,e[o++]=78,e[o++]=69,e[o++]=84,e[o++]=83,e[o++]=67,e[o++]=65,e[o++]=80,e[o++]=69,e[o++]=50,e[o++]=46,e[o++]=48,e[o++]=3,e[o++]=1,e[o++]=255&a,e[o++]=a>>8&255,e[o++]=0}var m=!1;this.addFrame=function(t,n,r,a,l,c){if(!0===m&&(--o,m=!1),c=void 0===c?{}:c,t<0||n<0||t>65535||n>65535)throw new Error("x/y invalid.");if(r<=0||a<=0||r>65535||a>65535)throw new Error("Width/Height invalid.");if(l.length<r*a)throw new Error("Not enough pixels for the frame size.");var f=!0,p=c.palette;if(void 0!==p&&null!==p||(f=!1,p=s),void 0===p||null===p)throw new Error("Must supply either a local or global palette.");for(var h=u(p),d=0;h>>=1;)++d;h=1<<d;var g=void 0===c.delay?0:c.delay,v=void 0===c.disposal?0:c.disposal;if(v<0||v>3)throw new Error("Disposal out of range.");var y=!1,b=0;if(void 0!==c.transparent&&null!==c.transparent&&(y=!0,(b=c.transparent)<0||b>=h))throw new Error("Transparent color index.");if((0!==v||y||0!==g)&&(e[o++]=33,e[o++]=249,e[o++]=4,e[o++]=v<<2|(!0===y?1:0),e[o++]=255&g,e[o++]=g>>8&255,e[o++]=b,e[o++]=0),e[o++]=44,e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&n,e[o++]=n>>8&255,e[o++]=255&r,e[o++]=r>>8&255,e[o++]=255&a,e[o++]=a>>8&255,e[o++]=!0===f?128|d-1:0,!0===f)for(var w=0,x=p.length;w<x;++w){var _=p[w];e[o++]=_>>16&255,e[o++]=_>>8&255,e[o++]=255&_}return o=i(e,o,d<2?2:d,l)},this.end=function(){return!1===m&&(e[o++]=59,m=!0),o},this.getOutputBuffer=function(){return e},this.setOutputBuffer=function(t){e=t},this.getOutputBufferPosition=function(){return o},this.setOutputBufferPosition=function(e){o=e}}function i(e,t,n,r){e[t++]=n;var i=t++,o=1<<n,a=o-1,s=o+1,u=s+1,l=n+1,c=0,f=0;function p(n){for(;c>=n;)e[t++]=255&f,f>>=8,c-=8,t===i+256&&(e[i]=255,i=t++)}function h(e){f|=e<<c,c+=l,p(8)}var d=r[0]&a,m={};h(o);for(var g=1,v=r.length;g<v;++g){var y=r[g]&a,b=d<<8|y,w=m[b];if(void 0===w){for(f|=d<<c,c+=l;c>=8;)e[t++]=255&f,f>>=8,c-=8,t===i+256&&(e[i]=255,i=t++);4096===u?(h(o),u=s+1,l=n+1,m={}):(u>=1<<l&&++l,m[b]=u++),d=y}else d=w}return h(d),h(s),p(1),i+1===t?e[i]=0:(e[i]=t-i-1,e[t++]=0),t}function o(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,s,u=1<<(7&i)+1,l=e[t++];e[t++];var c=null,f=null;o&&(c=t,f=u,t+=3*u);var p=!0,h=[],d=0,m=null,g=0,v=null;for(this.width=n,this.height=r;p&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){var y;if(!((y=e[t++])>=0))throw Error("Invalid block size");if(0===y)break;t+=y}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var b=e[t++];d=e[t++]|e[t++]<<8,m=e[t++],0==(1&b)&&(m=null),g=b>>2&7,t++;break;case 254:for(;;){var y;if(!((y=e[t++])>=0))throw Error("Invalid block size");if(0===y)break;t+=y}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,E=e[t++],S,k=E>>6&1,O,T=1<<(7&E)+1,N=c,A=f,I=!1;if(E>>7){var I=!0;N=t,A=T,t+=3*T}var R=t;for(t++;;){var y;if(!((y=e[t++])>=0))throw Error("Invalid block size");if(0===y)break;t+=y}h.push({x:w,y:x,width:_,height:C,has_local_palette:I,palette_offset:N,palette_size:A,data_offset:R,data_length:t-R,transparent_index:m,interlaced:!!k,delay:d,disposal:g});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return v},this.frameInfo=function(e){if(e<0||e>=h.length)throw new Error("Frame index out of range.");return h[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,s=new Uint8Array(o);a(e,i.data_offset,s,o);var u=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,f=n-c,p=c,h=4*(i.y*n+i.x),d=4*((i.y+i.height)*n+i.x),m=h,g=4*f;!0===i.interlaced&&(g+=4*n*7);for(var v=8,y=0,b=s.length;y<b;++y){var w=s[y];if(0===p&&(p=c,(m+=g)>=d&&(g=4*f+4*n*(v-1),m=h+(c+f)*(v<<1),v>>=1)),w===l)m+=4;else{var x=e[u+3*w],_=e[u+3*w+1],C=e[u+3*w+2];r[m++]=C,r[m++]=_,r[m++]=x,r[m++]=255}--p}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,s=new Uint8Array(o);a(e,i.data_offset,s,o);var u=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,f=n-c,p=c,h=4*(i.y*n+i.x),d=4*((i.y+i.height)*n+i.x),m=h,g=4*f;!0===i.interlaced&&(g+=4*n*7);for(var v=8,y=0,b=s.length;y<b;++y){var w=s[y];if(0===p&&(p=c,(m+=g)>=d&&(g=4*f+4*n*(v-1),m=h+(c+f)*(v<<1),v>>=1)),w===l)m+=4;else{var x=e[u+3*w],_=e[u+3*w+1],C=e[u+3*w+2];r[m++]=x,r[m++]=_,r[m++]=C,r[m++]=255}--p}}}function a(e,t,n,r){for(var i=e[t++],o=1<<i,a=o+1,s=a+1,u=i+1,l=(1<<u)-1,c=0,f=0,p=0,h=e[t++],d=new Int32Array(4096),m=null;;){for(;c<16&&0!==h;)f|=e[t++]<<c,c+=8,1===h?h=e[t++]:--h;if(c<u)break;var g=f&l;if(f>>=u,c-=u,g!==o){if(g===a)break;for(var v=g<s?g:m,y=0,b=v;b>o;)b=d[b]>>8,++y;var w=b,x;if(p+y+(v!==g?1:0)>r)return void console.log("Warning, gif stream longer than expected.");n[p++]=w;var _=p+=y;for(v!==g&&(n[p++]=w),b=v;y--;)b=d[b],n[--_]=255&b,b>>=8;null!==m&&s<4096&&(d[s++]=m<<8|w,s>=l+1&&u<12&&(++u,l=l<<1|1)),m=g}else s=a+1,l=(1<<(u=i+1))-1,m=null}return p!==r&&console.log("Warning, gif stream shorter than expected."),n}try{n.GifWriter=r,n.GifReader=o}catch(e){}},{}],265:[function(e,t,n){"use strict";var r,i,o,a,s={};(0,e("./lib/utils/common").assign)(s,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=s},{"./lib/deflate":266,"./lib/inflate":267,"./lib/utils/common":268,"./lib/zlib/constants":271}],266:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),u=Object.prototype.toString,l=0,c=4,f=0,p=1,h=2,d=-1,m=0,g=8;function v(e){if(!(this instanceof v))return new v(e);this.options=i.assign({level:d,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==f)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var l;if(l="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,l))!==f)throw new Error(a[n]);this._dict_set=!0}}function y(e,t){var n=new v(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}function b(e,t){return(t=t||{}).raw=!0,y(e,t)}function w(e,t){return(t=t||{}).gzip=!0,y(e,t)}v.prototype.push=function(e,t){var n=this.strm,a=this.options.chunkSize,s,l;if(this.ended)return!1;l=t===~~t?t:!0===t?4:0,"string"==typeof e?n.input=o.string2buf(e):"[object ArrayBuffer]"===u.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new i.Buf8(a),n.next_out=0,n.avail_out=a),1!==(s=r.deflate(n,l))&&s!==f)return this.onEnd(s),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==l&&2!==l)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(n.output,n.next_out))):this.onData(i.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==s);return 4===l?(s=r.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===f):2!==l||(this.onEnd(f),n.avail_out=0,!0)},v.prototype.onData=function(e){this.chunks.push(e)},v.prototype.onEnd=function(e){e===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=v,n.deflate=y,n.deflateRaw=b,n.gzip=w},{"./utils/common":268,"./utils/strings":269,"./zlib/deflate":273,"./zlib/messages":278,"./zlib/zstream":280}],267:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),u=e("./zlib/zstream"),l=e("./zlib/gzheader"),c=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function p(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}function h(e,t){return(t=t||{}).raw=!0,p(e,t)}f.prototype.push=function(e,t){var n=this.strm,s=this.options.chunkSize,u=this.options.dictionary,l,f,p,h,d,m,g=!1;if(this.ended)return!1;f=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?n.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new i.Buf8(s),n.next_out=0,n.avail_out=s),(l=r.inflate(n,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&u&&(m="string"==typeof u?o.string2buf(u):"[object ArrayBuffer]"===c.call(u)?new Uint8Array(u):u,l=r.inflateSetDictionary(this.strm,m)),l===a.Z_BUF_ERROR&&!0===g&&(l=a.Z_OK,g=!1),l!==a.Z_STREAM_END&&l!==a.Z_OK)return this.onEnd(l),this.ended=!0,!1;n.next_out&&(0!==n.avail_out&&l!==a.Z_STREAM_END&&(0!==n.avail_in||f!==a.Z_FINISH&&f!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(p=o.utf8border(n.output,n.next_out),h=n.next_out-p,d=o.buf2string(n.output,p),n.next_out=h,n.avail_out=s-h,h&&i.arraySet(n.output,n.output,p,h,0),this.onData(d)):this.onData(i.shrinkBuf(n.output,n.next_out)))),0===n.avail_in&&0===n.avail_out&&(g=!0)}while((n.avail_in>0||0===n.avail_out)&&l!==a.Z_STREAM_END);return l===a.Z_STREAM_END&&(f=a.Z_FINISH),f===a.Z_FINISH?(l=r.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===a.Z_OK):f!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),n.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=f,n.inflate=p,n.inflateRaw=h,n.ungzip=p},{"./utils/common":268,"./utils/strings":269,"./zlib/constants":271,"./zlib/gzheader":274,"./zlib/inflate":276,"./zlib/messages":278,"./zlib/zstream":280}],268:[function(e,t,n){arguments[4][35][0].apply(n,arguments)},{dup:35}],269:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),a=0,o=0;a<u;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return u(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,s=t||e.length,l=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)l[r++]=i;else if((o=a[i])>4)l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return u(l,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},{"./common":268}],270:[function(e,t,n){arguments[4][36][0].apply(n,arguments)},{dup:36}],271:[function(e,t,n){arguments[4][37][0].apply(n,arguments)},{dup:37}],272:[function(e,t,n){arguments[4][38][0].apply(n,arguments)},{dup:38}],273:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./trees"),o=e("./adler32"),a=e("./crc32"),s=e("./messages"),u=0,l=1,c=3,f=4,p=5,h=0,d=1,m=-2,g=-3,v=-5,y=-1,b=1,w=2,x=3,_=4,C=0,E=2,S=8,k=9,O=15,T=8,N=29,A=256,I=286,R=30,P=19,M=2*I+1,j=15,D=3,L=258,F=L+D+1,z=32,B=42,U=69,W=73,V=91,H=103,G=113,q=666,K=1,X=2,Y=3,Z=4,$=3,J;function Q(e,t){return e.msg=s[t],t}function ee(e){return(e<<1)-(e>4?9:0)}function te(e){for(var t=e.length;--t>=0;)e[t]=0}function ne(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function re(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ne(e.strm)}function ie(e,t){e.pending_buf[e.pending++]=t}function oe(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ae(e,t,n,i){var s=e.avail_in;return s>i&&(s=i),0===s?0:(e.avail_in-=s,r.arraySet(t,e.input,e.next_in,s,n),1===e.state.wrap?e.adler=o(e.adler,t,s,n):2===e.state.wrap&&(e.adler=a(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)}function se(e,t){var n=e.max_chain_length,r=e.strstart,i,o,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0,l=e.window,c=e.w_mask,f=e.prev,p=e.strstart+L,h=l[r+a-1],d=l[r+a];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(i=t)+a]===d&&l[i+a-1]===h&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<p);if(o=L-(p-r),r=p-L,o>a){if(e.match_start=t,a=o,o>=s)break;h=l[r+a-1],d=l[r+a]}}}while((t=f[t&c])>u&&0!=--n);return a<=e.lookahead?a:e.lookahead}function ue(e){var t=e.w_size,n,i,o,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-F)){r.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=i=e.hash_size;do{o=e.head[--n],e.head[n]=o>=t?o-t:0}while(--i);n=i=t;do{o=e.prev[--n],e.prev[n]=o>=t?o-t:0}while(--i);a+=t}if(0===e.strm.avail_in)break;if(i=ae(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=i,e.lookahead+e.insert>=D)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+D-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<F&&0!==e.strm.avail_in)}function le(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ue(e),0===e.lookahead&&t===u)return K;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,re(e,!1),0===e.strm.avail_out))return K;if(e.strstart-e.block_start>=e.w_size-F&&(re(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===f?(re(e,!0),0===e.strm.avail_out?Y:Z):(e.strstart>e.block_start&&(re(e,!1),e.strm.avail_out),K)}function ce(e,t){for(var n,r;;){if(e.lookahead<F){if(ue(e),e.lookahead<F&&t===u)return K;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-F&&(e.match_length=se(e,n)),e.match_length>=D)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(re(e,!1),0===e.strm.avail_out))return K}return e.insert=e.strstart<D-1?e.strstart:D-1,t===f?(re(e,!0),0===e.strm.avail_out?Y:Z):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?K:X}function fe(e,t){for(var n,r,o;;){if(e.lookahead<F){if(ue(e),e.lookahead<F&&t===u)return K;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-F&&(e.match_length=se(e,n),e.match_length<=5&&(e.strategy===b||e.match_length===D&&e.strstart-e.match_start>4096)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-D,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=D-1,e.strstart++,r&&(re(e,!1),0===e.strm.avail_out))return K}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&re(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return K}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,t===f?(re(e,!0),0===e.strm.avail_out?Y:Z):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?K:X}function pe(e,t){for(var n,r,o,a,s=e.window;;){if(e.lookahead<=L){if(ue(e),e.lookahead<=L&&t===u)return K;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=D&&e.strstart>0&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=e.strstart+L;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);e.match_length=L-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=D?(n=i._tr_tally(e,1,e.match_length-D),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(re(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===f?(re(e,!0),0===e.strm.avail_out?Y:Z):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?K:X}function he(e,t){for(var n;;){if(0===e.lookahead&&(ue(e),0===e.lookahead)){if(t===u)return K;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(re(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===f?(re(e,!0),0===e.strm.avail_out?Y:Z):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?K:X}function de(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function me(e){e.window_size=2*e.w_size,te(e.head),e.max_lazy_match=J[e.level].max_lazy,e.good_match=J[e.level].good_length,e.nice_match=J[e.level].nice_length,e.max_chain_length=J[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=D-1,e.match_available=0,e.ins_h=0}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*M),this.dyn_dtree=new r.Buf16(2*(2*R+1)),this.bl_tree=new r.Buf16(2*(2*P+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(j+1),this.heap=new r.Buf16(2*I+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*I+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ve(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=E,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?B:G,e.adler=2===t.wrap?0:1,t.last_flush=u,i._tr_init(t),h):Q(e,m)}function ye(e){var t=ve(e);return t===h&&me(e.state),t}function be(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,h):m}function we(e,t,n,i,o,a){if(!e)return m;var s=1;if(t===y&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>k||n!==S||i<8||i>15||t<0||t>9||a<0||a>_)return Q(e,m);8===i&&(i=9);var u=new ge;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+D-1)/D),u.window=new r.Buf8(2*u.w_size),u.head=new r.Buf16(u.hash_size),u.prev=new r.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new r.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,ye(e)}function xe(e,t){return we(e,t,S,O,T,C)}function _e(e,t){var n,r,o,s;if(!e||!e.state||t>p||t<0)return e?Q(e,m):m;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===q&&t!==f)return Q(e,0===e.avail_out?v:m);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===B)if(2===r.wrap)e.adler=0,ie(r,31),ie(r,139),ie(r,8),r.gzhead?(ie(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ie(r,255&r.gzhead.time),ie(r,r.gzhead.time>>8&255),ie(r,r.gzhead.time>>16&255),ie(r,r.gzhead.time>>24&255),ie(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),ie(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ie(r,255&r.gzhead.extra.length),ie(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=a(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=U):(ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),ie(r,$),r.status=G);else{var g=S+(r.w_bits-8<<4)<<8,y=-1;g|=(y=r.strategy>=w||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(g|=z),g+=31-g%31,r.status=G,oe(r,g),0!==r.strstart&&(oe(r,e.adler>>>16),oe(r,65535&e.adler)),e.adler=1}if(r.status===U)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),ne(e),o=r.pending,r.pending!==r.pending_buf_size));)ie(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=W)}else r.status=W;if(r.status===W)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),ne(e),o=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ie(r,s)}while(0!==s);r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),0===s&&(r.gzindex=0,r.status=V)}else r.status=V;if(r.status===V)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),ne(e),o=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ie(r,s)}while(0!==s);r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),0===s&&(r.status=H)}else r.status=H;if(r.status===H&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ne(e),r.pending+2<=r.pending_buf_size&&(ie(r,255&e.adler),ie(r,e.adler>>8&255),e.adler=0,r.status=G)):r.status=G),0!==r.pending){if(ne(e),0===e.avail_out)return r.last_flush=-1,h}else if(0===e.avail_in&&ee(t)<=ee(n)&&t!==f)return Q(e,v);if(r.status===q&&0!==e.avail_in)return Q(e,v);if(0!==e.avail_in||0!==r.lookahead||t!==u&&r.status!==q){var b=r.strategy===w?he(r,t):r.strategy===x?pe(r,t):J[r.level].func(r,t);if(b!==Y&&b!==Z||(r.status=q),b===K||b===Y)return 0===e.avail_out&&(r.last_flush=-1),h;if(b===X&&(t===l?i._tr_align(r):t!==p&&(i._tr_stored_block(r,0,0,!1),t===c&&(te(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ne(e),0===e.avail_out))return r.last_flush=-1,h}return t!==f?h:r.wrap<=0?d:(2===r.wrap?(ie(r,255&e.adler),ie(r,e.adler>>8&255),ie(r,e.adler>>16&255),ie(r,e.adler>>24&255),ie(r,255&e.total_in),ie(r,e.total_in>>8&255),ie(r,e.total_in>>16&255),ie(r,e.total_in>>24&255)):(oe(r,e.adler>>>16),oe(r,65535&e.adler)),ne(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?h:d)}function Ce(e){var t;return e&&e.state?(t=e.state.status)!==B&&t!==U&&t!==W&&t!==V&&t!==H&&t!==G&&t!==q?Q(e,m):(e.state=null,t===G?Q(e,g):h):m}function Ee(e,t){var n=t.length,i,a,s,u,l,c,f,p;if(!e||!e.state)return m;if(2===(u=(i=e.state).wrap)||1===u&&i.status!==B||i.lookahead)return m;for(1===u&&(e.adler=o(e.adler,t,n,0)),i.wrap=0,n>=i.w_size&&(0===u&&(te(i.head),i.strstart=0,i.block_start=0,i.insert=0),p=new r.Buf8(i.w_size),r.arraySet(p,t,n-i.w_size,i.w_size,0),t=p,n=i.w_size),l=e.avail_in,c=e.next_in,f=e.input,e.avail_in=n,e.next_in=0,e.input=t,ue(i);i.lookahead>=D;){a=i.strstart,s=i.lookahead-(D-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[a+D-1])&i.hash_mask,i.prev[a&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=a,a++}while(--s);i.strstart=a,i.lookahead=D-1,ue(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=D-1,i.match_available=0,e.next_in=c,e.input=f,e.avail_in=l,i.wrap=u,h}J=[new de(0,0,0,0,le),new de(4,4,8,4,ce),new de(4,5,16,8,ce),new de(4,6,32,32,ce),new de(4,4,16,16,fe),new de(8,16,32,32,fe),new de(8,16,128,128,fe),new de(8,32,128,256,fe),new de(32,128,258,1024,fe),new de(32,258,258,4096,fe)],n.deflateInit=xe,n.deflateInit2=we,n.deflateReset=ye,n.deflateResetKeep=ve,n.deflateSetHeader=be,n.deflate=_e,n.deflateEnd=Ce,n.deflateSetDictionary=Ee,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":268,"./adler32":270,"./crc32":272,"./messages":278,"./trees":279}],274:[function(e,t,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},{}],275:[function(e,t,n){arguments[4][40][0].apply(n,arguments)},{dup:40}],276:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{"../utils/common":268,"./adler32":270,"./crc32":272,"./inffast":275,"./inftrees":277,dup:41}],277:[function(e,t,n){arguments[4][42][0].apply(n,arguments)},{"../utils/common":268,dup:42}],278:[function(e,t,n){arguments[4][43][0].apply(n,arguments)},{dup:43}],279:[function(e,t,n){"use strict";var r=e("../utils/common"),i=4,o=0,a=1,s=2;function u(e){for(var t=e.length;--t>=0;)e[t]=0}var l=0,c=1,f=2,p=3,h=258,d=29,m=256,g=m+1+d,v=30,y=19,b=2*g+1,w=15,x=16,_=7,C=256,E=16,S=17,k=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=512,R=new Array(2*(g+2));u(R);var P=new Array(2*v);u(P);var M=new Array(512);u(M);var j=new Array(256);u(j);var D=new Array(d);u(D);var L=new Array(v),F,z,B;function U(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function W(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function V(e){return e<256?M[e]:M[256+(e>>>7)]}function H(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function G(e,t,n){e.bi_valid>x-n?(e.bi_buf|=t<<e.bi_valid&65535,H(e,e.bi_buf),e.bi_buf=t>>x-e.bi_valid,e.bi_valid+=n-x):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function q(e,t,n){G(e,n[2*t],n[2*t+1])}function K(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function X(e){16===e.bi_valid?(H(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function Y(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,u=t.stat_desc.max_length,l,c,f,p,h,d,m=0;for(p=0;p<=w;p++)e.bl_count[p]=0;for(n[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<b;l++)(p=n[2*n[2*(c=e.heap[l])+1]+1]+1)>u&&(p=u,m++),n[2*c+1]=p,c>r||(e.bl_count[p]++,h=0,c>=s&&(h=a[c-s]),d=n[2*c],e.opt_len+=d*(p+h),o&&(e.static_len+=d*(i[2*c+1]+h)));if(0!==m){do{for(p=u-1;0===e.bl_count[p];)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[u]--,m-=2}while(m>0);for(p=u;0!==p;p--)for(c=e.bl_count[p];0!==c;)(f=e.heap[--l])>r||(n[2*f+1]!==p&&(e.opt_len+=(p-n[2*f+1])*n[2*f],n[2*f+1]=p),c--)}}function Z(e,t,n){var r=new Array(w+1),i=0,o,a;for(o=1;o<=w;o++)r[o]=i=i+n[o-1]<<1;for(a=0;a<=t;a++){var s=e[2*a+1];0!==s&&(e[2*a]=K(r[s]++,s))}}function $(){var e,t,n,r,i,o=new Array(w+1);for(n=0,r=0;r<d-1;r++)for(D[r]=n,e=0;e<1<<O[r];e++)j[n++]=r;for(j[n-1]=r,i=0,r=0;r<16;r++)for(L[r]=i,e=0;e<1<<T[r];e++)M[i++]=r;for(i>>=7;r<v;r++)for(L[r]=i<<7,e=0;e<1<<T[r]-7;e++)M[256+i++]=r;for(t=0;t<=w;t++)o[t]=0;for(e=0;e<=143;)R[2*e+1]=8,e++,o[8]++;for(;e<=255;)R[2*e+1]=9,e++,o[9]++;for(;e<=279;)R[2*e+1]=7,e++,o[7]++;for(;e<=287;)R[2*e+1]=8,e++,o[8]++;for(Z(R,g+1,o),e=0;e<v;e++)P[2*e+1]=5,P[2*e]=K(e,5);F=new U(R,O,m+1,g,w),z=new U(P,T,0,v,w),B=new U(new Array(0),N,0,y,_)}function J(e){var t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<v;t++)e.dyn_dtree[2*t]=0;for(t=0;t<y;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*C]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Q(e){e.bi_valid>8?H(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,n,i){Q(e),i&&(H(e,n),H(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function te(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function ne(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&te(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!te(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function re(e,t,n){var r,i,o=0,a,s;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===r?q(e,i,t):(q(e,(a=j[i])+m+1,t),0!==(s=O[a])&&G(e,i-=D[a],s),q(e,a=V(--r),n),0!==(s=T[a])&&G(e,r-=L[a],s))}while(o<e.last_lit);q(e,C,t)}function ie(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,a,s,u=-1,l;for(e.heap_len=0,e.heap_max=b,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)n[2*(l=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[2*l+1]);for(t.max_code=u,a=e.heap_len>>1;a>=1;a--)ne(e,n,a);l=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ne(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*l]=n[2*a]+n[2*s],e.depth[l]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=l,e.heap[1]=l++,ne(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Y(e,t),Z(n,u,e.bl_count)}function oe(e,t,n){var r,i=-1,o,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<u&&o===a||(s<l?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*E]++):s<=10?e.bl_tree[2*S]++:e.bl_tree[2*k]++,s=0,i=o,0===a?(u=138,l=3):o===a?(u=6,l=3):(u=7,l=4))}function ae(e,t,n){var r,i=-1,o,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<u&&o===a)){if(s<l)do{q(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(q(e,o,e.bl_tree),s--),q(e,E,e.bl_tree),G(e,s-3,2)):s<=10?(q(e,S,e.bl_tree),G(e,s-3,3)):(q(e,k,e.bl_tree),G(e,s-11,7));s=0,i=o,0===a?(u=138,l=3):o===a?(u=6,l=3):(u=7,l=4)}}function se(e){var t;for(oe(e,e.dyn_ltree,e.l_desc.max_code),oe(e,e.dyn_dtree,e.d_desc.max_code),ie(e,e.bl_desc),t=y-1;t>=3&&0===e.bl_tree[2*A[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function ue(e,t,n,r){var i;for(G(e,t-257,5),G(e,n-1,5),G(e,r-4,4),i=0;i<r;i++)G(e,e.bl_tree[2*A[i]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,n-1)}function le(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(n=32;n<m;n++)if(0!==e.dyn_ltree[2*n])return a;return o}u(L);var ce=!1;function fe(e){ce||($(),ce=!0),e.l_desc=new W(e.dyn_ltree,F),e.d_desc=new W(e.dyn_dtree,z),e.bl_desc=new W(e.bl_tree,B),e.bi_buf=0,e.bi_valid=0,J(e)}function pe(e,t,n,r){G(e,(l<<1)+(r?1:0),3),ee(e,t,n,!0)}function he(e){G(e,c<<1,3),q(e,C,R),X(e)}function de(e,t,n,r){var o,a,u=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=le(e)),ie(e,e.l_desc),ie(e,e.d_desc),u=se(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==t?pe(e,t,n,r):e.strategy===i||a===o?(G(e,(c<<1)+(r?1:0),3),re(e,R,P)):(G(e,(f<<1)+(r?1:0),3),ue(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),re(e,e.dyn_ltree,e.dyn_dtree)),J(e),r&&Q(e)}function me(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(j[n]+m+1)]++,e.dyn_dtree[2*V(t)]++),e.last_lit===e.lit_bufsize-1}n._tr_init=fe,n._tr_stored_block=pe,n._tr_flush_block=de,n._tr_tally=me,n._tr_align=he},{"../utils/common":268}],280:[function(e,t,n){arguments[4][45][0].apply(n,arguments)},{dup:45}],281:[function(e,t,n){function r(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var n=e.indexOf(" ");if(-1===n)throw new Error("no named row at line "+t);var r=e.substring(0,n);e=(e=(e=(e=e.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var o=[],a=0;a<e.length;a++){var s=e[a];0===a?o.push({key:s[0],data:""}):a===e.length-1?o[o.length-1].data=i(s[0]):(o[o.length-1].data=i(s[0]),o.push({key:s[1],data:""}))}var u={key:r,data:{}};return o.forEach(function(e){u.data[e.key]=e.data}),u}function i(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?o(e):parseInt(e,10):""}function o(e){return e.split(",").map(function(e){return parseInt(e,10)})}t.exports=function e(t){if(!t)throw new Error("no data provided");var n={pages:[],chars:[],kernings:[]},i=(t=t.toString().trim()).split(/\r\n?|\n/g);if(0===i.length)throw new Error("no data in BMFont file");for(var o=0;o<i.length;o++){var a=r(i[o],o);if(a)if("page"===a.key){if("number"!=typeof a.data.id)throw new Error("malformed file at line "+o+" -- needs page id=N");if("string"!=typeof a.data.file)throw new Error("malformed file at line "+o+' -- needs page file="path"');n.pages[a.data.id]=a.data.file}else"chars"===a.key||"kernings"===a.key||("char"===a.key?n.chars.push(a.data):"kerning"===a.key?n.kernings.push(a.data):n[a.key]=a.data)}return n}},{}],282:[function(e,t,n){var r=[66,77,70];function i(e,t,n){if(n>t.length-1)return 0;var r=t.readUInt8(n++),i=t.readInt32LE(n);switch(n+=4,r){case 1:e.info=o(t,n);break;case 2:e.common=a(t,n);break;case 3:e.pages=s(t,n,i);break;case 4:e.chars=u(t,n,i);break;case 5:e.kernings=l(t,n,i)}return 5+i}function o(e,t){var n={};n.size=e.readInt16LE(t);var r=e.readUInt8(t+2);return n.smooth=r>>7&1,n.unicode=r>>6&1,n.italic=r>>5&1,n.bold=r>>4&1,r>>3&1&&(n.fixedHeight=1),n.charset=e.readUInt8(t+3)||"",n.stretchH=e.readUInt16LE(t+4),n.aa=e.readUInt8(t+6),n.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],n.spacing=[e.readInt8(t+11),e.readInt8(t+12)],n.outline=e.readUInt8(t+13),n.face=f(e,t+14),n}function a(e,t){var n={};n.lineHeight=e.readUInt16LE(t),n.base=e.readUInt16LE(t+2),n.scaleW=e.readUInt16LE(t+4),n.scaleH=e.readUInt16LE(t+6),n.pages=e.readUInt16LE(t+8);var r=e.readUInt8(t+10);return n.packed=0,n.alphaChnl=e.readUInt8(t+11),n.redChnl=e.readUInt8(t+12),n.greenChnl=e.readUInt8(t+13),n.blueChnl=e.readUInt8(t+14),n}function s(e,t,n){for(var r=[],i=c(e,t),o=i.length+1,a=n/o,s=0;s<a;s++)r[s]=e.slice(t,t+i.length).toString("utf8"),t+=o;return r}function u(e,t,n){for(var r=[],i=n/20,o=0;o<i;o++){var a={},s=20*o;a.id=e.readUInt32LE(t+0+s),a.x=e.readUInt16LE(t+4+s),a.y=e.readUInt16LE(t+6+s),a.width=e.readUInt16LE(t+8+s),a.height=e.readUInt16LE(t+10+s),a.xoffset=e.readInt16LE(t+12+s),a.yoffset=e.readInt16LE(t+14+s),a.xadvance=e.readInt16LE(t+16+s),a.page=e.readUInt8(t+18+s),a.chnl=e.readUInt8(t+19+s),r[o]=a}return r}function l(e,t,n){for(var r=[],i=n/10,o=0;o<i;o++){var a={},s=10*o;a.first=e.readUInt32LE(t+0+s),a.second=e.readUInt32LE(t+4+s),a.amount=e.readInt16LE(t+8+s),r[o]=a}return r}function c(e,t){for(var n=t;n<e.length&&0!==e[n];n++);return e.slice(t,n)}function f(e,t){return c(e,t).toString("utf8")}t.exports=function e(t){if(t.length<6)throw new Error("invalid buffer length for BMFont");var n;if(!r.every(function(e,n){return t.readUInt8(n)===e}))throw new Error("BMFont missing BMF byte header");var o=3,a;if(t.readUInt8(o++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var s={kernings:[],chars:[]},u=0;u<5;u++)o+=i(s,t,o);return s}},{}],283:[function(e,t,n){var r=e("./parse-attribs"),i=e("xml-parse-from-string"),o={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function a(e){var t;return s(e).reduce(function(e,t){var n;return e[u(t.nodeName)]=t.nodeValue,e},{})}function s(e){for(var t=[],n=0;n<e.attributes.length;n++)t.push(e.attributes[n]);return t}function u(e){return o[e.toLowerCase()]||e}t.exports=function e(t){t=t.toString();var n=i(t),o={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(e){var t=n.getElementsByTagName(e)[0];t&&(o[e]=r(a(t)))});var s=n.getElementsByTagName("pages")[0];if(!s)throw new Error("malformed file -- no <pages> element");for(var u=s.getElementsByTagName("page"),l=0;l<u.length;l++){var c=u[l],f=parseInt(c.getAttribute("id"),10),p=c.getAttribute("file");if(isNaN(f))throw new Error('malformed file -- page "id" attribute is NaN');if(!p)throw new Error('malformed file -- needs page "file" attribute');o.pages[parseInt(f,10)]=p}return["chars","kernings"].forEach(function(e){var t=n.getElementsByTagName(e)[0];if(t)for(var i=e.substring(0,e.length-1),s=t.getElementsByTagName(i),u=0;u<s.length;u++){var l=s[u];o[e].push(r(a(l)))}}),o}},{"./parse-attribs":284,"xml-parse-from-string":367}],284:[function(e,t,n){var r="chasrset";function i(e){return e.split(",").map(function(e){return parseInt(e,10)})}t.exports=function e(t){for(var n in"chasrset"in t&&(t.charset=t.chasrset,delete t.chasrset),t)"face"!==n&&"charset"!==n&&(t[n]="padding"===n||"spacing"===n?i(t[n]):parseInt(t[n],10));return t}},{}],285:[function(e,t,n){var r=e("trim"),i=e("for-each"),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return i(r(e).split("\n"),function(e){var n=e.indexOf(":"),i=r(e.slice(0,n)).toLowerCase(),a=r(e.slice(n+1));void 0===t[i]?t[i]=a:o(t[i])?t[i].push(a):t[i]=[t[i],a]}),t}},{"for-each":250,trim:358}],286:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t=0,n=-1,r=!0,i;for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!r){t=i+1;break}}else-1===n&&(r=!1,n=i+1);return-1===n?"":e.slice(t,n)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=t(i(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),a="/"===o(e,-1);return(e=t(i(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var l=[],u=s;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:312}],287:[function(e,t,n){(function(n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("http"),o=e("https"),a=e("url"),s=e("querystring"),u=e("zlib"),l=e("util"),c=function e(t,l){if("string"!=typeof t&&!t.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var c="object"===(void 0===t?"undefined":r(t))?a.parse(t.url):a.parse(t),f={hostname:c.hostname,port:c.port||("http:"===c.protocol.toLowerCase()?80:443),path:c.path,method:"GET",headers:{},auth:c.auth||null,parse:"none",stream:!1};if("object"===(void 0===t?"undefined":r(t))&&(f=Object.assign(f,t)),f.port=Number(f.port),f.hasOwnProperty("timeout")&&delete f.timeout,!0===f.compressed&&(f.headers["accept-encoding"]="gzip, deflate"),t.hasOwnProperty("form")){if("object"!==r(t.form))throw new Error("phin 'form' option must be of type Object if present.");var p=s.stringify(t.form);f.headers["Content-Type"]="application/x-www-form-urlencoded",f.headers["Content-Length"]=n.byteLength(p),t.data=p}var h=void 0,d=function e(t){var r=t;!0===f.compressed&&("gzip"===t.headers["content-encoding"]?r=t.pipe(u.createGunzip()):"deflate"===t.headers["content-encoding"]&&(r=t.pipe(u.createInflate()))),!0===f.stream?(t.stream=r,l(null,t)):(t.body=new n([]),r.on("data",function(e){t.body=n.concat([t.body,e])}),r.on("end",function(){if(l){if("json"===f.parse)try{t.body=JSON.parse(t.body.toString())}catch(e){return void l("Invalid JSON received.",t)}l(null,t)}}))};switch(c.protocol.toLowerCase()){case"http:":h=i.request(f,d);break;case"https:":h=o.request(f,d);break;default:return void(l&&l(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null))}if("number"==typeof t.timeout&&h.setTimeout(t.timeout,function(){h.abort(),l(new Error("Timeout has been reached."),null),l=null}),h.on("error",function(e){l&&l(e,null)}),t.hasOwnProperty("data")){var m=t.data,g;if(!(t.data instanceof n)&&"object"===r(t.data))if("application/x-www-form-urlencoded"===(f.headers["content-type"]||f.headers["Content-Type"]))m=s.stringify(t.data);else try{m=JSON.stringify(t.data)}catch(e){l(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}h.write(m)}h.end()};c.promisified=function(e,t){return new Promise(function(n,r){c(e,function(e,t){e?r(e):n(t)},t)})},l.promisify&&(c[l.promisify.custom]=c.promisified),t.exports=c}).call(this,e("buffer").Buffer)},{buffer:47,http:335,https:252,querystring:316,url:359,util:365,zlib:34}],288:[function(e,t,n){"use strict";function r(e,t,n,r,a,s){s||(s={});for(var u=void 0===s.threshold?.1:s.threshold,p=35215*u*u,h=0,d=0;d<a;d++)for(var m=0;m<r;m++){var g=4*(d*r+m),v;if(o(e,t,g,g)>p)s.includeAA||!i(e,m,d,r,a,t)&&!i(t,m,d,r,a,e)?(n&&c(n,g,255,0,0),h++):n&&c(n,g,255,255,0);else if(n){var y=l(f(e,g),.1);c(n,g,y,y,y)}}return h}function i(e,t,n,r,a,s){for(var u=Math.max(t-1,0),l=Math.max(n-1,0),c=Math.min(t+1,r-1),f=Math.min(n+1,a-1),p=4*(n*r+t),h=0,d=0,m=0,g=0,v=0,y,b,w,x,_=u;_<=c;_++)for(var C=l;C<=f;C++)if(_!==t||C!==n){var E=o(e,e,p,4*(C*r+_),!0);if(0===E?h++:E<0?m++:E>0&&d++,h>2)return!1;s&&(E<g&&(g=E,y=_,b=C),E>v&&(v=E,w=_,x=C))}return!s||0!==m&&0!==d&&(!i(e,y,b,r,a)&&!i(s,y,b,r,a)||!i(e,w,x,r,a)&&!i(s,w,x,r,a))}function o(e,t,n,r,i){var o=e[n+3]/255,c=t[r+3]/255,f=l(e[n+0],o),p=l(e[n+1],o),h=l(e[n+2],o),d=l(t[r+0],c),m=l(t[r+1],c),g=l(t[r+2],c),v=a(f,p,h)-a(d,m,g);if(i)return v;var y=s(f,p,h)-s(d,m,g),b=u(f,p,h)-u(d,m,g);return.5053*v*v+.299*y*y+.1957*b*b}function a(e,t,n){return.29889531*e+.58662247*t+.11448223*n}function s(e,t,n){return.59597799*e-.2741761*t-.32180189*n}function u(e,t,n){return.21147017*e-.52261711*t+.31114694*n}function l(e,t){return 255+(e-255)*t}function c(e,t,n,r,i){e[t+0]=n,e[t+1]=r,e[t+2]=i,e[t+3]=255}function f(e,t){var n=e[t+3]/255,r,i,o;return a(l(e[t+0],n),l(e[t+1],n),l(e[t+2],n))}t.exports=r},{}],289:[function(e,t,n){(function(t){"use strict";var r=e("./interlace"),i={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function o(e,t){var n=[],r=0;function i(){if(r===e.length)throw new Error("Ran out of data");var i=e[r],o,a,s,u,l,c,f,p;switch(r++,t){default:throw new Error("unrecognised depth");case 16:f=e[r],r++,n.push((i<<8)+f);break;case 4:f=15&i,p=i>>4,n.push(p,f);break;case 2:l=3&i,c=i>>2&3,f=i>>4&3,p=i>>6&3,n.push(p,f,c,l);break;case 1:o=1&i,a=i>>1&1,s=i>>2&1,u=i>>3&1,l=i>>4&1,c=i>>5&1,f=i>>6&1,p=i>>7&1,n.push(p,f,c,l,u,s,a,o)}}return{get:function(e){for(;n.length<e;)i();var t=n.slice(0,e);return n=n.slice(e),t},resetAfterLine:function(){n.length=0},end:function(){if(r!==e.length)throw new Error("extra data found")}}}function a(e,t,n,r,o,a){for(var s=e.width,u=e.height,l=e.index,c=0;c<u;c++)for(var f=0;f<s;f++){for(var p=n(f,c,l),h=0;h<4;h++){var d=i[r][h];if(255===d)t[p+h]=255;else{var m=d+a;if(m===o.length)throw new Error("Ran out of data");t[p+h]=o[m]}}a+=r}return a}function s(e,t,n,r,o,a){for(var s=e.width,u=e.height,l=e.index,c=0;c<u;c++){for(var f=0;f<s;f++)for(var p=o.get(r),h=n(f,c,l),d=0;d<4;d++){var m=i[r][d];t[h+d]=255!==m?p[m]:a}o.resetAfterLine()}}n.dataToBitMap=function(e,n){var i=n.width,u=n.height,l=n.depth,c=n.bpp,f=n.interlace,p;if(8!==l)var h=o(e,l);p=l<=8?new t(i*u*4):new Uint16Array(i*u*4);var d=Math.pow(2,l)-1,m=0,g,v;if(f)g=r.getImagePasses(i,u),v=r.getInterlaceIterator(i,u);else{var y=0;v=function(){var e=y;return y+=4,e},g=[{width:i,height:u}]}for(var b=0;b<g.length;b++)8===l?m=a(g[b],p,v,c,e,m):s(g[b],p,v,c,h,d);if(8===l){if(m!==e.length)throw new Error("extra data found")}else h.end();return p}}).call(this,e("buffer").Buffer)},{"./interlace":299,buffer:47}],290:[function(e,t,n){(function(n){"use strict";var r=e("./constants");t.exports=function(e,t,i,o){var a=-1!==[r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(o.colorType),s;if(o.colorType===o.inputColorType){var u=(s=new ArrayBuffer(2),new DataView(s).setInt16(0,256,!0),256!==new Int16Array(s)[0]);if(8===o.bitDepth||16===o.bitDepth&&u)return e}var l=16!==o.bitDepth?e:new Uint16Array(e.buffer),c=255,f=r.COLORTYPE_TO_BPP_MAP[o.inputColorType];4!=f||o.inputHasAlpha||(f=3);var p=r.COLORTYPE_TO_BPP_MAP[o.colorType];16===o.bitDepth&&(c=65535,p*=2);var h=new n(t*i*p),d=0,m=0,g=o.bgColor||{};function v(e,t){var n,i,s,u=c;switch(o.inputColorType){case r.COLORTYPE_COLOR_ALPHA:u=e[t+3],n=e[t],i=e[t+1],s=e[t+2];break;case r.COLORTYPE_COLOR:n=e[t],i=e[t+1],s=e[t+2];break;case r.COLORTYPE_ALPHA:u=e[t+1],i=n=e[t],s=n;break;case r.COLORTYPE_GRAYSCALE:i=n=e[t],s=n;break;default:throw new Error("input color type:"+o.inputColorType+" is not supported at present")}return o.inputHasAlpha&&(a||(u/=c,n=Math.min(Math.max(Math.round((1-u)*g.red+u*n),0),c),i=Math.min(Math.max(Math.round((1-u)*g.green+u*i),0),c),s=Math.min(Math.max(Math.round((1-u)*g.blue+u*s),0),c))),{red:n,green:i,blue:s,alpha:u}}void 0===g.red&&(g.red=c),void 0===g.green&&(g.green=c),void 0===g.blue&&(g.blue=c);for(var y=0;y<i;y++)for(var b=0;b<t;b++){var w=v(l,d);switch(o.colorType){case r.COLORTYPE_COLOR_ALPHA:case r.COLORTYPE_COLOR:8===o.bitDepth?(h[m]=w.red,h[m+1]=w.green,h[m+2]=w.blue,a&&(h[m+3]=w.alpha)):(h.writeUInt16BE(w.red,m),h.writeUInt16BE(w.green,m+2),h.writeUInt16BE(w.blue,m+4),a&&h.writeUInt16BE(w.alpha,m+6));break;case r.COLORTYPE_ALPHA:case r.COLORTYPE_GRAYSCALE:var x=(w.red+w.green+w.blue)/3;8===o.bitDepth?(h[m]=x,a&&(h[m+1]=w.alpha)):(h.writeUInt16BE(x,m),a&&h.writeUInt16BE(w.alpha,m+2))}d+=f,m+=p}return h}}).call(this,e("buffer").Buffer)},{"./constants":292,buffer:47}],291:[function(e,t,n){(function(n,r){"use strict";var i=e("util"),o=e("stream"),a=t.exports=function(){o.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};i.inherits(a,o),a.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),n.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},a.prototype.write=function(e,t){return this.writable?(n=r.isBuffer(e)?e:new r(e,t||this._encoding),this._buffers.push(n),this._buffered+=n.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",new Error("Stream not writable")),!1);var n},a.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},a.prototype.destroySoon=a.prototype.end,a.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},a.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},a.prototype._processReadAllowingLess=function(e){this._reads.shift();var t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))},a.prototype._processRead=function(e){this._reads.shift();for(var t=0,n=0,i=new r(e.length);t<e.length;){var o=this._buffers[n++],a=Math.min(o.length,e.length-t);o.copy(i,t,0,a),t+=a,a!==o.length&&(this._buffers[--n]=o.slice(a))}n>0&&this._buffers.splice(0,n),this._buffered-=e.length,e.func.call(this,i)},a.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else{if(!(this._buffered>=e.length))break;this._processRead(e)}}this._buffers&&this._buffers.length>0&&null===this._buffers[0]&&this._end()}catch(e){this.emit("error",e)}}}).call(this,e("_process"),e("buffer").Buffer)},{_process:312,buffer:47,stream:334,util:365}],292:[function(e,t,n){"use strict";t.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],293:[function(e,t,n){"use strict";var r=[];!function(){for(var e=0;e<256;e++){for(var t=e,n=0;n<8;n++)1&t?t=3988292384^t>>>1:t>>>=1;r[e]=t}}();var i=t.exports=function(){this._crc=-1};i.prototype.write=function(e){for(var t=0;t<e.length;t++)this._crc=r[255&(this._crc^e[t])]^this._crc>>>8;return!0},i.prototype.crc32=function(){return-1^this._crc},i.crc32=function(e){for(var t=-1,n=0;n<e.length;n++)t=r[255&(t^e[n])]^t>>>8;return-1^t}},{}],294:[function(e,t,n){(function(n){"use strict";var r=e("./paeth-predictor");function i(e,t,n,r,i){for(var o=0;o<n;o++)r[i+o]=e[t+o]}function o(e,t,n){for(var r=0,i=t+n,o=t;o<i;o++)r+=Math.abs(e[o]);return r}function a(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=a>=o?e[t+a-o]:0,u=e[t+a]-s;r[i+a]=u}}function s(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=o>=r?e[t+o-r]:0,s=e[t+o]-a;i+=Math.abs(s)}return i}function u(e,t,n,r,i){for(var o=0;o<n;o++){var a=t>0?e[t+o-n]:0,s=e[t+o]-a;r[i+o]=s}}function l(e,t,n){for(var r=0,i=t+n,o=t;o<i;o++){var a=t>0?e[o-n]:0,s=e[o]-a;r+=Math.abs(s)}return r}function c(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=a>=o?e[t+a-o]:0,u=t>0?e[t+a-n]:0,l=e[t+a]-(s+u>>1);r[i+a]=l}}function f(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=o>=r?e[t+o-r]:0,s=t>0?e[t+o-n]:0,u=e[t+o]-(a+s>>1);i+=Math.abs(u)}return i}function p(e,t,n,i,o,a){for(var s=0;s<n;s++){var u=s>=a?e[t+s-a]:0,l=t>0?e[t+s-n]:0,c=t>0&&s>=a?e[t+s-(n+a)]:0,f=e[t+s]-r(u,l,c);i[o+s]=f}}function h(e,t,n,i){for(var o=0,a=0;a<n;a++){var s=a>=i?e[t+a-i]:0,u=t>0?e[t+a-n]:0,l=t>0&&a>=i?e[t+a-(n+i)]:0,c=e[t+a]-r(s,u,l);o+=Math.abs(c)}return o}var d={0:i,1:a,2:u,3:c,4:p},m={0:o,1:s,2:l,3:f,4:h};t.exports=function(e,t,r,i,o){var a;if("filterType"in i&&-1!==i.filterType){if("number"!=typeof i.filterType)throw new Error("unrecognised filter types");a=[i.filterType]}else a=[0,1,2,3,4];16===i.bitDepth&&(o*=2);for(var s=t*o,u=0,l=0,c=new n((s+1)*r),f=a[0],p=0;p<r;p++){if(a.length>1)for(var h=1/0,g=0;g<a.length;g++){var v=m[a[g]](e,l,s,o);v<h&&(f=a[g],h=v)}c[u]=f,u++,d[f](e,l,s,c,u,o),u+=s,l+=s}return c}}).call(this,e("buffer").Buffer)},{"./paeth-predictor":303,buffer:47}],295:[function(e,t,n){(function(n){"use strict";var r=e("util"),i=e("./chunkstream"),o=e("./filter-parse"),a=t.exports=function(e){i.call(this);var t=[],r=this;this._filter=new o(e,{read:this.read.bind(this),write:function(e){t.push(e)},complete:function(){r.emit("complete",n.concat(t))}}),this._filter.start()};r.inherits(a,i)}).call(this,e("buffer").Buffer)},{"./chunkstream":291,"./filter-parse":297,buffer:47,util:365}],296:[function(e,t,n){(function(t){"use strict";var r=e("./sync-reader"),i=e("./filter-parse");n.process=function(e,n){var o=[],a=new r(e),s;return new i(n,{read:a.read.bind(a),write:function(e){o.push(e)},complete:function(){}}).start(),a.process(),t.concat(o)}}).call(this,e("buffer").Buffer)},{"./filter-parse":297,"./sync-reader":310,buffer:47}],297:[function(e,t,n){(function(n){"use strict";var r=e("./interlace"),i=e("./paeth-predictor");function o(e,t,n){var r=e*t;return 8!==n&&(r=Math.ceil(r/(8/n))),r}var a=t.exports=function(e,t){var n=e.width,i=e.height,a=e.interlace,s=e.bpp,u=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],a)for(var l=r.getImagePasses(n,i),c=0;c<l.length;c++)this._images.push({byteWidth:o(l[c].width,s,u),height:l[c].height,lineIndex:0});else this._images.push({byteWidth:o(n,s,u),height:i,lineIndex:0});this._xComparison=8===u?s:16===u?2*s:1};a.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},a.prototype._unFilterType1=function(e,t,n){for(var r=this._xComparison,i=r-1,o=0;o<n;o++){var a=e[1+o],s=o>i?t[o-r]:0;t[o]=a+s}},a.prototype._unFilterType2=function(e,t,n){for(var r=this._lastLine,i=0;i<n;i++){var o=e[1+i],a=r?r[i]:0;t[i]=o+a}},a.prototype._unFilterType3=function(e,t,n){for(var r=this._xComparison,i=r-1,o=this._lastLine,a=0;a<n;a++){var s=e[1+a],u=o?o[a]:0,l=a>i?t[a-r]:0,c=Math.floor((l+u)/2);t[a]=s+c}},a.prototype._unFilterType4=function(e,t,n){for(var r=this._xComparison,o=r-1,a=this._lastLine,s=0;s<n;s++){var u=e[1+s],l=a?a[s]:0,c=s>o?t[s-r]:0,f=s>o&&a?a[s-r]:0,p=i(c,l,f);t[s]=u+p}},a.prototype._reverseFilterLine=function(e){var t=e[0],r,i=this._images[this._imageIndex],o=i.byteWidth;if(0===t)r=e.slice(1,o+1);else switch(r=new n(o),t){case 1:this._unFilterType1(e,r,o);break;case 2:this._unFilterType2(e,r,o);break;case 3:this._unFilterType3(e,r,o);break;case 4:this._unFilterType4(e,r,o);break;default:throw new Error("Unrecognised filter type - "+t)}this.write(r),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=r,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,e("buffer").Buffer)},{"./interlace":299,"./paeth-predictor":303,buffer:47}],298:[function(e,t,n){(function(e){"use strict";function n(e,t,n,r,i){for(var o=0,a=0;a<r;a++)for(var s=0;s<n;s++){var u=i[e[o]];if(!u)throw new Error("index "+e[o]+" not in palette");for(var l=0;l<4;l++)t[o+l]=u[l];o+=4}}function r(e,t,n,r,i){for(var o=0,a=0;a<r;a++)for(var s=0;s<n;s++){var u=!1;if(1===i.length?i[0]===e[o]&&(u=!0):i[0]===e[o]&&i[1]===e[o+1]&&i[2]===e[o+2]&&(u=!0),u)for(var l=0;l<4;l++)t[o+l]=0;o+=4}}function i(e,t,n,r,i){for(var o=255,a=Math.pow(2,i)-1,s=0,u=0;u<r;u++)for(var l=0;l<n;l++){for(var c=0;c<4;c++)t[s+c]=Math.floor(255*e[s+c]/a+.5);s+=4}}t.exports=function(t,o){var a=o.depth,s=o.width,u=o.height,l=o.colorType,c=o.transColor,f=o.palette,p=t;return 3===l?n(t,p,s,u,f):(c&&r(t,p,s,u,c),8!==a&&(16===a&&(p=new e(s*u*4)),i(t,p,s,u,a))),p}}).call(this,e("buffer").Buffer)},{buffer:47}],299:[function(e,t,n){"use strict";var r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];n.getImagePasses=function(e,t){for(var n=[],i=e%8,o=t%8,a=(e-i)/8,s=(t-o)/8,u=0;u<r.length;u++){for(var l=r[u],c=a*l.x.length,f=s*l.y.length,p=0;p<l.x.length&&l.x[p]<i;p++)c++;for(p=0;p<l.y.length&&l.y[p]<o;p++)f++;c>0&&f>0&&n.push({width:c,height:f,index:u})}return n},n.getInterlaceIterator=function(e){return function(t,n,i){var o=t%r[i].x.length,a=(t-o)/r[i].x.length*8+r[i].x[o],s=n%r[i].y.length,u;return 4*a+((n-s)/r[i].y.length*8+r[i].y[s])*e*4}}},{}],300:[function(e,t,n){(function(n){"use strict";var r=e("util"),i=e("stream"),o=e("./constants"),a=e("./packer"),s=t.exports=function(e){i.call(this);var t=e||{};this._packer=new a(t),this._deflate=this._packer.createDeflate(),this.readable=!0};r.inherits(s,i),s.prototype.pack=function(e,t,r,i){this.emit("data",new n(o.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,r)),i&&this.emit("data",this._packer.packGAMA(i));var a=this._packer.filterData(e,t,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(e){this.emit("data",this._packer.packIDAT(e))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(a)}}).call(this,e("buffer").Buffer)},{"./constants":292,"./packer":302,buffer:47,stream:334,util:365}],301:[function(e,t,n){(function(n){"use strict";var r=!0,i=e("zlib");i.deflateSync||(r=!1);var o=e("./constants"),a=e("./packer");t.exports=function(e,t){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var s,u=new a(t||{}),l=[];l.push(new n(o.PNG_SIGNATURE)),l.push(u.packIHDR(e.width,e.height)),e.gamma&&l.push(u.packGAMA(e.gamma));var c=u.filterData(e.data,e.width,e.height),f=i.deflateSync(c,u.getDeflateOptions());if(c=null,!f||!f.length)throw new Error("bad png - invalid compressed data response");return l.push(u.packIDAT(f)),l.push(u.packIEND()),n.concat(l)}}).call(this,e("buffer").Buffer)},{"./constants":292,"./packer":302,buffer:47,zlib:34}],302:[function(e,t,n){(function(n){"use strict";var r=e("./constants"),i=e("./crc"),o=e("./bitpacker"),a=e("./filter-pack"),s=e("zlib"),u=t.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=null!=e.deflateLevel?e.deflateLevel:9,e.deflateStrategy=null!=e.deflateStrategy?e.deflateStrategy:3,e.inputHasAlpha=null==e.inputHasAlpha||e.inputHasAlpha,e.deflateFactory=e.deflateFactory||s.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType="number"==typeof e.colorType?e.colorType:r.COLORTYPE_COLOR_ALPHA,e.inputColorType="number"==typeof e.inputColorType?e.inputColorType:r.COLORTYPE_COLOR_ALPHA,-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(e.colorType))throw new Error("option color type:"+e.colorType+" is not supported at present");if(-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(e.inputColorType))throw new Error("option input color type:"+e.inputColorType+" is not supported at present");if(8!==e.bitDepth&&16!==e.bitDepth)throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")};u.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},u.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},u.prototype.filterData=function(e,t,n){var i=o(e,t,n,this._options),s=r.COLORTYPE_TO_BPP_MAP[this._options.colorType],u;return a(i,t,n,this._options,s)},u.prototype._packChunk=function(e,t){var r=t?t.length:0,o=new n(r+12);return o.writeUInt32BE(r,0),o.writeUInt32BE(e,4),t&&t.copy(o,8),o.writeInt32BE(i.crc32(o.slice(4,o.length-4)),o.length-4),o},u.prototype.packGAMA=function(e){var t=new n(4);return t.writeUInt32BE(Math.floor(e*r.GAMMA_DIVISION),0),this._packChunk(r.TYPE_gAMA,t)},u.prototype.packIHDR=function(e,t){var i=new n(13);return i.writeUInt32BE(e,0),i.writeUInt32BE(t,4),i[8]=this._options.bitDepth,i[9]=this._options.colorType,i[10]=0,i[11]=0,i[12]=0,this._packChunk(r.TYPE_IHDR,i)},u.prototype.packIDAT=function(e){return this._packChunk(r.TYPE_IDAT,e)},u.prototype.packIEND=function(){return this._packChunk(r.TYPE_IEND,null)}}).call(this,e("buffer").Buffer)},{"./bitpacker":290,"./constants":292,"./crc":293,"./filter-pack":294,buffer:47,zlib:34}],303:[function(e,t,n){"use strict";t.exports=function e(t,n,r){var i=t+n-r,o=Math.abs(i-t),a=Math.abs(i-n),s=Math.abs(i-r);return o<=a&&o<=s?t:a<=s?n:r}},{}],304:[function(e,t,n){"use strict";var r=e("util"),i=e("zlib"),o=e("./chunkstream"),a=e("./filter-parse-async"),s=e("./parser"),u=e("./bitmapper"),l=e("./format-normaliser"),c=t.exports=function(e){o.call(this),this._parser=new s(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};r.inherits(c,o),c.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},c.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var t,n=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,r=Math.max(n,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:r});var o=n,a=this.emit.bind(this,"error");this._inflate.on("error",function(e){o&&a(e)}),this._filter.on("complete",this._complete.bind(this));var s=this._filter.write.bind(this._filter);this._inflate.on("data",function(e){o&&(e.length>o&&(e=e.slice(0,o)),o-=e.length,s(e))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},c.prototype._handleMetaData=function(e){this.emit("metadata",e),this._bitmapInfo=Object.create(e),this._filter=new a(this._bitmapInfo)},c.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},c.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},c.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},c.prototype._complete=function(e){if(!this.errord){try{var t=u.dataToBitMap(e,this._bitmapInfo),n=l(t,this._bitmapInfo);t=null}catch(e){return void this._handleError(e)}this.emit("parsed",n)}}},{"./bitmapper":289,"./chunkstream":291,"./filter-parse-async":295,"./format-normaliser":298,"./parser":306,util:365,zlib:34}],305:[function(e,t,n){(function(n){"use strict";var r=!0,i=e("zlib"),o=e("./sync-inflate");i.deflateSync||(r=!1);var a=e("./sync-reader"),s=e("./filter-parse-sync"),u=e("./parser"),l=e("./bitmapper"),c=e("./format-normaliser");t.exports=function(e,t){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var f,p,h;function d(e){f=e}function m(e){p=e}function g(e){p.transColor=e}function v(e){p.palette=e}function y(e){h=e}var b=[];function w(e){b.push(e)}var x=new a(e),_;if(new u(t,{read:x.read.bind(x),error:d,metadata:m,gamma:y,palette:v,transColor:g,inflateData:w}).start(),x.process(),f)throw f;var C=n.concat(b),E;if(b.length=0,p.interlace)E=i.inflateSync(C);else{var S,k=(1+(p.width*p.bpp*p.depth+7>>3))*p.height;E=o(C,{chunkSize:k,maxLength:k})}if(C=null,!E||!E.length)throw new Error("bad png - invalid inflate data response");var O=s.process(E,p);C=null;var T=l.dataToBitMap(O,p);O=null;var N=c(T,p);return p.data=N,p.gamma=h||0,p}}).call(this,e("buffer").Buffer)},{"./bitmapper":289,"./filter-parse-sync":296,"./format-normaliser":298,"./parser":306,"./sync-inflate":309,"./sync-reader":310,buffer:47,zlib:34}],306:[function(e,t,n){(function(n){"use strict";var r=e("./constants"),i=e("./crc"),o=t.exports=function(e,t){this._options=e,e.checkCRC=!1!==e.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[r.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[r.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[r.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[r.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[r.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[r.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished};o.prototype.start=function(){this.read(r.PNG_SIGNATURE.length,this._parseSignature.bind(this))},o.prototype._parseSignature=function(e){for(var t=r.PNG_SIGNATURE,n=0;n<t.length;n++)if(e[n]!==t[n])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},o.prototype._parseChunkBegin=function(e){for(var t=e.readUInt32BE(0),o=e.readUInt32BE(4),a="",s=4;s<8;s++)a+=String.fromCharCode(e[s]);var u=Boolean(32&e[4]);if(this._hasIHDR||o===r.TYPE_IHDR){if(this._crc=new i,this._crc.write(new n(a)),this._chunks[o])return this._chunks[o](t);u?this.read(t+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+a))}else this.error(new Error("Expected IHDR on beggining"))},o.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},o.prototype._parseChunkEnd=function(e){var t=e.readInt32BE(0),n=this._crc.crc32();this._options.checkCRC&&n!==t?this.error(new Error("Crc error - "+t+" - "+n)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))},o.prototype._parseIHDR=function(e){this._crc.write(e);var t=e.readUInt32BE(0),n=e.readUInt32BE(4),i=e[8],o=e[9],a=e[10],s=e[11],u=e[12];if(8===i||4===i||2===i||1===i||16===i)if(o in r.COLORTYPE_TO_BPP_MAP)if(0===a)if(0===s)if(0===u||1===u){this._colorType=o;var l=r.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:n,depth:i,interlace:Boolean(u),palette:Boolean(o&r.COLORTYPE_PALETTE),color:Boolean(o&r.COLORTYPE_COLOR),alpha:Boolean(o&r.COLORTYPE_ALPHA),bpp:l,colorType:o}),this._handleChunkEnd()}else this.error(new Error("Unsupported interlace method"));else this.error(new Error("Unsupported filter method"));else this.error(new Error("Unsupported compression method"));else this.error(new Error("Unsupported color type"));else this.error(new Error("Unsupported bit depth "+i))},o.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))},o.prototype._parsePLTE=function(e){this._crc.write(e);for(var t=Math.floor(e.length/3),n=0;n<t;n++)this._palette.push([e[3*n],e[3*n+1],e[3*n+2],255]);this.palette(this._palette),this._handleChunkEnd()},o.prototype._handleTRNS=function(e){this.read(e,this._parseTRNS.bind(this))},o.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===r.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(e.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(var t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===r.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===r.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()},o.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))},o.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/r.GAMMA_DIVISION),this._handleChunkEnd()},o.prototype._handleIDAT=function(e){this.read(-e,this._parseIDAT.bind(this,e))},o.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===r.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(t);var n=e-t.length;n>0?this._handleIDAT(n):this._handleChunkEnd()},o.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))},o.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,e("buffer").Buffer)},{"./constants":292,"./crc":293,buffer:47}],307:[function(e,t,n){"use strict";var r=e("./parser-sync"),i=e("./packer-sync");n.read=function(e,t){return r(e,t||{})},n.write=function(e,t){return i(e,t)}},{"./packer-sync":301,"./parser-sync":305}],308:[function(e,t,n){(function(t,r){"use strict";var i=e("util"),o=e("stream"),a=e("./parser-async"),s=e("./packer-async"),u=e("./png-sync"),l=n.PNG=function(e){o.call(this),e=e||{},this.width=0|e.width,this.height=0|e.height,this.data=this.width>0&&this.height>0?new r(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new a(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new s(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};i.inherits(l,o),l.sync=u,l.prototype.pack=function(){return this.data&&this.data.length?(t.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},l.prototype.parse=function(e,t){var n,r;t&&(n=function(e){this.removeListener("error",r),this.data=e,t(null,this)}.bind(this),r=function(e){this.removeListener("parsed",n),t(e,null)}.bind(this),this.once("parsed",n),this.once("error",r));return this.end(e),this},l.prototype.write=function(e){return this._parser.write(e),!0},l.prototype.end=function(e){this._parser.end(e)},l.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},l.prototype._gamma=function(e){this.gamma=e},l.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},l.bitblt=function(e,t,n,r,i,o,a,s){if(r|=0,i|=0,o|=0,a|=0,s|=0,(n|=0)>e.width||r>e.height||n+i>e.width||r+o>e.height)throw new Error("bitblt reading outside image");if(a>t.width||s>t.height||a+i>t.width||s+o>t.height)throw new Error("bitblt writing outside image");for(var u=0;u<o;u++)e.data.copy(t.data,(s+u)*t.width+a<<2,(r+u)*e.width+n<<2,(r+u)*e.width+n+i<<2)},l.prototype.bitblt=function(e,t,n,r,i,o,a){return l.bitblt(this,e,t,n,r,i,o,a),this},l.adjustGamma=function(e){if(e.gamma){for(var t=0;t<e.height;t++)for(var n=0;n<e.width;n++)for(var r=e.width*t+n<<2,i=0;i<3;i++){var o=e.data[r+i]/255;o=Math.pow(o,1/2.2/e.gamma),e.data[r+i]=Math.round(255*o)}e.gamma=0}},l.prototype.adjustGamma=function(){l.adjustGamma(this)}}).call(this,e("_process"),e("buffer").Buffer)},{"./packer-async":300,"./parser-async":304,"./png-sync":307,_process:312,buffer:47,stream:334,util:365}],309:[function(e,t,n){(function(r,i){"use strict";var o=e("assert").ok,a=e("zlib"),s=e("util"),u=e("buffer").kMaxLength;function l(e){if(!(this instanceof l))return new l(e);e&&e.chunkSize<a.Z_MIN_CHUNK&&(e.chunkSize=a.Z_MIN_CHUNK),a.Inflate.call(this,e),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&null!=e.maxLength&&(this._maxLength=e.maxLength)}function c(e){return new l(e)}function f(e,t){t&&r.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function p(e,t){if("string"==typeof t&&(t=i.from(t)),!(t instanceof i))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return null==n&&(n=a.Z_FINISH),e._processChunk(t,n)}function h(e,t){return p(new l(t),e)}l.prototype._processChunk=function(e,t,n){if("function"==typeof n)return a.Inflate._processChunk.call(this,e,t,n);var r=this,s=e&&e.length,l=this._chunkSize-this._offset,c=this._maxLength,p=0,h=[],d=0,m;function g(e,t){if(!r._hadError){var n=l-t;if(o(n>=0,"have should not go down"),n>0){var a=r._buffer.slice(r._offset,r._offset+n);if(r._offset+=n,a.length>c&&(a=a.slice(0,c)),h.push(a),d+=a.length,0===(c-=a.length))return!1}return(0===t||r._offset>=r._chunkSize)&&(l=r._chunkSize,r._offset=0,r._buffer=i.allocUnsafe(r._chunkSize)),0===t&&(p+=s-e,s=e,!0)}}this.on("error",function(e){m=e}),o(this._handle,"zlib binding closed");do{var v=this._handle.writeSync(t,e,p,s,this._buffer,this._offset,l);v=v||this._writeState}while(!this._hadError&&g(v[0],v[1]));if(this._hadError)throw m;if(d>=u)throw f(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes");var y=i.concat(h,d);return f(this),y},s.inherits(l,a.Inflate),t.exports=n=h,n.Inflate=l,n.createInflate=c,n.inflateSync=h}).call(this,e("_process"),e("buffer").Buffer)},{_process:312,assert:24,buffer:47,util:365,zlib:34}],310:[function(e,t,n){"use strict";var r=t.exports=function(e){this._buffer=e,this._reads=[]};r.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},r.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var e=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=e.length||e.allowLess))break;this._reads.shift();var t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}return this._reads.length>0?new Error("There are some read requests waitng on finished stream"):this._buffer.length>0?new Error("unrecognised content at end of stream"):void 0}},{}],311:[function(e,t,n){(function(e){"use strict";function n(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o=arguments.length,a,s;switch(o){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function e(){t.call(null,n)});case 3:return e.nextTick(function e(){t.call(null,n,r)});case 4:return e.nextTick(function e(){t.call(null,n,r,i)});default:for(a=new Array(o-1),s=0;s<a.length;)a[s++]=arguments[s];return e.nextTick(function e(){t.apply(null,a)})}}void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:n}:t.exports=e}).call(this,e("_process"))},{_process:312}],312:[function(e,t,n){var r=t.exports={},i,o;function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function l(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c=[],f=!1,p,h=-1;function d(){f&&p&&(f=!1,p.length?c=p.concat(c):h=-1,c.length&&m())}function m(){if(!f){var e=u(d);f=!0;for(var t=c.length;t;){for(p=c,c=[];++h<t;)p&&p[h].run();h=-1,t=c.length}p=null,f=!1,l(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),1!==c.length||f||u(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],313:[function(e,n,r){(function(e){!function(t){var i="object"==typeof r&&r&&!r.nodeType&&r,o="object"==typeof n&&n&&!n.nodeType&&n,a="object"==typeof e&&e;a.global!==a&&a.window!==a&&a.self!==a||(t=a);var s,u=2147483647,l=36,c=1,f=26,p=38,h=700,d=72,m=128,g="-",v=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-c,_=Math.floor,C=String.fromCharCode,E;function S(e){throw new RangeError(w[e])}function k(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function O(e,t){var n=e.split("@"),r="",i,o;return n.length>1&&(r=n[0]+"@",e=n[1]),r+k((e=e.replace(b,".")).split("."),t).join(".")}function T(e){for(var t=[],n=0,r=e.length,i,o;n<r;)(i=e.charCodeAt(n++))>=55296&&i<=56319&&n<r?56320==(64512&(o=e.charCodeAt(n++)))?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--):t.push(i);return t}function N(e){return k(e,function(e){var t="";return e>65535&&(t+=C((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=C(e)}).join("")}function A(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:l}function I(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function R(e,t,n){var r=0;for(e=n?_(e/h):e>>1,e+=_(e/t);e>x*f>>1;r+=l)e=_(e/x);return _(r+(x+1)*e/(e+p))}function P(e){var t=[],n=e.length,r,i=0,o=m,a=d,s,p,h,v,y,b,w,x,C;for((s=e.lastIndexOf(g))<0&&(s=0),p=0;p<s;++p)e.charCodeAt(p)>=128&&S("not-basic"),t.push(e.charCodeAt(p));for(h=s>0?s+1:0;h<n;){for(v=i,y=1,b=l;h>=n&&S("invalid-input"),((w=A(e.charCodeAt(h++)))>=l||w>_((u-i)/y))&&S("overflow"),i+=w*y,!(w<(x=b<=a?c:b>=a+f?f:b-a));b+=l)y>_(u/(C=l-x))&&S("overflow"),y*=C;a=R(i-v,r=t.length+1,0==v),_(i/r)>u-o&&S("overflow"),o+=_(i/r),i%=r,t.splice(i++,0,o)}return N(t)}function M(e){var t,n,r,i,o,a,s,p,h,v,y,b=[],w,x,E,k;for(w=(e=T(e)).length,t=m,n=0,o=d,a=0;a<w;++a)(y=e[a])<128&&b.push(C(y));for(r=i=b.length,i&&b.push(g);r<w;){for(s=u,a=0;a<w;++a)(y=e[a])>=t&&y<s&&(s=y);for(s-t>_((u-n)/(x=r+1))&&S("overflow"),n+=(s-t)*x,t=s,a=0;a<w;++a)if((y=e[a])<t&&++n>u&&S("overflow"),y==t){for(p=n,h=l;!(p<(v=h<=o?c:h>=o+f?f:h-o));h+=l)k=p-v,E=l-v,b.push(C(I(v+k%E,0))),p=_(k/E);b.push(C(I(p,0))),o=R(n,x,r==i),n=0,++r}++n,++t}return b.join("")}function j(e){return O(e,function(e){return v.test(e)?P(e.slice(4).toLowerCase()):e})}function D(e){return O(e,function(e){return y.test(e)?"xn--"+M(e):e})}if(s={version:"1.4.1",ucs2:{decode:T,encode:N},decode:P,encode:M,toASCII:D,toUnicode:j},i&&o)if(n.exports==i)o.exports=s;else for(E in s)s.hasOwnProperty(E)&&(i[E]=s[E]);else t.punycode=s}(this)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{}],314:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var f=e[c].replace(s,"%20"),p=f.indexOf(n),h,d,m,g;p>=0?(h=f.substr(0,p),d=f.substr(p+1)):(h=f,d=""),m=decodeURIComponent(h),g=decodeURIComponent(d),r(a,m)?i(a[m])?a[m].push(g):a[m]=[a[m],g]:a[m]=g}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],315:[function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[a]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],316:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":314,"./encode":315}],317:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":318}],318:[function(e,t,n){"use strict";var r=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=f;var o=e("core-util-is");o.inherits=e("inherits");var a=e("./_stream_readable"),s=e("./_stream_writable");o.inherits(f,a);for(var u=i(s.prototype),l=0;l<u.length;l++){var c=u[l];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},{"./_stream_readable":320,"./_stream_writable":322,"core-util-is":238,inherits:254,"process-nextick-args":311}],319:[function(e,t,n){"use strict";t.exports=o;var r=e("./_stream_transform"),i=e("core-util-is");function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=e("inherits"),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":321,"core-util-is":238,inherits:254}],320:[function(e,n,r){(function(t,r){"use strict";var i=e("process-nextick-args");n.exports=C;var o=e("isarray"),a;C.ReadableState=_;var s=e("events").EventEmitter,u=function(e,t){return e.listeners(t).length},l=e("./internal/streams/stream"),c=e("safe-buffer").Buffer,f=r.Uint8Array||function(){};function p(e){return c.from(e)}function h(e){return c.isBuffer(e)||e instanceof f}var d=e("core-util-is");d.inherits=e("inherits");var m=e("util"),g=void 0;g=m&&m.debuglog?m.debuglog("stream"):function(){};var v=e("./internal/streams/BufferList"),y=e("./internal/streams/destroy"),b;d.inherits(C,l);var w=["error","close","destroy","pause","resume"];function x(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function _(t,n){a=a||e("./_stream_duplex"),t=t||{};var r=n instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(b||(b=e("string_decoder/").StringDecoder),this.decoder=new b(t.encoding),this.encoding=t.encoding)}function C(t){if(a=a||e("./_stream_duplex"),!(this instanceof C))return new C(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function E(e,t,n,r,i){var o=e._readableState,a;null===t?(o.reading=!1,I(e,o)):(i||(a=k(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=p(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?S(e,o,t,!1):M(e,o)):S(e,o,t,!1))):r||(o.reading=!1));return O(o)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&R(e)),M(e,t)}function k(e,t){var n;return h(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function O(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(C.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=y.destroy,C.prototype._undestroy=y.undestroy,C.prototype._destroy=function(e,t){this.push(null),t(e)},C.prototype.push=function(e,t){var n=this._readableState,r;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},C.prototype.unshift=function(e){return E(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){return b||(b=e("string_decoder/").StringDecoder),this._readableState.decoder=new b(t),this._readableState.encoding=t,this};var T=8388608;function N(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=N(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,R(e)}}function R(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(g("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(P,e):P(e))}function P(e){g("emit readable"),e.emit("readable"),B(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(j,e,t))}function j(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(g("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function D(e){return function(){var t=e._readableState;g("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&u(e,"data")&&(t.flowing=!0,B(e))}}function L(e){g("readable nexttick read 0"),e.read(0)}function F(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(z,e,t))}function z(e,t){t.reading||(g("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(g("flow",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=W(e,t.buffer,t.decoder),n);var n}function W(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?V(e,t):H(e,t),r}function V(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function H(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function G(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(q,t,e))}function q(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function K(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){g("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return g("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?G(this):R(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&G(this),null;var r=t.needReadable,i;return g("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&g("length less than watermark",r=!0),t.ended||t.reading?g("reading or ended",r=!1):r&&(g("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(i=e>0?U(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&G(this)),null!==i&&this.emit("data",i),i},C.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},C.prototype.pipe=function(e,n){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,g("pipe count=%d opts=%j",o.pipesCount,n);var a,s=(!n||!1!==n.end)&&e!==t.stdout&&e!==t.stderr?c:w;function l(e,t){g("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,h())}function c(){g("onend"),e.end()}o.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",l);var f=D(r);e.on("drain",f);var p=!1;function h(){g("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",f),e.removeListener("error",v),e.removeListener("unpipe",l),r.removeListener("end",c),r.removeListener("end",w),r.removeListener("data",m),p=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f()}var d=!1;function m(t){var n;g("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==K(o.pipes,e))&&!p&&(g("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function v(t){g("onerror",t),w(),e.removeListener("error",v),0===u(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),w()}function b(){g("onfinish"),e.removeListener("close",y),w()}function w(){g("unpipe"),r.unpipe(e)}return r.on("data",m),x(e,"error",v),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(g("pipe resume"),r.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=K(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},C.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&R(this):i.nextTick(L,this))}return n},C.prototype.addListener=C.prototype.on,C.prototype.resume=function(){var e=this._readableState;return e.flowing||(g("resume"),e.flowing=!0,F(this,e)),this},C.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(g("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){var o;(g("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<w.length;o++)e.on(w[o],this.emit.bind(this,w[o]));return this._read=function(t){g("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),C._fromList=U}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{"./_stream_duplex":318,"./internal/streams/BufferList":323,"./internal/streams/destroy":324,"./internal/streams/stream":325,_process:312,"core-util-is":238,events:239,inherits:254,isarray:258,"process-nextick-args":311,"safe-buffer":326,"string_decoder/":327,util:32}],321:[function(e,t,n){"use strict";t.exports=a;var r=e("./_stream_duplex"),i=e("core-util-is");function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){u(e,t,n)}):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},{"./_stream_duplex":318,"core-util-is":238,inherits:254}],322:[function(e,n,r){(function(t,r,i){"use strict";var o=e("process-nextick-args");function a(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){F(t,e)}}n.exports=x;var u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?i:o.nextTick,l;x.WritableState=w;var c=e("core-util-is");c.inherits=e("inherits");var f={deprecate:e("util-deprecate")},p=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,d=r.Uint8Array||function(){};function m(e){return h.from(e)}function g(e){return h.isBuffer(e)||e instanceof d}var v=e("./internal/streams/destroy"),y;function b(){}function w(t,n){l=l||e("./_stream_duplex"),t=t||{};var r=n instanceof l;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,o=t.writableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===t.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){N(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function x(t){if(l=l||e("./_stream_duplex"),!(y.call(x,this)||this instanceof l))return new x(t);this._writableState=new w(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),p.call(this)}function _(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}function C(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}function E(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,n)),t}function S(e,t,n,r,i,o){if(!n){var a=E(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,s,r,i,o);return u}function k(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function O(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(D,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),D(e,t))}function T(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function N(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(T(n),t)O(e,n,r,t,i);else{var o=P(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||R(e,n),r?u(A,e,n,o,i):A(e,n,o,i)}}function A(e,t,n,r){n||I(e,t),t.pendingcb--,r(),D(e,t)}function I(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function R(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)i[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;i.allBuffers=u,k(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,f=n.callback,p;if(k(e,t,!1,t.objectMode?1:l.length,l,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),D(e,t)})}function j(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(M,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function D(e,t){var n=P(t);return n&&(j(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function L(e,t,n){t.ending=!0,D(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function F(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}c.inherits(x,p),w.prototype.getBuffer=function e(){for(var t=this.bufferedRequest,n=[];t;)n.push(t),t=t.next;return n},function(){try{Object.defineProperty(w.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!y.call(this,e)||this===x&&(e&&e._writableState instanceof w)}})):y=function(e){return e instanceof this},x.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},x.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&g(e);return o&&!h.isBuffer(e)&&(e=m(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=b),r.ended?_(this,n):(o||C(this,r,e,n))&&(r.pendingcb++,i=S(this,r,o,e,t,n)),i},x.prototype.cork=function(){var e;this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||R(this,e))},x.prototype.setDefaultEncoding=function e(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},x.prototype._writev=null,x.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||L(this,r,n)},Object.defineProperty(x.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=v.destroy,x.prototype._undestroy=v.undestroy,x.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{},e("timers").setImmediate)},{"./_stream_duplex":318,"./internal/streams/destroy":324,"./internal/streams/stream":325,_process:312,"core-util-is":238,inherits:254,"process-nextick-args":311,"safe-buffer":326,timers:355,"util-deprecate":362}],323:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=e("safe-buffer").Buffer,o=e("util");function a(e,t,n){e.copy(t,n)}t.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function e(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function e(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function e(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function e(){this.head=this.tail=null,this.length=0},e.prototype.join=function e(t){if(0===this.length)return"";for(var n=this.head,r=""+n.data;n=n.next;)r+=t+n.data;return r},e.prototype.concat=function e(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var n=i.allocUnsafe(t>>>0),r=this.head,o=0;r;)a(r.data,n,o),o+=r.data.length,r=r.next;return n},e}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":326,util:32}],324:[function(e,t,n){"use strict";var r=e("process-nextick-args");function i(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}t.exports={destroy:i,undestroy:o}},{"process-nextick-args":311}],325:[function(e,t,n){t.exports=e("events").EventEmitter},{events:239}],326:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:47}],327:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=d,this.end=m,t=4;break;case"utf8":this.fillLast=f,t=4;break;case"base64":this.text=g,this.end=v,t=3;break;default:return this.write=y,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function u(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function l(e,t,n){var r=t.length-1;if(r<n)return 0;var i=u(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=u(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=u(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function c(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}function f(e){var t=this.lastTotal-this.lastNeed,n=c(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function p(e,t){var n=l(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t}function d(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function g(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function v(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function y(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}n.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=h,s.prototype.text=p,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":326}],328:[function(e,t,n){t.exports=e("./readable").PassThrough},{"./readable":329}],329:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":318,"./lib/_stream_passthrough.js":319,"./lib/_stream_readable.js":320,"./lib/_stream_transform.js":321,"./lib/_stream_writable.js":322}],330:[function(e,t,n){t.exports=e("./readable").Transform},{"./readable":329}],331:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":322}],332:[function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=E(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var c="suspendedStart",f="suspendedYield",p="executing",h="completed",d={};function m(){}function g(){}function v(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==t&&n.call(w,o)&&(y=w);var x=v.prototype=m.prototype=Object.create(y);function _(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function C(e){function t(r,i,o,a){var s=l(e[r],e,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){u.value=e,o(u)},function(e){return t("throw",e,o,a)})}a(s.arg)}var r;function i(e,n){function i(){return new Promise(function(r,i){t(e,n,r,i)})}return r=r?r.then(i,i):i()}this._invoke=i}function E(e,t,n){var r=c;return function i(o,a){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw a;return A()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=S(s,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var m=l(e,t,n);if("normal"===m.type){if(r=n.done?h:f,m.arg===d)continue;return{value:m.arg,done:n.done}}"throw"===m.type&&(r=h,n.method="throw",n.arg=m.arg)}}}function S(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,S(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=r,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:r,done:!0}}return g.prototype=x.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(C.prototype),C.prototype[a]=function(){return this},e.AsyncIterator=C,e.async=function(t,n,r,i){var o=new C(u(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),x[s]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e,t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),d}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},{}],333:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:47}],334:[function(e,t,n){t.exports=o;var r=e("events").EventEmitter,i;function o(){r.call(this)}e("inherits")(o,r),o.Readable=e("readable-stream/readable.js"),o.Writable=e("readable-stream/writable.js"),o.Duplex=e("readable-stream/duplex.js"),o.Transform=e("readable-stream/transform.js"),o.PassThrough=e("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",l),e.on("error",l),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},{events:239,inherits:254,"readable-stream/duplex.js":317,"readable-stream/passthrough.js":328,"readable-stream/readable.js":329,"readable-stream/transform.js":330,"readable-stream/writable.js":331}],335:[function(e,n,r){(function(t){var n=e("./lib/request"),i=e("./lib/response"),o=e("xtend"),a=e("builtin-status-codes"),s=e("url"),u=r;u.request=function(e,r){e="string"==typeof e?s.parse(e):o(e);var i=-1===t.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||i,u=e.hostname||e.host,l=e.port,c=e.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),e.url=(u?a+"//"+u:"")+(l?":"+l:"")+c,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new n(e);return r&&f.on("response",r),f},u.get=function e(t,n){var r=u.request(t,n);return r.end(),r},u.ClientRequest=n,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=a,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{"./lib/request":337,"./lib/response":338,"builtin-status-codes":49,url:359,xtend:368}],336:[function(e,n,r){(function(e){var t;function n(){if(void 0!==t)return t;if(e.XMLHttpRequest){t=new e.XMLHttpRequest;try{t.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){t=null}}else t=null;return t}function i(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function o(e){return"function"==typeof e}r.fetch=o(e.fetch)&&o(e.ReadableStream),r.writableStream=o(e.WritableStream),r.abortController=o(e.AbortController),r.arraybuffer=r.fetch||i("arraybuffer"),r.msstream=!r.fetch&&i("ms-stream"),r.mozchunkedarraybuffer=!r.fetch&&i("moz-chunked-arraybuffer"),r.overrideMimeType=r.fetch||!!n()&&o(n().overrideMimeType),t=null}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{}],337:[function(e,n,r){(function(t,r,i){var o=e("./capability"),a=e("inherits"),s=e("./response"),u=e("readable-stream"),l=s.IncomingMessage,c=s.readyStates;function f(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":"text"}var p=n.exports=function(e){var t=this,n;u.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+i.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(n){t.setHeader(n,e.headers[n])});var r=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)r=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}t._mode=f(n,r),t._fetchTimer=null,t.on("finish",function(){t._onFinish()})};function h(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}a(p,u.Writable),p.prototype.setHeader=function(e,t){var n=this,r=e.toLowerCase();-1===d.indexOf(r)&&(this._headers[r]={name:e,value:t})},p.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},p.prototype.removeHeader=function(e){var t=this;delete this._headers[e.toLowerCase()]},p.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,i=e._headers,a=null;"GET"!==n.method&&"HEAD"!==n.method&&(a=new Blob(e._body,{type:(i["content-type"]||{}).value||""}));var s=[];if(Object.keys(i).forEach(function(e){var t=i[e].name,n=i[e].value;Array.isArray(n)?n.forEach(function(e){s.push([t,e])}):s.push([t,n])}),"fetch"===e._mode){var u=null,l=null;if(o.abortController){var f=new AbortController;u=f.signal,e._fetchAbortController=f,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:s,body:a||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:u}).then(function(t){e._fetchResponse=t,e._connect()},function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var p=e._xhr=new r.XMLHttpRequest;try{p.open(e._opts.method,e._opts.url,!0)}catch(n){return void t.nextTick(function(){e.emit("error",n)})}"responseType"in p&&(p.responseType=e._mode),"withCredentials"in p&&(p.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(p.timeout=n.requestTimeout,p.ontimeout=function(){e.emit("requestTimeout")}),s.forEach(function(e){p.setRequestHeader(e[0],e[1])}),e._response=null,p.onreadystatechange=function(){switch(p.readyState){case c.LOADING:case c.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(p.onprogress=function(){e._onXHRProgress()}),p.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{p.send(a)}catch(n){return void t.nextTick(function(){e.emit("error",n)})}}}},p.prototype._onXHRProgress=function(){var e=this;h(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},p.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},p.prototype._write=function(e,t,n){var r=this;this._body.push(e),n()},p.prototype.abort=p.prototype.destroy=function(){var e=this;this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},p.prototype.end=function(e,t,n){var r=this;"function"==typeof e&&(n=e,e=void 0),u.Writable.prototype.end.call(this,e,t,n)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{},e("buffer").Buffer)},{"./capability":336,"./response":338,_process:312,buffer:47,inherits:254,"readable-stream":353}],338:[function(e,n,r){(function(t,n,i){var o=e("./capability"),a=e("inherits"),s=e("readable-stream"),u=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=r.IncomingMessage=function(e,r,a,u){var l=this;if(s.Readable.call(l),l._mode=a,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",function(){t.nextTick(function(){l.emit("close")})}),"fetch"===a){if(l._fetchResponse=r,l.url=r.url,l.statusCode=r.status,l.statusMessage=r.statusText,r.headers.forEach(function(e,t){l.headers[t.toLowerCase()]=e,l.rawHeaders.push(t,e)}),o.writableStream){var c=new WritableStream({write:function(e){return new Promise(function(t,n){l._destroyed?n():l.push(i.from(e))?t():l._resumeFetch=t})},close:function(){n.clearTimeout(u),l._destroyed||l.push(null)},abort:function(e){l._destroyed||l.emit("error",e)}});try{return void r.body.pipeTo(c).catch(function(e){n.clearTimeout(u),l._destroyed||l.emit("error",e)})}catch(e){}}var f=r.body.getReader();function p(){f.read().then(function(e){if(!l._destroyed){if(e.done)return n.clearTimeout(u),void l.push(null);l.push(i.from(e.value)),p()}}).catch(function(e){n.clearTimeout(u),l._destroyed||l.emit("error",e)})}p()}else{var h;if(l._xhr=e,l._pos=0,l.url=e.responseURL,l.statusCode=e.status,l.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===l.headers[n]&&(l.headers[n]=[]),l.headers[n].push(t[2])):void 0!==l.headers[n]?l.headers[n]+=", "+t[2]:l.headers[n]=t[2],l.rawHeaders.push(t[1],t[2])}}),l._charset="x-user-defined",!o.overrideMimeType){var d=l.rawHeaders["mime-type"];if(d){var m=d.match(/;\s*charset=([^;])(;|$)/);m&&(l._charset=m[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};a(l,s.Readable),l.prototype._read=function(){var e=this,t=this._resumeFetch;t&&(this._resumeFetch=null,t())},l.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text":if((r=t.responseText).length>e._pos){var o=r.substr(e._pos);if("x-user-defined"===e._charset){for(var a=i.alloc(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);e.push(a)}else e.push(o,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;r=t.response,e.push(i.from(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==u.LOADING||!r)break;e.push(i.from(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==u.LOADING)break;var l=new n.MSStreamReader;l.onprogress=function(){l.result.byteLength>e._pos&&(e.push(i.from(new Uint8Array(l.result.slice(e._pos)))),e._pos=l.result.byteLength)},l.onload=function(){e.push(null)},l.readAsArrayBuffer(r)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{},e("buffer").Buffer)},{"./capability":336,_process:312,buffer:47,inherits:254,"readable-stream":353}],339:[function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var i={};function o(e,t,n){function o(e,n,r){return"string"==typeof t?t:t(e,n,r)}n||(n=Error);var a=function(e){function t(t,n,r){return e.call(this,o(t,n,r))||this}return r(t,e),t}(n);a.prototype.name=n.name,a.prototype.code=e,i[e]=a}function a(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function s(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function u(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function l(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}o("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(e,t,n){var r,i;if("string"==typeof t&&s(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",u(e," argument"))i="The ".concat(e," ").concat(r," ").concat(a(t,"type"));else{var o=l(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(r," ").concat(a(t,"type"))}return i+=". Received type ".concat(typeof n)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},{}],340:[function(e,t,n){(function(e){"use strict";var n=new Set;function r(t){if(!n.has(t)){var r=t+" is an experimental feature. This feature could change at any time";n.add(t),e.emitWarning(r,"ExperimentalWarning")}}function i(){}t.exports.emitExperimentalWarning=e.emitWarning?r:i}).call(this,e("_process"))},{_process:312}],341:[function(e,t,n){(function(n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=l;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(l,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var u=a[s];l.prototype[u]||(l.prototype[u]=o.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function e(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function e(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function e(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function e(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function e(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,e("_process"))},{"./_stream_readable":343,"./_stream_writable":345,_process:312,inherits:254}],342:[function(e,t,n){"use strict";t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":344,inherits:254}],343:[function(e,n,r){(function(t,r){"use strict";var i;n.exports=A,A.ReadableState=N;var o=e("events").EventEmitter,a=function e(t,n){return t.listeners(n).length},s=e("./internal/streams/stream"),u=e("buffer").Buffer,l=r.Uint8Array||function(){};function c(e){return u.from(e)}function f(e){return u.isBuffer(e)||e instanceof l}var p=e("util"),h;h=p&&p.debuglog?p.debuglog("stream"):function e(){};var d=e("./internal/streams/buffer_list"),m=e("./internal/streams/destroy"),g,v=e("./internal/streams/state").getHighWaterMark,y=e("../errors").codes,b=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,x=y.ERR_METHOD_NOT_IMPLEMENTED,_=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,C,E=e("../experimentalWarning").emitExperimentalWarning,S,k;e("inherits")(A,s);var O=["error","close","destroy","pause","resume"];function T(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function N(t,n,r){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",r),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(S||(S=e("string_decoder/").StringDecoder),this.decoder=new S(t.encoding),this.encoding=t.encoding)}function A(t){if(i=i||e("./_stream_duplex"),!(this instanceof A))return new A(t);var n=this instanceof i;this._readableState=new N(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function I(e,t,n,r,i){h("readableAddChunk",t);var o=e._readableState,a;if(null===t)o.reading=!1,L(e,o);else if(i||(a=P(o,t)),a)e.emit("error",a);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=c(t)),r)o.endEmitted?e.emit("error",new _):R(e,o,t,!0);else if(o.ended)e.emit("error",new w);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?R(e,o,t,!1):B(e,o)):R(e,o,t,!1)}else r||(o.reading=!1,B(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function R(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&F(e)),B(e,t)}function P(e,t){var n;return f(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function e(){return void 0!==this._readableState&&this._readableState.destroyed},set:function e(t){this._readableState&&(this._readableState.destroyed=t)}}),A.prototype.destroy=m.destroy,A.prototype._undestroy=m.undestroy,A.prototype._destroy=function(e,t){t(e)},A.prototype.push=function(e,t){var n=this._readableState,r;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),I(this,e,t,!1,r)},A.prototype.unshift=function(e){return I(this,e,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(t){return S||(S=e("string_decoder/").StringDecoder),this._readableState.decoder=new S(t),this._readableState.encoding=this._readableState.decoder.encoding,this};var M=8388608;function j(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=j(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function L(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?F(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,z(e)))}}function F(e){var n=e._readableState;n.needReadable=!1,n.emittedReadable||(h("emitReadable",n.flowing),n.emittedReadable=!0,t.nextTick(z,e))}function z(e){var t=e._readableState;h("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,K(e)}function B(e,n){n.readingMore||(n.readingMore=!0,t.nextTick(U,e,n))}function U(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(h("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function W(e){return function t(){var n=e._readableState;h("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,0===n.awaitDrain&&a(e,"data")&&(n.flowing=!0,K(e))}}function V(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function H(e){h("readable nexttick read 0"),e.read(0)}function G(e,n){n.resumeScheduled||(n.resumeScheduled=!0,t.nextTick(q,e,n))}function q(e,t){h("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),K(e),t.flowing&&!t.reading&&e.read(0)}function K(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function X(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function Y(e){var n=e._readableState;h("endReadable",n.endEmitted),n.endEmitted||(n.ended=!0,t.nextTick(Z,n,e))}function Z(e,t){h("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function $(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}A.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Y(this):F(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&Y(this),null;var r=t.needReadable,i;return h("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",r=!0),t.ended||t.reading?h("reading or ended",r=!1):r&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(n,t))),null===(i=e>0?X(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&Y(this)),null!==i&&this.emit("data",i),i},A.prototype._read=function(e){this.emit("error",new x("_read()"))},A.prototype.pipe=function(e,n){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,n);var o,s=(!n||!1!==n.end)&&e!==t.stdout&&e!==t.stderr?l:y;function u(e,t){h("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,p())}function l(){h("onend"),e.end()}i.endEmitted?t.nextTick(s):r.once("end",s),e.on("unpipe",u);var c=W(r);e.on("drain",c);var f=!1;function p(){h("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",c),e.removeListener("error",m),e.removeListener("unpipe",u),r.removeListener("end",l),r.removeListener("end",y),r.removeListener("data",d),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function d(t){h("ondata");var n=e.write(t);h("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==$(i.pipes,e))&&!f&&(h("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function m(t){h("onerror",t),y(),e.removeListener("error",m),0===a(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),y()}function v(){h("onfinish"),e.removeListener("close",g),y()}function y(){h("unpipe"),r.unpipe(e)}return r.on("data",d),T(e,"error",m),e.once("close",g),e.once("finish",v),e.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),e},A.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=$(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},A.prototype.on=function(e,n){var r=s.prototype.on.call(this,e,n),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,h("on readable",i.length,i.reading),i.length?F(this):i.reading||t.nextTick(H,this))),r},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(e,n){var r=s.prototype.removeListener.call(this,e,n);return"readable"===e&&t.nextTick(V,this),r},A.prototype.removeAllListeners=function(e){var n=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||t.nextTick(V,this),n},A.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!e.readableListening,G(this,e)),e.paused=!1,this},A.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){var o;(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function t(n){return function t(){return e[n].apply(e,arguments)}}(i));for(var o=0;o<O.length;o++)e.on(O[o],this.emit.bind(this,O[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return E("Readable[Symbol.asyncIterator]"),void 0===k&&(k=e("./internal/streams/async_iterator")),k(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function e(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function e(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function e(){return this._readableState.flowing},set:function e(t){this._readableState&&(this._readableState.flowing=t)}}),A._fromList=X,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function e(){return this._readableState.length}})}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{"../errors":339,"../experimentalWarning":340,"./_stream_duplex":341,"./internal/streams/async_iterator":346,"./internal/streams/buffer_list":347,"./internal/streams/destroy":348,"./internal/streams/state":351,"./internal/streams/stream":352,_process:312,buffer:47,events:239,inherits:254,"string_decoder/":354,util:32}],344:[function(e,t,n){"use strict";t.exports=c;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function l(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush(function(t,n){p(e,t,n)})}function p(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}e("inherits")(c,u),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,n){n(new i("_transform()"))},c.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":339,"./_stream_duplex":341,inherits:254}],345:[function(e,n,r){(function(t,r){"use strict";function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){G(t,e)}}var a;n.exports=T,T.WritableState=O;var s={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),l=e("buffer").Buffer,c=r.Uint8Array||function(){};function f(e){return l.from(e)}function p(e){return l.isBuffer(e)||e instanceof c}var h=e("./internal/streams/destroy"),d,m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_METHOD_NOT_IMPLEMENTED,b=g.ERR_MULTIPLE_CALLBACK,w=g.ERR_STREAM_CANNOT_PIPE,x=g.ERR_STREAM_DESTROYED,_=g.ERR_STREAM_NULL_VALUES,C=g.ERR_STREAM_WRITE_AFTER_END,E=g.ERR_UNKNOWN_ENCODING,S;function k(){}function O(t,n,r){a=a||e("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof a),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=m(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=!1===t.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){D(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function T(t){var n=this instanceof(a=a||e("./_stream_duplex"));if(!n&&!S.call(T,this))return new T(t);this._writableState=new O(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function N(e,n){var r=new C;e.emit("error",r),t.nextTick(n,r)}function A(e,n,r,i){var o;return null===r?o=new _:"string"==typeof r||n.objectMode||(o=new v("chunk",["string","Buffer"],r)),!o||(e.emit("error",o),t.nextTick(i,o),!1)}function I(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,n)),t}function R(e,t,n,r,i,o){if(!n){var a=I(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else P(e,t,!1,s,r,i,o);return u}function P(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new x("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function M(e,n,r,i,o){--n.pendingcb,r?(t.nextTick(o,i),t.nextTick(V,e,n),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),V(e,n))}function j(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function D(e,n){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new b;if(j(r),n)M(e,r,i,n,o);else{var a=B(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||z(e,r),i?t.nextTick(L,e,r,a,o):L(e,r,a,o)}}function L(e,t,n,r){n||F(e,t),t.pendingcb--,r(),V(e,t)}function F(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function z(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,P(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,f=n.callback,p;if(P(e,t,!1,t.objectMode?1:l.length,l,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function B(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function U(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),V(e,t)})}function W(e,n){n.prefinished||n.finalCalled||("function"!=typeof e._final||n.destroyed?(n.prefinished=!0,e.emit("prefinish")):(n.pendingcb++,n.finalCalled=!0,t.nextTick(U,e,n)))}function V(e,t){var n=B(t);return n&&(W(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function H(e,n,r){n.ending=!0,V(e,n),r&&(n.finished?t.nextTick(r):e.once("finish",r)),n.ended=!0,e.writable=!1}function G(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}e("inherits")(T,u),O.prototype.getBuffer=function e(){for(var t=this.bufferedRequest,n=[];t;)n.push(t),t=t.next;return n},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function e(t){return!!S.call(this,t)||this===T&&(t&&t._writableState instanceof O)}})):S=function e(t){return t instanceof this},T.prototype.pipe=function(){this.emit("error",new w)},T.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&p(e);return o&&!l.isBuffer(e)&&(e=f(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=k),r.ending?N(this,n):(o||A(this,r,e,n))&&(r.pendingcb++,i=R(this,r,o,e,t,n)),i},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||z(this,e))},T.prototype.setDefaultEncoding=function e(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new E(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function e(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function e(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,n){n(new y("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||H(this,r,n),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function e(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function e(){return void 0!==this._writableState&&this._writableState.destroyed},set:function e(t){this._writableState&&(this._writableState.destroyed=t)}}),T.prototype.destroy=h.destroy,T.prototype._undestroy=h.undestroy,T.prototype._destroy=function(e,t){t(e)}}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{"../errors":339,"./_stream_duplex":341,"./internal/streams/destroy":348,"./internal/streams/state":351,"./internal/streams/stream":352,_process:312,buffer:47,inherits:254,"util-deprecate":362}],346:[function(e,t,n){(function(n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=e("./end-of-stream"),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function h(e,t){return{value:e,done:t}}function d(e){var t=e[a];if(null!==t){var n=e[p].read();null!==n&&(e[c]=null,e[a]=null,e[s]=null,t(h(n,!1)))}}function m(e){n.nextTick(d,e)}function g(e,t){return function(n,r){e.then(function(){t[l]?n(h(void 0,!0)):t[f](n,r)},r)}}var v=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i(r={get stream(){return this[p]},next:function e(){var t=this,r=this[u];if(null!==r)return Promise.reject(r);if(this[l])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise(function(e,r){n.nextTick(function(){t[u]?r(t[u]):e(h(void 0,!0))})});var i=this[c],o;if(i)o=new Promise(g(i,this));else{var a=this[p].read();if(null!==a)return Promise.resolve(h(a,!1));o=new Promise(this[f])}return this[c]=o,o}},Symbol.asyncIterator,function(){return this}),i(r,"return",function e(){var t=this;return new Promise(function(e,n){t[p].destroy(null,function(t){t?n(t):e(h(void 0,!0))})})}),r),v),b=function e(t){var n,r=Object.create(y,(i(n={},p,{value:t,writable:!0}),i(n,a,{value:null,writable:!0}),i(n,s,{value:null,writable:!0}),i(n,u,{value:null,writable:!0}),i(n,l,{value:t._readableState.endEmitted,writable:!0}),i(n,f,{value:function e(t,n){var i=r[p].read();i?(r[c]=null,r[a]=null,r[s]=null,t(h(i,!1))):(r[a]=t,r[s]=n)},writable:!0}),n));return r[c]=null,o(t,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[c]=null,r[a]=null,r[s]=null,t(e)),void(r[u]=e)}var n=r[a];null!==n&&(r[c]=null,r[a]=null,r[s]=null,n(h(void 0,!0))),r[l]=!0}),t.on("readable",m.bind(null,r)),r};t.exports=b}).call(this,e("_process"))},{"./end-of-stream":349,_process:312}],347:[function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o,a=e("buffer").Buffer,s,u=e("util").inspect,l=u&&u.custom||"inspect";function c(e,t,n){a.prototype.copy.call(e,t,n)}t.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function e(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.unshift=function e(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},t.shift=function e(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.clear=function e(){this.head=this.tail=null,this.length=0},t.join=function e(t){if(0===this.length)return"";for(var n=this.head,r=""+n.data;n=n.next;)r+=t+n.data;return r},t.concat=function e(t){if(0===this.length)return a.alloc(0);for(var n=a.allocUnsafe(t>>>0),r=this.head,i=0;r;)c(r.data,n,i),i+=r.data.length,r=r.next;return n},t.consume=function e(t,n){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():n?this._getString(t):this._getBuffer(t),r},t.first=function e(){return this.head.data},t._getString=function e(t){var n=this.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++r}return this.length-=r,i},t._getBuffer=function e(t){var n=a.allocUnsafe(t),r=this.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(s));break}++i}return this.length-=i,n},t[l]=function(e,t){return u(this,r({},t,{depth:0,customInspect:!1}))},e}()},{buffer:47,util:32}],348:[function(e,t,n){(function(e){"use strict";function n(t,n){var o=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(n?n(t):!t||this._writableState&&this._writableState.errorEmitted||e.nextTick(a,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!n&&t?(e.nextTick(r,o,t),o._writableState&&(o._writableState.errorEmitted=!0)):n?(e.nextTick(i,o),n(t)):e.nextTick(i,o)}),this)}function r(e,t){a(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}t.exports={destroy:n,undestroy:o}}).call(this,e("_process"))},{_process:312}],349:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}function o(){}function a(e){return e.setHeader&&"function"==typeof e.abort}function s(e,t,n){if("function"==typeof t)return s(e,null,t);t||(t={}),n=i(n||o);var u=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,c=function t(){e.writable||p()},f=e._writableState&&e._writableState.finished,p=function t(){l=!1,f=!0,u||n.call(e)},h=e._readableState&&e._readableState.endEmitted,d=function t(){u=!1,h=!0,l||n.call(e)},m=function t(r){n.call(e,r)},g=function t(){var i;return u&&!h?(e._readableState&&e._readableState.ended||(i=new r),n.call(e,i)):l&&!f?(e._writableState&&e._writableState.ended||(i=new r),n.call(e,i)):void 0},v=function t(){e.req.on("finish",p)};return a(e)?(e.on("complete",p),e.on("abort",g),e.req?v():e.on("request",v)):l&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",d),e.on("finish",p),!1!==t.error&&e.on("error",m),e.on("close",g),function(){e.removeListener("complete",p),e.removeListener("abort",g),e.removeListener("request",v),e.req&&e.req.removeListener("finish",p),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",p),e.removeListener("end",d),e.removeListener("error",m),e.removeListener("close",g)}}t.exports=s},{"../../../errors":339}],350:[function(e,t,n){"use strict";var r;function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var o=e("../../../errors").codes,a=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function u(e){if(e)throw e}function l(e){return e.setHeader&&"function"==typeof e.abort}function c(t,n,o,a){a=i(a);var u=!1;t.on("close",function(){u=!0}),void 0===r&&(r=e("./end-of-stream")),r(t,{readable:n,writable:o},function(e){if(e)return a(e);u=!0,a()});var c=!1;return function(e){if(!u&&!c)return c=!0,l(t)?t.abort():"function"==typeof t.destroy?t.destroy():void a(e||new s("pipe"))}}function f(e){e()}function p(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?u:e.pop():u}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=h(t),i;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var o=t.map(function(e,n){var a=n<t.length-1,s;return c(e,a,n>0,function(e){i||(i=e),e&&o.forEach(f),a||(o.forEach(f),r(i))})});return t.reduce(p)}t.exports=d},{"../../../errors":339,"./end-of-stream":349}],351:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;function i(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}function o(e,t,n,o){var a=i(t,o,n);if(null!=a){var s;if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new r(o?n:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}t.exports={getHighWaterMark:o}},{"../../../errors":339}],352:[function(e,t,n){arguments[4][325][0].apply(n,arguments)},{dup:325,events:239}],353:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":341,"./lib/_stream_passthrough.js":342,"./lib/_stream_readable.js":343,"./lib/_stream_transform.js":344,"./lib/_stream_writable.js":345,"./lib/internal/streams/end-of-stream.js":349,"./lib/internal/streams/pipeline.js":350}],354:[function(e,t,n){arguments[4][327][0].apply(n,arguments)},{dup:327,"safe-buffer":333}],355:[function(e,t,n){(function(t,r){var i=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},l=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(a.call(setTimeout,o,arguments),clearTimeout)},n.setInterval=function(){return new c(a.call(setInterval,o,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(o,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function t(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=l++,r=!(arguments.length<2)&&s.call(arguments,1);return u[t]=!0,i(function i(){u[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":312,timers:355}],356:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.clone=s,n.addLast=c,n.addFirst=f,n.removeLast=p,n.removeFirst=h,n.insert=d,n.removeAt=m,n.replaceAt=g,n.getIn=v,n.set=y,n.setIn=w,n.update=x,n.updateIn=_,n.merge=C,n.mergeDeep=E,n.mergeIn=S,n.omit=k,n.addDefaults=O;
/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */
var r="INVALID_ARGS";function i(e){throw new Error(e)}function o(e){var t=Object.keys(e);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t}var a={}.hasOwnProperty;function s(e){if(Array.isArray(e))return e.slice();for(var t=o(e),n={},r=0;r<t.length;r++){var i=t[r];n[i]=e[i]}return n}function u(t,n,a){var c=a;null==c&&i("production"!==e.env.NODE_ENV?"At least one object should be provided to merge()":r);for(var f=!1,p=arguments.length,h=Array(p>3?p-3:0),d=3;d<p;d++)h[d-3]=arguments[d];for(var m=0;m<h.length;m++){var g=h[m];if(null!=g){var v=o(g);if(v.length)for(var y=0;y<=v.length;y++){var b=v[y];if(!t||void 0===c[b]){var w=g[b];n&&l(c[b])&&l(w)&&(w=u(t,n,c[b],w)),void 0!==w&&w!==c[b]&&(f||(f=!0,c=s(c)),c[b]=w)}}}}return c}function l(e){var n=void 0===e?"undefined":t(e);return null!=e&&"object"===n}function c(e,t){return Array.isArray(t)?e.concat(t):e.concat([t])}function f(e,t){return Array.isArray(t)?t.concat(e):[t].concat(e)}function p(e){return e.length?e.slice(0,e.length-1):e}function h(e){return e.length?e.slice(1):e}function d(e,t,n){return e.slice(0,t).concat(Array.isArray(n)?n:[n]).concat(e.slice(t))}function m(e,t){return t>=e.length||t<0?e:e.slice(0,t).concat(e.slice(t+1))}function g(e,t,n){if(e[t]===n)return e;for(var r=e.length,i=Array(r),o=0;o<r;o++)i[o]=e[o];return i[t]=n,i}function v(t,n){if(!Array.isArray(n)&&i("production"!==e.env.NODE_ENV?"A path array should be provided when calling getIn()":r),null!=t){for(var o=t,a=0;a<n.length;a++){var s=n[a];if(void 0===(o=null!=o?o[s]:void 0))return o}return o}}function y(e,t,n){var r,i=null==e?"number"==typeof t?[]:{}:e;if(i[t]===n)return i;var o=s(i);return o[t]=n,o}function b(e,t,n,r){var i=void 0,o=t[r],a;r===t.length-1?i=n:i=b(l(e)&&l(e[o])?e[o]:"number"==typeof t[r+1]?[]:{},t,n,r+1);return y(e,o,i)}function w(e,t,n){return t.length?b(e,t,n,0):n}function x(e,t,n){var r,i;return y(e,t,n(null==e?void 0:e[t]))}function _(e,t,n){var r,i;return w(e,t,n(v(e,t)))}function C(e,t,n,r,i,o){for(var a=arguments.length,s=Array(a>6?a-6:0),l=6;l<a;l++)s[l-6]=arguments[l];return s.length?u.call.apply(u,[null,!1,!1,e,t,n,r,i,o].concat(s)):u(!1,!1,e,t,n,r,i,o)}function E(e,t,n,r,i,o){for(var a=arguments.length,s=Array(a>6?a-6:0),l=6;l<a;l++)s[l-6]=arguments[l];return s.length?u.call.apply(u,[null,!1,!0,e,t,n,r,i,o].concat(s)):u(!1,!0,e,t,n,r,i,o)}function S(e,t,n,r,i,o,a){var s=v(e,t);null==s&&(s={});for(var l=void 0,c=arguments.length,f=Array(c>7?c-7:0),p=7;p<c;p++)f[p-7]=arguments[p];return w(e,t,l=f.length?u.call.apply(u,[null,!1,!1,s,n,r,i,o,a].concat(f)):u(!1,!1,s,n,r,i,o,a))}function k(e,t){for(var n=Array.isArray(t)?t:[t],r=!1,i=0;i<n.length;i++)if(a.call(e,n[i])){r=!0;break}if(!r)return e;for(var s={},u=o(e),l=0;l<u.length;l++){var c=u[l];n.indexOf(c)>=0||(s[c]=e[c])}return s}function O(e,t,n,r,i,o){for(var a=arguments.length,s=Array(a>6?a-6:0),l=6;l<a;l++)s[l-6]=arguments[l];return s.length?u.call.apply(u,[null,!0,!1,e,t,n,r,i,o].concat(s)):u(!0,!1,e,t,n,r,i,o)}var T={clone:s,addLast:c,addFirst:f,removeLast:p,removeFirst:h,insert:d,removeAt:m,replaceAt:g,getIn:v,set:y,setIn:w,update:x,updateIn:_,merge:C,mergeDeep:E,mergeIn:S,omit:k,addDefaults:O};n.default=T}).call(this,e("_process"))},{_process:312}],357:[function(e,t,n){!function(e){var n=/^\s+/,r=/\s+$/,i=0,a=e.round,s=e.min,u=e.max,l=e.random;function c(e,t){if(e=e||"",t=t||{},e instanceof c)return e;if(!(this instanceof c))return new c(e,t);var n=f(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=a(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=n.ok,this._tc_id=i++}function f(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,l=!1;return"string"==typeof e&&(e=Q(e)),"object"==typeof e&&(J(e.r)&&J(e.g)&&J(e.b)?(t=p(e.r,e.g,e.b),a=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):J(e.h)&&J(e.s)&&J(e.v)?(r=V(e.s),i=V(e.v),t=g(e.h,r,i),a=!0,l="hsv"):J(e.h)&&J(e.s)&&J(e.l)&&(r=V(e.s),o=V(e.l),t=d(e.h,r,o),a=!0,l="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=D(n),{ok:a,format:e.format||l,r:s(255,u(t.r,0)),g:s(255,u(t.g,0)),b:s(255,u(t.b,0)),a:n}}function p(e,t,n){return{r:255*L(e,255),g:255*L(t,255),b:255*L(n,255)}}function h(e,t,n){e=L(e,255),t=L(t,255),n=L(n,255);var r=u(e,t,n),i=s(e,t,n),o,a,l=(r+i)/2;if(r==i)o=a=0;else{var c=r-i;switch(a=l>.5?c/(2-r-i):c/(r+i),r){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:a,l:l}}function d(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=L(e,360),t=L(t,100),n=L(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),i=a(u,s,e),o=a(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}function m(e,t,n){e=L(e,255),t=L(t,255),n=L(n,255);var r=u(e,t,n),i=s(e,t,n),o,a,l=r,c=r-i;if(a=0===r?0:c/r,r==i)o=0;else{switch(r){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:a,v:l}}function g(t,n,r){t=6*L(t,360),n=L(n,100),r=L(r,100);var i=e.floor(t),o=t-i,a=r*(1-n),s=r*(1-o*n),u=r*(1-(1-o)*n),l=i%6,c,f,p;return{r:255*[r,s,a,a,u,r][l],g:255*[u,r,r,s,a,a][l],b:255*[a,a,u,r,r,s][l]}}function v(e,t,n,r){var i=[W(a(e).toString(16)),W(a(t).toString(16)),W(a(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function y(e,t,n,r,i){var o=[W(a(e).toString(16)),W(a(t).toString(16)),W(a(n).toString(16)),W(H(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function b(e,t,n,r){var i;return[W(H(r)),W(a(e).toString(16)),W(a(t).toString(16)),W(a(n).toString(16))].join("")}function w(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s-=t/100,n.s=F(n.s),c(n)}function x(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s+=t/100,n.s=F(n.s),c(n)}function _(e){return c(e).desaturate(100)}function C(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l+=t/100,n.l=F(n.l),c(n)}function E(e,t){t=0===t?0:t||10;var n=c(e).toRgb();return n.r=u(0,s(255,n.r-a(-t/100*255))),n.g=u(0,s(255,n.g-a(-t/100*255))),n.b=u(0,s(255,n.b-a(-t/100*255))),c(n)}function S(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l-=t/100,n.l=F(n.l),c(n)}function k(e,t){var n=c(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,c(n)}function O(e){var t=c(e).toHsl();return t.h=(t.h+180)%360,c(t)}function T(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+120)%360,s:t.s,l:t.l}),c({h:(n+240)%360,s:t.s,l:t.l})]}function N(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+90)%360,s:t.s,l:t.l}),c({h:(n+180)%360,s:t.s,l:t.l}),c({h:(n+270)%360,s:t.s,l:t.l})]}function A(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+72)%360,s:t.s,l:t.l}),c({h:(n+216)%360,s:t.s,l:t.l})]}function I(e,t,n){t=t||6,n=n||30;var r=c(e).toHsl(),i=360/n,o=[c(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(c(r));return o}function R(e,t){t=t||6;for(var n=c(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(c({h:r,s:i,v:o})),o=(o+s)%1;return a}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,o,a,s;return n=t.r/255,r=t.g/255,i=t.b/255,.2126*(o=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4))+.7152*(a=r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4))+.0722*(s=i<=.03928?i/12.92:e.pow((i+.055)/1.055,2.4))},setAlpha:function(e){return this._a=D(e),this._roundA=a(100*this._a)/100,this},toHsv:function(){var e=m(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=m(this._r,this._g,this._b),t=a(360*e.h),n=a(100*e.s),r=a(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=a(360*e.h),n=a(100*e.s),r=a(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return v(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return y(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(100*L(this._r,255))+"%",g:a(100*L(this._g,255))+"%",b:a(100*L(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+a(100*L(this._r,255))+"%, "+a(100*L(this._g,255))+"%, "+a(100*L(this._b,255))+"%)":"rgba("+a(100*L(this._r,255))+"%, "+a(100*L(this._g,255))+"%, "+a(100*L(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+b(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=c(e);n="#"+b(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,i;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(E,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(w,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(_,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(N,arguments)}},c.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:V(e[r]));e=n}return c(e,t)},c.equals=function(e,t){return!(!e||!t)&&c(e).toRgbString()==c(t).toRgbString()},c.random=function(){return c.fromRatio({r:l(),g:l(),b:l()})},c.mix=function(e,t,n){n=0===n?0:n||50;var r=c(e).toRgb(),i=c(t).toRgb(),o=n/100,a;return c({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},c.readability=function(t,n){var r=c(t),i=c(n);return(e.max(r.getLuminance(),i.getLuminance())+.05)/(e.min(r.getLuminance(),i.getLuminance())+.05)},c.isReadable=function(e,t,n){var r=c.readability(e,t),i,o;switch(o=!1,(i=ee(n)).level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7}return o},c.mostReadable=function(e,t,n){var r=null,i=0,o,a,s,u;a=(n=n||{}).includeFallbackColors,s=n.level,u=n.size;for(var l=0;l<t.length;l++)(o=c.readability(e,t[l]))>i&&(i=o,r=c(t[l]));return c.isReadable(e,r,{level:s,size:u})||!a?r:(n.includeFallbackColors=!1,c.mostReadable(e,["#fff","#000"],n))};var P=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=c.hexNames=j(P);function j(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function D(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function L(t,n){B(t)&&(t="100%");var r=U(t);return t=s(n,u(0,parseFloat(t))),r&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function F(e){return s(1,u(0,e))}function z(e){return parseInt(e,16)}function B(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function U(e){return"string"==typeof e&&-1!=e.indexOf("%")}function W(e){return 1==e.length?"0"+e:""+e}function V(e){return e<=1&&(e=100*e+"%"),e}function H(t){return e.round(255*parseFloat(t)).toString(16)}function G(e){return z(e)/255}var q=(Z="[\\s|\\(]+("+(Y="(?:"+"[-\\+]?\\d*\\.\\d+%?"+")|(?:"+"[-\\+]?\\d+%?"+")")+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",$="[\\s|\\(]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",{CSS_UNIT:new RegExp(Y),rgb:new RegExp("rgb"+Z),rgba:new RegExp("rgba"+$),hsl:new RegExp("hsl"+Z),hsla:new RegExp("hsla"+$),hsv:new RegExp("hsv"+Z),hsva:new RegExp("hsva"+$),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}),K,X,Y,Z,$;function J(e){return!!q.CSS_UNIT.exec(e)}function Q(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t=!1,i;if(P[e])e=P[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(i=q.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=q.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=q.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=q.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=q.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=q.hsva.exec(e))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=q.hex8.exec(e))?{r:z(i[1]),g:z(i[2]),b:z(i[3]),a:G(i[4]),format:t?"name":"hex8"}:(i=q.hex6.exec(e))?{r:z(i[1]),g:z(i[2]),b:z(i[3]),format:t?"name":"hex"}:(i=q.hex4.exec(e))?{r:z(i[1]+""+i[1]),g:z(i[2]+""+i[2]),b:z(i[3]+""+i[3]),a:G(i[4]+""+i[4]),format:t?"name":"hex8"}:!!(i=q.hex3.exec(e))&&{r:z(i[1]+""+i[1]),g:z(i[2]+""+i[2]),b:z(i[3]+""+i[3]),format:t?"name":"hex"}}function ee(e){var t,n;return t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}void 0!==t&&t.exports?t.exports=c:o.tinycolor=c}(Math)},{}],358:[function(e,t,n){function r(e){return e.replace(/^\s*|\s*$/g,"")}(n=t.exports=r).left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],359:[function(e,t,n){"use strict";var r=e("punycode"),i=e("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=x,n.resolve=C,n.resolveObject=E,n.format=_,n.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),p=["%","/","?",";","#"].concat(f),h=["/","?","#"],d=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=e("querystring");function x(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}function _(e){return i.isString(e)&&(e=x(e)),e instanceof o?e.format():o.prototype.format.call(e)}function C(e,t){return x(e,!1,!0).resolve(t)}function E(e,t){return e?x(e,!1,!0).resolveObject(t):t}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",l=e.split(s),c=/\\/g;l[0]=l[0].replace(c,"/");var d=e=l.join(s);if(d=d.trim(),!n&&1===e.split("#").length){var x=u.exec(d);if(x)return this.path=d,this.href=d,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?w.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(d);if(_){var C=(_=_[0]).toLowerCase();this.protocol=C,d=d.substr(_.length)}if(n||_||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===d.substr(0,2);!E||_&&y[_]||(d=d.substr(2),this.slashes=!0)}if(!y[_]&&(E||_&&!b[_])){for(var S=-1,k=0,O,T;k<h.length;k++){var N;-1!==(N=d.indexOf(h[k]))&&(-1===S||N<S)&&(S=N)}-1!==(T=-1===S?d.lastIndexOf("@"):d.lastIndexOf("@",S))&&(O=d.slice(0,T),d=d.slice(T+1),this.auth=decodeURIComponent(O)),S=-1;for(var k=0;k<p.length;k++){var N;-1!==(N=d.indexOf(p[k]))&&(-1===S||N<S)&&(S=N)}-1===S&&(S=d.length),this.host=d.slice(0,S),d=d.slice(S),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var I=this.hostname.split(/\./),k=0,R=I.length;k<R;k++){var P=I[k];if(P&&!P.match(m)){for(var M="",j=0,D=P.length;j<D;j++)P.charCodeAt(j)>127?M+="x":M+=P[j];if(!M.match(m)){var L=I.slice(0,k),F=I.slice(k+1),z=P.match(g);z&&(L.push(z[1]),F.unshift(z[2])),F.length&&(d="/"+F.join(".")+d),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!v[C])for(var k=0,R=f.length;k<R;k++){var W=f[k];if(-1!==d.indexOf(W)){var V=encodeURIComponent(W);V===W&&(V=escape(W)),d=d.split(W).join(V)}}var H=d.indexOf("#");-1!==H&&(this.hash=d.substr(H),d=d.slice(0,H));var G=d.indexOf("?");if(-1!==G?(this.search=d.substr(G),this.query=d.substr(G+1),t&&(this.query=w.parse(this.query)),d=d.slice(0,G)):t&&(this.search="",this.query={}),d&&(this.pathname=d),b[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",q=this.search||"";this.path=B+q}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=w.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(x(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(n[c]=e[c])}return b[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!b[e.protocol]){for(var f=Object.keys(e),p=0;p<f.length;p++){var h=f[p];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||v||n.host&&e.pathname,_=x,C=n.pathname&&n.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],E=n.protocol&&!b[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),x=x&&(""===d[0]||""===C[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=d;else if(d.length)C||(C=[]),C.pop(),C=C.concat(d),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){var S;if(E)n.hostname=n.host=C.shift(),(S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=S.shift(),n.host=n.hostname=S.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=C.slice(-1)[0],O=(n.host||e.host||C.length>1)&&("."===k||".."===k)||""===k,T=0,N=C.length;N>=0;N--)"."===(k=C[N])?C.splice(N,1):".."===k?(C.splice(N,1),T++):T&&(C.splice(N,1),T--);if(!x&&!_)for(;T--;T)C.unshift("..");!x||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),O&&"/"!==C.join("/").substr(-1)&&C.push("");var A=""===C[0]||C[0]&&"/"===C[0].charAt(0),S;E&&(n.hostname=n.host=A?"":C.length?C.shift():"",(S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=S.shift(),n.host=n.hostname=S.shift()));return(x=x||n.host&&C.length)&&!A&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":360,punycode:313,querystring:316}],360:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],361:[function(e,t,n){(function(n){!function(){var r={},i;function o(){void 0!==n&&"development"!=n.env.NODE_ENV||console.log.apply(console,arguments)}"object"==typeof t?t.exports=r:self.UTIF=r,function(e,t){var n,r,i;n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e){this.message="JPEG error: "+e}return e.prototype=Error(),e.prototype.name="JpegError",e.constructor=e}(),i=function(){function e(e,t){this.message=e,this.g=t}return e.prototype=Error(),e.prototype.name="DNLMarkerError",e.constructor=e}(),function(){function t(){this.M=null,this.B=-1}function o(e,t){for(var n=0,r=[],i,o,a=16;0<a&&!e[a-1];)a--;r.push({children:[],index:0});var s=r[0],u;for(i=0;i<a;i++){for(o=0;o<e[i];o++){for((s=r.pop()).children[s.index]=t[n];0<s.index;)s=r.pop();for(s.index++,r.push(s);r.length<=i;)r.push(u={children:[],index:0}),s.children[s.index]=u.children,s=u;n++}i+1<a&&(r.push(u={children:[],index:0}),s.children[s.index]=u.children,s=u)}return r[0].children}function a(e,t,o,a,s,c,f,p,h){function d(){if(0<O)return k>>--O&1;if(255===(k=e[t++])){var n=e[t++];if(n){if(220===n&&C){t+=2;var a=e[t++]<<8|e[t++];if(0<a&&a!==o.g)throw new i("Found DNL marker (0xFFDC) while parsing scan data",a)}throw new r("unexpected marker "+(k<<8|n).toString(16))}}return O=7,k>>>7}function m(e){for(;;){if("number"==typeof(e=e[d()]))return e;if("object"!==(void 0===e?"undefined":n(e)))throw new r("invalid huffman sequence")}}function g(e){for(var t=0;0<e;)t=t<<1|d(),e--;return t}function v(e){if(1===e)return 1===d()?1:-1;var t=g(e);return t>=1<<e-1?t:t+(-1<<e)+1}function y(e,t){var n=m(e.D);for(n=0===n?0:v(n),e.a[t]=e.m+=n,n=1;64>n;){var r=m(e.o),i=15&r;if(r>>=4,0===i){if(15>r)break;n+=16}else n+=r,e.a[t+l[n]]=v(i),n++}}function b(e,t){var n=m(e.D);n=0===n?0:v(n)<<h,e.a[t]=e.m+=n}function w(e,t){e.a[t]|=d()<<h}function x(e,t){if(0<T)T--;else for(var n=c;n<=f;){var r=m(e.o),i=15&r;if(r>>=4,0===i){if(15>r){T=g(r)+(1<<r)-1;break}n+=16}else n+=r,e.a[t+l[n]]=v(i)*(1<<h),n++}}function _(e,t){for(var n=c,i=0,o;n<=f;){o=t+l[n];var a=0>e.a[o]?-1:1;switch(N){case 0:if(o=15&(i=m(e.o)),i>>=4,0===o)15>i?(T=g(i)+(1<<i),N=4):(i=16,N=1);else{if(1!==o)throw new r("invalid ACn encoding");A=v(o),N=i?2:3}continue;case 1:case 2:e.a[o]?e.a[o]+=a*(d()<<h):0==--i&&(N=2===N?3:0);break;case 3:e.a[o]?e.a[o]+=a*(d()<<h):(e.a[o]=A<<h,N=0);break;case 4:e.a[o]&&(e.a[o]+=a*(d()<<h))}n++}4===N&&0==--T&&(N=0)}for(var C=9<arguments.length&&void 0!==arguments[9]&&arguments[9],E=o.P,S=t,k=0,O=0,T=0,N=0,A,I=a.length,R,P,M,j,D=o.S?0===c?0===p?b:w:0===p?x:_:y,L=0,F=1===I?a[0].c*a[0].l:E*o.O,z,B;L<F;){var U=s?Math.min(F-L,s):F;for(R=0;R<I;R++)a[R].m=0;if(T=0,1===I){var W=a[0];for(j=0;j<U;j++)D(W,64*((W.c+1)*(L/W.c|0)+L%W.c)),L++}else for(j=0;j<U;j++){for(R=0;R<I;R++)for(z=(W=a[R]).h,B=W.j,P=0;P<B;P++)for(M=0;M<z;M++)D(W,64*((W.c+1)*((L/E|0)*W.j+P)+(L%E*W.h+M)));L++}if(O=0,(W=u(e,t))&&W.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+W.f),t=W.offset),!(W=W&&W.F)||65280>=W)throw new r("marker was not found");if(!(65488<=W&&65495>=W))break;t+=2}return(W=u(e,t))&&W.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+W.f),t=W.offset),t-S}function s(e,t){for(var n=t.c,i=t.l,o=new Int16Array(64),a=0;a<i;a++)for(var s=0;s<n;s++){var u=64*((t.c+1)*a+s),l=o,c=t.G,f=t.a;if(!c)throw new r("missing required Quantization Table.");for(var p=0;64>p;p+=8){var h=f[u+p],d=f[u+p+1],m=f[u+p+2],g=f[u+p+3],v=f[u+p+4],y=f[u+p+5],b=f[u+p+6],w=f[u+p+7];if(h*=c[p],0==(d|m|g|v|y|b|w))h=5793*h+512>>10,l[p]=h,l[p+1]=h,l[p+2]=h,l[p+3]=h,l[p+4]=h,l[p+5]=h,l[p+6]=h,l[p+7]=h;else{d*=c[p+1],m*=c[p+2],g*=c[p+3],v*=c[p+4],y*=c[p+5],b*=c[p+6],w*=c[p+7];var x=5793*h+128>>8,_=5793*v+128>>8,C=m,E=b;_=(x=x+_+1>>1)-_,h=3784*C+1567*E+128>>8,C=1567*C-3784*E+128>>8,y=(v=(v=2896*(d-w)+128>>8)+(y<<=4)+1>>1)-y,g=(w=(w=2896*(d+w)+128>>8)+(g<<=4)+1>>1)-g,E=(x=x+(E=h)+1>>1)-E,C=(_=_+C+1>>1)-C,h=2276*v+3406*w+2048>>12,v=3406*v-2276*w+2048>>12,w=h,h=799*g+4017*y+2048>>12,g=4017*g-799*y+2048>>12,y=h,l[p]=x+w,l[p+7]=x-w,l[p+1]=_+y,l[p+6]=_-y,l[p+2]=C+g,l[p+5]=C-g,l[p+3]=E+v,l[p+4]=E-v}}for(c=0;8>c;++c)h=l[c],0==((d=l[c+8])|(m=l[c+16])|(g=l[c+24])|(v=l[c+32])|(y=l[c+40])|(b=l[c+48])|(w=l[c+56]))?(h=-2040>(h=5793*h+8192>>14)?0:2024<=h?255:h+2056>>4,f[u+c]=h,f[u+c+8]=h,f[u+c+16]=h,f[u+c+24]=h,f[u+c+32]=h,f[u+c+40]=h,f[u+c+48]=h,f[u+c+56]=h):(_=(x=4112+((x=5793*h+2048>>12)+(_=5793*v+2048>>12)+1>>1))-_,h=3784*(C=m)+1567*(E=b)+2048>>12,C=1567*C-3784*E+2048>>12,E=h,y=(v=(v=2896*(d-w)+2048>>12)+y+1>>1)-y,g=(w=(w=2896*(d+w)+2048>>12)+g+1>>1)-g,h=2276*v+3406*w+2048>>12,v=3406*v-2276*w+2048>>12,w=h,h=799*g+4017*y+2048>>12,g=4017*g-799*y+2048>>12,y=h,h=(x=x+E+1>>1)+w,w=x-w,d=(_=_+C+1>>1)+y,b=_-y,m=(C=_-C)+g,y=C-g,g=(E=x-E)+v,v=E-v,h=16>h?0:4080<=h?255:h>>4,d=16>d?0:4080<=d?255:d>>4,m=16>m?0:4080<=m?255:m>>4,g=16>g?0:4080<=g?255:g>>4,v=16>v?0:4080<=v?255:v>>4,y=16>y?0:4080<=y?255:y>>4,b=16>b?0:4080<=b?255:b>>4,w=16>w?0:4080<=w?255:w>>4,f[u+c]=h,f[u+c+8]=d,f[u+c+16]=m,f[u+c+24]=g,f[u+c+32]=v,f[u+c+40]=y,f[u+c+48]=b,f[u+c+56]=w)}return t.a}function u(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t,r=e.length-1;if(n=n<t?n:t,t>=r)return null;var i=e[t]<<8|e[t+1];if(65472<=i&&65534>=i)return{f:null,F:i,offset:t};for(var o=e[n]<<8|e[n+1];!(65472<=o&&65534>=o);){if(++n>=r)return null;o=e[n]<<8|e[n+1]}return{f:i.toString(16),F:o,offset:n}}var l=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);t.prototype={parse:function(e){function t(){var t=e[h]<<8|e[h+1];return h+=2,t}function n(){var n=t(),r=u(e,n=h+n-2,h);return r&&r.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+r.f),n=r.offset),n=e.subarray(h,n),h+=n.length,n}function c(e){for(var t=Math.ceil(e.v/8/e.s),n=Math.ceil(e.g/8/e.u),r=0;r<e.b.length;r++){O=e.b[r];var i=Math.ceil(Math.ceil(e.v/8)*O.h/e.s),o=Math.ceil(Math.ceil(e.g/8)*O.j/e.u);O.a=new Int16Array(64*n*O.j*(t*O.h+1)),O.c=i,O.l=o}e.P=t,e.O=n}var f=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).N,p=void 0===f?null:f,h=0,d=null,m=0;f=[];var g=[],v=[],y=t();if(65496!==y)throw new r("SOI not found");for(y=t();65497!==y;){switch(y){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var b=n();65518===y&&65===b[0]&&100===b[1]&&111===b[2]&&98===b[3]&&101===b[4]&&(d={version:b[5]<<8|b[6],Y:b[7]<<8|b[8],Z:b[9]<<8|b[10],W:b[11]});break;case 65499:y=t()+h-2;for(var w;h<y;){var x=e[h++],_=new Uint16Array(64);if(0==x>>4)for(b=0;64>b;b++)_[w=l[b]]=e[h++];else{if(1!=x>>4)throw new r("DQT - invalid table spec");for(b=0;64>b;b++)_[w=l[b]]=t()}f[15&x]=_}break;case 65472:case 65473:case 65474:if(C)throw new r("Only single frame JPEGs supported");t();var C={};for(C.X=65473===y,C.S=65474===y,C.precision=e[h++],y=t(),C.g=p||y,C.v=t(),C.b=[],C.C={},b=e[h++],y=_=x=0;y<b;y++){w=e[h];var E=e[h+1]>>4,S=15&e[h+1];x<E&&(x=E),_<S&&(_=S),E=C.b.push({h:E,j:S,T:e[h+2],G:null}),C.C[w]=E-1,h+=3}C.s=x,C.u=_,c(C);break;case 65476:for(w=t(),y=2;y<w;){for(x=e[h++],_=new Uint8Array(16),b=E=0;16>b;b++,h++)E+=_[b]=e[h];for(S=new Uint8Array(E),b=0;b<E;b++,h++)S[b]=e[h];y+=17+E,(0==x>>4?v:g)[15&x]=o(_,S)}break;case 65501:t();var k=t();break;case 65498:for(b=1==++m&&!p,t(),x=e[h++],w=[],y=0;y<x;y++){_=C.C[e[h++]];var O=C.b[_];_=e[h++],O.D=v[_>>4],O.o=g[15&_],w.push(O)}y=e[h++],x=e[h++],_=e[h++];try{var T=a(e,h,C,w,k,y,x,_>>4,15&_,b);h+=T}catch(t){if(t instanceof i)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(e,{N:t.g});throw t}break;case 65500:h+=4;break;case 65535:255!==e[h]&&h--;break;default:if(255===e[h-3]&&192<=e[h-2]&&254>=e[h-2])h-=3;else{if(!(b=u(e,h-2))||!b.f)throw new r("unknown marker "+y.toString(16));(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+b.f),h=b.offset}}y=t()}for(this.width=C.v,this.height=C.g,this.A=d,this.b=[],y=0;y<C.b.length;y++)(k=f[(O=C.b[y]).T])&&(O.G=k),this.b.push({R:s(C,O),U:O.h/C.s,V:O.j/C.u,c:O.c,l:O.l});this.i=this.b.length},L:function(e,t){var n=this.width/e,r=this.height/t,i,o,a=this.b.length,s=e*t*a,u=new Uint8ClampedArray(s),l=new Uint32Array(e);for(o=0;o<a;o++){var c=this.b[o],f=c.U*n,p=c.V*r,h=o,d=c.R,m=c.c+1<<3;for(i=0;i<e;i++)c=0|i*f,l[i]=(4294967288&c)<<3|7&c;for(f=0;f<t;f++)for(c=m*(4294967288&(c=0|f*p))|(7&c)<<3,i=0;i<e;i++)u[h]=d[c+l[i]],h+=a}if(r=this.M)for(o=0;o<s;)for(n=c=0;c<a;c++,o++,n+=2)u[o]=(u[o]*r[n]>>8)+r[n+1];return u},w:function(){return this.A?!!this.A.W:3===this.i?0!==this.B:1===this.B},I:function(e){for(var t,n,r,i=0,o=e.length;i<o;i+=3)t=e[i],n=e[i+1],r=e[i+2],e[i]=t-179.456+1.402*r,e[i+1]=t+135.459-.344*n-.714*r,e[i+2]=t-226.816+1.772*n;return e},K:function(e){for(var t,n,r,i,o=0,a=0,s=e.length;a<s;a+=4)t=e[a],n=e[a+1],r=e[a+2],i=e[a+3],e[o++]=n*(-660635669420364e-19*n+.000437130475926232*r-54080610064599e-18*t+.00048449797120281*i-.154362151871126)-122.67195406894+r*(-.000957964378445773*r+.000817076911346625*t-.00477271405408747*i+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),e[o++]=107.268039397724+n*(219927104525741e-19*n-.000640992018297945*r+.000659397001245577*t+.000426105652938837*i-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*t+.000770482631801132*i-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),e[o++]=n*(-.000570115196973677*n-263409051004589e-19*r+.0020741088115012*t-.00288260236853442*i+.814272968359295)-20.810012546947+r*(-153496057440975e-19*r-.000132689043961446*t+.000560833691242812*i-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return e.subarray(0,o)},J:function(e){for(var t,n,r,i=0,o=e.length;i<o;i+=4)t=e[i],n=e[i+1],r=e[i+2],e[i]=434.456-t-1.402*r,e[i+1]=119.541-t+.344*n+.714*r,e[i+2]=481.816-t-1.772*n;return e},H:function(e){for(var t,n,r,i,o=0,a=1/255,s=0,u=e.length;s<u;s+=4)t=e[s]*a,n=e[s+1]*a,r=e[s+2]*a,i=e[s+3]*a,e[o++]=255+t*(-4.387332384609988*t+54.48615194189176*n+18.82290502165302*r+212.25662451639585*i-285.2331026137004)+n*(1.7149763477362134*n-5.6096736904047315*r-17.873870861415444*i-5.497006427196366)+r*(-2.5217340131683033*r-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),e[o++]=255+t*(8.841041422036149*t+60.118027045597366*n+6.871425592049007*r+31.159100130055922*i-79.2970844816548)+n*(-15.310361306967817*n+17.575251261109482*r+131.35250912493976*i-190.9453302588951)+r*(4.444339102852739*r+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),e[o++]=255+t*(.8842522430003296*t+8.078677503112928*n+30.89978309703729*r-.23883238689178934*i-14.183576799673286)+n*(10.49593273432072*n+63.02378494754052*r+50.606957656360734*i-112.23884253719248)+r*(.03296041114873217*r+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return e.subarray(0,o)},getData:function(e,t,n){if(4<this.i)throw new r("Unsupported color mode");if(e=this.L(e,t),1===this.i&&n){n=e.length,t=new Uint8ClampedArray(3*n);for(var i=0,o=0;o<n;o++){var a=e[o];t[i++]=a,t[i++]=a,t[i++]=a}return t}if(3===this.i&&this.w())return this.I(e);if(4===this.i){if(this.w())return n?this.K(e):this.J(e);if(n)return this.H(e)}return e}},e.JpegDecoder=t}(),e.encodeImage=function(t,n,r,i){var o={t256:[n],t257:[r],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[r],t279:[n*r*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(i)for(var a in i)o[a]=i[a];for(var s=new Uint8Array(e.encode([o])),u=new Uint8Array(t),l=new Uint8Array(1e3+n*r*4),a=0;a<s.length;a++)l[a]=s[a];for(var a=0;a<u.length;a++)l[1e3+a]=u[a];return l.buffer},e.encode=function(t){var n=new Uint8Array(2e4),r=4,i=e._binBE;n[0]=77,n[1]=77,n[3]=42;var o=8;i.writeUint(n,r,o),r+=4;for(var a=0;a<t.length;a++){var s=e._writeIFD(i,n,o,t[a]);o=s[1],a<t.length-1&&i.writeUint(n,s[0],o)}return n.slice(0,o).buffer},e.decode=function(t){e.decode._decodeG3.allow2D=null;var n=new Uint8Array(t),r=0,i=e._binBE.readASCII(n,r,2);r+=2;var o="II"==i?e._binLE:e._binBE,a=o.readUshort(n,r);r+=2;var s=o.readUint(n,r);r+=4;for(var u=[];;){var l=e._readIFD(o,n,s,u);if(0==(s=o.readUint(n,l)))break}return u},e.decodeImages=function(t,n){for(var r=new Uint8Array(t),i=e._binBE.readASCII(r,0,2),a=0;a<n.length;a++){var s=n[a];if(null!=s.t256){s.isLE="II"==i,s.width=s.t256[0],s.height=s.t257[0];var u=s.t259?s.t259[0]:1,l=s.t266?s.t266[0]:1;s.t284&&2==s.t284[0]&&o("PlanarConfiguration 2 should not be used!");var c=(s.t258?Math.min(32,s.t258[0]):1)*(s.t277?s.t277[0]:1),f=8*Math.ceil(s.width*c/8),p=s.t273;null==p&&(p=s.t324);var h=s.t279;1==u&&1==p.length&&(h=[s.height*(f>>>3)]),null==h&&(h=s.t325);var d=new Uint8Array(s.height*(f>>>3)),m=0;if(null!=s.t322){for(var g=s.t322[0],v=s.t323[0],y=Math.floor((s.width+g-1)/g),b=Math.floor((s.height+v-1)/v),w=new Uint8Array(0|Math.ceil(g*v*c/8)),x=0;x<b;x++)for(var _=0;_<y;_++){for(var C=x*y+_,E=0;E<w.length;E++)w[E]=0;e.decode._decompress(s,r,p[C],h[C],u,w,0,l),6==u?d=w:e._copyTile(w,0|Math.ceil(g*c/8),v,d,0|Math.ceil(s.width*c/8),s.height,0|Math.ceil(_*g*c/8),x*v)}m=8*d.length}else{var S=s.t278?s.t278[0]:s.height;S=Math.min(S,s.height);for(var C=0;C<p.length;C++)e.decode._decompress(s,r,p[C],h[C],u,d,0|Math.ceil(m/8),l),m+=f*S;m=Math.min(m,8*d.length)}s.data=new Uint8Array(d.buffer,0,0|Math.ceil(m/8))}}},e.decode._decompress=function(n,r,i,a,s,u,l,c){if(1==s)for(var f=0;f<a;f++)u[l+f]=r[i+f];else if(3==s)e.decode._decodeG3(r,i,a,u,l,n.width,c);else if(4==s)e.decode._decodeG4(r,i,a,u,l,n.width,c);else if(5==s)e.decode._decodeLZW(r,i,u,l);else if(6==s)e.decode._decodeOldJPEG(n,r,i,a,u,l);else if(7==s)e.decode._decodeNewJPEG(n,r,i,a,u,l);else if(8==s)for(var p=new Uint8Array(r.buffer,i,a),h=t.inflate(p),d=0;d<h.length;d++)u[l+d]=h[d];else 32773==s?e.decode._decodePackBits(r,i,a,u,l):32809==s?e.decode._decodeThunder(r,i,a,u,l):o("Unknown compression",s);if(n.t317&&2==n.t317[0])for(var m=n.t277?n.t277[0]:1,g=n.t278?n.t278[0]:n.height,v=n.width*m,y=0;y<g;y++){var b=l+y*v;if(3==m)for(var f=3;f<v;f+=3)u[b+f]=u[b+f]+u[b+f-3]&255,u[b+f+1]=u[b+f+1]+u[b+f-2]&255,u[b+f+2]=u[b+f+2]+u[b+f-1]&255;else for(var f=m;f<v;f++)u[b+f]=u[b+f]+u[b+f-m]&255}},e.decode._decodeNikon=function(e,t,n,r,i){var a=[[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],s,u,l,c,f,p,h,d,m=0,g=0,v=0,y,b,n,w,x;o(e.slice(t,t+100)),s=e[t],u=e[++t],t++,o(s.toString(16),u.toString(16),n)},e.decode._decodeNewJPEG=function(t,n,r,i,o,a){var s=t.t347,u=s?s.length:0,l=new Uint8Array(u+i);if(s){for(var c=216,f=217,p=0,h=0;h<u-1&&(255!=s[h]||217!=s[h+1]);h++)l[p++]=s[h];var d=n[r],m=n[r+1];255==d&&216==m||(l[p++]=d,l[p++]=m);for(var h=2;h<i;h++)l[p++]=n[r+h]}else for(var h=0;h<i;h++)l[h]=n[r+h];if(32803==t.t262){var g=t.t258[0],v,y=(new LosslessJpegDecoder).decode(l),b=y.length;if(16==g)for(var h=0;h<b;h++)o[a++]=255&y[h],o[a++]=y[h]>>>8;else{if(12!=g)throw new Error("unsupported bit depth "+g);for(var h=0;h<b;h+=2)o[a++]=y[h]>>>4,o[a++]=255&(y[h]<<4|y[h+1]>>>8),o[a++]=255&y[h+1]}}else{var w=new e.JpegDecoder;w.parse(l);for(var x=w.getData(w.width,w.height),h=0;h<x.length;h++)o[a+h]=x[h]}6==t.t262[0]&&(t.t262[0]=2)},e.decode._decodeOldJPEGInit=function(e,t,n,r){var i=216,a=217,s=219,u=196,l=221,c=192,f=218,p=0,h=0,d,m,g=!1,v,y,b,w=e.t513,x=w?w[0]:0,_=e.t514,C=_?_[0]:0,E=e.t324||e.t273||w,S=e.t530,k=0,O=0,T=e.t277?e.t277[0]:1,N=e.t515;if(E&&(h=E[0],g=E.length>1),!g){if(255==t[n]&&216==t[n+1])return{jpegOffset:n};if(null!=w&&(255==t[n+x]&&216==t[n+x+1]?p=n+x:o("JPEGInterchangeFormat does not point to SOI"),null==_?o("JPEGInterchangeFormatLength field is missing"):(x>=h||x+C<=h)&&o("JPEGInterchangeFormatLength field value is invalid"),null!=p))return{jpegOffset:p}}if(null!=S&&(k=S[0],O=S[1]),null!=w&&null!=_)if(C>=2&&x+C<=h){for(d=255==t[n+x+C-2]&&216==t[n+x+C-1]?new Uint8Array(C-2):new Uint8Array(C),v=0;v<d.length;v++)d[v]=t[n+x+v];o("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else o("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==d){var A=0,I=[];I[A++]=255,I[A++]=216;var R=e.t519;if(null==R)throw new Error("JPEGQTables tag is missing");for(v=0;v<R.length;v++)for(I[A++]=255,I[A++]=219,I[A++]=0,I[A++]=67,I[A++]=v,y=0;y<64;y++)I[A++]=t[n+R[v]+y];for(b=0;b<2;b++){var P=e[0==b?"t520":"t521"];if(null==P)throw new Error((0==b?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(v=0;v<P.length;v++){I[A++]=255,I[A++]=196;var M=19;for(y=0;y<16;y++)M+=t[n+P[v]+y];for(I[A++]=M>>>8,I[A++]=255&M,I[A++]=v|b<<4,y=0;y<16;y++)I[A++]=t[n+P[v]+y];for(y=0;y<M;y++)I[A++]=t[n+P[v]+16+y]}}if(I[A++]=255,I[A++]=192,I[A++]=0,I[A++]=8+3*T,I[A++]=8,I[A++]=e.height>>>8&255,I[A++]=255&e.height,I[A++]=e.width>>>8&255,I[A++]=255&e.width,I[A++]=T,1==T)I[A++]=1,I[A++]=17,I[A++]=0;else for(v=0;v<3;v++)I[A++]=v+1,I[A++]=0!=v?17:(15&k)<<4|15&O,I[A++]=v;null!=N&&0!=N[0]&&(I[A++]=255,I[A++]=221,I[A++]=0,I[A++]=4,I[A++]=N[0]>>>8&255,I[A++]=255&N[0]),d=new Uint8Array(I)}var j=-1;for(v=0;v<d.length-1;){if(255==d[v]&&192==d[v+1]){j=v;break}v++}if(-1==j){var D=new Uint8Array(d.length+10+3*T);D.set(d);var L=d.length;if(j=d.length,(d=D)[L++]=255,d[L++]=192,d[L++]=0,d[L++]=8+3*T,d[L++]=8,d[L++]=e.height>>>8&255,d[L++]=255&e.height,d[L++]=e.width>>>8&255,d[L++]=255&e.width,d[L++]=T,1==T)d[L++]=1,d[L++]=17,d[L++]=0;else for(v=0;v<3;v++)d[L++]=v+1,d[L++]=0!=v?17:(15&k)<<4|15&O,d[L++]=v}if(255==t[h]&&218==t[h+1]){var F=t[h+2]<<8|t[h+3];for((m=new Uint8Array(F+2))[0]=t[h],m[1]=t[h+1],m[2]=t[h+2],m[3]=t[h+3],v=0;v<F-2;v++)m[v+4]=t[h+v+4]}else{var z=0;if((m=new Uint8Array(8+2*T))[z++]=255,m[z++]=218,m[z++]=0,m[z++]=6+2*T,m[z++]=T,1==T)m[z++]=1,m[z++]=0;else for(v=0;v<3;v++)m[z++]=v+1,m[z++]=v<<4|v;m[z++]=0,m[z++]=63,m[z++]=0}return{jpegOffset:n,tables:d,sosMarker:m,sofPosition:j}},e.decode._decodeOldJPEG=function(t,n,r,i,o,a){var s,u,l,c,f,p=e.decode._decodeOldJPEGInit(t,n,r,i);if(null!=p.jpegOffset)for(u=r+i-p.jpegOffset,c=new Uint8Array(u),s=0;s<u;s++)c[s]=n[p.jpegOffset+s];else{for(l=p.tables.length,(c=new Uint8Array(l+p.sosMarker.length+i+2)).set(p.tables),f=l,c[p.sofPosition+5]=t.height>>>8&255,c[p.sofPosition+6]=255&t.height,c[p.sofPosition+7]=t.width>>>8&255,c[p.sofPosition+8]=255&t.width,255==n[r]&&n[r+1]==SOS||(c.set(p.sosMarker,bufoff),bufoff+=sosMarker.length),s=0;s<i;s++)c[bufoff++]=n[r+s];c[bufoff++]=255,c[bufoff++]=EOI}var h=new e.JpegDecoder;h.parse(c);for(var d=h.getData(h.width,h.height),s=0;s<d.length;s++)o[a+s]=d[s];6==t.t262[0]&&(t.t262[0]=2)},e.decode._decodePackBits=function(e,t,n,r,i){for(var o=new Int8Array(e.buffer),a=new Int8Array(r.buffer),s=t+n;t<s;){var u=o[t];if(t++,u>=0&&u<128)for(var l=0;l<u+1;l++)a[i]=o[t],i++,t++;if(u>=-127&&u<0){for(var l=0;l<1-u;l++)a[i]=o[t],i++;t++}}},e.decode._decodeThunder=function(e,t,n,r,i){for(var o=[0,1,0,-1],a=[0,1,2,3,0,-3,-2,-1],s=t+n,u=2*i,l=0;t<s;){var c=e[t],f=c>>>6,p=63&c;if(t++,3==f&&(l=15&p,r[u>>>1]|=l<<4*(1-u&1),u++),0==f)for(var h=0;h<p;h++)r[u>>>1]|=l<<4*(1-u&1),u++;if(2==f)for(var h=0;h<2;h++){var d;4!=(d=p>>>3*(1-h)&7)&&(l+=a[d],r[u>>>1]|=l<<4*(1-u&1),u++)}if(1==f)for(var h=0;h<3;h++){var d;2!=(d=p>>>2*(2-h)&3)&&(l+=o[d],r[u>>>1]|=l<<4*(1-u&1),u++)}}},e.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},e.decode._lens=function(){var e=function(e,t,n,r){for(var i=0;i<t.length;i++)e[t[i]]=n+i*r},t="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",n="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",r="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",i="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",o="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";t=t.split(","),n=n.split(","),r=r.split(","),i=i.split(","),o=o.split(",");var a={},s={};return e(a,t,0,1),e(a,r,64,64),e(a,o,1792,64),e(s,n,0,1),e(s,i,64,64),e(s,o,1792,64),[a,s]}(),e.decode._decodeG4=function(t,n,r,i,o,a,s){for(var u=e.decode,l=n<<3,c=0,f="",p=[],h=[],d=0;d<a;d++)h.push(0);h=u._makeDiff(h);for(var m=0,g=0,v=0,y=0,b=0,w=0,x=0,_="",C=0,E=8*Math.ceil(a/8);l>>>3<n+r;){y=u._findDiff(h,m+(0==m?0:1),1-w),b=u._findDiff(h,y,w);var S=0;if(1==s&&(S=t[l>>>3]>>>7-(7&l)&1),2==s&&(S=t[l>>>3]>>>(7&l)&1),l++,f+=S,"H"==_){if(null!=u._lens[w][f]){var k=u._lens[w][f];f="",c+=k,k<64&&(u._addNtimes(p,c,w),m+=c,w=1-w,c=0,0==--C&&(_=""))}}else"0001"==f&&(f="",u._addNtimes(p,b-m,w),m=b),"001"==f&&(f="",_="H",C=2),null!=u._dmap[f]&&(g=y+u._dmap[f],u._addNtimes(p,g-m,w),m=g,f="",w=1-w);p.length==a&&""==_&&(u._writeBits(p,i,8*o+x*E),w=0,x++,m=0,h=u._makeDiff(p),p=[])}},e.decode._findDiff=function(e,t,n){for(var r=0;r<e.length;r+=2)if(e[r]>=t&&e[r+1]==n)return e[r]},e.decode._makeDiff=function(e){var t=[];1==e[0]&&t.push(0,1);for(var n=1;n<e.length;n++)e[n-1]!=e[n]&&t.push(n,e[n]);return t.push(e.length,0,e.length,1),t},e.decode._decodeG3=function(t,n,r,i,o,a,s){for(var u=e.decode,l=n<<3,c=0,f="",p=[],h=[],d=0;d<a;d++)p.push(0);for(var m=0,g=0,v=0,y=0,b=0,w=0,x=-1,_="",C=0,E=!1,S=8*Math.ceil(a/8);l>>>3<n+r;){y=u._findDiff(h,m+(0==m?0:1),1-w),b=u._findDiff(h,y,w);var k=0;if(1==s&&(k=t[l>>>3]>>>7-(7&l)&1),2==s&&(k=t[l>>>3]>>>(7&l)&1),l++,f+=k,E){if(null!=u._lens[w][f]){var O=u._lens[w][f];f="",c+=O,O<64&&(u._addNtimes(p,c,w),w=1-w,c=0)}}else if("H"==_){if(null!=u._lens[w][f]){var O=u._lens[w][f];f="",c+=O,O<64&&(u._addNtimes(p,c,w),m+=c,w=1-w,c=0,0==--C&&(_=""))}}else"0001"==f&&(f="",u._addNtimes(p,b-m,w),m=b),"001"==f&&(f="",_="H",C=2),null!=u._dmap[f]&&(g=y+u._dmap[f],u._addNtimes(p,g-m,w),m=g,f="",w=1-w);f.endsWith("000000000001")&&(x>=0&&u._writeBits(p,i,8*o+x*S),1==s&&(E=1==(t[l>>>3]>>>7-(7&l)&1)),2==s&&(E=1==(t[l>>>3]>>>(7&l)&1)),l++,null==u._decodeG3.allow2D&&(u._decodeG3.allow2D=E),u._decodeG3.allow2D||(E=!0,l--),f="",w=0,x++,m=0,h=u._makeDiff(p),p=[])}p.length==a&&u._writeBits(p,i,8*o+x*S)},e.decode._addNtimes=function(e,t,n){for(var r=0;r<t;r++)e.push(n)},e.decode._writeBits=function(e,t,n){for(var r=0;r<e.length;r++)t[n+r>>>3]|=e[r]<<7-(n+r&7)},e.decode._decodeLZW=function(t,n,r,i){if(null==e.decode._lzwTab){for(var o=new Uint32Array(65535),a=new Uint16Array(65535),s=new Uint8Array(2e6),u=0;u<256;u++)s[u<<2]=u,o[u]=u<<2,a[u]=1;e.decode._lzwTab=[o,a,s]}for(var l=e.decode._copyData,c=e.decode._lzwTab[0],f=e.decode._lzwTab[1],s=e.decode._lzwTab[2],p=258,h=1032,d=9,m=n<<3,g=256,v=257,y=0,b=0,w=0;b=(y=t[m>>>3]<<16|t[m+8>>>3]<<8|t[m+16>>>3])>>24-(7&m)-d&(1<<d)-1,m+=d,257!=b;){if(256==b){if(d=9,p=258,h=1032,b=(y=t[m>>>3]<<16|t[m+8>>>3]<<8|t[m+16>>>3])>>24-(7&m)-d&(1<<d)-1,m+=d,257==b)break;r[i]=b,i++}else if(b<p){var x=c[b],_=f[b],C,E;if(l(s,x,r,i,_),i+=_,w>=p)c[p]=h,s[c[p]]=x[0],f[p]=1,h=h+1+3&-4,p++;else c[p]=h,l(s,C=c[w],s,h,E=f[w]),s[h+E]=s[x],E++,f[p]=E,p++,h=h+E+3&-4;p+1==1<<d&&d++}else{var C,E;if(w>=p)c[p]=h,f[p]=0,p++;else c[p]=h,l(s,C=c[w],s,h,E=f[w]),s[h+E]=s[h],E++,f[p]=E,p++,l(s,h,r,i,E),i+=E,h=h+E+3&-4;p+1==1<<d&&d++}w=b}},e.decode._copyData=function(e,t,n,r,i){for(var o=0;o<i;o+=4)n[r+o]=e[t+o],n[r+o+1]=e[t+o+1],n[r+o+2]=e[t+o+2],n[r+o+3]=e[t+o+3]},e.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},e.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},e._readIFD=function(t,n,r,i){var a=t.readUshort(n,r);r+=2;var s={};i.push(s);for(var u=0;u<a;u++){var l=t.readUshort(n,r);r+=2;var c=t.readUshort(n,r);r+=2;var f=t.readUint(n,r);r+=4;var p=t.readUint(n,r);r+=4;var h=[];if(s["t"+l]=h,1==c||7==c)for(var d=0;d<f;d++)h.push(n[(f<5?r-4:p)+d]);if(2==c&&h.push(t.readASCII(n,f<5?r-4:p,f-1)),3==c)for(var d=0;d<f;d++)h.push(t.readUshort(n,(f<3?r-4:p)+2*d));if(4==c)for(var d=0;d<f;d++)h.push(t.readUint(n,(f<2?r-4:p)+4*d));if(5==c)for(var d=0;d<f;d++)h.push(t.readUint(n,p+8*d)/t.readUint(n,p+8*d+4));if(8==c)for(var d=0;d<f;d++)h.push(t.readShort(n,(f<3?r-4:p)+2*d));if(9==c)for(var d=0;d<f;d++)h.push(t.readInt(n,(f<2?r-4:p)+4*d));if(10==c)for(var d=0;d<f;d++)h.push(t.readInt(n,p+8*d)/t.readInt(n,p+8*d+4));if(11==c)for(var d=0;d<f;d++)h.push(t.readFloat(n,p+4*d));if(12==c)for(var d=0;d<f;d++)h.push(t.readDouble(n,p+8*d));if(0!=f&&0==h.length&&o("unknown TIFF tag type: ",c,"num:",f),330==l)for(var d=0;d<f;d++)e._readIFD(t,n,h[d],i)}return r},e._writeIFD=function(t,n,r,i){var o=Object.keys(i);t.writeUshort(n,r,o.length);for(var a=(r+=2)+12*o.length+4,s=0;s<o.length;s++){var u=o[s],l=parseInt(u.slice(1)),c=e.ttypes[l];if(null==c)throw new Error("unknown type of tag: "+l);var f=i[u];2==c&&(f=f[0]+"\0");var p=f.length;t.writeUshort(n,r,l),r+=2,t.writeUshort(n,r,c),r+=2,t.writeUint(n,r,p);var h=[-1,1,1,2,4,8,0,0,0,0,0,0,8][c]*p,d=r+=4;if(h>4&&(t.writeUint(n,r,a),d=a),2==c&&t.writeASCII(n,d,f),3==c)for(var m=0;m<p;m++)t.writeUshort(n,d+2*m,f[m]);if(4==c)for(var m=0;m<p;m++)t.writeUint(n,d+4*m,f[m]);if(5==c)for(var m=0;m<p;m++)t.writeUint(n,d+8*m,Math.round(1e4*f[m])),t.writeUint(n,d+8*m+4,1e4);if(12==c)for(var m=0;m<p;m++)t.writeDouble(n,d+8*m,f[m]);h>4&&(a+=h+=1&h),r+=4}return[r,a]},e.toRGBA8=function(e){var t=e.width,n=e.height,r=t*n,i=4*r,a=e.data,s=new Uint8Array(4*r),u=e.t262[0],l=e.t258?Math.min(32,e.t258[0]):1,c=e.isLE?1:0;if(0==u)for(var f=Math.ceil(l*t/8),p=0;p<n;p++){var h=p*f,d=p*t;if(1==l)for(var m=0;m<t;m++){var g=d+m<<2,v=a[h+(m>>3)]>>7-(7&m)&1;s[g]=s[g+1]=s[g+2]=255*(1-v),s[g+3]=255}if(4==l)for(var m=0;m<t;m++){var g=d+m<<2,v=a[h+(m>>1)]>>4-4*(1&m)&15;s[g]=s[g+1]=s[g+2]=17*(15-v),s[g+3]=255}if(8==l)for(var m=0;m<t;m++){var g=d+m<<2,v=a[h+m];s[g]=s[g+1]=s[g+2]=255-v,s[g+3]=255}}else if(1==u)for(var f=Math.ceil(l*t/8),p=0;p<n;p++){var h=p*f,d=p*t;if(1==l)for(var m=0;m<t;m++){var g=d+m<<2,v=a[h+(m>>3)]>>7-(7&m)&1;s[g]=s[g+1]=s[g+2]=255*v,s[g+3]=255}if(2==l)for(var m=0;m<t;m++){var g=d+m<<2,v=a[h+(m>>2)]>>6-2*(3&m)&3;s[g]=s[g+1]=s[g+2]=85*v,s[g+3]=255}if(8==l)for(var m=0;m<t;m++){var g=d+m<<2,v=a[h+m];s[g]=s[g+1]=s[g+2]=v,s[g+3]=255}if(16==l)for(var m=0;m<t;m++){var g=d+m<<2,v=a[h+(2*m+c)];s[g]=s[g+1]=s[g+2]=Math.min(255,v),s[g+3]=255}}else if(2==u)if(8==l)if(e.t338)if(e.t338[0]>0)for(var m=0;m<i;m++)s[m]=a[m];else for(var m=0;m<i;m+=4)s[m]=a[m],s[m+1]=a[m+1],s[m+2]=a[m+2],s[m+3]=255;else{var y;if(4==(y=e.t258?e.t258.length:3))for(var m=0;m<i;m++)s[m]=a[m];if(3==y)for(var m=0;m<r;m++){var g,b=3*m;s[g=m<<2]=a[b],s[g+1]=a[b+1],s[g+2]=a[b+2],s[g+3]=255}}else for(var m=0;m<r;m++){var g,b=6*m;s[g=m<<2]=a[b],s[g+1]=a[b+2],s[g+2]=a[b+4],s[g+3]=255}else if(3==u)for(var w=e.t320,m=0;m<r;m++){var g=m<<2,x=a[m];s[g]=w[x]>>8,s[g+1]=w[256+x]>>8,s[g+2]=w[512+x]>>8,s[g+3]=255}else if(5==u)for(var y,_=(y=e.t258?e.t258.length:4)>4?1:0,m=0;m<r;m++){var g=m<<2,C=m*y,E=255-a[C],S=255-a[C+1],k=255-a[C+2],O=(255-a[C+3])*(1/255);s[g]=~~(E*O+.5),s[g+1]=~~(S*O+.5),s[g+2]=~~(k*O+.5),s[g+3]=255*(1-_)+a[C+4]*_}else o("Unknown Photometric interpretation: "+u);return s},e.replaceIMG=function(){for(var t=document.getElementsByTagName("img"),n=0;n<t.length;n++){var r=t[n],i=r.getAttribute("src");if(null!=i){var o=i.split(".").pop().toLowerCase();if("tif"==o||"tiff"==o){var a=new XMLHttpRequest;e._xhrs.push(a),e._imgs.push(r),a.open("GET",i),a.responseType="arraybuffer",a.onload=e._imgLoaded,a.send()}}}},e._xhrs=[],e._imgs=[],e._imgLoaded=function(t){var n=t.target.response,r=e.decode(n),i=r[0];e.decodeImages(n,r);var o=e.toRGBA8(i),a=i.width,s=i.height,u=e._xhrs.indexOf(t.target),l=e._imgs[u];e._xhrs.splice(u,1),e._imgs.splice(u,1);var c=document.createElement("canvas");c.width=a,c.height=s;for(var f=c.getContext("2d"),p=f.createImageData(a,s),h=0;h<o.length;h++)p.data[h]=o[h];f.putImageData(p,0,0);for(var d=["style","class","id"],h=0;h<d.length;h++)c.setAttribute(d[h],l.getAttribute(d[h]));l.parentNode.replaceChild(c,l)},e._binBE={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},readShort:function(t,n){var r=e._binBE.ui8;return r[0]=t[n+1],r[1]=t[n+0],e._binBE.i16[0]},readInt:function(t,n){var r=e._binBE.ui8;return r[0]=t[n+3],r[1]=t[n+2],r[2]=t[n+1],r[3]=t[n+0],e._binBE.i32[0]},readUint:function(t,n){var r=e._binBE.ui8;return r[0]=t[n+3],r[1]=t[n+2],r[2]=t[n+1],r[3]=t[n+0],e._binBE.ui32[0]},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readFloat:function(t,n){for(var r=e._binBE.ui8,i=0;i<4;i++)r[i]=t[n+3-i];return e._binBE.fl32[0]},readDouble:function(t,n){for(var r=e._binBE.ui8,i=0;i<8;i++)r[i]=t[n+7-i];return e._binBE.fl64[0]},writeUshort:function(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},writeUint:function(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n>>0&255},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},writeDouble:function(t,n,r){e._binBE.fl64[0]=r;for(var i=0;i<8;i++)t[n+i]=e._binBE.ui8[7-i]}},e._binBE.ui8=new Uint8Array(8),e._binBE.i16=new Int16Array(e._binBE.ui8.buffer),e._binBE.i32=new Int32Array(e._binBE.ui8.buffer),e._binBE.ui32=new Uint32Array(e._binBE.ui8.buffer),e._binBE.fl32=new Float32Array(e._binBE.ui8.buffer),e._binBE.fl64=new Float64Array(e._binBE.ui8.buffer),e._binLE={nextZero:e._binBE.nextZero,readUshort:function(e,t){return e[t+1]<<8|e[t]},readShort:function(t,n){var r=e._binBE.ui8;return r[0]=t[n+0],r[1]=t[n+1],e._binBE.i16[0]},readInt:function(t,n){var r=e._binBE.ui8;return r[0]=t[n+0],r[1]=t[n+1],r[2]=t[n+2],r[3]=t[n+3],e._binBE.i32[0]},readUint:function(t,n){var r=e._binBE.ui8;return r[0]=t[n+0],r[1]=t[n+1],r[2]=t[n+2],r[3]=t[n+3],e._binBE.ui32[0]},readASCII:e._binBE.readASCII,readFloat:function(t,n){for(var r=e._binBE.ui8,i=0;i<4;i++)r[i]=t[n+i];return e._binBE.fl32[0]},readDouble:function(t,n){for(var r=e._binBE.ui8,i=0;i<8;i++)r[i]=t[n+i];return e._binBE.fl64[0]}},e._copyTile=function(e,t,n,r,i,o,a,s){for(var u=Math.min(t,i-a),l=Math.min(n,o-s),c=0;c<l;c++)for(var f=(s+c)*i+a,p=c*t,h=0;h<u;h++)r[f+h]=e[p+h]}}(r,i="function"==typeof e?e("pako"):self.pako)}()}).call(this,e("_process"))},{_process:312,pako:265}],362:[function(e,n,r){(function(e){function t(e,t){if(r("noDeprecation"))return e;var n=!1;function i(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return i}function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}n.exports=t}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{}],363:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],364:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],365:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{"./support/isBuffer":364,_process:312,dup:27,inherits:363}],366:[function(e,t,n){"use strict";var r=e("global/window"),i=e("is-function"),o=e("parse-headers"),a=e("xtend");function s(e,t){for(var n=0;n<e.length;n++)t(e[n])}function u(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function l(e,t,n){var r=e;return i(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=a(t,{uri:e}),r.callback=n,r}function c(e,t,n){return f(t=l(e,t,n))}function f(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function n(r,i,o){t||(t=!0,e.callback(r,i,o))};function r(){4===l.readyState&&setTimeout(s,0)}function i(){var e=void 0;if(e=l.response?l.response:l.responseText||p(l),b)try{e=JSON.parse(e)}catch(e){}return e}function a(e){return clearTimeout(w),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,x)}function s(){if(!h){var t;clearTimeout(w),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var r=x,a=null;return 0!==t?(r={body:i(),statusCode:t,method:m,headers:{},url:d,rawRequest:l},l.getAllResponseHeaders&&(r.headers=o(l.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),n(a,r,r.body)}}var l=e.xhr||null,f,h;l||(l=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var d=l.url=e.uri||e.url,m=l.method=e.method||"GET",g=e.body||e.data,v=l.headers=e.headers||{},y=!!e.sync,b=!1,w,x={body:void 0,headers:{},statusCode:0,method:m,url:d,rawRequest:l};if("json"in e&&!1!==e.json&&(b=!0,v.accept||v.Accept||(v.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),g=JSON.stringify(!0===e.json?g:e.json))),l.onreadystatechange=r,l.onload=s,l.onerror=a,l.onprogress=function(){},l.onabort=function(){h=!0},l.ontimeout=a,l.open(m,d,!y,e.username,e.password),y||(l.withCredentials=!!e.withCredentials),!y&&e.timeout>0&&(w=setTimeout(function(){if(!h){h=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",a(e)}},e.timeout)),l.setRequestHeader)for(f in v)v.hasOwnProperty(f)&&l.setRequestHeader(f,v[f]);else if(e.headers&&!u(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(g||null),l}function p(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}function h(){}t.exports=c,t.exports.default=c,c.XMLHttpRequest=r.XMLHttpRequest||h,c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:r.XDomainRequest,s(["get","put","post","patch","head","delete"],function(e){c["delete"===e?"del":e]=function(t,n,r){return(n=l(t,n,r)).method=e.toUpperCase(),f(n)}})},{"global/window":251,"is-function":257,"parse-headers":285,xtend:368}],367:[function(e,t,n){t.exports=function e(){return void 0!==self.DOMParser?function(e){var t;return(new self.DOMParser).parseFromString(e,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}}()},{}],368:[function(e,t,n){t.exports=i;var r=Object.prototype.hasOwnProperty;function i(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}},{}],369:[function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i,o,a;return{r:(e.r*e.a+t.r*t.a*(1-e.a))/r,g:(e.g*e.a+t.g*t.a*(1-e.a))/r,b:(e.b*e.a+t.b*t.a*(1-e.a))/r,a:r}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i,o,a;return{r:(t.r*t.a+e.r*e.a*(1-t.a))/r,g:(t.g*t.a+e.g*e.a*(1-t.a))/r,b:(t.b*t.a+e.b*e.a*(1-t.a))/r,a:r}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,u=t.g*t.a,l=t.b*t.a,c,f,p;return{r:(i*s+i*(1-t.a)+s*(1-e.a))/r,g:(o*u+o*(1-t.a)+u*(1-e.a))/r,b:(a*l+a*(1-t.a)+l*(1-e.a))/r,a:r}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,u=t.g*t.a,l=t.b*t.a,c,f,p;return{r:(i*t.a+s*e.a-i*s+i*(1-t.a)+s*(1-e.a))/r,g:(o*t.a+u*e.a-o*u+o*(1-t.a)+u*(1-e.a))/r,b:(a*t.a+l*e.a-a*l+a*(1-t.a)+l*(1-e.a))/r,a:r}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,u=t.g*t.a,l=t.b*t.a,c,f,p;return{r:(2*s<=t.a?2*i*s+i*(1-t.a)+s*(1-e.a):i*(1+t.a)+s*(1+e.a)-2*s*i-t.a*e.a)/r,g:(2*u<=t.a?2*o*u+o*(1-t.a)+u*(1-e.a):o*(1+t.a)+u*(1+e.a)-2*u*o-t.a*e.a)/r,b:(2*l<=t.a?2*a*l+a*(1-t.a)+l*(1-e.a):a*(1+t.a)+l*(1+e.a)-2*l*a-t.a*e.a)/r,a:r}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,u=t.g*t.a,l=t.b*t.a,c,f,p;return{r:(Math.min(i*t.a,s*e.a)+i*(1-t.a)+s*(1-e.a))/r,g:(Math.min(o*t.a,u*e.a)+o*(1-t.a)+u*(1-e.a))/r,b:(Math.min(a*t.a,l*e.a)+a*(1-t.a)+l*(1-e.a))/r,a:r}}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,u=t.g*t.a,l=t.b*t.a,c,f,p;return{r:(Math.max(i*t.a,s*e.a)+i*(1-t.a)+s*(1-e.a))/r,g:(Math.max(o*t.a,u*e.a)+o*(1-t.a)+u*(1-e.a))/r,b:(Math.max(a*t.a,l*e.a)+a*(1-t.a)+l*(1-e.a))/r,a:r}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,u=t.g*t.a,l=t.b*t.a,c,f,p;return{r:(2*i<=e.a?2*i*s+i*(1-t.a)+s*(1-e.a):i*(1+t.a)+s*(1+e.a)-2*s*i-t.a*e.a)/r,g:(2*o<=e.a?2*o*u+o*(1-t.a)+u*(1-e.a):o*(1+t.a)+u*(1+e.a)-2*u*o-t.a*e.a)/r,b:(2*a<=e.a?2*a*l+a*(1-t.a)+l*(1-e.a):a*(1+t.a)+l*(1+e.a)-2*l*a-t.a*e.a)/r,a:r}}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,u=t.g*t.a,l=t.b*t.a,c,f,p;return{r:(i+s-2*Math.min(i*t.a,s*e.a))/r,g:(o+u-2*Math.min(o*t.a,u*e.a))/r,b:(a+l-2*Math.min(a*t.a,l*e.a))/r,a:r}}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,u=t.g*t.a,l=t.b*t.a,c,f,p;return{r:(i*t.a+s*e.a-2*i*s+i*(1-t.a)+s*(1-e.a))/r,g:(o*t.a+u*e.a-2*o*u+o*(1-t.a)+u*(1-e.a))/r,b:(a*t.a+l*e.a-2*a*l+a*(1-t.a)+l*(1-e.a))/r,a:r}}Object.defineProperty(n,"__esModule",{value:!0}),n.srcOver=r,n.dstOver=i,n.multiply=o,n.screen=a,n.overlay=s,n.darken=u,n.lighten=l,n.hardLight=c,n.difference=f,n.exclusion=p},{}],370:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var i=e("@jimp/utils"),o=r(e("../constants")),a=r(e("./composite-modes"));function s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if("function"==typeof r&&(s=r,r={}),!(e instanceof this.constructor))return i.throwError.call(this,"The source must be a Jimp image",s);if("number"!=typeof t||"number"!=typeof n)return i.throwError.call(this,"x and y must be numbers",s);var u=r,l=u.mode,c=u.opacitySource,f=u.opacityDest;l||(l=o.BLEND_SOURCE_OVER),("number"!=typeof c||c<0||c>1)&&(c=1),("number"!=typeof f||f<0||f>1)&&(f=1);var p=a[l];t=Math.round(t),n=Math.round(n);var h=this;return 1!==f&&h.opacity(f),e.scanQuiet(0,0,e.bitmap.width,e.bitmap.height,function(e,r,i){var a=h.getPixelIndex(t+e,n+r,o.EDGE_CROP),s=p({r:this.bitmap.data[i+0]/255,g:this.bitmap.data[i+1]/255,b:this.bitmap.data[i+2]/255,a:this.bitmap.data[i+3]/255},{r:h.bitmap.data[a+0]/255,g:h.bitmap.data[a+1]/255,b:h.bitmap.data[a+2]/255,a:h.bitmap.data[a+3]/255},c);h.bitmap.data[a+0]=this.constructor.limit255(255*s.r),h.bitmap.data[a+1]=this.constructor.limit255(255*s.g),h.bitmap.data[a+2]=this.constructor.limit255(255*s.b),h.bitmap.data[a+3]=this.constructor.limit255(255*s.a)}),(0,i.isNodePattern)(s)&&s.call(this,null,this),this}t.exports=n.default},{"../constants":371,"./composite-modes":369,"@babel/runtime/helpers/interopRequireWildcard":11,"@jimp/utils":414}],371:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EDGE_CROP=n.EDGE_WRAP=n.EDGE_EXTEND=n.BLEND_EXCLUSION=n.BLEND_DIFFERENCE=n.BLEND_HARDLIGHT=n.BLEND_LIGHTEN=n.BLEND_DARKEN=n.BLEND_OVERLAY=n.BLEND_SCREEN=n.BLEND_MULTIPLY=n.BLEND_DESTINATION_OVER=n.BLEND_SOURCE_OVER=n.VERTICAL_ALIGN_BOTTOM=n.VERTICAL_ALIGN_MIDDLE=n.VERTICAL_ALIGN_TOP=n.HORIZONTAL_ALIGN_RIGHT=n.HORIZONTAL_ALIGN_CENTER=n.HORIZONTAL_ALIGN_LEFT=n.AUTO=void 0;var r=-1;n.AUTO=-1;var i=1;n.HORIZONTAL_ALIGN_LEFT=1;var o=2;n.HORIZONTAL_ALIGN_CENTER=2;var a=4;n.HORIZONTAL_ALIGN_RIGHT=4;var s=8;n.VERTICAL_ALIGN_TOP=8;var u=16;n.VERTICAL_ALIGN_MIDDLE=16;var l=32;n.VERTICAL_ALIGN_BOTTOM=32;var c="srcOver";n.BLEND_SOURCE_OVER="srcOver";var f="dstOver";n.BLEND_DESTINATION_OVER="dstOver";var p="multiply";n.BLEND_MULTIPLY="multiply";var h="screen";n.BLEND_SCREEN="screen";var d="overlay";n.BLEND_OVERLAY="overlay";var m="darken";n.BLEND_DARKEN="darken";var g="lighten";n.BLEND_LIGHTEN="lighten";var v="hardLight";n.BLEND_HARDLIGHT="hardLight";var y="difference";n.BLEND_DIFFERENCE="difference";var b="exclusion";n.BLEND_EXCLUSION="exclusion";var w=1;n.EDGE_EXTEND=1;var x=2;n.EDGE_WRAP=2;var _=3;n.EDGE_CROP=3},{}],372:[function(e,t,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.find"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array-buffer.slice"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.entries"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.parse-int"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.timers"),Object.defineProperty(n,"__esModule",{value:!0}),n.addConstants=G,n.addJimpMethods=q,n.jimpEvMethod=K,n.jimpEvChange=X,Object.defineProperty(n,"addType",{enumerable:!0,get:function e(){return T.addType}}),n.default=void 0;for(var a=i(e("@babel/runtime/helpers/construct")),s=i(e("@babel/runtime/helpers/slicedToArray")),u=i(e("@babel/runtime/helpers/classCallCheck")),l=i(e("@babel/runtime/helpers/createClass")),c=i(e("@babel/runtime/helpers/possibleConstructorReturn")),f=i(e("@babel/runtime/helpers/getPrototypeOf")),p=i(e("@babel/runtime/helpers/assertThisInitialized")),h=i(e("@babel/runtime/helpers/inherits")),d=i(e("@babel/runtime/helpers/defineProperty")),m=i(e("@babel/runtime/helpers/typeof")),g=i(e("fs")),v=i(e("path")),y=i(e("events")),b=e("@jimp/utils"),w=i(e("any-base")),x=i(e("mkdirp")),_=i(e("pixelmatch")),C=i(e("tinycolor2")),E=i(e("./modules/phash")),S=i(e("./request")),k=i(e("./composite")),O=i(e("./utils/promisify")),T=r(e("./utils/mime")),N=e("./utils/image-bitmap"),A=r(e("./constants")),I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",R=[NaN,NaN],P=2;P<65;P++){var M=(0,w.default)(w.default.BIN,I.slice(0,P))(new Array(65).join("1"));R.push(M.length)}function j(){}function D(e){return Object.prototype.toString.call(e).toLowerCase().indexOf("arraybuffer")>-1}function L(e){for(var n=t.alloc(e.byteLength),r=new Uint8Array(e),i=0;i<n.length;++i)n[i]=r[i];return n}function F(e,n){(0,S.default)(e,function(r,i,o){if(r)return n(r);if("headers"in i&&"location"in i.headers)return e.url=i.headers.location,F(e,n);if("object"===(0,m.default)(o)&&t.isBuffer(o))return n(null,o);var a="Could not load Buffer from <"+e.url+"> (HTTP: "+i.statusCode+")";return new Error(a)})}function z(e,t){g.default&&"function"==typeof g.default.readFile&&!e.match(/^(http|ftp)s?:\/\/./)?g.default.readFile(e,t):F({url:e},t)}function B(e){return e&&"object"===(0,m.default)(e)&&"number"==typeof e.width&&"number"==typeof e.height&&(t.isBuffer(e.data)||e.data instanceof Uint8Array||"function"==typeof Uint8ClampedArray&&e.data instanceof Uint8ClampedArray)&&(e.data.length===e.width*e.height*4||e.data.length===e.width*e.height*3)}function U(e){if(e.length%3!=0)throw new Error("Buffer length is incorrect");for(var n=t.allocUnsafe(e.length/3*4),r=0,i=0;i<e.length;i++)n[r]=e[i],(i+1)%3==0&&(n[++r]=255),r++;return n}var W={data:null,width:null,height:null},V=function(e){function n(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(0,u.default)(this,n),e=(0,c.default)(this,(0,f.default)(n).call(this)),(0,d.default)((0,p.default)(e),"bitmap",W),(0,d.default)((0,p.default)(e),"_background",0),(0,d.default)((0,p.default)(e),"_originalMime",n.MIME_PNG),(0,d.default)((0,p.default)(e),"_exif",null),(0,d.default)((0,p.default)(e),"_rgba",!0),(0,d.default)((0,p.default)(e),"writeAsync",function(t){return(0,O.default)(e.write,(0,p.default)(e),t)}),(0,d.default)((0,p.default)(e),"getBase64Async",function(t){return(0,O.default)(e.getBase64,(0,p.default)(e),t)}),(0,d.default)((0,p.default)(e),"getBuffer",N.getBuffer),(0,d.default)((0,p.default)(e),"getBufferAsync",N.getBufferAsync),(0,d.default)((0,p.default)(e),"getPixelColour",e.getPixelColor),(0,d.default)((0,p.default)(e),"setPixelColour",e.setPixelColor);var a=(0,p.default)(e),s=j;function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i;(r||{}).methodName="constructor",setTimeout(function(){var e;r&&s===j?a.emitError("constructor",r):r||a.emitMulti("constructor","initialized"),(e=s).call.apply(e,[a].concat(t))},1)}if(D(i[0])&&(i[0]=L(i[0])),"number"==typeof i[0]&&"number"==typeof i[1]||parseInt(i[0],10)&&parseInt(i[1],10)){var h=parseInt(i[0],10),g=parseInt(i[1],10);if(s=i[2],"number"==typeof i[2]&&(e._background=i[2],s=i[3]),"string"==typeof i[2]&&(e._background=n.cssColorToHex(i[2]),s=i[3]),void 0===s&&(s=j),"function"!=typeof s)return(0,c.default)(e,b.throwError.call((0,p.default)(e),"cb must be a function",l));e.bitmap={data:t.alloc(h*g*4),width:h,height:g};for(var v=0;v<e.bitmap.data.length;v+=4)e.bitmap.data.writeUInt32BE(e._background,v);l(null,(0,p.default)(e))}else if("object"===(0,m.default)(i[0])&&i[0].url){if("function"!=typeof(s=i[1]||j))return(0,c.default)(e,b.throwError.call((0,p.default)(e),"cb must be a function",l));F(i[0],function(t,n){if(t)return b.throwError.call((0,p.default)(e),t,l);e.parseBitmap(n,i[0].url,l)})}else if(i[0]instanceof n){var y=i[0];if(void 0===(s=i[1])&&(s=j),"function"!=typeof s)return(0,c.default)(e,b.throwError.call((0,p.default)(e),"cb must be a function",l));e.bitmap={data:t.from(y.bitmap.data),width:y.bitmap.width,height:y.bitmap.height},e._quality=y._quality,e._deflateLevel=y._deflateLevel,e._deflateStrategy=y._deflateStrategy,e._filterType=y._filterType,e._rgba=y._rgba,e._background=y._background,e._originalMime=y._originalMime,l(null,(0,p.default)(e))}else if(B(i[0])){var w=i[0];s=i[1]||j;var x,_=w.width*w.height*4===w.data.length?t.from(w.data):U(w.data);e.bitmap={data:_,width:w.width,height:w.height},l(null,(0,p.default)(e))}else if("string"==typeof i[0]){var C=i[0];if(void 0===(s=i[1])&&(s=j),"function"!=typeof s)return(0,c.default)(e,b.throwError.call((0,p.default)(e),"cb must be a function",l));z(C,function(t,n){if(t)return b.throwError.call((0,p.default)(e),t,l);e.parseBitmap(n,C,l)})}else if("object"===(0,m.default)(i[0])&&t.isBuffer(i[0])){var E=i[0];if("function"!=typeof(s=i[1]))return(0,c.default)(e,b.throwError.call((0,p.default)(e),"cb must be a function",l));e.parseBitmap(E,null,l)}else{"function"!=typeof(s=i[i.length-1])&&"function"!=typeof(s=i[i.length-2])&&(s=j);var S=n.__extraConstructors.find(function(e){return e.test.apply(e,i)});if(!S)return(0,c.default)(e,b.throwError.call((0,p.default)(e),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",l));new Promise(function(t,n){var r;return(r=S.run).call.apply(r,[(0,p.default)(e),t,n].concat(i))}).then(function(){return l(null,(0,p.default)(e))}).catch(l)}return e}return(0,h.default)(n,e),(0,l.default)(n,[{key:"parseBitmap",value:function e(t,n,r){N.parseBitmap.call(this,t,null,r)}},{key:"rgba",value:function e(t,n){return"boolean"!=typeof t?b.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",n):(this._rgba=t,(0,b.isNodePattern)(n)&&n.call(this,null,this),this)}},{key:"emitMulti",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=Object.assign(r,{methodName:t,eventName:n}),this.emit("any",r),t&&this.emit(t,r),this.emit(n,r)}},{key:"emitError",value:function e(t,n){this.emitMulti(t,"error",n)}},{key:"getHeight",value:function e(){return this.bitmap.height}},{key:"getWidth",value:function e(){return this.bitmap.width}},{key:"inspect",value:function e(){return"<Jimp "+(this.bitmap===W?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function e(){return"[object Jimp]"}},{key:"getMIME",value:function e(){var t;return this._originalMime||n.MIME_PNG}},{key:"getExtension",value:function e(){var t=this.getMIME();return T.getExtension(t)}},{key:"write",value:function e(t,n){var r=this;if(!g.default||!g.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if("string"!=typeof t)return b.throwError.call(this,"path must be a string",n);if(void 0===n&&(n=j),"function"!=typeof n)return b.throwError.call(this,"cb must be a function",n);var i=T.getType(t)||this.getMIME(),o=v.default.parse(t);return o.dir&&x.default.sync(o.dir),this.getBuffer(i,function(e,i){if(e)return b.throwError.call(r,e,n);var o=g.default.createWriteStream(t);o.on("open",function(){o.write(i),o.end()}).on("error",function(e){return b.throwError.call(r,e,n)}),o.on("finish",function(){n.call(r,null,r)})}),this}},{key:"getBase64",value:function e(t,r){return t===n.AUTO&&(t=this.getMIME()),"string"!=typeof t?b.throwError.call(this,"mime must be a string",r):"function"!=typeof r?b.throwError.call(this,"cb must be a function",r):(this.getBuffer(t,function(e,n){if(e)return b.throwError.call(this,e,r);var i="data:"+t+";base64,"+n.toString("base64");r.call(this,null,i)}),this)}},{key:"hash",value:function e(t,n){if("function"==typeof(t=t||64)&&(n=t,t=64),"number"!=typeof t)return b.throwError.call(this,"base must be a number",n);if(t<2||t>64)return b.throwError.call(this,"base must be a number between 2 and 64",n);var e=this.pHash();for(e=(0,w.default)(w.default.BIN,I.slice(0,t))(e);e.length<R[t];)e="0"+e;return(0,b.isNodePattern)(n)&&n.call(this,null,e),e}},{key:"pHash",value:function e(){var e=new E.default;return e.getHash(this)}},{key:"distanceFromHash",value:function e(t){var n=new E.default,r=n.getHash(this);return n.distance(r,t)}},{key:"getPixelIndex",value:function e(t,r,i,o){var a,s;if("function"==typeof i&&void 0===o&&(o=i,i=null),i||(i=n.EDGE_EXTEND),"number"!=typeof t||"number"!=typeof r)return b.throwError.call(this,"x and y must be numbers",o);a=t=Math.round(t),s=r=Math.round(r),i===n.EDGE_EXTEND&&(t<0&&(a=0),t>=this.bitmap.width&&(a=this.bitmap.width-1),r<0&&(s=0),r>=this.bitmap.height&&(s=this.bitmap.height-1)),i===n.EDGE_WRAP&&(t<0&&(a=this.bitmap.width+t),t>=this.bitmap.width&&(a=t%this.bitmap.width),r<0&&(a=this.bitmap.height+r),r>=this.bitmap.height&&(s=r%this.bitmap.height));var u=this.bitmap.width*s+a<<2;return(a<0||a>=this.bitmap.width)&&(u=-1),(s<0||s>=this.bitmap.height)&&(u=-1),(0,b.isNodePattern)(o)&&o.call(this,null,u),u}},{key:"getPixelColor",value:function e(t,n,r){if("number"!=typeof t||"number"!=typeof n)return b.throwError.call(this,"x and y must be numbers",r);t=Math.round(t),n=Math.round(n);var i=this.getPixelIndex(t,n),o=this.bitmap.data.readUInt32BE(i);return(0,b.isNodePattern)(r)&&r.call(this,null,o),o}},{key:"setPixelColor",value:function e(t,n,r,i){if("number"!=typeof t||"number"!=typeof n||"number"!=typeof r)return b.throwError.call(this,"hex, x and y must be numbers",i);n=Math.round(n),r=Math.round(r);var o=this.getPixelIndex(n,r);return this.bitmap.data.writeUInt32BE(t,o),(0,b.isNodePattern)(i)&&i.call(this,null,this),this}},{key:"hasAlpha",value:function e(){for(var t=0;t<this.bitmap.height;t++)for(var n=0;n<this.bitmap.width;n++){var r=this.bitmap.width*t+n<<2,i;if(255!==this.bitmap.data[r+3])return!0}return!1}},{key:"scanIterator",value:function e(t,n,r,i){return"number"!=typeof t||"number"!=typeof n?b.throwError.call(this,"x and y must be numbers"):"number"!=typeof r||"number"!=typeof i?b.throwError.call(this,"w and h must be numbers"):(0,b.scanIterator)(this,t,n,r,i)}}]),n}(y.default),H;function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;Object.entries(e).forEach(function(e){var n=(0,s.default)(e,2),r=n[0],i=n[1];t[r]=i})}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;Object.entries(e).forEach(function(e){var n=(0,s.default)(e,2),r=n[0],i=n[1];t.prototype[r]=i})}function K(e,t,n){var r="before-"+t,i=t.replace(/e$/,"")+"ed";V.prototype[e]=function(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var u=a[n.length-1],l=this,c;"function"==typeof u?(t=function t(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=r[0],s=r[1];a?l.emitError(e,a):l.emitMulti(e,i,(0,d.default)({},e,s)),u.apply(this,r)},a[a.length-1]=t):t=!1,this.emitMulti(e,r);try{c=n.apply(this,a),t||this.emitMulti(e,i,(0,d.default)({},e,c))}catch(t){t.methodName=e,this.emitError(e,t)}return c},V.prototype[e+"Quiet"]=n}function X(e,t){K(e,"change",t)}G(A),q({composite:k.default}),V.__extraConstructors=[],V.appendConstructorOption=function(e,t,n){V.__extraConstructors.push({name:e,test:t,run:n})},V.read=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise(function(e,n){(0,a.default)(V,t.concat([function(t,r){t?n(t):e(r)}]))})},V.create=V.read,V.rgbaToInt=function(e,t,n,r,i){if("number"!=typeof e||"number"!=typeof t||"number"!=typeof n||"number"!=typeof r)return b.throwError.call(this,"r, g, b and a must be numbers",i);if(e<0||e>255)return b.throwError.call(this,"r must be between 0 and 255",i);if((t<0||t>255)&&b.throwError.call(this,"g must be between 0 and 255",i),n<0||n>255)return b.throwError.call(this,"b must be between 0 and 255",i);if(r<0||r>255)return b.throwError.call(this,"a must be between 0 and 255",i);e=Math.round(e),n=Math.round(n),t=Math.round(t),r=Math.round(r);var o=e*Math.pow(256,3)+t*Math.pow(256,2)+n*Math.pow(256,1)+r*Math.pow(256,0);return(0,b.isNodePattern)(i)&&i.call(this,null,o),o},V.intToRGBA=function(e,t){if("number"!=typeof e)return b.throwError.call(this,"i must be a number",t);var n={};return n.r=Math.floor(e/Math.pow(256,3)),n.g=Math.floor((e-n.r*Math.pow(256,3))/Math.pow(256,2)),n.b=Math.floor((e-n.r*Math.pow(256,3)-n.g*Math.pow(256,2))/Math.pow(256,1)),n.a=Math.floor((e-n.r*Math.pow(256,3)-n.g*Math.pow(256,2)-n.b*Math.pow(256,1))/Math.pow(256,0)),(0,b.isNodePattern)(t)&&t.call(this,null,n),n},V.cssColorToHex=function(e){return"number"==typeof(e=e||0)?Number(e):parseInt((0,C.default)(e).toHex8(),16)},V.limit255=function(e){return e=Math.max(e,0),e=Math.min(e,255)},V.diff=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;if(!(e instanceof V&&t instanceof V))return b.throwError.call(this,"img1 and img2 must be an Jimp images");var r=e.bitmap,i=t.bitmap;if(r.width===i.width&&r.height===i.height||(r.width*r.height>i.width*i.height?e=e.cloneQuiet().resize(i.width,i.height):t=t.cloneQuiet().resize(r.width,r.height)),"number"!=typeof n||n<0||n>1)return b.throwError.call(this,"threshold must be a number between 0 and 1");var o=new V(r.width,r.height,4294967295),a;return{percent:(0,_.default)(r.data,i.data,o.bitmap.data,o.bitmap.width,o.bitmap.height,{threshold:n})/(o.bitmap.width*o.bitmap.height),image:o}},V.distance=function(e,t){var n=new E.default,r=n.getHash(e),i=n.getHash(t);return n.distance(r,i)},V.compareHashes=function(e,t){var n;return(new E.default).distance(e,t)},V.colorDiff=function(e,t){var n=function e(t){return Math.pow(t,2)},r=Math.max,i=195075;return 0===e.a||e.a||(e.a=255),0===t.a||t.a||(t.a=255),(r(n(e.r-t.r),n(e.r-t.r-e.a+t.a))+r(n(e.g-t.g),n(e.g-t.g-e.a+t.a))+r(n(e.b-t.b),n(e.b-t.b-e.a+t.a)))/195075},K("clone","clone",function(e){var t=new V(this);return(0,b.isNodePattern)(e)&&e.call(t,null,t),t}),X("background",function(e,t){return"number"!=typeof e?b.throwError.call(this,"hex must be a hexadecimal rgba value",t):(this._background=e,(0,b.isNodePattern)(t)&&t.call(this,null,this),this)}),X("scan",function(e,t,n,r,i,o){if("number"!=typeof e||"number"!=typeof t)return b.throwError.call(this,"x and y must be numbers",o);if("number"!=typeof n||"number"!=typeof r)return b.throwError.call(this,"w and h must be numbers",o);if("function"!=typeof i)return b.throwError.call(this,"f must be a function",o);var a=(0,b.scan)(this,e,t,n,r,i);return(0,b.isNodePattern)(o)&&o.call(this,null,a),a}),void 0!==o&&"object"===(void 0===o?"undefined":(0,m.default)(o))&&(H=o),"undefined"!=typeof self&&"object"===("undefined"==typeof self?"undefined":(0,m.default)(self))&&(H=self),H.Jimp=V,H.Buffer=t;var Y=V;n.default=Y}).call(this,e("buffer").Buffer)},{"./composite":370,"./constants":371,"./modules/phash":373,"./request":374,"./utils/image-bitmap":375,"./utils/mime":376,"./utils/promisify":377,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":8,"@babel/runtime/helpers/inherits":9,"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/interopRequireWildcard":11,"@babel/runtime/helpers/possibleConstructorReturn":16,"@babel/runtime/helpers/slicedToArray":18,"@babel/runtime/helpers/typeof":20,"@jimp/utils":414,"any-base":22,buffer:47,"core-js/modules/es.array-buffer.slice":172,"core-js/modules/es.array.concat":173,"core-js/modules/es.array.find":177,"core-js/modules/es.array.for-each":178,"core-js/modules/es.array.index-of":180,"core-js/modules/es.array.iterator":182,"core-js/modules/es.array.join":183,"core-js/modules/es.date.to-string":187,"core-js/modules/es.number.constructor":189,"core-js/modules/es.object.assign":190,"core-js/modules/es.object.entries":193,"core-js/modules/es.object.to-string":197,"core-js/modules/es.parse-int":198,"core-js/modules/es.promise":199,"core-js/modules/es.regexp.exec":200,"core-js/modules/es.regexp.to-string":201,"core-js/modules/es.string.match":204,"core-js/modules/es.string.replace":205,"core-js/modules/es.typed-array.copy-within":208,"core-js/modules/es.typed-array.every":209,"core-js/modules/es.typed-array.fill":210,"core-js/modules/es.typed-array.filter":211,"core-js/modules/es.typed-array.find":213,"core-js/modules/es.typed-array.find-index":212,"core-js/modules/es.typed-array.for-each":216,"core-js/modules/es.typed-array.includes":217,"core-js/modules/es.typed-array.index-of":218,"core-js/modules/es.typed-array.iterator":219,"core-js/modules/es.typed-array.join":220,"core-js/modules/es.typed-array.last-index-of":221,"core-js/modules/es.typed-array.map":222,"core-js/modules/es.typed-array.reduce":224,"core-js/modules/es.typed-array.reduce-right":223,"core-js/modules/es.typed-array.reverse":225,"core-js/modules/es.typed-array.set":226,"core-js/modules/es.typed-array.slice":227,"core-js/modules/es.typed-array.some":228,"core-js/modules/es.typed-array.sort":229,"core-js/modules/es.typed-array.subarray":230,"core-js/modules/es.typed-array.to-locale-string":231,"core-js/modules/es.typed-array.to-string":232,"core-js/modules/es.typed-array.uint8-array":233,"core-js/modules/es.typed-array.uint8-clamped-array":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.timers":237,events:239,fs:46,mkdirp:262,path:286,pixelmatch:288,tinycolor2:357}],373:[function(e,t,n){"use strict";function r(e,t){this.size=this.size||e,this.smallerSize=this.smallerSize||t,a(this.size)}function i(e){var t={};return t.r=Math.floor(e/Math.pow(256,3)),t.g=Math.floor((e-t.r*Math.pow(256,3))/Math.pow(256,2)),t.b=Math.floor((e-t.r*Math.pow(256,3)-t.g*Math.pow(256,2))/Math.pow(256,1)),t.a=Math.floor((e-t.r*Math.pow(256,3)-t.g*Math.pow(256,2)-t.b*Math.pow(256,1))/Math.pow(256,0)),t}r.prototype.size=32,r.prototype.smallerSize=8,r.prototype.distance=function(e,t){for(var n=0,r=0;r<e.length;r++)e[r]!==t[r]&&n++;return n/e.length},r.prototype.getHash=function(e){(e=e.clone().resize(this.size,this.size)).grayscale();for(var t=[],n=0;n<e.bitmap.width;n++){t[n]=[];for(var r=0;r<e.bitmap.height;r++)t[n][r]=i(e.getPixelColor(n,r)).b}for(var o=s(t,this.size),a=0,u=0;u<this.smallerSize;u++)for(var l=0;l<this.smallerSize;l++)a+=o[u][l];for(var c=a/(this.smallerSize*this.smallerSize),f="",p=0;p<this.smallerSize;p++)for(var h=0;h<this.smallerSize;h++)f+=o[p][h]>c?"1":"0";return f};var o=[];function a(e){for(var t=1;t<e;t++)o[t]=1;o[0]=1/Math.sqrt(2)}function s(e,t){for(var n=t,r=[],i=0;i<n;i++){r[i]=[];for(var a=0;a<n;a++){for(var s=0,u=0;u<n;u++)for(var l=0;l<n;l++)s+=Math.cos((2*u+1)/(2*n)*i*Math.PI)*Math.cos((2*l+1)/(2*n)*a*Math.PI)*e[u][l];s*=o[i]*o[a]/4,r[i][a]=s}}return r}t.exports=r},{}],374:[function(e,t,n){(function(n,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.symbol"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-properties"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-descriptors"),e("core-js/modules/es.object.keys"),e("core-js/modules/web.dom-collections.for-each");var o=i(e("@babel/runtime/helpers/defineProperty"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.browser,t.exports=function(e,t){var n=new XMLHttpRequest;n.open("GET",e.url,!0),n.responseType="arraybuffer",n.addEventListener("load",function(){if(n.status<400)try{var i=r.from(this.response);t(null,n,i)}catch(n){return t(new Error("Response is not a buffer for url "+e.url+". Error: "+n.message))}else t(new Error("HTTP Status "+n.status+" for url "+e.url))}),n.addEventListener("error",function(e){t(e)}),n.send()}}).call(this,e("_process"),e("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,_process:312,buffer:47,"core-js/modules/es.array.filter":175,"core-js/modules/es.array.for-each":178,"core-js/modules/es.object.assign":190,"core-js/modules/es.object.define-properties":191,"core-js/modules/es.object.define-property":192,"core-js/modules/es.object.get-own-property-descriptor":194,"core-js/modules/es.object.get-own-property-descriptors":195,"core-js/modules/es.object.keys":196,"core-js/modules/es.symbol":207,"core-js/modules/web.dom-collections.for-each":235,phin:287}],375:[function(e,t,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.parseBitmap=v,n.getBuffer=b,n.getBufferAsync=w;var o=i(e("@babel/runtime/helpers/slicedToArray")),a=i(e("file-type")),s=i(e("exif-parser")),u=e("@jimp/utils"),l=r(e("../constants")),c=r(e("./mime")),f=i(e("./promisify"));function p(e,t){var n=(0,a.default)(e);return n?n.mime:t?c.getType(t):null}function h(e){return e._exif&&e._exif.tags&&e._exif.tags.Orientation||1}function d(e){var t=e.getWidth(),n=e.getHeight();switch(h(e)){case 1:return null;case 2:return function(e,n){return[t-e-1,n]};case 3:return function(e,r){return[t-e-1,n-r-1]};case 4:return function(e,t){return[e,n-t-1]};case 5:return function(e,t){return[t,e]};case 6:return function(e,t){return[t,n-e-1]};case 7:return function(e,r){return[t-r-1,n-e-1]};case 8:return function(e,n){return[t-n-1,e]};default:return null}}function m(e,n,r,i){for(var a=e.bitmap.data,s=e.bitmap.width,u=t.alloc(a.length),l=0;l<n;l++)for(var c=0;c<r;c++){var f=i(l,c),p=(0,o.default)(f,2),h=p[0],d,m=n*c+l<<2,g=s*p[1]+h<<2,v=a.readUInt32BE(g);u.writeUInt32BE(v,m)}e.bitmap.data=u,e.bitmap.width=n,e.bitmap.height=r}function g(e){if(!(h(e)<2)){var t=d(e),n=h(e)>4,r,i;m(e,n?e.bitmap.height:e.bitmap.width,n?e.bitmap.width:e.bitmap.height,t)}}function v(e,t,n){var r=p(e,t);if("string"!=typeof r)return n(new Error("Could not find MIME for Buffer <"+t+">"));this._originalMime=r.toLowerCase();try{var i=this.getMIME();if(!this.constructor.decoders[i])return u.throwError.call(this,"Unsupported MIME type: "+i,n);this.bitmap=this.constructor.decoders[i](e)}catch(e){return n.call(this,e,this)}try{this._exif=s.default.create(e).parse(),g(this)}catch(e){}return n.call(this,null,this),this}function y(e,t){return new e(t.bitmap.width,t.bitmap.height,t._background).composite(t,0,0).bitmap}function b(e,n){if(e===l.AUTO&&(e=this.getMIME()),"string"!=typeof e)return u.throwError.call(this,"mime must be a string",n);if("function"!=typeof n)return u.throwError.call(this,"cb must be a function",n);if(e=e.toLowerCase(),this._rgba&&this.constructor.hasAlpha[e]?this.bitmap.data=t.from(this.bitmap.data):this.bitmap.data=y(this.constructor,this).data,this.constructor.encoders[e]){var r=this.constructor.encoders[e](this);n.call(this,null,r)}else n.call(this,"Unsupported MIME type: "+e);return this}function w(e){return(0,f.default)(b,this,e)}}).call(this,e("buffer").Buffer)},{"../constants":371,"./mime":376,"./promisify":377,"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/interopRequireWildcard":11,"@babel/runtime/helpers/slicedToArray":18,"@jimp/utils":414,buffer:47,"exif-parser":240,"file-type":249}],376:[function(e,t,n){"use strict";e("core-js/modules/es.array.find"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.entries"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.split"),Object.defineProperty(n,"__esModule",{value:!0}),n.getExtension=n.getType=n.addType=void 0;var r={},i=function e(t){return Object.entries(r).find(function(e){return e[1].includes(t)})||[]},o=function e(t,n){r[t]=n};n.addType=o;var a=function e(t){var n=t.split("/").slice(-1),r=n[n.length-1].split(".").pop(),o;return i(r)[0]};n.getType=a;var s=function e(t){return(r[t.toLowerCase()]||[])[0]};n.getExtension=s},{"core-js/modules/es.array.find":177,"core-js/modules/es.array.includes":179,"core-js/modules/es.array.slice":186,"core-js/modules/es.object.entries":193,"core-js/modules/es.regexp.exec":200,"core-js/modules/es.string.includes":202,"core-js/modules/es.string.split":206}],377:[function(e,t,n){"use strict";e("core-js/modules/es.function.bind"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=function e(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new Promise(function(e,r){i.push(function(t,n){t&&r(t),e(n)}),t.bind(n).apply(void 0,i)})};n.default=i,t.exports=n.default},{"core-js/modules/es.function.bind":188,"core-js/modules/es.object.to-string":197,"core-js/modules/es.promise":199}],378:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.symbol"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.is-array"),e("core-js/modules/es.object.define-properties"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.entries"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-descriptors"),e("core-js/modules/es.object.keys"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var o=i(e("@babel/runtime/helpers/toConsumableArray")),a=i(e("@babel/runtime/helpers/defineProperty")),s=i(e("@babel/runtime/helpers/slicedToArray")),u=r(e("@jimp/core"));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default,n={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function r(e){Object.entries(e).forEach(function(e){var t=(0,s.default)(e,2),r=t[0],i=t[1];n[r]=c({},n[r],{},i)})}function i(e){var t=e();Array.isArray(t.mime)?u.addType.apply(void 0,(0,o.default)(t.mime)):Object.entries(t.mime).forEach(function(e){return u.addType.apply(void 0,(0,o.default)(e))}),delete t.mime,r(t)}function a(e){var t=e(u.jimpEvChange)||{};t.class||t.constants?r(t):r({class:t})}return e.types&&(e.types.forEach(i),t.decoders=c({},t.decoders,{},n.decoders),t.encoders=c({},t.encoders,{},n.encoders),t.hasAlpha=c({},t.hasAlpha,{},n.hasAlpha)),e.plugins&&e.plugins.forEach(a),(0,u.addJimpMethods)(n.class,t),(0,u.addConstants)(n.constants,t),u.default}t.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/interopRequireWildcard":11,"@babel/runtime/helpers/slicedToArray":18,"@babel/runtime/helpers/toConsumableArray":19,"@jimp/core":372,"core-js/modules/es.array.filter":175,"core-js/modules/es.array.for-each":178,"core-js/modules/es.array.is-array":181,"core-js/modules/es.object.define-properties":191,"core-js/modules/es.object.define-property":192,"core-js/modules/es.object.entries":193,"core-js/modules/es.object.get-own-property-descriptor":194,"core-js/modules/es.object.get-own-property-descriptors":195,"core-js/modules/es.object.keys":196,"core-js/modules/es.symbol":207,"core-js/modules/web.dom-collections.for-each":235}],379:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@jimp/custom")),o=r(e("@jimp/types")),a=r(e("@jimp/plugins")),s=(0,i.default)({types:[o.default],plugins:[a.default]});n.default=s,t.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":10,"@jimp/custom":378,"@jimp/plugins":407,"@jimp/types":413}],380:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/typeof")),o=e("@jimp/utils"),a=function e(){return{blit:function e(t,n,r,a,s,u,l,c){if(!(t instanceof this.constructor))return o.throwError.call(this,"The source must be a Jimp image",c);if("number"!=typeof n||"number"!=typeof r)return o.throwError.call(this,"x and y must be numbers",c);if("function"==typeof a)c=a,a=0,s=0,u=t.bitmap.width,l=t.bitmap.height;else{if((0,i.default)(a)!==(0,i.default)(s)||(0,i.default)(s)!==(0,i.default)(u)||(0,i.default)(u)!==(0,i.default)(l))return o.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",c);a=a||0,s=s||0,u=u||t.bitmap.width,l=l||t.bitmap.height}n=Math.round(n),r=Math.round(r),a=Math.round(a),s=Math.round(s),u=Math.round(u),l=Math.round(l);var f=this.bitmap.width,p=this.bitmap.height,h=this;return t.scanQuiet(a,s,u,l,function(e,t,i){var o=n+e-a,u=r+t-s;if(o>=0&&u>=0&&f-o>0&&p-u>0){var l=h.getPixelIndex(o,u),c={r:this.bitmap.data[i],g:this.bitmap.data[i+1],b:this.bitmap.data[i+2],a:this.bitmap.data[i+3]},d={r:h.bitmap.data[l],g:h.bitmap.data[l+1],b:h.bitmap.data[l+2],a:h.bitmap.data[l+3]};h.bitmap.data[l]=(c.a*(c.r-d.r)-d.r+255>>8)+d.r,h.bitmap.data[l+1]=(c.a*(c.g-d.g)-d.g+255>>8)+d.g,h.bitmap.data[l+2]=(c.a*(c.b-d.b)-d.b+255>>8)+d.b,h.bitmap.data[l+3]=this.constructor.limit255(d.a+c.a)}}),(0,o.isNodePattern)(c)&&c.call(this,null,this),this}}};n.default=a,t.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/typeof":20,"@jimp/utils":414}],381:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shgTable=n.mulTable=void 0;var r=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];n.mulTable=r;var i=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];n.shgTable=i},{}],382:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=e("./blur-tables"),o=function e(){return{blur:function e(t,n){if("number"!=typeof t)return r.throwError.call(this,"r must be a number",n);if(t<1)return r.throwError.call(this,"r must be greater than 0",n);for(var o,a,s,u,l,c,f,p,h,d,m,g,v,y,b=this.bitmap.width-1,w=this.bitmap.height-1,x=t+1,_=i.mulTable[t],C=i.shgTable[t],E=[],S=[],k=[],O=[],T=[],N=[],A=2;A-- >0;){for(g=0,v=0,c=0;c<this.bitmap.height;c++){for(o=this.bitmap.data[v]*x,a=this.bitmap.data[v+1]*x,s=this.bitmap.data[v+2]*x,u=this.bitmap.data[v+3]*x,f=1;f<=t;f++)p=v+((f>b?b:f)<<2),o+=this.bitmap.data[p++],a+=this.bitmap.data[p++],s+=this.bitmap.data[p++],u+=this.bitmap.data[p];for(l=0;l<this.bitmap.width;l++)E[g]=o,S[g]=a,k[g]=s,O[g]=u,0===c&&(T[l]=((p=l+x)<b?p:b)<<2,N[l]=(p=l-t)>0?p<<2:0),h=v+T[l],d=v+N[l],o+=this.bitmap.data[h++]-this.bitmap.data[d++],a+=this.bitmap.data[h++]-this.bitmap.data[d++],s+=this.bitmap.data[h++]-this.bitmap.data[d++],u+=this.bitmap.data[h]-this.bitmap.data[d],g++;v+=this.bitmap.width<<2}for(l=0;l<this.bitmap.width;l++){for(o=E[m=l]*x,a=S[m]*x,s=k[m]*x,u=O[m]*x,f=1;f<=t;f++)o+=E[m+=f>w?0:this.bitmap.width],a+=S[m],s+=k[m],u+=O[m];for(g=l<<2,c=0;c<this.bitmap.height;c++)y=u*_>>>C,this.bitmap.data[g+3]=y,y>255&&(this.bitmap.data[g+3]=255),y>0?(y=255/y,this.bitmap.data[g]=(o*_>>>C)*y,this.bitmap.data[g+1]=(a*_>>>C)*y,this.bitmap.data[g+2]=(s*_>>>C)*y):(this.bitmap.data[g+2]=0,this.bitmap.data[g+1]=0,this.bitmap.data[g]=0),0===l&&(T[c]=((p=c+x)<w?p:w)*this.bitmap.width,N[c]=(p=c-t)>0?p*this.bitmap.width:0),h=l+T[c],d=l+N[c],o+=E[h]-E[d],a+=S[h]-S[d],s+=k[h]-k[d],u+=O[h]-O[d],g+=this.bitmap.width<<2}}return(0,r.isNodePattern)(n)&&n.call(this,null,this),this}}};n.default=o,t.exports=n.default},{"./blur-tables":381,"@jimp/utils":414}],383:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{circle:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={});var i=t.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,o="number"==typeof t.x?t.x:this.bitmap.width/2,a="number"==typeof t.y?t.y:this.bitmap.height/2;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){var r=Math.sqrt(Math.pow(e-o,2)+Math.pow(t-a,2));i-r<=0?this.bitmap.data[n+3]=0:i-r<1&&(this.bitmap.data[n+3]=255*(i-r))}),(0,r.isNodePattern)(n)&&n.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],384:[function(e,t,n){(function(r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.is-array"),e("core-js/modules/es.array.map"),e("core-js/modules/es.parse-int"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("@babel/runtime/helpers/toConsumableArray")),a=i(e("tinycolor2")),s=e("@jimp/utils");function u(e,t,n,r){for(var i=[0,0,0],o=(t.length-1)/2,a=0;a<t.length;a+=1)for(var s=0;s<t[a].length;s+=1){var u=e.getPixelIndex(n+a-o,r+s-o);i[0]+=e.bitmap.data[u]*t[a][s],i[1]+=e.bitmap.data[u+1]*t[a][s],i[2]+=e.bitmap.data[u+2]*t[a][s]}return i}var l=function e(t){return void 0!==t&&null!==t};function c(e){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){var r=parseInt(.2126*this.bitmap.data[n]+.7152*this.bitmap.data[n+1]+.0722*this.bitmap.data[n+2],10);this.bitmap.data[n]=r,this.bitmap.data[n+1]=r,this.bitmap.data[n+2]=r}),(0,s.isNodePattern)(e)&&e.call(this,null,this),this}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return{r:(t.r-e.r)*(n/100)+e.r,g:(t.g-e.g)*(n/100)+e.g,b:(t.b-e.b)*(n/100)+e.b}}function p(e,t){var n=this;return e&&Array.isArray(e)?(e=e.map(function(e){return"xor"!==e.apply&&"mix"!==e.apply||(e.params[0]=(0,a.default)(e.params[0]).toRgb()),e}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(r,i,u){var l={r:n.bitmap.data[u],g:n.bitmap.data[u+1],b:n.bitmap.data[u+2]},c=function e(t,r){return n.constructor.limit255(l[t]+r)};e.forEach(function(e){if("mix"===e.apply)l=f(l,e.params[0],e.params[1]);else if("tint"===e.apply)l=f(l,{r:255,g:255,b:255},e.params[0]);else if("shade"===e.apply)l=f(l,{r:0,g:0,b:0},e.params[0]);else if("xor"===e.apply)l={r:l.r^e.params[0].r,g:l.g^e.params[0].g,b:l.b^e.params[0].b};else if("red"===e.apply)l.r=c("r",e.params[0]);else if("green"===e.apply)l.g=c("g",e.params[0]);else if("blue"===e.apply)l.b=c("b",e.params[0]);else{var r;if("hue"===e.apply&&(e.apply="spin"),!(l=(0,a.default)(l))[e.apply])return s.throwError.call(n,"action "+e.apply+" not supported",t);l=(r=l)[e.apply].apply(r,(0,o.default)(e.params)).toRgb()}}),n.bitmap.data[u]=l.r,n.bitmap.data[u+1]=l.g,n.bitmap.data[u+2]=l.b}),(0,s.isNodePattern)(t)&&t.call(this,null,this),this):s.throwError.call(this,"actions must be an array",t)}var h=function e(){return{brightness:function e(t,n){return"number"!=typeof t?s.throwError.call(this,"val must be numbers",n):t<-1||t>1?s.throwError.call(this,"val must be a number between -1 and +1",n):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,n,r){t<0?(this.bitmap.data[r]=this.bitmap.data[r]*(1+t),this.bitmap.data[r+1]=this.bitmap.data[r+1]*(1+t),this.bitmap.data[r+2]=this.bitmap.data[r+2]*(1+t)):(this.bitmap.data[r]=this.bitmap.data[r]+(255-this.bitmap.data[r])*t,this.bitmap.data[r+1]=this.bitmap.data[r+1]+(255-this.bitmap.data[r+1])*t,this.bitmap.data[r+2]=this.bitmap.data[r+2]+(255-this.bitmap.data[r+2])*t)}),(0,s.isNodePattern)(n)&&n.call(this,null,this),this)},contrast:function e(t,n){if("number"!=typeof t)return s.throwError.call(this,"val must be numbers",n);if(t<-1||t>1)return s.throwError.call(this,"val must be a number between -1 and +1",n);var r=(t+1)/(1-t);function i(e){return(e=Math.floor(r*(e-127)+127))<0?0:e>255?255:e}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){this.bitmap.data[n]=i(this.bitmap.data[n]),this.bitmap.data[n+1]=i(this.bitmap.data[n+1]),this.bitmap.data[n+2]=i(this.bitmap.data[n+2])}),(0,s.isNodePattern)(n)&&n.call(this,null,this),this},posterize:function e(t,n){return"number"!=typeof t?s.throwError.call(this,"n must be numbers",n):(t<2&&(t=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,n,r){this.bitmap.data[r]=Math.floor(this.bitmap.data[r]/255*(t-1))/(t-1)*255,this.bitmap.data[r+1]=Math.floor(this.bitmap.data[r+1]/255*(t-1))/(t-1)*255,this.bitmap.data[r+2]=Math.floor(this.bitmap.data[r+2]/255*(t-1))/(t-1)*255}),(0,s.isNodePattern)(n)&&n.call(this,null,this),this)},greyscale:c,grayscale:c,opacity:function e(t,n){return"number"!=typeof t?s.throwError.call(this,"f must be a number",n):t<0||t>1?s.throwError.call(this,"f must be a number from 0 to 1",n):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,n,r){var i=this.bitmap.data[r+3]*t;this.bitmap.data[r+3]=i}),(0,s.isNodePattern)(n)&&n.call(this,null,this),this)},sepia:function e(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){var r=this.bitmap.data[n],i=this.bitmap.data[n+1],o=this.bitmap.data[n+2];o=.272*(r=.393*r+.769*i+.189*o)+.534*(i=.349*r+.686*i+.168*o)+.131*o,this.bitmap.data[n]=r<255?r:255,this.bitmap.data[n+1]=i<255?i:255,this.bitmap.data[n+2]=o<255?o:255}),(0,s.isNodePattern)(t)&&t.call(this,null,this),this},fade:function e(t,n){return"number"!=typeof t?s.throwError.call(this,"f must be a number",n):t<0||t>1?s.throwError.call(this,"f must be a number from 0 to 1",n):(this.opacity(1-t),(0,s.isNodePattern)(n)&&n.call(this,null,this),this)},convolution:function e(t,n,i){"function"==typeof n&&void 0===i&&(i=n,n=null),n||(n=this.constructor.EDGE_EXTEND);var o=r.from(this.bitmap.data),a=t.length,u=t[0].length,l=Math.floor(a/2),c=Math.floor(u/2),f=-l,p=-c,h,d,m,g,v,y,b,w,x,_;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,r,i){g=0,m=0,d=0;for(var a=f;a<=l;a++)for(var s=p;s<=c;s++)w=e+s,x=r+a,h=t[a+l][s+c],-1===(_=this.getPixelIndex(w,x,n))?(b=0,y=0,v=0):(v=this.bitmap.data[_+0],y=this.bitmap.data[_+1],b=this.bitmap.data[_+2]),d+=h*v,m+=h*y,g+=h*b;d<0&&(d=0),m<0&&(m=0),g<0&&(g=0),d>255&&(d=255),m>255&&(m=255),g>255&&(g=255),o[i+0]=d,o[i+1]=m,o[i+2]=g}),this.bitmap.data=o,(0,s.isNodePattern)(i)&&i.call(this,null,this),this},opaque:function e(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){this.bitmap.data[n+3]=255}),(0,s.isNodePattern)(t)&&t.call(this,null,this),this},pixelate:function e(t,n,r,i,o,a){if("function"==typeof n)a=n,o=null,i=null,r=null,n=null;else{if("number"!=typeof t)return s.throwError.call(this,"size must be a number",a);if(l(n)&&"number"!=typeof n)return s.throwError.call(this,"x must be a number",a);if(l(r)&&"number"!=typeof r)return s.throwError.call(this,"y must be a number",a);if(l(i)&&"number"!=typeof i)return s.throwError.call(this,"w must be a number",a);if(l(o)&&"number"!=typeof o)return s.throwError.call(this,"h must be a number",a)}var c=[[1/16,.125,1/16],[.125,.25,.125],[1/16,.125,1/16]];n=n||0,r=r||0,i=l(i)?i:this.bitmap.width-n,o=l(o)?o:this.bitmap.height-r;var f=this.cloneQuiet();return this.scanQuiet(n,r,i,o,function(e,n,r){e=t*Math.floor(e/t),n=t*Math.floor(n/t);var i=u(f,c,e,n);this.bitmap.data[r]=i[0],this.bitmap.data[r+1]=i[1],this.bitmap.data[r+2]=i[2]}),(0,s.isNodePattern)(a)&&a.call(this,null,this),this},convolute:function e(t,n,r,i,o,a){if(!Array.isArray(t))return s.throwError.call(this,"the kernel must be an array",a);if("function"==typeof n)a=n,n=null,r=null,i=null,o=null;else{if(l(n)&&"number"!=typeof n)return s.throwError.call(this,"x must be a number",a);if(l(r)&&"number"!=typeof r)return s.throwError.call(this,"y must be a number",a);if(l(i)&&"number"!=typeof i)return s.throwError.call(this,"w must be a number",a);if(l(o)&&"number"!=typeof o)return s.throwError.call(this,"h must be a number",a)}var c=(t.length-1)/2;n=l(n)?n:c,r=l(r)?r:c,i=l(i)?i:this.bitmap.width-n,o=l(o)?o:this.bitmap.height-r;var f=this.cloneQuiet();return this.scanQuiet(n,r,i,o,function(e,n,r){var i=u(f,t,e,n);this.bitmap.data[r]=this.constructor.limit255(i[0]),this.bitmap.data[r+1]=this.constructor.limit255(i[1]),this.bitmap.data[r+2]=this.constructor.limit255(i[2])}),(0,s.isNodePattern)(a)&&a.call(this,null,this),this},color:p,colour:p}};n.default=h,t.exports=n.default}).call(this,e("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/toConsumableArray":19,"@jimp/utils":414,buffer:47,"core-js/modules/es.array.for-each":178,"core-js/modules/es.array.is-array":181,"core-js/modules/es.array.map":184,"core-js/modules/es.parse-int":198,"core-js/modules/web.dom-collections.for-each":235,tinycolor2:357}],385:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{contain:function e(t,n,i,o,a){if("number"!=typeof t||"number"!=typeof n)return r.throwError.call(this,"w and h must be numbers",a);"string"==typeof i&&("function"==typeof o&&void 0===a&&(a=o),o=i,i=null),"function"==typeof i&&(void 0===a&&(a=i),o=null,i=null),"function"==typeof o&&void 0===a&&(a=o,o=null);var s=7&(i=i||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),u=i>>3;if((0===s||s&s-1)&&(0===u||u&u-1))return r.throwError.call(this,"only use one flag per alignment direction",a);var l=s>>1,c=u>>1,f=t/n>this.bitmap.width/this.bitmap.height?n/this.bitmap.height:t/this.bitmap.width,p=this.cloneQuiet().scale(f,o);return this.resize(t,n,o),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){this.bitmap.data.writeUInt32BE(this._background,n)}),this.blit(p,(this.bitmap.width-p.bitmap.width)/2*l,(this.bitmap.height-p.bitmap.height)/2*c),(0,r.isNodePattern)(a)&&a.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],386:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{cover:function e(t,n,i,o,a){if("number"!=typeof t||"number"!=typeof n)return r.throwError.call(this,"w and h must be numbers",a);i&&"function"==typeof i&&void 0===a?(a=i,i=null,o=null):"function"==typeof o&&void 0===a&&(a=o,o=null);var s=7&(i=i||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),u=i>>3;if((0===s||s&s-1)&&(0===u||u&u-1))return r.throwError.call(this,"only use one flag per alignment direction",a);var l=s>>1,c=u>>1,f=t/n>this.bitmap.width/this.bitmap.height?t/this.bitmap.width:n/this.bitmap.height;return this.scale(f,o),this.crop((this.bitmap.width-t)/2*l,(this.bitmap.height-n)/2*c,t,n),(0,r.isNodePattern)(a)&&a.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],387:[function(e,t,n){(function(r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.slice"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var o=i(e("@babel/runtime/helpers/typeof")),a=e("@jimp/utils");function s(e){return e("crop",function(e,t,n,i,o){if("number"!=typeof e||"number"!=typeof t)return a.throwError.call(this,"x and y must be numbers",o);if("number"!=typeof n||"number"!=typeof i)return a.throwError.call(this,"w and h must be numbers",o);if(e=Math.round(e),t=Math.round(t),n=Math.round(n),i=Math.round(i),0===e&&n===this.bitmap.width){var s=n*t+e<<2,u=s+i*n<<2;this.bitmap.data=this.bitmap.data.slice(s,u)}else{var l=r.allocUnsafe(n*i*4),c=0;this.scanQuiet(e,t,n,i,function(e,t,n){var r=this.bitmap.data.readUInt32BE(n,!0);l.writeUInt32BE(r,c,!0),c+=4}),this.bitmap.data=l}return this.bitmap.width=n,this.bitmap.height=i,(0,a.isNodePattern)(o)&&o.call(this,null,this),this}),{class:{autocrop:function e(){for(var t=this.bitmap.width,n=this.bitmap.height,r=1,i,s=0,u=2e-4,l=!0,c=!1,f=arguments.length,p=new Array(f),h=0;h<f;h++)p[h]=arguments[h];for(var d=0,m=p.length;d<m;d++)if("number"==typeof p[d]&&(u=p[d]),"boolean"==typeof p[d]&&(l=p[d]),"function"==typeof p[d]&&(i=p[d]),"object"===(0,o.default)(p[d])){var g=p[d];void 0!==g.tolerance&&(u=g.tolerance),void 0!==g.cropOnlyFrames&&(l=g.cropOnlyFrames),void 0!==g.cropSymmetric&&(c=g.cropSymmetric),void 0!==g.leaveBorder&&(s=g.leaveBorder)}var v=this.getPixelColor(0,0),y=this.constructor.intToRGBA(v),b=0,w=0,x=0,_=0;v=this.getPixelColor(0,0);e:for(var C=0;C<n-1;C++){for(var E=0;E<t;E++){var S=this.getPixelColor(E,C),k=this.constructor.intToRGBA(S);if(this.constructor.colorDiff(y,k)>u)break e}b++}v=this.getPixelColor(t,0);e:for(var O=0;O<t-1;O++){for(var T=0+b;T<n;T++){var N=this.getPixelColor(O,T),A=this.constructor.intToRGBA(N);if(this.constructor.colorDiff(y,A)>u)break e}w++}v=this.getPixelColor(0,n);e:for(var I=n-1;I>=b+1;I--){for(var R=t-w-1;R>=0;R--){var P=this.getPixelColor(R,I),M=this.constructor.intToRGBA(P);if(this.constructor.colorDiff(y,M)>u)break e}x++}v=this.getPixelColor(t,n);e:for(var j=t-1;j>=0+w+1;j--){for(var D=n-1;D>=0+b;D--){var L=this.getPixelColor(j,D),F=this.constructor.intToRGBA(L);if(this.constructor.colorDiff(y,F)>u)break e}_++}var z=!1;if(_-=s,w-=s,b-=s,x-=s,c){var B=Math.min(w,_),U=Math.min(b,x);_=B,w=B,b=U,x=U}_=_>=0?_:0,w=w>=0?w:0,b=b>=0?b:0;var W=t-(_+w),V=n-((x=x>=0?x:0)+b);return(z=l?0!==w&&0!==b&&0!==_&&0!==x:0!==w||0!==b||0!==_||0!==x)&&this.crop(w,b,W,V),(0,a.isNodePattern)(i)&&i.call(this,null,this),this}}}}t.exports=n.default}).call(this,e("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/typeof":20,"@jimp/utils":414,buffer:47,"core-js/modules/es.array.slice":186}],388:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/typeof")),o=e("@jimp/utils"),a=function e(){return{displace:function e(t,n,r){if("object"!==(0,i.default)(t)||t.constructor!==this.constructor)return o.throwError.call(this,"The source must be a Jimp image",r);if("number"!=typeof n)return o.throwError.call(this,"factor must be a number",r);var a=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,r,i){var o=t.bitmap.data[i]/256*n;o=Math.round(o);var s=this.getPixelIndex(e+o,r);this.bitmap.data[s]=a.bitmap.data[i],this.bitmap.data[s+1]=a.bitmap.data[i+1],this.bitmap.data[s+2]=a.bitmap.data[i+2]}),(0,o.isNodePattern)(r)&&r.call(this,null,this),this}}};n.default=a,t.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/typeof":20,"@jimp/utils":414}],389:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils");function i(e){var t=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,n,r){var i,o=t[((3&n)<<2)+e%4];this.bitmap.data[r]=Math.min(this.bitmap.data[r]+o,255),this.bitmap.data[r+1]=Math.min(this.bitmap.data[r+1]+o,255),this.bitmap.data[r+2]=Math.min(this.bitmap.data[r+2]+o,255)}),(0,r.isNodePattern)(e)&&e.call(this,null,this),this}var o=function e(){return{dither565:i,dither16:i}};n.default=o,t.exports=n.default},{"@jimp/utils":414}],390:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{fisheye:function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:2.5},i=arguments.length>1?arguments[1]:void 0;"function"==typeof n&&(i=n,n={r:2.5});var o=this.cloneQuiet(),a=o.bitmap,s=a.width,u=a.height;return o.scanQuiet(0,0,s,u,function(e,r){var i=e/s,a=r/u,l=Math.sqrt(Math.pow(i-.5,2)+Math.pow(a-.5,2)),c=2*Math.pow(l,n.r),f=(i-.5)/l,p=(a-.5)/l,h=Math.round((c*f+.5)*s),d=Math.round((c*p+.5)*u),m=o.getPixelColor(h,d);t.setPixelColor(m,e,r)}),this.setPixelColor(o.getPixelColor(s/2,u/2),s/2,u/2),(0,r.isNodePattern)(i)&&i.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],391:[function(e,t,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("@jimp/utils");function o(e,t,n){if("boolean"!=typeof e||"boolean"!=typeof t)return i.throwError.call(this,"horizontal and vertical must be Booleans",n);var o=r.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(n,r,i){var a=e?this.bitmap.width-1-n:n,s=t?this.bitmap.height-1-r:r,u=this.bitmap.width*s+a<<2,l=this.bitmap.data.readUInt32BE(i);o.writeUInt32BE(l,u)}),this.bitmap.data=r.from(o),(0,i.isNodePattern)(n)&&n.call(this,null,this),this}var a=function e(){return{flip:o,mirror:o}};n.default=a,t.exports=n.default}).call(this,e("buffer").Buffer)},{"@jimp/utils":414,buffer:47}],392:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{gaussian:function e(t,n){if("number"!=typeof t)return r.throwError.call(this,"r must be a number",n);if(t<1)return r.throwError.call(this,"r must be greater than 0",n);for(var i=Math.ceil(2.57*t),o=2*i+1,a=t*t*2,s=a*Math.PI,u=[],l=0;l<o;l++){u[l]=[];for(var c=0;c<o;c++){var f=Math.pow(c-i,2)+Math.pow(l-i,2);u[l][c]=Math.exp(-f/a)/s}}for(var p=0;p<this.bitmap.height;p++)for(var h=0;h<this.bitmap.width;h++)for(var d=0,m=0,g=0,v=0,y=0,b=0;b<o;b++){for(var w=0;w<o;w++){var x=Math.min(this.bitmap.width-1,Math.max(0,w+h-i)),_=Math.min(this.bitmap.height-1,Math.max(0,b+p-i)),C=u[b][w],E=_*this.bitmap.width+x<<2;d+=this.bitmap.data[E]*C,m+=this.bitmap.data[E+1]*C,g+=this.bitmap.data[E+2]*C,v+=this.bitmap.data[E+3]*C,y+=C}var S=p*this.bitmap.width+h<<2;this.bitmap.data[S]=Math.round(d/y),this.bitmap.data[S+1]=Math.round(m/y),this.bitmap.data[S+2]=Math.round(g/y),this.bitmap.data[S+3]=Math.round(v/y)}return(0,r.isNodePattern)(n)&&n.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],393:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{invert:function e(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){this.bitmap.data[n]=255-this.bitmap.data[n],this.bitmap.data[n+1]=255-this.bitmap.data[n+1],this.bitmap.data[n+2]=255-this.bitmap.data[n+2]}),(0,r.isNodePattern)(t)&&t.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],394:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{mask:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;if(!(t instanceof this.constructor))return r.throwError.call(this,"The source must be a Jimp image",o);if("number"!=typeof n||"number"!=typeof i)return r.throwError.call(this,"x and y must be numbers",o);n=Math.round(n),i=Math.round(i);var a=this.bitmap.width,s=this.bitmap.height,u=this;return t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,function(e,t,r){var o=n+e,l=i+t;if(o>=0&&l>=0&&o<a&&l<s){var c=u.getPixelIndex(o,l),f=this.bitmap.data,p=(f[r+0]+f[r+1]+f[r+2])/3;u.bitmap.data[c+3]*=p/255}}),(0,r.isNodePattern)(o)&&o.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],395:[function(e,t,n){"use strict";e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.reverse"),e("core-js/modules/es.array.slice"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils");function i(){var e={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,n,r){e.r[this.bitmap.data[r+0]]++,e.g[this.bitmap.data[r+1]]++,e.b[this.bitmap.data[r+2]]++}),e}var o=function e(t,n,r){return 255*(t-n)/(r-n)},a=function e(t){return[t.findIndex(function(e){return e>0}),255-t.slice().reverse().findIndex(function(e){return e>0})]},s=function e(){return{normalize:function e(t){var n=i.call(this),s={r:a(n.r),g:a(n.g),b:a(n.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){var r=this.bitmap.data[n+0],i=this.bitmap.data[n+1],a=this.bitmap.data[n+2];this.bitmap.data[n+0]=o(r,s.r[0],s.r[1]),this.bitmap.data[n+1]=o(i,s.g[0],s.g[1]),this.bitmap.data[n+2]=o(a,s.b[0],s.b[1])}),(0,r.isNodePattern)(t)&&t.call(this,null,this),this}}};n.default=s,t.exports=n.default},{"@jimp/utils":414,"core-js/modules/es.array.fill":174,"core-js/modules/es.array.find-index":176,"core-js/modules/es.array.reverse":185,"core-js/modules/es.array.slice":186}],396:[function(e,t,n){(function(r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.entries"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("@babel/runtime/helpers/typeof")),a=i(e("@babel/runtime/helpers/toConsumableArray")),s=i(e("path")),u=i(e("load-bmfont")),l=e("@jimp/utils"),c=e("./measure-text");function f(e,t,n,r,i){return i===e.HORIZONTAL_ALIGN_LEFT?0:i===e.HORIZONTAL_ALIGN_CENTER?(r-(0,c.measureText)(t,n))/2:r-(0,c.measureText)(t,n)}function p(e,t,n,r,i){if(i.width>0&&i.height>0){var o=t.pages[i.page];e.blit(o,n+i.xoffset,r+i.yoffset,i.x,i.y,i.width,i.height)}return e}function h(e,t,n,r,i){for(var o=0;o<r.length;o++){var a=void 0;a=e.chars[r[o]]?r[o]:/\s/.test(r[o])?"":"?";var s=e.chars[a]||{},u=e.kernings[a],l;p(this,e,t,n,s||{}),t+=(u&&u[r[o+1]]?u[r[o+1]]:0)+(s.xadvance||i)}}function d(e,t,n){var r,i=[],o=[],s=0;return t.split(" ").forEach(function(t){var r=[].concat((0,a.default)(o),[t]).join(" "),u=(0,c.measureText)(e,r);u<=n?(u>s&&(s=u),o.push(t)):(i.push(o),o=[t])}),i.push(o),{lines:i,longestLine:s}}function m(e,t,n){var r=n.map(function(n){return e.read(t+"/"+n)});return Promise.all(r)}var g="browser/lib/",v=function e(){return{constants:{measureText:c.measureText,measureTextHeight:c.measureTextHeight,FONT_SANS_8_BLACK:s.default.join(g,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:s.default.join(g,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:s.default.join(g,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:s.default.join(g,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:s.default.join(g,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:s.default.join(g,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:s.default.join(g,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:s.default.join(g,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:s.default.join(g,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:s.default.join(g,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:s.default.join(g,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:s.default.join(g,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:s.default.join(g,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function e(t,n){var r=this;return"string"!=typeof t?l.throwError.call(this,"file must be a string",n):new Promise(function(e,i){n=n||function(t,n){t?i(t):e(n)},(0,u.default)(t,function(e,i){var o={},a={};if(e)return l.throwError.call(r,e,n);for(var u=0;u<i.chars.length;u++)o[String.fromCharCode(i.chars[u].id)]=i.chars[u];for(var c=0;c<i.kernings.length;c++){var f=String.fromCharCode(i.kernings[c].first);a[f]=a[f]||{},a[f][String.fromCharCode(i.kernings[c].second)]=i.kernings[c].amount}m(r,s.default.dirname(t),i.pages).then(function(e){n(null,{chars:o,kernings:a,pages:e,common:i.common,info:i.info})})})})}},class:{print:function e(t,n,r,i,a,s,u){var p=this,m,g,v;if("function"==typeof a&&void 0===u&&(u=a,a=1/0),void 0===a&&(a=1/0),"function"==typeof s&&void 0===u&&(u=s,s=1/0),void 0===s&&(s=1/0),"object"!==(0,o.default)(t))return l.throwError.call(this,"font must be a Jimp loadFont",u);if("number"!=typeof n||"number"!=typeof r||"number"!=typeof a)return l.throwError.call(this,"x, y and maxWidth must be numbers",u);if("number"!=typeof a)return l.throwError.call(this,"maxWidth must be a number",u);if("number"!=typeof s)return l.throwError.call(this,"maxHeight must be a number",u);"object"===(0,o.default)(i)&&null!==i.text&&void 0!==i.text?(m=i.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,g=i.alignmentY||this.constructor.VERTICAL_ALIGN_TOP,i=i.text):(m=this.constructor.HORIZONTAL_ALIGN_LEFT,g=this.constructor.VERTICAL_ALIGN_TOP,i=i.toString());s!==1/0&&g===this.constructor.VERTICAL_ALIGN_BOTTOM?r+=s-(0,c.measureTextHeight)(t,i,a):s!==1/0&&g===this.constructor.VERTICAL_ALIGN_MIDDLE&&(r+=s/2-(0,c.measureTextHeight)(t,i,a)/2);var y=Object.entries(t.chars)[0][1].xadvance,b=d(t,i,a),w=b.lines,x=b.longestLine;return w.forEach(function(e){var i=e.join(" "),o=f(p.constructor,t,i,a,m);h.call(p,t,n+o,r,i,y),r+=t.common.lineHeight}),(0,l.isNodePattern)(u)&&u.call(this,null,this,{x:n+x,y:r}),this}}}};n.default=v,t.exports=n.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":397,"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/toConsumableArray":19,"@babel/runtime/helpers/typeof":20,"@jimp/utils":414,"core-js/modules/es.array.concat":173,"core-js/modules/es.array.for-each":178,"core-js/modules/es.array.iterator":182,"core-js/modules/es.array.join":183,"core-js/modules/es.array.map":184,"core-js/modules/es.date.to-string":187,"core-js/modules/es.object.entries":193,"core-js/modules/es.object.to-string":197,"core-js/modules/es.promise":199,"core-js/modules/es.regexp.exec":200,"core-js/modules/es.regexp.to-string":201,"core-js/modules/es.string.iterator":203,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,"load-bmfont":398,path:286}],397:[function(e,t,n){"use strict";function r(e,t){for(var n=0,r=0;r<t.length;r++)if(e.chars[t[r]]){var i=e.kernings[t[r]]&&e.kernings[t[r]][t[r+1]]?e.kernings[t[r]][t[r+1]]:0;n+=(e.chars[t[r]].xadvance||0)+i}return n}function i(e,t,n){for(var i=t.split(" "),o="",a=e.common.lineHeight,s=0;s<i.length;s++){var u=o+i[s]+" ",l;r(e,u)>n&&s>0?(a+=e.common.lineHeight,o=i[s]+" "):o=u}return a}e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(n,"__esModule",{value:!0}),n.measureText=r,n.measureTextHeight=i},{"core-js/modules/es.regexp.exec":200,"core-js/modules/es.string.split":206}],398:[function(e,t,n){(function(n){var r=e("xhr"),i=function(){},o=e("parse-bmfont-ascii"),a=e("parse-bmfont-xml"),s=e("parse-bmfont-binary"),u=e("./lib/is-binary"),l=e("xtend"),c=function e(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();function f(e){var t;return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}function p(e){if(c)return l(e,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),l({xhr:t},e)}t.exports=function(e,t){var l;t="function"==typeof t?t:i,"string"==typeof e?e={uri:e}:e||(e={}),e.binary&&(e=p(e)),r(e,function(r,l,c){if(r)return t(r);if(!/^2/.test(l.statusCode))return t(new Error("http status code: "+l.statusCode));if(!c)return t(new Error("no body result"));var p=!1,h;if(f(c)){var d=new Uint8Array(c);c=new n(d,"binary")}u(c)&&(p=!0,"string"==typeof c&&(c=new n(c,"binary"))),p||(n.isBuffer(c)&&(c=c.toString(e.encoding)),c=c.trim());try{var m=l.headers["content-type"];h=p?s(c):/json/.test(m)||"{"===c.charAt(0)?JSON.parse(c):/xml/.test(m)||"<"===c.charAt(0)?a(c):o(c)}catch(e){t(new Error("error parsing font "+e.message)),t=i}t(null,h)})}}).call(this,e("buffer").Buffer)},{"./lib/is-binary":399,buffer:47,"parse-bmfont-ascii":281,"parse-bmfont-binary":282,"parse-bmfont-xml":283,xhr:366,xtend:368}],399:[function(e,t,n){(function(n){var r=e("buffer-equal"),i=new n([66,77,70,3]);t.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):e.length>4&&r(e.slice(0,4),i)}}).call(this,e("buffer").Buffer)},{buffer:47,"buffer-equal":48}],400:[function(e,t,n){(function(r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("@jimp/utils"),a=i(e("./modules/resize")),s=i(e("./modules/resize2")),u=function e(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function e(t,n,i,u){if("number"!=typeof t||"number"!=typeof n)return o.throwError.call(this,"w and h must be numbers",u);if("function"==typeof i&&void 0===u&&(u=i,i=null),t===this.constructor.AUTO&&n===this.constructor.AUTO)return o.throwError.call(this,"w and h cannot both be set to auto",u);if(t===this.constructor.AUTO&&(t=this.bitmap.width*(n/this.bitmap.height)),n===this.constructor.AUTO&&(n=this.bitmap.height*(t/this.bitmap.width)),t<0||n<0)return o.throwError.call(this,"w and h must be positive numbers",u);if(t=Math.round(t),n=Math.round(n),"function"==typeof s.default[i]){var l={data:r.alloc(t*n*4),width:t,height:n};s.default[i](this.bitmap,l),this.bitmap=l}else{var c=this,e=new a.default(this.bitmap.width,this.bitmap.height,t,n,!0,!0,function(e){c.bitmap.data=r.from(e),c.bitmap.width=t,c.bitmap.height=n});e.resize(this.bitmap.data)}return(0,o.isNodePattern)(u)&&u.call(this,null,this),this}}}};n.default=u,t.exports=n.default}).call(this,e("buffer").Buffer)},{"./modules/resize":401,"./modules/resize2":402,"@babel/runtime/helpers/interopRequireDefault":10,"@jimp/utils":414,buffer:47}],401:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){this.widthOriginal=Math.abs(Math.floor(e)||0),this.heightOriginal=Math.abs(Math.floor(t)||0),this.targetWidth=Math.abs(Math.floor(n)||0),this.targetHeight=Math.abs(Math.floor(r)||0),this.colorChannels=i?4:3,this.interpolationPass=Boolean(o),this.resizeCallback="function"==typeof a?a:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array-buffer.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),r.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error("Invalid settings specified for the resizer.");this.configurePasses()},r.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4===this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4===this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4===this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},r.prototype._resizeWidthInterpolatedRGBChannels=function(e,t){var n=t?4:3,r=this.ratioWeightWidthPass,i=this.widthBuffer,o=0,a=0,s=0,u=0,l=0,c,f;for(c=0;o<1/3;c+=n,o+=r)for(a=c,s=0;a<this.widthPassResultSize;s+=this.originalWidthMultipliedByChannels,a+=this.targetWidthMultipliedByChannels)i[a]=e[s],i[a+1]=e[s+1],i[a+2]=e[s+2],t&&(i[a+3]=e[s+3]);for(o-=1/3,f=this.widthOriginal-1;o<f;c+=n,o+=r)for(u=1-(l=o%1),a=c,s=Math.floor(o)*n;a<this.widthPassResultSize;s+=this.originalWidthMultipliedByChannels,a+=this.targetWidthMultipliedByChannels)i[a+0]=e[s+0]*u+e[s+n+0]*l,i[a+1]=e[s+1]*u+e[s+n+1]*l,i[a+2]=e[s+2]*u+e[s+n+2]*l,t&&(i[a+3]=e[s+3]*u+e[s+n+3]*l);for(f=this.originalWidthMultipliedByChannels-n;c<this.targetWidthMultipliedByChannels;c+=n)for(a=c,s=f;a<this.widthPassResultSize;s+=this.originalWidthMultipliedByChannels,a+=this.targetWidthMultipliedByChannels)i[a]=e[s],i[a+1]=e[s+1],i[a+2]=e[s+2],t&&(i[a+3]=e[s+3]);return i},r.prototype._resizeWidthRGBChannels=function(e,t){var n=t?4:3,r=this.ratioWeightWidthPass,i=1/r,o=this.originalWidthMultipliedByChannels-n+1,a=this.targetWidthMultipliedByChannels-n+1,s=this.outputWidthWorkBench,u=this.widthBuffer,l=this.outputWidthWorkBenchOpaquePixelsCount,c=0,f=0,p=0,h=0,d=0,m=0,g=0,v=1,y=0,b=0,w=0,x=0;do{for(d=0;d<this.originalHeightMultipliedByChannels;)s[d++]=0,s[d++]=0,s[d++]=0,t&&(s[d++]=0,l[d/n-1]=0);c=r;do{for(f=1+p-h,v=Math.min(c,f),d=0,m=p;d<this.originalHeightMultipliedByChannels;m+=o)y=e[m],b=e[++m],w=e[++m],x=t?e[++m]:255,s[d++]+=(x?y:0)*v,s[d++]+=(x?b:0)*v,s[d++]+=(x?w:0)*v,t&&(s[d++]+=x*v,l[d/n-1]+=x?v:0);if(!(c>=f)){h+=c;break}h=p+=n,c-=f}while(c>0&&p<this.originalWidthMultipliedByChannels);for(d=0,m=g;d<this.originalHeightMultipliedByChannels;m+=a)c=t?l[d/n]:1,v=t?c?1/c:0:i,u[m]=s[d++]*v,u[++m]=s[d++]*v,u[++m]=s[d++]*v,t&&(u[++m]=s[d++]*i);g+=n}while(g<this.targetWidthMultipliedByChannels);return u},r.prototype._resizeHeightRGBChannels=function(e,t){var n=this.ratioWeightHeightPass,r=1/n,i=this.outputHeightWorkBench,o=this.heightBuffer,a=this.outputHeightWorkBenchOpaquePixelsCount,s=0,u=0,l=0,c=0,f=0,p=0,h=0,d=1,m=0,g=0,v=0,y=0;do{for(f=0;f<this.targetWidthMultipliedByChannels;)i[f++]=0,i[f++]=0,i[f++]=0,t&&(i[f++]=0,a[f/4-1]=0);s=n;do{for(u=1+l-c,d=Math.min(s,u),h=l,f=0;f<this.targetWidthMultipliedByChannels;)m=e[h++],g=e[h++],v=e[h++],y=t?e[h++]:255,i[f++]+=(y?m:0)*d,i[f++]+=(y?g:0)*d,i[f++]+=(y?v:0)*d,t&&(i[f++]+=y*d,a[f/4-1]+=y?d:0);if(!(s>=u)){c+=s;break}c=l=h,s-=u}while(s>0&&l<this.widthPassResultSize);for(f=0;f<this.targetWidthMultipliedByChannels;)s=t?a[f/4]:1,d=t?s?1/s:0:r,o[p++]=Math.round(i[f++]*d),o[p++]=Math.round(i[f++]*d),o[p++]=Math.round(i[f++]*d),t&&(o[p++]=Math.round(i[f++]*r))}while(p<this.finalResultSize);return o},r.prototype.resizeWidthInterpolatedRGB=function(e){return this._resizeWidthInterpolatedRGBChannels(e,!1)},r.prototype.resizeWidthInterpolatedRGBA=function(e){return this._resizeWidthInterpolatedRGBChannels(e,!0)},r.prototype.resizeWidthRGB=function(e){return this._resizeWidthRGBChannels(e,!1)},r.prototype.resizeWidthRGBA=function(e){return this._resizeWidthRGBChannels(e,!0)},r.prototype.resizeHeightInterpolated=function(e){for(var t=this.ratioWeightHeightPass,n=this.heightBuffer,r=0,i=0,o=0,a=0,s=0,u=0,l=0,c;r<1/3;r+=t)for(o=0;o<this.targetWidthMultipliedByChannels;)n[i++]=Math.round(e[o++]);for(r-=1/3,c=this.heightOriginal-1;r<c;r+=t)for(u=1-(l=r%1),s=(a=Math.floor(r)*this.targetWidthMultipliedByChannels)+this.targetWidthMultipliedByChannels,o=0;o<this.targetWidthMultipliedByChannels;++o)n[i++]=Math.round(e[a++]*u+e[s++]*l);for(;i<this.finalResultSize;)for(o=0,a=c*this.targetWidthMultipliedByChannels;o<this.targetWidthMultipliedByChannels;++o)n[i++]=Math.round(e[a++]);return n},r.prototype.resizeHeightRGB=function(e){return this._resizeHeightRGBChannels(e,!1)},r.prototype.resizeHeightRGBA=function(e){return this._resizeHeightRGBChannels(e,!0)},r.prototype.resize=function(e){this.resizeCallback(this.resizeHeight(this.resizeWidth(e)))},r.prototype.bypassResizer=function(e){return e},r.prototype.initializeFirstPassBuffers=function(e){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),e||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},r.prototype.initializeSecondPassBuffers=function(e){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),e||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},r.prototype.generateFloatBuffer=function(e){try{return new Float32Array(e)}catch(e){return[]}},r.prototype.generateFloat64Buffer=function(e){try{return new Float64Array(e)}catch(e){return[]}},r.prototype.generateUint8Buffer=function(e){try{return new Uint8Array(e)}catch(e){return[]}},t.exports=r},{"core-js/modules/es.array-buffer.slice":172,"core-js/modules/es.array.iterator":182,"core-js/modules/es.object.to-string":197,"core-js/modules/es.typed-array.copy-within":208,"core-js/modules/es.typed-array.every":209,"core-js/modules/es.typed-array.fill":210,"core-js/modules/es.typed-array.filter":211,"core-js/modules/es.typed-array.find":213,"core-js/modules/es.typed-array.find-index":212,"core-js/modules/es.typed-array.float32-array":214,"core-js/modules/es.typed-array.float64-array":215,"core-js/modules/es.typed-array.for-each":216,"core-js/modules/es.typed-array.includes":217,"core-js/modules/es.typed-array.index-of":218,"core-js/modules/es.typed-array.iterator":219,"core-js/modules/es.typed-array.join":220,"core-js/modules/es.typed-array.last-index-of":221,"core-js/modules/es.typed-array.map":222,"core-js/modules/es.typed-array.reduce":224,"core-js/modules/es.typed-array.reduce-right":223,"core-js/modules/es.typed-array.reverse":225,"core-js/modules/es.typed-array.set":226,"core-js/modules/es.typed-array.slice":227,"core-js/modules/es.typed-array.some":228,"core-js/modules/es.typed-array.sort":229,"core-js/modules/es.typed-array.subarray":230,"core-js/modules/es.typed-array.to-locale-string":231,"core-js/modules/es.typed-array.to-string":232,"core-js/modules/es.typed-array.uint8-array":233}],402:[function(e,t,n){(function(e){"use strict";t.exports={nearestNeighbor:function e(t,n){for(var r=t.width,i=t.height,o=n.width,a=n.height,s=t.data,u=n.data,l=0;l<a;l++)for(var c=0;c<o;c++){var f=4*(l*o+c),p,h,d=4*(Math.floor(l*i/a)*r+Math.floor(c*r/o));u[f++]=s[d++],u[f++]=s[d++],u[f++]=s[d++],u[f++]=s[d++]}},bilinearInterpolation:function e(t,n){for(var r=t.width,i=t.height,o=n.width,a=n.height,s=t.data,u=n.data,l=function e(t,n,r,i,o){return n===i?r:Math.round((t-n)*o+(i-t)*r)},c=function e(t,n,i,o,a,c,f,p){var h=4*(f*r+o)+n,d=4*(f*r+a)+n,m=l(i,o,s[h],a,s[d]);if(p===f)u[t+n]=m;else{d=4*(p*r+a)+n;var g=l(i,o,s[h=4*(p*r+o)+n],a,s[d]);u[t+n]=l(c,f,m,p,g)}},f=0;f<a;f++)for(var p=0;p<o;p++){var h=4*(f*o+p),d=p*r/o,m=Math.floor(d),g=Math.min(Math.ceil(d),r-1),v=f*i/a,y=Math.floor(v),b=Math.min(Math.ceil(v),i-1);c(h,0,d,m,g,v,y,b),c(h,1,d,m,g,v,y,b),c(h,2,d,m,g,v,y,b),c(h,3,d,m,g,v,y,b)}},_interpolate2D:function t(n,r,i,o){for(var a=n.data,s=r.data,u=n.width,l=n.height,c=r.width,f=r.height,p=Math.max(1,Math.floor(u/c)),h=c*p,d=Math.max(1,Math.floor(l/f)),m=f*d,g=e.alloc(h*l*4),v=0;v<l;v++)for(var y=0;y<h;y++)for(var b=y*(u-1)/h,w=Math.floor(b),x=b-w,_=4*(v*u+w),C=4*(v*h+y),E=0;E<4;E++){var S=_+E,k=w>0?a[S-4]:2*a[S]-a[S+4],O=a[S],T=a[S+4],N=w<u-2?a[S+8]:2*a[S+4]-a[S];g[C+E]=o(k,O,T,N,x)}for(var A=e.alloc(h*m*4),I=0;I<m;I++)for(var R=0;R<h;R++)for(var P=I*(l-1)/m,M=Math.floor(P),j=P-M,D=4*(M*h+R),L=4*(I*h+R),F=0;F<4;F++){var z=D+F,B=M>0?g[z-4*h]:2*g[z]-g[z+4*h],U=g[z],W=g[z+4*h],V=M<l-2?g[z+8*h]:2*g[z+4*h]-g[z];A[L+F]=o(B,U,W,V,j)}var H=p*d;if(H>1)for(var G=0;G<f;G++)for(var q=0;q<c;q++){for(var K=0,X=0,Y=0,Z=0,$=0,J=0;J<d;J++)for(var Q=G*d+J,ee=0;ee<p;ee++){var te,ne=4*(Q*h+(q*p+ee)),re=A[ne+3];re&&(K+=A[ne],X+=A[ne+1],Y+=A[ne+2],$++),Z+=re}var ie=4*(G*c+q);s[ie]=$?Math.round(K/$):0,s[ie+1]=$?Math.round(X/$):0,s[ie+2]=$?Math.round(Y/$):0,s[ie+3]=Math.round(Z/H)}else r.data=A},bicubicInterpolation:function e(t,n,r){var i=function e(t,n,r,i,o){var a=i-r-t+n,s=t-n-a,u=r-t,l=n;return Math.max(0,Math.min(255,a*(o*o*o)+s*(o*o)+u*o+l))};return this._interpolate2D(t,n,r,i)},hermiteInterpolation:function e(t,n,r){var i=function e(t,n,r,i,o){var a=n,s=.5*(r-t),u=t-2.5*n+2*r-.5*i,l=.5*(i-t)+1.5*(n-r);return Math.max(0,Math.min(255,Math.round(((l*o+u)*o+s)*o+a)))};return this._interpolate2D(t,n,r,i)},bezierInterpolation:function e(t,n,r){var i=function e(t,n,r,i,o){var a,s,u=1-o,l=n*u*u*u,c=3*(n+(r-t)/4)*u*u*o,f=3*(r-(i-n)/4)*u*o*o,p=r*o*o*o;return Math.max(0,Math.min(255,Math.round(l+c+f+p)))};return this._interpolate2D(t,n,r,i)}}}).call(this,e("buffer").Buffer)},{buffer:47}],403:[function(e,t,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("@jimp/utils");function o(e,t){var n=(e%=360)*Math.PI/180,i=Math.cos(n),o=Math.sin(n),a=this.bitmap.width,s=this.bitmap.height;if(!0===t||"string"==typeof t){a=Math.ceil(Math.abs(this.bitmap.width*i)+Math.abs(this.bitmap.height*o))+1,s=Math.ceil(Math.abs(this.bitmap.width*o)+Math.abs(this.bitmap.height*i))+1,a%2!=0&&a++,s%2!=0&&s++;var u=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){this.bitmap.data.writeUInt32BE(this._background,n)});var l=Math.max(a,s,this.bitmap.width,this.bitmap.height);this.resize(l,l,t),this.blit(u,this.bitmap.width/2-u.bitmap.width/2,this.bitmap.height/2-u.bitmap.height/2)}var c=this.bitmap.width,f=this.bitmap.height,p=r.alloc(this.bitmap.data.length);function h(e,t){return function(n,r){return{x:n+e,y:r+t}}}for(var d=h(-c/2,-f/2),m=h(c/2+.5,f/2+.5),g=1;g<=f;g++)for(var v=1;v<=c;v++){var y=d(v,g),b=m(i*y.x-o*y.y,i*y.y+o*y.x),w=c*(g-1)+v-1<<2;if(b.x>=0&&b.x<c&&b.y>=0&&b.y<f){var x=(c*(0|b.y)+b.x|0)<<2,_=this.bitmap.data.readUInt32BE(x);p.writeUInt32BE(_,w)}else p.writeUInt32BE(this._background,w)}if(this.bitmap.data=p,!0===t||"string"==typeof t){var C=c/2-a/2,E=f/2-s/2;this.crop(C,E,a,s)}}var a=function e(){return{rotate:function e(t,n,r){return void 0!==n&&null!==n||(n=!0),"function"==typeof n&&void 0===r&&(r=n,n=!0),"number"!=typeof t?i.throwError.call(this,"deg must be a number",r):"boolean"!=typeof n&&"string"!=typeof n?i.throwError.call(this,"mode must be a boolean or a string",r):(o.call(this,t,n,r),(0,i.isNodePattern)(r)&&r.call(this,null,this),this)}}};n.default=a,t.exports=n.default}).call(this,e("buffer").Buffer)},{"@jimp/utils":414,buffer:47}],404:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{scale:function e(t,n,i){if("number"!=typeof t)return r.throwError.call(this,"f must be a number",i);if(t<0)return r.throwError.call(this,"f must be a positive number",i);"function"==typeof n&&void 0===i&&(i=n,n=null);var o=this.bitmap.width*t,a=this.bitmap.height*t;return this.resize(o,a,n),(0,r.isNodePattern)(i)&&i.call(this,null,this),this},scaleToFit:function e(t,n,i,o){if("number"!=typeof t||"number"!=typeof n)return r.throwError.call(this,"w and h must be numbers",o);"function"==typeof i&&void 0===o&&(o=i,i=null);var a=t/n>this.bitmap.width/this.bitmap.height?n/this.bitmap.height:t/this.bitmap.width;return this.scale(a,i),(0,r.isNodePattern)(o)&&o.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],405:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{shadow:function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;"function"==typeof n&&(i=n,n={});var o=n,a=o.opacity,s=void 0===a?.7:a,u=o.size,l=void 0===u?1.1:u,c=o.x,f=void 0===c?-25:c,p=o.y,h=void 0===p?25:p,d=o.blur,m=void 0===d?5:d,g=this.clone(),e=this.clone();return e.scan(0,0,e.bitmap.width,e.bitmap.height,function(n,r,i){e.bitmap.data[i]=0,e.bitmap.data[i+1]=0,e.bitmap.data[i+2]=0,e.bitmap.data[i+3]=e.constructor.limit255(e.bitmap.data[i+3]*s),t.bitmap.data[i]=0,t.bitmap.data[i+1]=0,t.bitmap.data[i+2]=0,t.bitmap.data[i+3]=0}),e.resize(e.bitmap.width*l,e.bitmap.height*l).blur(m),this.composite(e,f,h),this.composite(g,0,0),(0,r.isNodePattern)(i)&&i.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],406:[function(e,t,n){"use strict";e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.replace"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{threshold:function e(t,n){var i=this,o=t.max,a=t.replace,s=void 0===a?255:a,u=t.autoGreyscale,l=void 0===u||u;return"number"!=typeof o?r.throwError.call(this,"max must be a number",n):"number"!=typeof s?r.throwError.call(this,"replace must be a number",n):"boolean"!=typeof l?r.throwError.call(this,"autoGreyscale must be a boolean",n):(o=this.constructor.limit255(o),s=this.constructor.limit255(s),l&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){var r=i.bitmap.data[n]<o?i.bitmap.data[n]:s;i.bitmap.data[n]=r,i.bitmap.data[n+1]=r,i.bitmap.data[n+2]=r}),(0,r.isNodePattern)(n)&&n.call(this,null,this),this)}}};n.default=i,t.exports=n.default},{"@jimp/utils":414,"core-js/modules/es.regexp.exec":200,"core-js/modules/es.string.replace":205}],407:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.map"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/toConsumableArray")),o=e("timm"),a=r(e("@jimp/plugin-blit")),s=r(e("@jimp/plugin-blur")),u=r(e("@jimp/plugin-circle")),l=r(e("@jimp/plugin-color")),c=r(e("@jimp/plugin-contain")),f=r(e("@jimp/plugin-cover")),p=r(e("@jimp/plugin-crop")),h=r(e("@jimp/plugin-displace")),d=r(e("@jimp/plugin-dither")),m=r(e("@jimp/plugin-fisheye")),g=r(e("@jimp/plugin-flip")),v=r(e("@jimp/plugin-gaussian")),y=r(e("@jimp/plugin-invert")),b=r(e("@jimp/plugin-mask")),w=r(e("@jimp/plugin-normalize")),x=r(e("@jimp/plugin-print")),_=r(e("@jimp/plugin-resize")),C=r(e("@jimp/plugin-rotate")),E=r(e("@jimp/plugin-scale")),S=r(e("@jimp/plugin-shadow")),k=r(e("@jimp/plugin-threshold")),O=[a.default,s.default,u.default,l.default,c.default,f.default,p.default,h.default,d.default,m.default,g.default,v.default,y.default,b.default,w.default,x.default,_.default,C.default,E.default,S.default,k.default],T=function e(t){var n=O.map(function(e){var n=e(t)||{};return n.class||n.constants||(n={class:n}),n});return o.mergeDeep.apply(void 0,(0,i.default)(n))};n.default=T,t.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/toConsumableArray":19,"@jimp/plugin-blit":380,"@jimp/plugin-blur":382,"@jimp/plugin-circle":383,"@jimp/plugin-color":384,"@jimp/plugin-contain":385,"@jimp/plugin-cover":386,"@jimp/plugin-crop":387,"@jimp/plugin-displace":388,"@jimp/plugin-dither":389,"@jimp/plugin-fisheye":390,"@jimp/plugin-flip":391,"@jimp/plugin-gaussian":392,"@jimp/plugin-invert":393,"@jimp/plugin-mask":394,"@jimp/plugin-normalize":395,"@jimp/plugin-print":396,"@jimp/plugin-resize":400,"@jimp/plugin-rotate":403,"@jimp/plugin-scale":404,"@jimp/plugin-shadow":405,"@jimp/plugin-threshold":406,"core-js/modules/es.array.map":184,timm:356}],408:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/defineProperty")),o=r(e("bmp-js")),a=e("@jimp/utils"),s="image/bmp",u="image/x-ms-bmp";function l(e){return(0,a.scan)(e,0,0,e.bitmap.width,e.bitmap.height,function(e,t,n){var r=this.bitmap.data[n+0],i=this.bitmap.data[n+1],o=this.bitmap.data[n+2],a=this.bitmap.data[n+3];this.bitmap.data[n+0]=a,this.bitmap.data[n+1]=o,this.bitmap.data[n+2]=i,this.bitmap.data[n+3]=r}).bitmap}function c(e){return(0,a.scan)({bitmap:e},0,0,e.width,e.height,function(t,n,r){var i=this.bitmap.data[r+0],o=this.bitmap.data[r+1],a=this.bitmap.data[r+2],s=this.bitmap.data[r+3];this.bitmap.data[r+0]=s,this.bitmap.data[r+1]=a,this.bitmap.data[r+2]=o,this.bitmap.data[r+3]=e.is_with_alpha?i:255}).bitmap}var f=function e(t){return c(o.default.decode(t))},p=function e(t){return o.default.encode(l(t)).data},h=function e(){var t,n;return{mime:(0,i.default)({},s,["bmp"]),constants:{MIME_BMP:s,MIME_X_MS_BMP:"image/x-ms-bmp"},decoders:(t={},(0,i.default)(t,s,f),(0,i.default)(t,"image/x-ms-bmp",f),t),encoders:(n={},(0,i.default)(n,s,p),(0,i.default)(n,"image/x-ms-bmp",p),n)}};n.default=h,t.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,"@jimp/utils":414,"bmp-js":29}],409:[function(e,t,n){(function(r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),a=i(e("omggif")),s="image/gif",u=function e(){return{mime:(0,o.default)({},s,["gif"]),constants:{MIME_GIF:s},decoders:(0,o.default)({},s,function(e){var t=new a.default.GifReader(e),n=r.alloc(t.width*t.height*4);return t.decodeAndBlitFrameRGBA(0,n),{data:n,width:t.width,height:t.height}})}};n.default=u,t.exports=n.default}).call(this,e("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,buffer:47,omggif:264}],410:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/defineProperty")),o=r(e("jpeg-js")),a=e("@jimp/utils"),s="image/jpeg",u=function e(){return{mime:(0,i.default)({},s,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:s},decoders:(0,i.default)({},s,o.default.decode),encoders:(0,i.default)({},s,function(e){return o.default.encode(e.bitmap,e._quality).data}),class:{_quality:100,quality:function e(t,n){return"number"!=typeof t?a.throwError.call(this,"n must be a number",n):t<0||t>100?a.throwError.call(this,"n must be a number 0 - 100",n):(this._quality=Math.round(t),(0,a.isNodePattern)(n)&&n.call(this,null,this),this)}}}};n.default=u,t.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,"@jimp/utils":414,"jpeg-js":259}],411:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/defineProperty")),o=e("pngjs"),a=e("@jimp/utils"),s="image/png",u=-1,l=0,c=1,f=2,p=3,h=4,d=function e(){return{mime:(0,i.default)({},s,["png"]),constants:{MIME_PNG:s,PNG_FILTER_AUTO:-1,PNG_FILTER_NONE:0,PNG_FILTER_SUB:1,PNG_FILTER_UP:2,PNG_FILTER_AVERAGE:3,PNG_FILTER_PATH:4},hasAlpha:(0,i.default)({},s,!0),decoders:(0,i.default)({},s,o.PNG.sync.read),encoders:(0,i.default)({},s,function(e){var t=new o.PNG({width:e.bitmap.width,height:e.bitmap.height});return t.data=e.bitmap.data,o.PNG.sync.write(t,{width:e.bitmap.width,height:e.bitmap.height,deflateLevel:e._deflateLevel,deflateStrategy:e._deflateStrategy,filterType:e._filterType,colorType:"number"==typeof e._colorType?e._colorType:e._rgba?6:2,inputHasAlpha:e._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:-1,_colorType:null,deflateLevel:function e(t,n){return"number"!=typeof t?a.throwError.call(this,"l must be a number",n):t<0||t>9?a.throwError.call(this,"l must be a number 0 - 9",n):(this._deflateLevel=Math.round(t),(0,a.isNodePattern)(n)&&n.call(this,null,this),this)},deflateStrategy:function e(t,n){return"number"!=typeof t?a.throwError.call(this,"s must be a number",n):t<0||t>3?a.throwError.call(this,"s must be a number 0 - 3",n):(this._deflateStrategy=Math.round(t),(0,a.isNodePattern)(n)&&n.call(this,null,this),this)},filterType:function e(t,n){return"number"!=typeof t?a.throwError.call(this,"n must be a number",n):t<-1||t>4?a.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",n):(this._filterType=Math.round(t),(0,a.isNodePattern)(n)&&n.call(this,null,this),this)},colorType:function e(t,n){return"number"!=typeof t?a.throwError.call(this,"s must be a number",n):0!==t&&2!==t&&4!==t&&6!==t?a.throwError.call(this,"s must be a number 0, 2, 4, 6.",n):(this._colorType=Math.round(t),(0,a.isNodePattern)(n)&&n.call(this,null,this),this)}}}};n.default=d,t.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,"@jimp/utils":414,pngjs:308}],412:[function(e,t,n){(function(r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),a=i(e("utif")),s="image/tiff",u=function e(){return{mime:(0,o.default)({},s,["tiff","tif"]),constants:{MIME_TIFF:s},decoders:(0,o.default)({},s,function(e){var t=a.default.decode(e),n=t[0];a.default.decodeImages(e,t);var i=a.default.toRGBA8(n);return{data:r.from(i),width:n.t256[0],height:n.t257[0]}}),encoders:(0,o.default)({},s,function(e){var t=a.default.encodeImage(e.bitmap.data,e.bitmap.width,e.bitmap.height);return r.from(t)})}};n.default=u,t.exports=n.default}).call(this,e("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,buffer:47,utif:361}],413:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("timm"),o=r(e("@jimp/jpeg")),a=r(e("@jimp/png")),s=r(e("@jimp/bmp")),u=r(e("@jimp/tiff")),l=r(e("@jimp/gif")),c=function e(){return(0,i.mergeDeep)((0,o.default)(),(0,a.default)(),(0,s.default)(),(0,u.default)(),(0,l.default)())};n.default=c,t.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":10,"@jimp/bmp":408,"@jimp/gif":409,"@jimp/jpeg":410,"@jimp/png":411,"@jimp/tiff":412,timm:356}],414:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.isNodePattern=a,n.throwError=s,n.scan=u,n.scanIterator=l;var i=r(e("@babel/runtime/regenerator"));e("regenerator-runtime/runtime");var o=i.default.mark(l);function a(e){if(void 0===e)return!1;if("function"!=typeof e)throw new TypeError("Callback must be a function");return!0}function s(e,t){if("string"==typeof e&&(e=new Error(e)),"function"==typeof t)return t.call(this,e);throw e}function u(e,t,n,r,i,o){t=Math.round(t),n=Math.round(n),r=Math.round(r),i=Math.round(i);for(var a=n;a<n+i;a++)for(var s=t;s<t+r;s++){var u=e.bitmap.width*a+s<<2;o.call(e,s,a,u)}return e}function l(e,t,n,r,a){var s,u,l;return i.default.wrap(function i(o){for(;;)switch(o.prev=o.next){case 0:t=Math.round(t),n=Math.round(n),r=Math.round(r),a=Math.round(a),s=n;case 5:if(!(s<n+a)){o.next=17;break}u=t;case 7:if(!(u<t+r)){o.next=14;break}return l=e.bitmap.width*s+u<<2,o.next=11,{x:u,y:s,idx:l,image:e};case 11:u++,o.next=7;break;case 14:s++,o.next=5;break;case 17:case"end":return o.stop()}},o)}},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/regenerator":21,"regenerator-runtime/runtime":332}]},{},[379])(379)},e.exports=r()}).call(this,n(44))},function(e,t,n){var r=n(168),i,o=n(125).concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return r(t,o)}},function(e,t,n){"use strict";var r=n(41),i=n(21),o=n(49);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var r=n(16),i=n(181);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),e=t instanceof Array}catch(e){}return function t(o,a){return r(o),i(a),e?n.call(o,a):o.__proto__=a,o}}():void 0)},function(e,t,n){var r=n(78),i=n(15),o=n(24),a=n(21).f,s=n(77),u=n(87),l=s("meta"),c=0,f=Object.isExtensible||function(){return!0},p=function(e){a(e,l,{value:{objectID:"O"+ ++c,weakData:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,l)){if(!f(e))return"F";if(!t)return"E";p(e)}return e[l].objectID},d=function(e,t){if(!o(e,l)){if(!f(e))return!0;if(!t)return!1;p(e)}return e[l].weakData},m=function(e){return u&&g.REQUIRED&&f(e)&&!o(e,l)&&p(e),e},g=e.exports={REQUIRED:!1,fastKey:h,getWeakData:d,onFreeze:m};r[l]=!0},function(e,t,n){var r=n(89),i=n(209),o=n(146),a=Object.defineProperty;t.f=n(58)?Object.defineProperty:function e(t,n,s){if(r(t),n=o(n,!0),r(s),i)try{return a(t,n,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(t[n]=s.value),t}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=n(527)},function(e,t,n){var r=n(40);e.exports=Array.isArray||function e(t){return"Array"==r(t)}},function(e,t,n){"use strict";var r=n(42),i=n(21),o=n(17),a=n(19),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(27);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(28),i,o="["+n(101)+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),u=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},function(e,t,n){var r=n(56),i=n(57),o=n(208),a=n(72),s=n(65),u="prototype",l=function(e,t,n){var u=e&l.F,c=e&l.G,f=e&l.S,p=e&l.P,h=e&l.B,d=e&l.W,m=c?i:i[t]||(i[t]={}),g=m.prototype,v=c?r:f?r[t]:(r[t]||{}).prototype,y,b,w;for(y in c&&(n=t),n)(b=!u&&v&&void 0!==v[y])&&s(m,y)||(w=b?v[y]:n[y],m[y]=c&&"function"!=typeof v[y]?n[y]:h&&b?o(w,r):d&&v[y]==w?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(w):p&&"function"==typeof w?o(Function.call,w):w,p&&((m.virtual||(m.virtual={}))[y]=w,e&l.R&&g&&!g[y]&&a(g,y,w)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var r=n(64),i=n(109);e.exports=n(58)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(212),i=n(147);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(150)("wks"),i=n(112),o=n(56).Symbol,a="function"==typeof o,s;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(11),i=n(40),o="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var r=n(31),i=n(20),o=n(50),a=function(e){return function(t,n,a){var s=r(t),u=i(s.length),l=o(a,u),c;if(e&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(11),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==l||n!=u&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},function(e,t,n){var r=n(168),i=n(125);e.exports=Object.keys||function e(t){return r(t,i)}},function(e,t,n){var r=n(15),i=n(67),o,a=n(17)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(11),i=n(17),o=n(128),a=i("species");e.exports=function(e){return o>=51||!r(function(){var t=[],n;return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t){e.exports={}},function(e,t,n){var r=n(86),i=n(84),o,a=n(17)("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(131),i=n(40),o,a=n(17)("toStringTag"),s="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(e){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=Object(e),a))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(11);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,n){var r=n(16),i=n(130),o=n(20),a=n(52),s=n(85),u=n(178),l=function(e,t){this.stopped=e,this.result=t},c;(e.exports=function(e,t,n,c,f){var p=a(t,n,c?2:1),h,d,m,g,v,y,b;if(f)h=e;else{if("function"!=typeof(d=s(e)))throw TypeError("Target is not iterable");if(i(d)){for(m=0,g=o(e.length);g>m;m++)if((v=c?p(r(b=e[m])[0],b[1]):p(e[m]))&&v instanceof l)return v;return new l(!1)}h=d.call(e)}for(y=h.next;!(b=y.call(h)).done;)if("object"==typeof(v=u(h,p,b.value,c))&&v&&v instanceof l)return v;return new l(!1)}).stop=function(e){return new l(!0,e)}},function(e,t,n){var r=n(73);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function e(t){var n=i(this,t);return!!n&&n.enumerable}:r},function(e,t,n){var r=n(123),i=n(77),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var r=n(42);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r,i=n(17)("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(31),i=n(53),o=n(84),a=n(32),s=n(132),u="Array Iterator",l=a.set,c=a.getterFor(u);e.exports=s(Array,"Array",function(e,t){l(this,{type:u,target:r(e),index:0,kind:t})},function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var r=n(38),i=n(22),o=n(76),a=n(20),s=function(e){return function(t,n,s,u){r(n);var l=i(t),c=o(l),f=a(l.length),p=e?f-1:0,h=e?-1:1;if(s<2)for(;;){if(p in c){u=c[p],p+=h;break}if(p+=h,e?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=h)p in c&&(u=n(u,c[p],p,l));return u}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){"use strict";var r=n(13),i=n(19),o=n(134),a=n(29),s=n(69),u=n(11),l=n(54),c=n(37),f=n(20),p=n(183),h=n(283),d=n(43),m=n(62),g=n(60).f,v=n(21).f,y=n(129),b=n(46),w=n(32),x=w.get,_=w.set,C="ArrayBuffer",E="DataView",S="prototype",k="Wrong length",O="Wrong index",T=r.ArrayBuffer,N=T,A=r.DataView,I=A&&A.prototype,R=Object.prototype,P=r.RangeError,M=h.pack,j=h.unpack,D=function(e){return[255&e]},L=function(e){return[255&e,e>>8&255]},F=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},B=function(e){return M(e,23,4)},U=function(e){return M(e,52,8)},W=function(e,t){v(e.prototype,t,{get:function(){return x(this)[t]}})},V=function(e,t,n,r){var i=p(n),o=x(e);if(i+t>o.byteLength)throw P(O);var a=x(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+t);return r?u:u.reverse()},H=function(e,t,n,r,i,o){var a=p(n),s=x(e);if(a+t>s.byteLength)throw P(O);for(var u=x(s.buffer).bytes,l=a+s.byteOffset,c=r(+i),f=0;f<t;f++)u[l+f]=c[o?f:t-f-1]};if(o){if(!u(function(){T(1)})||!u(function(){new T(-1)})||u(function(){return new T,new T(1.5),new T(NaN),T.name!=C})){for(var G=(N=function e(t){return l(this,N),new T(p(t))}).prototype=T.prototype,q=g(T),K=0,X;q.length>K;)(X=q[K++])in N||a(N,X,T[X]);G.constructor=N}m&&d(I)!==R&&m(I,R);var Y=new A(new N(2)),Z=I.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||s(I,{setInt8:function e(t,n){Z.call(this,t,n<<24>>24)},setUint8:function e(t,n){Z.call(this,t,n<<24>>24)}},{unsafe:!0})}else N=function e(t){l(this,N,C);var n=p(t);_(this,{bytes:y.call(new Array(n),0),byteLength:n}),i||(this.byteLength=n)},A=function e(t,n,r){l(this,A,E),l(t,N,E);var o=x(t).byteLength,a=c(n);if(a<0||a>o)throw P("Wrong offset");if(a+(r=void 0===r?o-a:f(r))>o)throw P(k);_(this,{buffer:t,byteLength:r,byteOffset:a}),i||(this.buffer=t,this.byteLength=r,this.byteOffset=a)},i&&(W(N,"byteLength"),W(A,"buffer"),W(A,"byteLength"),W(A,"byteOffset")),s(A.prototype,{getInt8:function e(t){return V(this,1,t)[0]<<24>>24},getUint8:function e(t){return V(this,1,t)[0]},getInt16:function e(t){var n=V(this,2,t,arguments.length>1?arguments[1]:void 0);return(n[1]<<8|n[0])<<16>>16},getUint16:function e(t){var n=V(this,2,t,arguments.length>1?arguments[1]:void 0);return n[1]<<8|n[0]},getInt32:function e(t){return z(V(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function e(t){return z(V(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function e(t){return j(V(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function e(t){return j(V(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function e(t,n){H(this,1,t,D,n)},setUint8:function e(t,n){H(this,1,t,D,n)},setInt16:function e(t,n){H(this,2,t,L,n,arguments.length>2?arguments[2]:void 0)},setUint16:function e(t,n){H(this,2,t,L,n,arguments.length>2?arguments[2]:void 0)},setInt32:function e(t,n){H(this,4,t,F,n,arguments.length>2?arguments[2]:void 0)},setUint32:function e(t,n){H(this,4,t,F,n,arguments.length>2?arguments[2]:void 0)},setFloat32:function e(t,n){H(this,4,t,B,n,arguments.length>2?arguments[2]:void 0)},setFloat64:function e(t,n){H(this,8,t,U,n,arguments.length>2?arguments[2]:void 0)}});b(N,C),b(A,E),e.exports={ArrayBuffer:N,DataView:A}},function(e,t,n){"use strict";var r=n(9),i=n(13),o=n(80),a=n(27),s=n(63),u=n(88),l=n(54),c=n(15),f=n(11),p=n(94),h=n(46),d=n(99);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),v=m?"set":"add",y=i[e],b=y&&y.prototype,w=y,x={},_=function(e){var t=b[e];a(b,e,"add"==e?function e(n){return t.call(this,0===n?0:n),this}:"delete"==e?function(e){return!(g&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function e(n){return g&&!c(n)?void 0:t.call(this,0===n?0:n)}:"has"==e?function e(n){return!(g&&!c(n))&&t.call(this,0===n?0:n)}:function e(n,r){return t.call(this,0===n?0:n,r),this})};if(o(e,"function"!=typeof y||!(g||b.forEach&&!f(function(){(new y).entries().next()}))))w=n.getConstructor(t,e,m,v),s.REQUIRED=!0;else if(o(e,!0)){var C=new w,E=C[v](g?{}:-0,1)!=C,S=f(function(){C.has(1)}),k=p(function(e){new y(e)}),O=!g&&f(function(){for(var e=new y,t=5;t--;)e[v](t,t);return!e.has(-0)});k||((w=t(function(t,n){l(t,w,e);var r=d(new y,t,w);return void 0!=n&&u(n,r[v],r,m),r})).prototype=b,b.constructor=w),(S||O)&&(_("delete"),_("has"),m&&_("get")),(O||E)&&_(v),g&&b.clear&&delete b.clear}return x[e]=w,r({global:!0,forced:w!=y},x),h(w,e),g||n.setStrong(w,e,m),w}},function(e,t,n){var r=n(15),i=n(62);e.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},function(e,t){var n=Math.expm1,r=Math.exp;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function e(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:n},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(45),i=n(13),o=n(11);e.exports=r||!o(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete i[e]})},function(e,t,n){"use strict";var r=n(16);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(103),i=n(140),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,u=(l=/a/,c=/b*/g,o.call(l,"a"),o.call(c,"a"),0!==l.lastIndex||0!==c.lastIndex),l,c,f=i.UNSUPPORTED_Y||i.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],h;(u||p||f)&&(s=function e(t){var n=this,i,s,l,c,h=f&&n.sticky,d=r.call(n),m=n.source,g=0,v=t;return h&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),v=String(t).slice(n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&"\n"!==t[n.lastIndex-1])&&(m="(?: "+m+")",v=" "+v,g++),s=new RegExp("^(?:"+m+")",d)),p&&(s=new RegExp("^"+m+"$(?!\\s)",d)),u&&(i=n.lastIndex),l=o.call(h?s:n,v),h?l?(l.input=l.input.slice(g),l[0]=l[0].slice(g),l.index=n.lastIndex,n.lastIndex+=l[0].length):n.lastIndex=0:u&&l&&(n.lastIndex=n.global?l.index+l[0].length:i),p&&l&&l.length>1&&a.call(l[0],s,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(l[c]=void 0)}),l}),e.exports=s},function(e,t,n){var r=n(37),i=n(28),o=function(e){return function(t,n){var o=String(i(t)),a=r(n),s=o.length,u,l;return a<0||a>=s?e?"":void 0:(u=o.charCodeAt(a))<55296||u>56319||a+1===s||(l=o.charCodeAt(a+1))<56320||l>57343?e?o.charAt(a):u:e?o.slice(a,a+2):l-56320+(u-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,n){"use strict";n(198);var r=n(27),i=n(11),o=n(17),a=n(104),s=n(29),u=o("species"),l=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),c="$0"==="a".replace(/./,"$0"),f=o("replace"),p=!!/./[f]&&""===/./[f]("a","$0"),h=!i(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});e.exports=function(e,t,n,f){var d=o(e),m=!i(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),g=m&&!i(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t});if(!m||!g||"replace"===e&&(!l||!c||p)||"split"===e&&!h){var v=/./[d],y=n(d,""[e],function(e,t,n,r,i){return t.exec===a?m&&!i?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=y[0],w=y[1];r(String.prototype,e,b),r(RegExp.prototype,d,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}f&&s(RegExp.prototype[d],"sham",!0)}},function(e,t,n){var r=n(40),i=n(104);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t){var n=e.exports={},r,i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l=[],c=!1,f,p=-1;function h(){c&&f&&(c=!1,f.length?l=f.concat(l):p=-1,l.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(f=l,l=[];++p<t;)f&&f[p].run();p=-1,t=l.length}f=null,c=!1,u(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||c||s(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(211),i=n(151);e.exports=Object.keys||function e(t){return r(t,i)}},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return qe}),n.d(t,"b",function(){return Ke});var r=n(1),i,o,a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s;
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(s=i||(i={}))[s.DT_INVALID=0]="DT_INVALID",s[s.DT_FLOAT=1]="DT_FLOAT",s[s.DT_DOUBLE=2]="DT_DOUBLE",s[s.DT_INT32=3]="DT_INT32",s[s.DT_UINT8=4]="DT_UINT8",s[s.DT_INT16=5]="DT_INT16",s[s.DT_INT8=6]="DT_INT8",s[s.DT_STRING=7]="DT_STRING",s[s.DT_COMPLEX64=8]="DT_COMPLEX64",s[s.DT_INT64=9]="DT_INT64",s[s.DT_BOOL=10]="DT_BOOL",s[s.DT_QINT8=11]="DT_QINT8",s[s.DT_QUINT8=12]="DT_QUINT8",s[s.DT_QINT32=13]="DT_QINT32",s[s.DT_BFLOAT16=14]="DT_BFLOAT16",s[s.DT_FLOAT_REF=101]="DT_FLOAT_REF",s[s.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",s[s.DT_INT32_REF=103]="DT_INT32_REF",s[s.DT_UINT8_REF=104]="DT_UINT8_REF",s[s.DT_INT16_REF=105]="DT_INT16_REF",s[s.DT_INT8_REF=106]="DT_INT8_REF",s[s.DT_STRING_REF=107]="DT_STRING_REF",s[s.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",s[s.DT_INT64_REF=109]="DT_INT64_REF",s[s.DT_BOOL_REF=110]="DT_BOOL_REF",s[s.DT_QINT8_REF=111]="DT_QINT8_REF",s[s.DT_QUINT8_REF=112]="DT_QUINT8_REF",s[s.DT_QINT32_REF=113]="DT_QINT32_REF",s[s.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(o||(o={}));var c={};function f(e,t){var n={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t};c[e]=n}function p(e){return c[e]}function h(e){delete c[e]}function d(e,t,n,r){var i=t.inputParams[e];if(i&&void 0!==i.inputIndexStart){var o=i.inputIndexStart,a=0===i.inputIndexEnd?void 0:void 0===i.inputIndexEnd?o+1:i.inputIndexEnd;if("tensor"===i.type)return m(t.inputNames[i.inputIndexStart],n,r);if("tensors"===i.type)return t.inputNames.slice(o,a).map(function(e){return m(e,n,r)});var s=Array.prototype.slice.call(m(t.inputNames.slice(o)[0],n,r).dataSync());return"number"===i.type?s[0]:s}var u=t.attrParams[e];return u&&u.value}function m(e,t,n){var r=b(e),i=r[0],o=r[1],a=n.currentContextIds.find(function(e){return!!t[y(i,e)]});return void 0!==a?t[y(i,a)][o]:void 0}function g(e,t,n){return t[y(e,n.currentContextId)]}function v(e,t){var n=b(e),r=n[0],i=n[1];return[y(r,t&&t.currentContextId),i]}function y(e,t){return t?e+"-"+t:e}function b(e){var t=e.lastIndexOf(":");return-1===t?[e,0]:[e.substring(0,t),Number(e.substring(t+1))]}function w(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}var x=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],_=Object.freeze({json:x}),C=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"clip_value_min",name:"clipValueMin",type:"number"},{tfName:"clip_value_max",name:"clipValueMax",type:"number"}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"clipValueMin",name:"clipValueMin",type:"number",defaultValue:0},{tfName:"clipValueMax",name:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],E=Object.freeze({json:C}),S=[{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"}]}],k=Object.freeze({json:S}),O=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]}],T=Object.freeze({json:O}),N=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],A=Object.freeze({json:N}),I=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],R=Object.freeze({json:I}),P=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]}],M=Object.freeze({json:P}),j=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],D=Object.freeze({json:j}),L=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}],F=Object.freeze({json:L}),z=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],B=Object.freeze({json:z}),U=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],W=Object.freeze({json:U}),V=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],H=Object.freeze({json:V}),G=[{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]}],q=Object.freeze({json:G}),K=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool",notSupported:!0}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],X=Object.freeze({json:K}),Y=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],Z=Object.freeze({json:Y}),$=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]}],J=Object.freeze({json:$}),Q=function(){function e(){var e=[_,E,k,T,A,R,M,B,F,D,W,H,q,X,Z,J],t=[].concat.apply([],e.map(function(e){return e.json}));this.opMappers=t.reduce(function(e,t){return e[t.tfOpName]=t,e},{})}return Object.defineProperty(e,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),e.prototype.transformGraph=function(e,t){var n=this;void 0===t&&(t={});var r=[],i=[],o=e.node.reduce(function(e,t){return e[t.name]=n.mapNode(t),t.op.startsWith("Placeholder")&&r.push(e[t.name]),"Const"===t.op&&i.push(e[t.name]),e},{}),a=[],s=[],u={},l={};null!=t&&(u=this.mapSignatureEntries(t.inputs),l=this.mapSignatureEntries(t.outputs));var c=Object.keys(o);return c.forEach(function(e){var t=o[e];t.inputNames.forEach(function(e){var n=v(e)[0];t.inputs.push(o[n]),o[n].children.push(t)})}),0===Object.keys(l).length?c.forEach(function(e){var t=o[e];0===t.children.length&&s.push(t)}):Object.keys(l).forEach(function(e){var t=v(e)[0],n=o[t];null!=n&&(n.signatureKey=l[e],s.push(n))}),Object.keys(u).length>0?Object.keys(u).forEach(function(e){var t=v(e)[0],n=o[t];n&&(n.signatureKey=u[e],a.push(n))}):a=r,{nodes:o,inputs:a,outputs:s,weights:i,placeholders:r,signature:t}},e.prototype.mapSignatureEntries=function(e){return Object.keys(e||{}).reduce(function(t,n){return t[e[n].name]=n,t},{})},e.prototype.mapNode=function(e){var t=p(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map(function(e){return e.startsWith("^")?e.substr(1):e}),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e},{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(function(t,n){var r=n.type,i=void 0;switch(n.type){case"string":void 0===(i=ne(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ne(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(i=fe(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=fe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(i=ie(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(i=ie(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(i=ce(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ce(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(i=re(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=re(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(i=he(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=he(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(i=le(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=le(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(i=pe(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=pe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(i=ae(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(i=se(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=se(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+n.type+" for op: "+e.op)}return t[n.name]={value:i,type:r},t},{})),n},e}();function ee(t){var n=Object(r.W)().global;if(void 0!==n.atob)return n.atob(t);if(void 0!==e)return new e(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function te(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):ee(e);return t?n:n.toLowerCase()}function ne(e,t,n,r){void 0===r&&(r=!1);var i=e[t];return null!=i?te(i.s,r):n}function re(e,t,n){var r=e[t];return r?r.b:n}function ie(e,t,n){var r=e[t]||{},i=null!=r.i?r.i:null!=r.f?r.f:n;return"number"==typeof i?i:parseInt(i,10)}function oe(e){switch("string"==typeof e&&(e=i[e]),e){case i.DT_FLOAT:return"float32";case i.DT_INT32:case i.DT_INT64:return"int32";case i.DT_BOOL:return"bool";case i.DT_DOUBLE:return"float32";case i.DT_STRING:return"string";default:return null}}function ae(e,t,n){var r=e[t];return r&&r.type?oe(r.type):n}function se(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map(function(e){return oe(e)}):n}function ue(e){if(!e.unknownRank)return null!=e.dim?e.dim.map(function(e){return"number"==typeof e.size?e.size:parseInt(e.size,10)}):[]}function le(e,t,n){var r=e[t];return r&&r.shape?ue(r.shape):n}function ce(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(function(e){return"number"==typeof e?e:parseInt(e,10)}):n}function fe(e,t,n,r){void 0===r&&(r=!1);var i=e[t];return i&&i.list&&i.list.s?i.list.s.map(function(e){return te(e,r)}):n}function pe(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map(function(e){return ue(e)}):n}function he(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var de=function(){function e(e,t,n){var r=this;this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(function(e){return r.getInput(e)}),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(function(e,t){return e[t]=r.getAttr(t),e},{}))}return e.prototype.getInput=function(e){return m(e,this.tensorMap,this.context)},e.prototype.getAttr=function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return m(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return ie(this.node.rawAttrs,e,t);if(null!=n.s)return ne(this.node.rawAttrs,e,t);if(null!=n.b)return re(this.node.rawAttrs,e,t);if(null!=n.shape)return le(this.node.rawAttrs,e,t);if(null!=n.type)return ae(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return ce(this.node.rawAttrs,e,t);if(null!=n.list.s)return fe(this.node.rawAttrs,e,t);if(null!=n.list.shape)return pe(this.node.rawAttrs,e,t);if(null!=n.list.b)return he(this.node.rawAttrs,e,t);if(null!=n.list.type)return se(this.node.rawAttrs,e,t)}return t},e}(),me=function(e,t,n){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[Object(r.f)(d("a",e,t,n),d("b",e,t,n))];case"AddN":return[Object(r.g)(d("tensors",e,t,n))];case"FloorMod":case"Mod":return[Object(r.Nb)(d("a",e,t,n),d("b",e,t,n))];case"Mul":return[Object(r.Pb)(d("a",e,t,n),d("b",e,t,n))];case"RealDiv":case"Div":return[Object(r.S)(d("a",e,t,n),d("b",e,t,n))];case"DivNoNan":return[Object(r.T)(d("a",e,t,n),d("b",e,t,n))];case"FloorDiv":return[Object(r.gb)(d("a",e,t,n),d("b",e,t,n))];case"Sub":return[Object(r.Nc)(d("a",e,t,n),d("b",e,t,n))];case"Minimum":return[Object(r.Mb)(d("a",e,t,n),d("b",e,t,n))];case"Maximum":return[Object(r.Ib)(d("a",e,t,n),d("b",e,t,n))];case"Pow":return[Object(r.Zb)(d("a",e,t,n),d("b",e,t,n))];case"SquaredDifference":return[Object(r.Jc)(d("a",e,t,n),d("b",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}},ge=function(e,t,n){switch(e.op){case"Abs":case"ComplexAbs":return[Object(r.c)(d("x",e,t,n))];case"Acos":return[Object(r.d)(d("x",e,t,n))];case"Acosh":return[Object(r.e)(d("x",e,t,n))];case"Asin":return[Object(r.l)(d("x",e,t,n))];case"Asinh":return[Object(r.m)(d("x",e,t,n))];case"Atan":return[Object(r.n)(d("x",e,t,n))];case"Atan2":return[Object(r.o)(d("x",e,t,n),d("y",e,t,n))];case"Atanh":return[Object(r.p)(d("x",e,t,n))];case"Ceil":return[Object(r.A)(d("x",e,t,n))];case"Complex":return[Object(r.C)(d("real",e,t,n),d("imag",e,t,n))];case"Cos":return[Object(r.M)(d("x",e,t,n))];case"Cosh":return[Object(r.N)(d("x",e,t,n))];case"Elu":return[Object(r.V)(d("x",e,t,n))];case"Erf":return[Object(r.Y)(d("x",e,t,n))];case"Exp":return[Object(r.Z)(d("x",e,t,n))];case"Expm1":return[Object(r.bb)(d("x",e,t,n))];case"Floor":return[Object(r.fb)(d("x",e,t,n))];case"Log":return[Object(r.yb)(d("x",e,t,n))];case"Log1p":return[Object(r.zb)(d("x",e,t,n))];case"Imag":return[Object(r.nb)(d("x",e,t,n))];case"Neg":return[Object(r.Sb)(d("x",e,t,n))];case"Reciprocal":return[Object(r.gc)(d("x",e,t,n))];case"Real":return[Object(r.fc)(d("x",e,t,n))];case"Relu":return[Object(r.hc)(d("x",e,t,n))];case"Round":return[Object(r.lc)(d("x",e,t,n))];case"Selu":return[Object(r.pc)(d("x",e,t,n))];case"Sigmoid":return[Object(r.tc)(d("x",e,t,n))];case"Sin":return[Object(r.vc)(d("x",e,t,n))];case"Sign":return[Object(r.uc)(d("x",e,t,n))];case"Sinh":return[Object(r.wc)(d("x",e,t,n))];case"Softplus":return[Object(r.Dc)(d("x",e,t,n))];case"Sqrt":return[Object(r.Hc)(d("x",e,t,n))];case"Square":return[Object(r.Ic)(d("x",e,t,n))];case"Tanh":return[Object(r.Qc)(d("x",e,t,n))];case"Tan":return[Object(r.Pc)(d("x",e,t,n))];case"Relu6":case"ClipByValue":return[Object(r.B)(d("x",e,t,n),d("clipValueMin",e,t,n),d("clipValueMax",e,t,n))];case"Rsqrt":return[Object(r.mc)(m(e.inputNames[0],t,n))];case"Prod":return[Object(r.bc)(d("x",e,t,n),d("axes",e,t,n))];case"LeakyRelu":return[Object(r.sb)(d("x",e,t,n),d("alpha",e,t,n))];case"Prelu":return[Object(r.ac)(d("x",e,t,n),d("alpha",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}},ve=function(){function e(t,n,r,i,o,a,s){this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=i,this.identicalElementShapes=o,this.dynamicSize=a,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.id=e.nextId++}return Object.defineProperty(e.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),e.prototype.clearAndClose=function(){this.tensors.forEach(function(e){return e.tensor.dispose()}),this.tensors=[],this.closed_=!0},e.prototype.size=function(){return this.tensors.length},e.prototype.read=function(e){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||e>=this.tensors.length)throw new Error("Tried to read from index "+e+", but array size is: "+this.tensors.length);var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+e+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor},e.prototype.readMany=function(e){var t=this;return e.map(function(e){return t.read(e)})},e.prototype.write=function(e,t){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index "+e+", but array is not resizeable and size is: "+this.maxSize);var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+",\n          because the value dtype is "+t.dtype+", but TensorArray dtype is "+this.dtype+".");if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),this.assertShapesMatchAllowUndefinedSize(this.elementShape,t.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+e+"."),n&&n.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been read.");if(n&&n.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been written.");n.tensor=t,n.written=!0,this.tensors[e]=n},e.prototype.writeMany=function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,because the index size: "+e.length+" is not the same as tensors size: "+t.length+".");e.forEach(function(e,r){return n.write(e,t[r])})},e.prototype.gather=function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+t);if(!e){e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return Object(r.Rc)([],[0].concat(this.elementShape));var i=this.readMany(e);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,i[0].shape,"TensorArray shape mismatch: "),Object(r.Lc)(i,0)},e.prototype.concat=function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+e);if(0===this.size())return Object(r.Rc)([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var i=this.readMany(t);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,i[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+i[0].shape+")"),Object(r.D)(i,0)},e.prototype.scatter=function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+e.length+" vs. "+t.shape[0]);var n=Math.max.apply(Math,e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size ("+n+"  vs. "+this.maxSize+")");this.writeMany(e,Object(r.cd)(t,0))},e.prototype.split=function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);var i=0,o=e.map(function(e){return i+=e});if(i!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        "+i+", and tensor's shape is: "+t.shape);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+e.length+"), and the TensorArray is not marked as dynamically resizeable");var a=0===i?0:t.size/i,s=[];Object(r.Wc)(function(){t=t.reshape([1,i,a]);for(var u=0;u<e.length;++u){var l=[0,0===u?0:o[u-1],0],c=[1,e[u],a];s[u]=Object(r.xc)(t,l,c).reshape(n.elementShape)}return s});for(var u=[],l=0;l<e.length;l++)u[l]=l;this.writeMany(u,s)},e.prototype.assertShapesMatchAllowUndefinedSize=function(e,t,n){void 0===n&&(n=""),r.dd.assert(this.shapesEqualAllowUndefinedSize(e,t),function(){return n+" Shapes "+e+" and "+t+" must match"})},e.prototype.shapesEqualAllowUndefinedSize=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(-1!==e[n]&&-1!==t[n]&&e[n]!==t[n])return!1;return!0},e.nextId=0,e}(),ye=void 0,be=function(e,t,n){return u(ye,void 0,void 0,function(){var i,o,a,s,u,c,f,p,h,g,v,y,b,w,x,_,C,E,S,k,O,T,N,A,I,R,P,M,j,D,L,F,z,B,U;return l(this,function(l){switch(l.label){case 0:switch(e.op){case"LoopCond":return[3,1];case"Switch":return[3,2];case"Merge":return[3,4];case"Enter":return[3,5];case"Exit":return[3,6];case"NextIteration":return[3,7];case"TensorArrayV3":return[3,8];case"TensorArrayWriteV3":return[3,9];case"TensorArrayReadV3":return[3,10];case"TensorArrayGatherV3":return[3,11];case"TensorArrayScatterV3":return[3,12];case"TensorArrayConcatV3":return[3,13];case"TensorArraySplitV3":return[3,14];case"TensorArraySizeV3":return[3,15];case"TensorArrayCloseV3":return[3,16]}return[3,17];case 1:return[2,[d("pred",e,t,n).clone()]];case 2:return i=d("pred",e,t,n),o=d("data",e,t,n),[4,i.data()];case 3:return[2,l.sent()[0]?[void 0,o.clone()]:[o.clone(),void 0]];case 4:return[2,(a=e.inputNames.find(function(e){return void 0!==m(e,t,n)}))?[m(a,t,n).clone()]:void 0];case 5:return s=d("frameName",e,t,n),u=d("tensor",e,t,n),n.enterFrame(s),[2,[u.clone()]];case 6:return c=d("tensor",e,t,n),n.exitFrame(),[2,[c.clone()]];case 7:return f=d("tensor",e,t,n),n.nextIteration(),[2,[f.clone()]];case 8:return p=d("size",e,t,n),h=d("dtype",e,t,n),g=d("elementShape",e,t,n),v=d("dynamicSize",e,t,n),y=d("clearAfterRead",e,t,n),b=d("identicalElementShapes",e,t,n),w=d("name",e,t,n),x=new ve(w,h,p,g,b,v,y),n.addTensorArray(x),[2,[Object(r.nc)(x.id),Object(r.nc)(1)]];case 9:return _=d("tensorArrayId",e,t,n),C=d("index",e,t,n),E=d("tensor",e,t,n),n.getTensorArray(_).write(C,E),[2,[Object(r.nc)(1)]];case 10:return S=d("tensorArrayId",e,t,n),k=d("index",e,t,n),[2,[n.getTensorArray(S).read(k)]];case 11:return O=d("tensorArrayId",e,t,n),T=d("indices",e,t,n),N=d("dtype",e,t,n),[2,[n.getTensorArray(O).gather(T,N)]];case 12:return A=d("tensorArrayId",e,t,n),I=d("indices",e,t,n),R=d("tensor",e,t,n),n.getTensorArray(A).scatter(I,R),[2,[Object(r.nc)(1)]];case 13:return P=d("tensorArrayId",e,t,n),M=n.getTensorArray(P),j=d("dtype",e,t,n),[2,[M.concat(j)]];case 14:return D=d("tensorArrayId",e,t,n),L=d("tensor",e,t,n),F=d("lengths",e,t,n),n.getTensorArray(D).split(F,L),[2,[Object(r.nc)(1)]];case 15:return z=d("tensorArrayId",e,t,n),B=n.getTensorArray(z),[2,[Object(r.nc)(B.size(),"int32")]];case 16:return U=d("tensorArrayId",e,t,n),n.getTensorArray(U).clearAndClose(),[2,[Object(r.nc)(0)]];case 17:throw TypeError("Node type "+e.op+" is not implemented")}})})},we=function(e,t,n){switch(e.op){case"Conv1D":var i=d("stride",e,t,n),o=d("pad",e,t,n),a=d("dataFormat",e,t,n).toUpperCase(),s=d("dilation",e,t,n);return[Object(r.I)(d("x",e,t,n),d("filter",e,t,n),i,o,a,s)];case"Conv2D":i=d("strides",e,t,n),o=d("pad",e,t,n),a=d("dataFormat",e,t,n).toUpperCase();var u=d("dilations",e,t,n);return[Object(r.J)(d("x",e,t,n),d("filter",e,t,n),[i[1],i[2]],o,a,[u[1],u[2]])];case"_FusedConv2D":case"FusedDepthwiseConv2dNative":var l=d("fusedOps",e,t,n),c=l[0],f=l[1],p="biasadd"===c,h="prelu"===f,m="fusedbatchnorm"===c,g=d("numArgs",e,t,n);if(p){if(h&&2!==g)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!h&&1!==g)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(m)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported.");i=d("strides",e,t,n),o=d("pad",e,t,n),a=d("dataFormat",e,t,n).toUpperCase(),u=d("dilations",e,t,n);var v=d("args",e,t,n),y=v[0],b=v[1];return[("_FusedConv2D"===e.op?r.hb.conv2d:r.hb.depthwiseConv2d)({x:d("x",e,t,n),filter:d("filter",e,t,n),strides:[i[1],i[2]],pad:o,dataFormat:a,dilations:[u[1],u[2]],bias:y,activation:f,preluActivationWeights:b})];case"Conv2DBackpropInput":case"Conv2dTranspose":var w=d("outputShape",e,t,n);return i=d("strides",e,t,n),o=d("pad",e,t,n),[Object(r.K)(d("x",e,t,n),d("filter",e,t,n),w,[i[1],i[2]],o)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":return i=d("strides",e,t,n),o=d("pad",e,t,n),u=d("dilations",e,t,n),a=d("dataFormat",e,t,n).toUpperCase(),[Object(r.Q)(d("input",e,t,n),d("filter",e,t,n),[i[1],i[2]],o,a,[u[1],u[2]])];case"Conv3D":return i=d("strides",e,t,n),o=d("pad",e,t,n),a=d("dataFormat",e,t,n).toUpperCase(),u=d("dilations",e,t,n),[Object(r.L)(d("x",e,t,n),d("filter",e,t,n),[i[1],i[2],i[3]],o,a,[u[1],u[2],u[3]])];case"AvgPool":i=d("strides",e,t,n),o=d("pad",e,t,n);var x=d("kernelSize",e,t,n);return[Object(r.q)(d("x",e,t,n),[x[1],x[2]],[i[1],i[2]],o)];case"MaxPool":return i=d("strides",e,t,n),o=d("pad",e,t,n),x=d("kernelSize",e,t,n),[Object(r.Gb)(d("x",e,t,n),[x[1],x[2]],[i[1],i[2]],o)];case"AvgPool3D":return i=d("strides",e,t,n),o=d("pad",e,t,n),x=d("kernelSize",e,t,n),[Object(r.r)(d("x",e,t,n),[x[1],x[2],x[3]],[i[1],i[2],i[3]],o)];case"MaxPool3D":return i=d("strides",e,t,n),o=d("pad",e,t,n),x=d("kernelSize",e,t,n),[Object(r.Hb)(d("x",e,t,n),[x[1],x[2],x[3]],[i[1],i[2],i[3]],o)];default:throw TypeError("Node type "+e.op+" is not implemented")}},xe=function(e,t,n){switch(e.op){case"Fill":var i=d("shape",e,t,n),o=d("dtype",e,t,n),a=d("value",e,t,n);return[Object(r.eb)(i,a,o)];case"LinSpace":var s=d("start",e,t,n),u=d("stop",e,t,n),l=d("num",e,t,n);return[Object(r.wb)(s,u,l)];case"Multinomial":var c=d("logits",e,t,n),f=d("numSamples",e,t,n),p=d("seed",e,t,n);return[Object(r.Rb)(c,f,p)];case"OneHot":var h=d("indices",e,t,n),m=d("depth",e,t,n),g=d("onValue",e,t,n),v=d("offValue",e,t,n);return[Object(r.Vb)(h,m,g,v)];case"Ones":return[Object(r.Wb)(d("shape",e,t,n),d("dtype",e,t,n))];case"OnesLike":return[Object(r.Xb)(d("x",e,t,n))];case"RandomUniform":return[Object(r.dc)(d("shape",e,t,n),d("minval",e,t,n),d("maxval",e,t,n),d("dtype",e,t,n))];case"Range":s=d("start",e,t,n);var y=d("stop",e,t,n),b=d("step",e,t,n);return[Object(r.ec)(s,y,b,d("dtype",e,t,n))];case"TruncatedNormal":i=d("shape",e,t,n);var w=d("mean",e,t,n),x=d("stdDev",e,t,n);return p=d("seed",e,t,n),[Object(r.bd)(i,w,x,d("dtype",e,t,n),p)];case"Zeros":return[Object(r.id)(d("shape",e,t,n),d("dtype",e,t,n))];case"ZerosLike":return[Object(r.jd)(d("x",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}},_e=void 0,Ce=function(e,t,n){return u(void 0,void 0,void 0,function(){var i,o,a,s,u,c,f,p;return l(this,function(l){switch(l.label){case 0:switch(e.op){case"NonMaxSuppressionV5":case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":return[3,1];case"Where":return[3,5];case"ListDiff":return[3,7]}return[3,8];case 1:return i=d("boxes",e,t,n),o=d("scores",e,t,n),a=d("maxOutputSize",e,t,n),s=d("iouThreshold",e,t,n),u=d("scoreThreshold",e,t,n),"NonMaxSuppressionV5"!==e.op?[3,3]:(c=d("softNmsSigma",e,t,n),[4,r.ob.nonMaxSuppressionWithScoreAsync(i,o,a,s,u,c)]);case 2:return[2,[(p=l.sent()).selectedIndices,p.selectedScores]];case 3:return[4,r.ob.nonMaxSuppressionAsync(i,o,a,s,u)];case 4:return[2,[l.sent()]];case 5:return f=d("condition",e,t,n).asType("bool"),[4,Object(r.hd)(f)];case 6:return p=[l.sent()],f.dispose(),[2,p];case 7:return[2,Object(r.sc)(d("x",e,t,n),d("y",e,t,n))];case 8:throw TypeError("Node type "+e.op+" is not implemented")}})})},Ee=function(e,t,n){switch(e.op){case"TopKV2":var i=d("x",e,t,n),o=d("k",e,t,n),a=d("sorted",e,t,n),s=Object(r.Yc)(i,o,a);return[s.values,s.indices];default:throw TypeError("Node type "+e.op+" is not implemented")}},Se=function(e,t,n){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var i=d("default",e,t,n);return[m(e.name,t,n)||i];case"Placeholder":return[m(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":return[d("x",e,t,n).clone()];case"IdentityN":return d("x",e,t,n).map(function(e){return e.clone()});case"Snapshot":return[d("x",e,t,n).clone()];case"Shape":return[Object(r.Sc)(d("x",e,t,n).shape,"int32")];case"ShapeN":return d("x",e,t,n).map(function(e){return Object(r.Sc)(e.shape)});case"Size":return[Object(r.nc)(d("x",e,t,n).size,"int32")];case"Rank":return[Object(r.nc)(d("x",e,t,n).rank,"int32")];case"NoOp":return[Object(r.nc)(1)];case"Print":var o=d("x",e,t,n),a=d("data",e,t,n),s=d("message",e,t,n),u=d("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(var l=0;l<a.length;l++)console.log(Array.prototype.slice.call(a[l].dataSync()).slice(0,u));return[o];default:throw TypeError("Node type "+e.op+" is not implemented")}},ke=function(e,t,n){switch(e.op){case"ResizeBilinear":var i=d("images",e,t,n),o=d("size",e,t,n),a=d("alignCorners",e,t,n);return[r.ob.resizeBilinear(i,[o[0],o[1]],a)];case"ResizeNearestNeighbor":return i=d("images",e,t,n),o=d("size",e,t,n),a=d("alignCorners",e,t,n),[r.ob.resizeNearestNeighbor(i,[o[0],o[1]],a)];case"CropAndResize":var s=d("image",e,t,n),u=d("boxes",e,t,n),l=d("boxInd",e,t,n),c=d("cropSize",e,t,n),f=d("method",e,t,n),p=d("extrapolationValue",e,t,n);return[r.ob.cropAndResize(s,u,l,c,f,p)];default:throw TypeError("Node type "+e.op+" is not implemented")}},Oe=function(e,t,n){switch(e.op){case"Equal":return[Object(r.X)(d("a",e,t,n),d("b",e,t,n))];case"NotEqual":return[Object(r.Ub)(d("a",e,t,n),d("b",e,t,n))];case"Greater":return[Object(r.kb)(d("a",e,t,n),d("b",e,t,n))];case"GreaterEqual":return[Object(r.lb)(d("a",e,t,n),d("b",e,t,n))];case"Less":return[Object(r.tb)(d("a",e,t,n),d("b",e,t,n))];case"LessEqual":return[Object(r.ub)(d("a",e,t,n),d("b",e,t,n))];case"LogicalAnd":return[Object(r.Bb)(d("a",e,t,n),d("b",e,t,n))];case"LogicalNot":return[Object(r.Cb)(d("a",e,t,n))];case"LogicalOr":return[Object(r.Db)(d("a",e,t,n),d("b",e,t,n))];case"Select":return[Object(r.gd)(d("condition",e,t,n),d("a",e,t,n),d("b",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}},Te=function(e,t,n){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[Object(r.Eb)(d("a",e,t,n),d("b",e,t,n),d("transposeA",e,t,n),d("transposeB",e,t,n))];case"Transpose":return[Object(r.ad)(d("x",e,t,n),d("perm",e,t,n))];case"_FusedMatMul":var i=d("fusedOps",e,t,n),o=i[0],a=i[1],s="biasadd"===o,u="prelu"===a,l=d("numArgs",e,t,n);if(s){if(u&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var c=d("args",e,t,n),f=c[0],p=c[1];return[r.hb.matMul({a:d("a",e,t,n),b:d("b",e,t,n),transposeA:d("transposeA",e,t,n),transposeB:d("transposeB",e,t,n),bias:f,activation:a,preluActivationWeights:p})];default:throw TypeError("Node type "+e.op+" is not implemented")}},Ne=function(e,t,n){switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[Object(r.t)(d("x",e,t,n),d("mean",e,t,n),d("variance",e,t,n),d("offset",e,t,n),d("scale",e,t,n),d("epsilon",e,t,n))];case"LRN":return[Object(r.xb)(d("x",e,t,n),d("radius",e,t,n),d("bias",e,t,n),d("alpha",e,t,n),d("beta",e,t,n))];case"Softmax":return[Object(r.Cc)(d("x",e,t,n))];case"LogSoftmax":return[Object(r.Ab)(d("x",e,t,n))];case"SparseToDense":return[Object(r.Fc)(d("sparseIndices",e,t,n),d("outputShape",e,t,n),d("sparseValues",e,t,n),d("defaultValue",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}},Ae=function(e,t,n){switch(e.op){case"Max":var i=d("axis",e,t,n),o=d("keepDims",e,t,n);return[Object(r.Fb)(d("x",e,t,n),i,o)];case"Mean":return i=d("axis",e,t,n),o=d("keepDims",e,t,n),[Object(r.Jb)(d("x",e,t,n),i,o)];case"Min":return i=d("axis",e,t,n),o=d("keepDims",e,t,n),[Object(r.Lb)(d("x",e,t,n),i,o)];case"Sum":return i=d("axis",e,t,n),o=d("keepDims",e,t,n),[Object(r.Oc)(d("x",e,t,n),i,o)];case"All":return i=d("axis",e,t,n),o=d("keepDims",e,t,n),[Object(r.h)(d("x",e,t,n),i,o)];case"Any":return i=d("axis",e,t,n),o=d("keepDims",e,t,n),[Object(r.i)(d("x",e,t,n),i,o)];case"ArgMax":return i=d("axis",e,t,n),[Object(r.j)(d("x",e,t,n),i)];case"ArgMin":return i=d("axis",e,t,n),[Object(r.k)(d("x",e,t,n),i)];case"Prod":return i=d("axis",e,t,n),o=d("keepDims",e,t,n),[Object(r.bc)(d("x",e,t,n),i,o)];default:throw TypeError("Node type "+e.op+" is not implemented")}},Ie=function(e,t,n){switch(e.op){case"ConcatV2":case"Concat":var i=d("n",e,t,n),o=d("axis",e,t,n),a=d("tensors",e,t,n);return a=a.slice(0,i),[Object(r.D)(a,o)];case"GatherV2":case"Gather":o=d("axis",e,t,n);var s=d("x",e,t,n),u=d("indices",e,t,n);return[Object(r.ib)(s,u.asType("int32"),o)];case"ReverseV2":case"Reverse":return o=d("axis",e,t,n),s=d("x",e,t,n),[Object(r.jc)(s,o)];case"Slice":var l=d("begin",e,t,n),c=d("size",e,t,n);return[Object(r.xc)(d("x",e,t,n),l,c)];case"StridedSlice":l=d("begin",e,t,n);var f=d("end",e,t,n),p=d("strides",e,t,n),h=d("beginMask",e,t,n),m=d("endMask",e,t,n),g=d("ellipsisMask",e,t,n),v=d("newAxisMask",e,t,n),y=d("shrinkAxisMask",e,t,n),b=d("x",e,t,n);if(1===l.length&&b.shape.length>1)for(var w=1;w<b.shape.length;w++)l.push(0),f.push(b.shape[w]),p.push(p[0]);return[Object(r.Mc)(b,l,f,p,h,m,g,v,y)];case"Pack":return Object(r.Wc)(function(){var i=d("axis",e,t,n),o=d("tensors",e,t,n),a=o[0].shape,s=o[0].squeeze().shape,u=o.map(function(e){var t=r.dd.arraysEqual(e.shape,a);if(!t&&!r.dd.arraysEqual(e.squeeze().shape,s))throw new Error("the input tensors shape does not match");return t?e:e.reshape(a)});return[Object(r.Lc)(u,i)]});case"Unpack":return Object(r.Wc)(function(){var i=d("axis",e,t,n),o=d("tensor",e,t,n);return Object(r.cd)(o,i)});case"Tile":var x=d("reps",e,t,n);return[Object(r.Xc)(d("x",e,t,n),x)];case"Split":case"SplitV":o=d("axis",e,t,n);var _=d("numOrSizeSplits",e,t,n);return Object(r.Gc)(d("x",e,t,n),_,o);case"ScatterNd":u=d("indices",e,t,n);var C=d("values",e,t,n),E=d("shape",e,t,n);return[Object(r.oc)(u,C,E)];case"GatherNd":var S=d("x",e,t,n);return u=d("indices",e,t,n),[Object(r.jb)(S,u)];case"SparseToDense":u=d("sparseIndices",e,t,n),E=d("outputShape",e,t,n);var k=d("sparseValues",e,t,n),O=d("defaultValue",e,t,n);return[Object(r.Fc)(u,k,E,k.dtype===O.dtype?O:O.asType(k.dtype))];default:throw TypeError("Node type "+e.op+" is not implemented")}},Re=function(e,t,n){switch(e.op){case"FFT":return[Object(r.db)(d("x",e,t,n))];case"IFFT":return[Object(r.mb)(d("x",e,t,n))];case"RFFT":return[Object(r.kc)(d("x",e,t,n))];case"IRFFT":return[Object(r.qb)(d("x",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}},Pe=function(e,t,n){switch(e.op){case"Cast":return[Object(r.z)(d("x",e,t,n),d("dtype",e,t,n))];case"ExpandDims":var i=d("axis",e,t,n);return[Object(r.ab)(d("x",e,t,n),i)];case"Squeeze":return i=d("axis",e,t,n),[Object(r.Kc)(d("x",e,t,n),i)];case"Reshape":return[Object(r.ic)(d("x",e,t,n),d("shape",e,t,n))];case"PadV2":case"Pad":return[Object(r.Yb)(d("x",e,t,n),w(d("padding",e,t,n),2),d("constantValue",e,t,n))];case"SpaceToBatchND":var o=d("blockShape",e,t,n),a=w(d("paddings",e,t,n),2);return[Object(r.Ec)(d("x",e,t,n),o,a)];case"BatchToSpaceND":o=d("blockShape",e,t,n);var s=w(d("crops",e,t,n),2);return[Object(r.x)(d("x",e,t,n),o,s)];case"DepthToSpace":var u=d("blockSize",e,t,n),l=d("dataFormat",e,t,n).toUpperCase();return[Object(r.P)(d("x",e,t,n),u,l)];default:throw TypeError("Node type "+e.op+" is not implemented")}};function Me(e,t,n){var i=function(e,t,n){switch(e.category){case"arithmetic":return Object(r.Wc)(function(){return me(e,t,n)});case"basic_math":return Object(r.Wc)(function(){return ge(e,t,n)});case"control":return be(e,t,n);case"convolution":return Object(r.Wc)(function(){return we(e,t,n)});case"creation":return Object(r.Wc)(function(){return xe(e,t,n)});case"dynamic":return Ce(e,t,n);case"evaluation":return Object(r.Wc)(function(){return Ee(e,t,n)});case"image":return Object(r.Wc)(function(){return ke(e,t,n)});case"graph":return Object(r.Wc)(function(){return Se(e,t,n)});case"logical":return Object(r.Wc)(function(){return Oe(e,t,n)});case"matrices":return Object(r.Wc)(function(){return Te(e,t,n)});case"normalization":return Object(r.Wc)(function(){return Ne(e,t,n)});case"reduction":return Object(r.Wc)(function(){return Ae(e,t,n)});case"slice_join":return Object(r.Wc)(function(){return Ie(e,t,n)});case"spectral":return Object(r.Wc)(function(){return Re(e,t,n)});case"transformation":return Object(r.Wc)(function(){return Pe(e,t,n)});case"custom":var i=p(e.op);if(i&&i.customExecutor)return i.customExecutor(new de(e,t,n));throw TypeError("Custom op "+e.op+" is not registered.");default:throw TypeError("Unknown op '"+e.op+"'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return i instanceof Promise?i.then(function(e){return[].concat(e)}):[].concat(i)}var je=function(){function e(e,t){this.weightMap=e,this.tensorArrayMap=t,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return e.prototype.newFrame=function(e,t){return{id:e,frameName:t,iterationId:0}},Object.defineProperty(e.prototype,"currentContext",{get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),e.prototype.generateCurrentContextIds=function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e},e.prototype.contextIdforContexts=function(e){return e?e.map(function(e){return 0===e.id&&0===e.iterationId?"":e.frameName+"-"+e.iterationId}).join("/"):""},e.prototype.enterFrame=function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},e.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()},e.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))},e.prototype.getWeight=function(e){return this.weightMap[e]},e.prototype.addTensorArray=function(e){this.tensorArrayMap[e.id]=e},e.prototype.getTensorArray=function(e){return this.tensorArrayMap[e]},e}();function De(e,t,n){for(var r=new Set,i=[],o=null,a=null,s=new Set,u=Object.keys(e).map(function(e){return b(e)[0]}),l=t.slice();l.length>0;){var c=l.pop();(Be(c)||Ue(c))&&null==o&&(a=(o=c).children.map(function(e){return e.name}).filter(function(e){return r.has(e)})),r.add(c.name),null==n[c.name]&&-1===u.indexOf(c.name)&&(0!==c.inputs.length?c.inputs.forEach(function(e){s.has(e.name)||(s.add(e.name),l.push(e))}):i.push(c.name))}return{inputs:e,outputs:t,usedNodes:r,missingInputs:i,dynamicNode:o,syncInputs:a}}function Le(e,t,n){var r=n.usedNodes,i=n.inputs,o=[];Object.keys(i).map(function(e){return b(e)[0]}).map(function(t){return e.nodes[t]}).forEach(function(e){r.has(e.name)&&o.push(e)}),e.weights.forEach(function(e){r.has(e.name)&&o.push(e)});for(var a=new Set,s=[];o.length>0;){var u=o.pop();a.add(u.name),t[u.name]||s.push(u),u.children.forEach(function(e){!a.has(e.name)&&r.has(e.name)&&e.inputs.every(function(e){return a.has(e.name)})&&o.push(e)})}return s}var Fe=["Switch","Merge","Enter","Exit","NextIteration"],ze=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"];function Be(e){return Fe.indexOf(e.op)>=0}function Ue(e){return ze.indexOf(e.op)>=0}var We=function(){function e(e){this.graph=e,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._outputs=e.outputs,this._inputs=e.inputs,this._signature=e.signature}return Object.defineProperty(e.prototype,"weightMap",{get:function(){return this._weightMap},set:function(e){var t=Object.keys(e).map(function(t){return e[t].map(function(e){return e.id})});this.weightIds=[].concat.apply([],t),this._weightMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this._inputs.map(function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this._outputs.map(function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this._inputs.map(function(e){return e.signatureKey||e.name})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this._outputs.map(function(e){return e.signatureKey||e.name})},enumerable:!0,configurable:!0}),e.prototype.getCompilationKey=function(e,t){var n=e.map(function(e){return e.name}).sort(),r=t.map(function(e){return e.name}).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)},e.prototype.compile=function(e,t){var n=De(e,t,this.weightMap),r=n.missingInputs,i=n.dynamicNode,o=n.syncInputs;if(null!=i)throw new Error("This execution contains the node '"+i.name+"', which has the dynamic op '"+i.op+"'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs ["+o+"]");if(r.length>0){var a=t.map(function(e){return e.name}),s=Object.keys(e);throw new Error("Cannot compute the outputs ["+a+"] from the provided inputs ["+s+"]. Missing the following inputs: ["+r+"]")}return Le(this.graph,this.weightMap,n)},e.prototype.execute=function(e,t){var n=this;e=this.mapInputs(e);var i=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var o=i.map(function(e){return n.graph.nodes[b(e)[0]]}),s=t.map(function(e){return n.graph.nodes[b(e)[0]]}),u=this.getCompilationKey(o,s),l=this.compiledMap.get(u);null==l&&(l=this.compile(e,s),this.compiledMap.set(u,l));var c={};return Object(r.Wc)(function(){var r=new je(n._weightMap,c),i=a({},n.weightMap);Object.keys(e).forEach(function(t){var n=b(t),r=n[0],o=[];o[n[1]]=e[t],i[r]=o});for(var o=n.getFrozenTensorIds(i),s={},u=0;u<l.length;u++){var f=l[u];if(!i[f.name]){var p=Me(f,i,r);if(p instanceof Promise)throw new Error("The execution of the op '"+f.op+"' returned a promise. Please use model.executeAsync() instead.");i[f.name]=p,n.checkTensorForDisposal(f.name,f,i,r,o,t,s)}}return t.map(function(e){return m(e,i,r)})})},e.prototype.getFrozenTensorIds=function(e){var t=[].concat.apply([],Object.keys(e).map(function(t){return e[t]}).map(function(e){return e.map(function(e){return e.id})}));return new Set(t)},e.prototype.checkTensorForDisposal=function(e,t,n,r,i,o,a){"control"!==t.category&&-1===o.indexOf(e)&&(n[e].forEach(function(e){null!=e&&(a[e.id]=(a[e.id]||0)+t.children.length)}),t.inputs.forEach(function(e){if("control"!==e.category){var t=g(e.name,n,r);null!=t&&t.forEach(function(e){if(e&&!i.has(e.id)){var t=a[e.id];1===t?(e.dispose(),delete a[e.id]):null!=t&&a[e.id]--}})}}))},e.prototype.executeAsync=function(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,u=this;return l(this,function(l){switch(l.label){case 0:return e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t),n={},r=new je(this._weightMap,n),[4,this.executeWithControlFlow(e,r,t)];case 1:return i=l.sent(),o=t.map(function(e){return m(e,i,r)}),a=new Set(o.map(function(e){return e.id})),s=new Set(Object.keys(e).map(function(t){return e[t].id})),Object.keys(i).forEach(function(e){i[e].forEach(function(e){!e||e.isDisposed||a.has(e.id)||s.has(e.id)||-1!==u.weightIds.indexOf(e.id)||e.dispose()})}),[2,o]}})})},e.prototype.executeWithControlFlow=function(e,t,n){return u(this,void 0,void 0,function(){var r,i,o,s,u,c,f,p,h,d,g,v,y,w,x,_,C=this;return l(this,function(l){switch(l.label){case 0:r=Object.keys(e),i=r.map(function(e){return C.graph.nodes[b(e)[0]]}),o=n.map(function(e){return C.graph.nodes[b(e)[0]]}),s=De(e,o,this.weightMap),u=s.usedNodes,c=s.missingInputs,f=s.dynamicNode,p=s.syncInputs,h=i.concat(this.graph.weights).map(function(e){return{node:e,contexts:t.currentContext}}),d=a({},this.weightMap),Object.keys(e).forEach(function(t){var n=b(t),r=n[0],i=[];i[n[1]]=e[t],d[r]=i}),g={},v=this.getFrozenTensorIds(d),y={},l.label=1;case 1:return h.length>0?(w=this.processStack(i,h,t,d,y,v,n,g,u),[4,Promise.all(w)]):[3,3];case 2:return l.sent(),[3,1];case 3:if(null==f&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),(x=o.filter(function(e){return!Be(e)&&!m(e.name,d,t)}).map(function(e){return e.name})).length>0)throw _="",null!=f&&(_="Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs ["+p+"]"),new Error("Cannot compute the outputs ["+x+"] from the provided inputs ["+r+"]. Consider providing the following inputs: ["+c+"]. "+_);return[2,d]}})})},e.prototype.processStack=function(e,t,n,r,i,o,a,s,u){for(var l=this,c=[],f=function(){var f=t.pop();n.currentContext=f.contexts;var h="";if("Enter"===f.node.op&&d("isConstant",f.node,r,n)&&(h=v(f.node.name,n)[0]),-1===e.indexOf(f.node)){var m=Me(f.node,r,n);h||(h=v(f.node.name,n)[0]);var g=n.currentContext;m instanceof Promise?c.push(m.then(function(e){return r[h]=e,n.currentContext=g,l.checkTensorForDisposal(h,f.node,r,n,o,a,s),l.processChildNodes(f.node,t,n,r,i,u),e})):(r[h]=m,p.checkTensorForDisposal(h,f.node,r,n,o,a,s),p.processChildNodes(f.node,t,n,r,i,u))}else p.processChildNodes(f.node,t,n,r,i,u)},p=this;t.length>0;)f();return c},e.prototype.processChildNodes=function(e,t,n,r,i,o){e.children.forEach(function(e){var a=v(e.name,n)[0];!i[a]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some(function(e){return!!m(e,r,n)})&&(i[a]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every(function(e){return!!m(e,r,n)})&&(i[a]=!0,t.push({contexts:n.currentContext,node:e})))})},e.prototype.dispose=function(){var e=this;Object.keys(this.weightMap).forEach(function(t){return e.weightMap[t].forEach(function(e){return e.dispose()})})},e.prototype.checkInputShapeAndType=function(e){var t=this;Object.keys(e).forEach(function(n){var i=e[n],o=b(n)[0],a=t.graph.nodes[o];if(a.attrParams.shape&&a.attrParams.shape.value){var s=a.attrParams.shape.value,u=s.length===i.shape.length&&i.shape.every(function(e,t){return-1===s[t]||s[t]===e});r.dd.assert(u,function(){return"The shape of dict['"+a.name+"'] provided in model.execute(dict) must be ["+s+"], but was ["+i.shape+"]"})}a.attrParams.dtype&&a.attrParams.dtype.value&&r.dd.assert(i.dtype===a.attrParams.dtype.value,function(){return"The dtype of dict['"+a.name+"'] provided in model.execute(dict) must be "+a.attrParams.dtype.value+", but was "+i.dtype})})},e.prototype.mapInputs=function(e){var t={};for(var n in e)null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]?t[this._signature.inputs[n].name]=e[n]:t[n]=e[n];return t},e.prototype.checkInputs=function(e){var t=this,n=Object.keys(e).filter(function(e){var n=b(e)[0];return null==t.graph.nodes[n]});if(n.length>0)throw new Error("The dict provided in model.execute(dict) has keys: ["+n+"] that are not part of graph")},e.prototype.mapOutputs=function(e){var t=this;return e.map(function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e},{})},e.prototype.checkOutputs=function(e){var t=this;e.forEach(function(e){var n=b(e)[0];if(!t.graph.nodes[n])throw new Error("The output '"+e+"' is not found in the graph")})},e}(),Ve="?tfjs-format=file",He="model.json",Ge=function(){function e(e,t){void 0===t&&(t={}),this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={})}return Object.defineProperty(e.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),e.prototype.findIOHandler=function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=r.pb.browserHTTPRequest(e,this.loadOptions);else{var t=r.pb.getLoadHandlers(e,this.loadOptions.onProgress);if(0===t.length)t.push(r.pb.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one ("+t.length+") load handlers for URL '"+[e]+"'");this.handler=t[0]}},e.prototype.load=function(){return u(this,void 0,void 0,function(){var e,t,n,i;return l(this,function(o){switch(o.label){case 0:if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return e=this,[4,this.handler.load()];case 1:return e.artifacts=o.sent(),t=this.artifacts.modelTopology,n={},null!=this.artifacts.userDefinedMetadata&&(n=this.artifacts.userDefinedMetadata.signature),this.version=t.versions.producer+"."+t.versions.minConsumer,i=r.pb.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs),this.executor=new We(Q.Instance.transformGraph(t,n)),this.executor.weightMap=this.convertTensorMapToTensorsMap(i),[2,!0]}})})},e.prototype.save=function(e,t){return u(this,void 0,void 0,function(){var t;return l(this,function(n){if("string"==typeof e){if(0===(t=r.pb.getSaveHandlers(e)).length)throw new Error("Cannot find any save handlers for URL '"+e+"'");if(t.length>1)throw new Error("Found more than one ("+t.length+") save handlers for URL '"+e+"'");e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[2,e.save(this.artifacts)]})})},e.prototype.predict=function(e,t){return this.execute(e,this.outputNodes)},e.prototype.normalizeInputs=function(e){if(!(e instanceof r.b||Array.isArray(e)))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,the graph model has "+this.inputNodes.length+" placeholders, while there are "+e.length+" input tensors.");return this.inputNodes.reduce(function(t,n,r){return t[n]=e[r],t},{})},e.prototype.normalizeOutputs=function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]},e.prototype.execute=function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]},e.prototype.executeAsync=function(e,t){return u(this,void 0,void 0,function(){var n;return l(this,function(r){switch(r.label){case 0:return e=this.normalizeInputs(e),t=this.normalizeOutputs(t),[4,this.executor.executeAsync(e,t)];case 1:return[2,(n=r.sent()).length>1?n:n[0]]}})})},e.prototype.convertTensorMapToTensorsMap=function(e){return Object.keys(e).reduce(function(t,n){return t[n]=[e[n]],t},{})},e.prototype.dispose=function(){this.executor.dispose()},e}();function qe(e,t){return void 0===t&&(t={}),u(this,void 0,void 0,function(){var n;return l(this,function(r){switch(r.label){case 0:if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");return null==t&&(t={}),t.fromTFHub&&null==e.load&&(e.endsWith("/")||(e+="/"),e=""+e+He+Ve),[4,(n=new Ge(e,t)).load()];case 1:return r.sent(),[2,n]}})})}var Ke="1.7.0"}).call(this,n(160).Buffer)},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",function(){return De});var i=n(1),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function u(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function c(e,t){return e(t={exports:{}},t.exports),t.exports}var f=c(function(e){!function(e,t,n){function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new function(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}(e),i=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,i&&("object"==typeof i&&r(i,n),o.state=function(){return r(n,{})}),o}t&&t.exports?t.exports=i:this.alea=i}(0,e,!1)}),p=c(function(e){!function(e,t,n){function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new function(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&r(i,n),o.state=function(){return r(n,{})}),o}t&&t.exports?t.exports=i:this.xor128=i}(0,e,!1)}),h=c(function(e){!function(e,t,n){function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new function(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&r(i,n),o.state=function(){return r(n,{})}),o}t&&t.exports?t.exports=i:this.xorwow=i}(0,e,!1)}),d=c(function(e){!function(e,t,n){function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new function(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&(i.x&&r(i,n),o.state=function(){return r(n,{})}),o}t&&t.exports?t.exports=i:this.xorshift7=i}(0,e,!1)}),m=c(function(e){!function(e,t,n){function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new function(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,o=t.i;return t.w=r=r+1640531527|0,n=i[o+34&127],e=i[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,i,o,a,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=a,e.X=s,e.i=i}(t,e)}(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&(i.X&&r(i,n),o.state=function(){return r(n,{})}),o}t&&t.exports?t.exports=i:this.xor4096=i}(0,e,!1)}),g=c(function(e){!function(e,t,n){function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new function(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&r(i,n),o.state=function(){return r(n,{})}),o}t&&t.exports?t.exports=i:this.tychei=i}(0,e,!1)}),v=c(function(e){!function(t,r){var i,o=this,a=256,s=6,u="random",l=r.pow(a,s),c=r.pow(2,52),f=2*c,p=a-1;function h(e,n,h){var v=[],y=m(function e(t,n){var r,i=[],o=typeof t;if(n&&"object"==o)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==o?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,g(t)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(a):(e=new Uint8Array(a),(o.crypto||o.msCrypto).getRandomValues(e)),g(e)}catch(e){var n=o.navigator,r=n&&n.plugins;return[+new Date,o,r,o.screen,g(t)]}}():e,3),v),b=new function(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<a;)s[i]=i++;for(i=0;i<a;i++)s[i]=s[o=p&o+e[i%n]+(t=s[i])],s[o]=t;(r.g=function(e){for(var t,n=0,i=r.i,o=r.j,s=r.S;e--;)t=s[i=p&i+1],n=n*a+s[p&(s[i]=s[o=p&o+t])+(s[o]=t)];return r.i=i,r.j=o,n})(a)}(v),w=function(){for(var e=b.g(s),t=l,n=0;e<c;)e=(e+n)*a,t*=a,n=b.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|b.g(4)},w.quick=function(){return b.g(4)/4294967296},w.double=w,m(g(b.S),t),(n.pass||h||function(e,t,n,i){return i&&(i.S&&d(i,b),e.state=function(){return d(b,{})}),n?(r[u]=e,t):e})(w,y,"global"in n?n.global:this==r,n.state)}function d(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var n,r=e+"",i=0;i<r.length;)t[p&i]=p&(n^=19*t[p&i])+r.charCodeAt(i++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(r["seed"+u]=h,m(r.random(),t),e.exports){e.exports=h;try{i=n(557)}catch(e){}}}([],Math)});v.alea=f,v.xor128=p,v.xorwow=h,v.xorshift7=d,v.xor4096=m,v.tychei=g;var y,b=v.alea;function w(e,t){return x(e,t)}function x(e,t,n,r){if(void 0===n&&(n=new Map),void 0===r&&(r=new Set),null==e)return null;if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(i.recurse){if(k(e)){var o=Array.isArray(e)?[]:{};for(var a in r.add(e),e){var s=x(e[a],t,n,r);o[a]=s}return r.delete(e),o}throw new Error("Can't recurse into non-iterable type: "+e)}return n.set(e,i.value),i.value}function _(e,t){return void 0===t&&(t=E),C(e,t)}function C(e,t,n){void 0===n&&(n=new Set);var r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");var i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(i.recurse){if(k(r)){var o=Array.isArray(r)?[]:{};n.add(r);var a=function(r){var i=C(e.map(function(e){return e[r]}),t,n);o[r]=i};for(var s in r)a(s);return n.delete(r),o}throw new Error("Can't recurse into non-iterable type: "+r)}return i.value}function E(e){return null===e?null:k(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function S(e,t){return s(this,void 0,void 0,function(){var n,r,i,o,a,s;return u(this,function(u){switch(u.label){case 0:n=new Map,x(e,t,n),r=0,i=Array.from(n.keys()),u.label=1;case 1:return r<i.length?(o=i[r],(a=n.get(o))instanceof Promise?[4,a]:[3,3]):[3,4];case 2:s=u.sent(),n.set(o,s),u.label=3;case 3:return r++,[3,1];case 4:return[2,x(e,t,n)]}})})}function k(e){return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof i.b))}function O(e){return null==e||T(e)||Array.isArray(e)||"object"==typeof e&&e instanceof i.b||i.dd.isTypedArray(e)}function T(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function N(e){return w(e,A)}function A(e){return e instanceof i.b?{value:e.clone(),recurse:!1}:k(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var I=function(){function e(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}return e.prototype.wrap=function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity},e.prototype.get=function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]},e.prototype.set=function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t},e.prototype.length=function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e},e.prototype.isFull=function(){return this.length()===this.capacity},e.prototype.isEmpty=function(){return 0===this.length()},e.prototype.push=function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)},e.prototype.pushAll=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];this.push(r)}},e.prototype.pop=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e},e.prototype.unshift=function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)},e.prototype.shift=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e},e.prototype.shuffleExcise=function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n},e}(),R=function(e){function t(){return e.call(this,t.INITIAL_CAPACITY)||this}return a(t,e),t.prototype.isFull=function(){return!1},t.prototype.push=function(t){e.prototype.isFull.call(this)&&this.expand(),e.prototype.push.call(this,t)},t.prototype.unshift=function(t){e.prototype.isFull.call(this)&&this.expand(),e.prototype.unshift.call(this,t)},t.prototype.expand=function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n},t.INITIAL_CAPACITY=32,t}(I);function P(e){return new z(e)}function M(e){return new B(e)}function j(e,t){return new $(e,t)}function D(e,t){return void 0===t&&(t=L.FAIL),new Q(e,t)}var L,F=function(){function e(){}return e.prototype.toArray=function(){return s(this,void 0,void 0,function(){var e,t;return u(this,function(n){switch(n.label){case 0:return e=[],[4,this.next()];case 1:t=n.sent(),n.label=2;case 2:return t.done?[3,4]:(e.push(t.value),[4,this.next()]);case 3:return t=n.sent(),[3,2];case 4:return[2,e]}})})},e.prototype.toArrayForTest=function(){return s(this,void 0,void 0,function(){var e,t,n;return u(this,function(r){switch(r.label){case 0:return e=this.prefetch(100),t=[],[4,e.next()];case 1:n=r.sent(),r.label=2;case 2:return n.done?[3,4]:(t.push(n.value),[4,e.next()]);case 3:return n=r.sent(),[3,2];case 4:return[2,t]}})})},e.prototype.resolveFully=function(){return s(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return[4,this.next()];case 1:e=t.sent(),t.label=2;case 2:return e.done?[3,4]:[4,this.next()];case 3:return e=t.sent(),[3,2];case 4:return[2]}})})},e.prototype.resolveWhile=function(e){return s(this,void 0,void 0,function(){var t,n;return u(this,function(r){switch(r.label){case 0:return[4,this.next()];case 1:t=r.sent(),n=e(t.value),r.label=2;case 2:return t.done||!n?[3,4]:[4,this.next()];case 3:return t=r.sent(),n=e(t.value),[3,2];case 4:return[2]}})})},e.prototype.handleErrors=function(e){return new K(this,e)},e.prototype.filter=function(e){return new G(this,e)},e.prototype.map=function(e){return new q(this,e)},e.prototype.mapAsync=function(e){return new X(this,e)},e.prototype.serialMapAsync=function(e){return new X(this,e).serial()},e.prototype.flatmap=function(e){return new Z(this,e)},e.prototype.forEachAsync=function(e){return s(this,void 0,void 0,function(){return u(this,function(t){return[2,this.map(e).resolveFully()]})})},e.prototype.serialForEach=function(e){return s(this,void 0,void 0,function(){return u(this,function(t){return[2,this.serialMapAsync(e).resolveWhile(function(e){return!0===e})]})})},e.prototype.rowMajorBatch=function(e,t){return void 0===t&&(t=!0),new H(this,e,t)},e.prototype.columnMajorBatch=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=E),this.rowMajorBatch(e,t).map(function(e){return _(e,n)})},e.prototype.concatenate=function(e,t){return new $(P([this,e]),t)},e.prototype.take=function(e){return e<0||null==e?this:new V(this,e)},e.prototype.skip=function(e){return e<0||null==e?this:new W(this,e)},e.prototype.prefetch=function(e){return new ee(this,e)},e.prototype.shuffle=function(e,t){return new te(this,e,t)},e.prototype.serial=function(){return new U(this)},e}(),z=function(e){function t(t){var n=e.call(this)||this;return n.items=t,n.trav=0,n}return a(t,e),t.prototype.summary=function(){return"Array of "+this.items.length+" items"},t.prototype.next=function(){return s(this,void 0,void 0,function(){var e;return u(this,function(t){return this.trav>=this.items.length?[2,{value:null,done:!0}]:(e=this.items[this.trav],this.trav++,[2,{value:N(e),done:!1}])})})},t}(F),B=function(e){function t(t){var n=e.call(this)||this;return n.nextFn=t,n}return a(t,e),t.prototype.summary=function(){return"Function call"},t.prototype.next=function(){return s(this,void 0,void 0,function(){return u(this,function(e){try{return[2,this.nextFn()]}catch(e){throw e.message="Error thrown while iterating through a dataset: "+e.message,e}return[2]})})},t}(F),U=function(e){function t(t){var n=e.call(this)||this;return n.upstream=t,n.lastRead=Promise.resolve({value:null,done:!1}),n}return a(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Serial"},t.prototype.next=function(){return s(this,void 0,void 0,function(){var e=this;return u(this,function(t){return this.lastRead=this.lastRead.then(function(){return e.serialNext()}),[2,this.lastRead]})})},t.prototype.serialNext=function(){return s(this,void 0,void 0,function(){return u(this,function(e){return[2,this.upstream.next()]})})},t}(F),W=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.maxCount=n,r.count=0,r.lastRead=Promise.resolve({value:null,done:!1}),r}return a(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Skip"},t.prototype.next=function(){return s(this,void 0,void 0,function(){var e=this;return u(this,function(t){return this.lastRead=this.lastRead.then(function(){return e.serialNext()}),[2,this.lastRead]})})},t.prototype.serialNext=function(){return s(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return this.count++<this.maxCount?[4,this.upstream.next()]:[3,2];case 1:return(e=t.sent()).done?[2,e]:(Object(i.R)(e.value),[3,0]);case 2:return[2,this.upstream.next()]}})})},t}(F),V=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.maxCount=n,r.count=0,r}return a(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Take"},t.prototype.next=function(){return s(this,void 0,void 0,function(){return u(this,function(e){return this.count++>=this.maxCount?[2,{value:null,done:!0}]:[2,this.upstream.next()]})})},t}(F),H=function(e){function t(t,n,r){void 0===r&&(r=!0);var i=e.call(this)||this;return i.upstream=t,i.batchSize=n,i.enableSmallLastBatch=r,i.lastRead=Promise.resolve({value:null,done:!1}),i}return a(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> RowMajorBatch"},t.prototype.next=function(){return s(this,void 0,void 0,function(){var e=this;return u(this,function(t){return this.lastRead=this.lastRead.then(function(){return e.serialNext()}),[2,this.lastRead]})})},t.prototype.serialNext=function(){return s(this,void 0,void 0,function(){var e,t;return u(this,function(n){switch(n.label){case 0:e=[],n.label=1;case 1:return e.length<this.batchSize?[4,this.upstream.next()]:[3,3];case 2:return(t=n.sent()).done?this.enableSmallLastBatch&&e.length>0?[2,{value:e,done:!1}]:[2,{value:null,done:!0}]:(e.push(t.value),[3,1]);case 3:return[2,{value:e,done:!1}]}})})},t}(F),G=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.predicate=n,r.lastRead=Promise.resolve({value:null,done:!1}),r}return a(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Filter"},t.prototype.next=function(){return s(this,void 0,void 0,function(){var e=this;return u(this,function(t){return this.lastRead=this.lastRead.then(function(){return e.serialNext()}),[2,this.lastRead]})})},t.prototype.serialNext=function(){return s(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return[4,this.upstream.next()];case 1:return(e=t.sent()).done||this.predicate(e.value)?[2,e]:(Object(i.R)(e.value),[3,0]);case 2:return[2]}})})},t}(F),q=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.transform=n,r}return a(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Map"},t.prototype.next=function(){return s(this,void 0,void 0,function(){var e,t,n,r,o,a,s;return u(this,function(u){switch(u.label){case 0:return[4,this.upstream.next()];case 1:if((e=u.sent()).done)return[2,{value:null,done:!0}];for(t=i.Vc.getTensorsInContainer(e.value),n=this.transform(e.value),r=i.Vc.getTensorsInContainer(n),o=0,a=t;o<a.length;o++)s=a[o],i.Vc.isTensorInList(s,r)||s.dispose();return[2,{value:n,done:!1}]}})})},t}(F),K=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.handler=n,r.count=0,r.lastRead=Promise.resolve({value:null,done:!1}),r}return a(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> handleErrors"},t.prototype.next=function(){return s(this,void 0,void 0,function(){var e=this;return u(this,function(t){return this.lastRead=this.lastRead.then(function(){return e.serialNext()}),[2,this.lastRead]})})},t.prototype.serialNext=function(){return s(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.upstream.next()];case 2:return[2,t.sent()];case 3:return e=t.sent(),this.handler(e)?[3,4]:[2,{value:null,done:!0}];case 4:return[3,0];case 5:return[2]}})})},t}(F),X=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.transform=n,r}return a(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> AsyncMap"},t.prototype.next=function(){return s(this,void 0,void 0,function(){var e,t,n,r,o,a,s;return u(this,function(u){switch(u.label){case 0:return[4,this.upstream.next()];case 1:return(e=u.sent()).done?[2,{value:null,done:!0}]:(t=i.Vc.getTensorsInContainer(e.value),[4,this.transform(e.value)]);case 2:for(n=u.sent(),r=i.Vc.getTensorsInContainer(n),o=0,a=t;o<a.length;o++)s=a[o],i.Vc.isTensorInList(s,r)||s.dispose();return[2,{value:n,done:!1}]}})})},t}(F),Y=function(e){function t(){var t=e.call(this)||this;return t.outputQueue=new R,t.lastRead=Promise.resolve({value:null,done:!1}),t}return a(t,e),t.prototype.next=function(){return s(this,void 0,void 0,function(){var e=this;return u(this,function(t){return this.lastRead=this.lastRead.then(function(){return e.serialNext()}),[2,this.lastRead]})})},t.prototype.serialNext=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return 0!==this.outputQueue.length()?[3,2]:[4,this.pump()];case 1:return e.sent()?[3,0]:[2,{value:null,done:!0}];case 2:return[2,{value:this.outputQueue.shift(),done:!1}]}})})},t}(F),Z=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.transform=n,r}return a(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Flatmap"},t.prototype.pump=function(){return s(this,void 0,void 0,function(){var e,t,n,r,o,a,s;return u(this,function(u){switch(u.label){case 0:return[4,this.upstream.next()];case 1:if((e=u.sent()).done)return[2,!1];for(t=i.Vc.getTensorsInContainer(e.value),n=this.transform(e.value),r=i.Vc.getTensorsInContainer(n),this.outputQueue.pushAll(n),o=0,a=t;o<a.length;o++)s=a[o],i.Vc.isTensorInList(s,r)||s.dispose();return[2,!0]}})})},t}(Y),$=function(e){function t(t,n){var r=e.call(this)||this;return r.baseErrorHandler=n,r.lastRead=null,r.iterator=null,r.moreIterators=t,r}return a(t,e),t.prototype.summary=function(){return"TODO: fill in upstream of chained summaries -> Chained"},t.prototype.next=function(){return s(this,void 0,void 0,function(){return u(this,function(e){return this.lastRead=this.readFromChain(this.lastRead),[2,this.lastRead]})})},t.prototype.readFromChain=function(e){return s(this,void 0,void 0,function(){var t,n;return u(this,function(r){switch(r.label){case 0:return[4,e];case 1:return r.sent(),null!=this.iterator?[3,3]:[4,this.moreIterators.next()];case 2:if((t=r.sent()).done)return[2,{value:null,done:!0}];this.iterator=t.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler)),r.label=3;case 3:return[4,this.iterator.next()];case 4:return(n=r.sent()).done?(this.iterator=null,[2,this.readFromChain(e)]):[2,n]}})})},t}(F),J;(J=L||(L={}))[J.FAIL=0]="FAIL",J[J.SHORTEST=1]="SHORTEST",J[J.LONGEST=2]="LONGEST";var Q=function(e){function t(t,n){void 0===n&&(n=L.FAIL);var r=e.call(this)||this;return r.iterators=t,r.mismatchMode=n,r.count=0,r.currentPromise=null,r}return a(t,e),t.prototype.summary=function(){return"{TODO: fill in upstream of zip summaries} -> Zip"},t.prototype.nextState=function(e){return s(this,void 0,void 0,function(){function t(e){return e instanceof F?{value:e.next().then(function(e){return n++,e.done&&r++,e.value}),recurse:!1}:{value:null,recurse:!0}}var n,r,i;return u(this,function(o){switch(o.label){case 0:return[4,e];case 1:return o.sent(),n=0,r=0,[4,S(this.iterators,t)];case 2:if(i=o.sent(),n===r)return[2,{value:null,done:!0}];if(r>0)switch(this.mismatchMode){case L.FAIL:throw new Error("Zipped streams should have the same length. Mismatched at element "+this.count+".");case L.SHORTEST:return[2,{value:null,done:!0}];case L.LONGEST:}return this.count++,[2,{value:i,done:!1}]}})})},t.prototype.next=function(){return s(this,void 0,void 0,function(){return u(this,function(e){return this.currentPromise=this.nextState(this.currentPromise),[2,this.currentPromise]})})},t}(F),ee=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.bufferSize=n,r.buffer=new I(n),r}return a(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Prefetch"},t.prototype.refill=function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}},t.prototype.next=function(){return this.refill(),this.buffer.shift()},t}(F),te=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.upstream=t,o.windowSize=n,o.upstreamExhausted=!1,o.random=b(r||i.dd.now().toString()),o.lastRead=Promise.resolve({value:null,done:!1}),o}return a(t,e),t.prototype.next=function(){return s(this,void 0,void 0,function(){var e=this;return u(this,function(t){return this.lastRead=this.lastRead.then(function(){return e.serialNext()}),[2,this.lastRead]})})},t.prototype.randomInt=function(e){return Math.floor(this.random()*e)},t.prototype.chooseIndex=function(){return this.randomInt(this.buffer.length())},t.prototype.serialNext=function(){return s(this,void 0,void 0,function(){var e,t;return u(this,function(n){switch(n.label){case 0:this.upstreamExhausted||this.refill(),n.label=1;case 1:return this.buffer.isEmpty()?[3,3]:(e=this.chooseIndex(),[4,this.buffer.shuffleExcise(e)]);case 2:return(t=n.sent()).done?(this.upstreamExhausted=!0,[3,1]):(this.refill(),[2,t]);case 3:return[2,{value:null,done:!0}]}})})},t}(ee),ne=function(){function e(){this.size=null}return e.prototype.batch=function(e,t){var n=this;void 0===t&&(t=!0);var r=this;return i.dd.assert(e>0,function(){return"batchSize needs to be positive, but it is\n      "+e}),re(function(){return s(n,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,r.iterator()];case 1:return[2,n.sent().columnMajorBatch(e,t,ae)]}})})},this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e))},e.prototype.concatenate=function(e){var t=this,n=this;return re(function(){return s(t,void 0,void 0,function(){var t,r;return u(this,function(i){switch(i.label){case 0:return[4,n.iterator()];case 1:return r=(t=i.sent()).concatenate,[4,e.iterator()];case 2:return[2,r.apply(t,[i.sent()])]}})})},this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null)},e.prototype.filter=function(e){var t=this,n=this;return re(function(){return s(t,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().filter(function(t){return Object(i.Wc)(function(){return e(t)})})]}})})},this.size===1/0?1/0:null)},e.prototype.forEachAsync=function(e){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,this.iterator()];case 1:return[2,t.sent().forEachAsync(e)]}})})},e.prototype.forEach=function(e){return s(this,void 0,void 0,function(){return u(this,function(t){return Object(i.O)("dataset.forEach() is deprecated and will be removed. Please use dataset.forEachAsync() instead"),[2,this.forEachAsync(e)]})})},e.prototype.map=function(e){var t=this,n=this;return re(function(){return s(t,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().map(function(t){return Object(i.Wc)(function(){return e(t)})})]}})})},this.size)},e.prototype.mapAsync=function(e){var t=this,n=this;return re(function(){return s(t,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().mapAsync(e)]}})})},this.size)},e.prototype.prefetch=function(e){var t=this;if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var n=this;return re(function(){return s(t,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().prefetch(e)]}})})},this.size)},e.prototype.repeat=function(e){var t=this,n=this;return re(function(){return s(t,void 0,void 0,function(){var t=this;return u(this,function(r){return[2,j(M(function(){return s(t,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return e={},[4,n.iterator()];case 1:return[2,(e.value=t.sent(),e.done=!1,e)]}})})}).take(e))]})})},null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null)},e.prototype.skip=function(e){var t=this,n=this;return re(function(){return s(t,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().skip(e)]}})})},null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null)},e.prototype.shuffle=function(e,t,n){var r=this;if(void 0===n&&(n=!0),null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting bufferSize to the dataset size ("+this.size+" elements)");var o=this,a=b(t||i.dd.now().toString());return re(function(){return s(r,void 0,void 0,function(){var t;return u(this,function(r){switch(r.label){case 0:return t=a.int32(),n&&(t+=a.int32()),[4,o.iterator()];case 1:return[2,r.sent().shuffle(e,t.toString())]}})})},this.size)},e.prototype.take=function(e){var t=this,n=this;return re(function(){return s(t,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().take(e)]}})})},null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null)},e.prototype.toArray=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return[4,this.iterator()];case 1:return[2,e.sent().toArray()]}})})},e.prototype.toArrayForTest=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return[4,this.iterator()];case 1:return[2,e.sent().toArrayForTest()]}})})},e.MAX_BUFFER_SIZE=1e4,e}();function re(e,t){return void 0===t&&(t=null),new(function(n){function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.size=t,e}return a(r,n),r.prototype.iterator=function(){return s(this,void 0,void 0,function(){return u(this,function(t){return[2,e()]})})},r}(ne))}function ie(e){var t=this;return re(function(){return s(t,void 0,void 0,function(){return u(this,function(t){return[2,P(e)]})})},e.length)}function oe(e){var t,n=this;if(!k(e))throw new Error("The argument to zip() must be an object or array.");if(Array.isArray(e))for(var r=0;r<e.length;r++)t=null==t?e[r].size:Math.min(t,e[r].size);else if(e instanceof Object)for(var i in e)t=null==t?e[i].size:Math.min(t,e[i].size);return re(function(){return s(n,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,S(e,function(e){if(e instanceof ne)return{value:e.iterator(),recurse:!1};if(k(e))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")})];case 1:return[2,D(t.sent(),L.SHORTEST)]}})})},t)}function ae(e){return null===e?null:O(e[0])?{value:se(e),recurse:!1}:{value:null,recurse:!0}}function se(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof i.b?Object(i.Lc)(e):Object(i.Rc)(e)}var ue=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return a(t,e),t.prototype.iterator=function(){return s(this,void 0,void 0,function(){var e,t;return u(this,function(n){switch(n.label){case 0:return[4,this.input.iterator()];case 1:return e=n.sent(),[2,(t=e.decodeUTF8()).split("\n").map(function(e){return e.endsWith("\r")&&(e=e.slice(0,-1)),e})]}})})},t}(ne),le='"',ce=Symbol("out"),fe=Symbol("field"),pe=Symbol("quote"),he=Symbol("quoteafterquote"),de=Symbol("quoteinquote"),me=function(e){function t(t,n){var r=e.call(this)||this;return r.input=t,r.hasHeader=!0,r.fullColumnNames=null,r.columnNamesValidated=!1,r.columnConfigs=null,r.configuredColumnsOnly=!1,r.delimiter=",",r.delimWhitespace=!1,r.base=new ue(t),n||(n={}),r.hasHeader=!1!==n.hasHeader,r.fullColumnNames=n.columnNames,r.columnConfigs=n.columnConfigs,r.configuredColumnsOnly=n.configuredColumnsOnly,n.delimWhitespace?(i.dd.assert(null==n.delimiter,function(){return"Delimiter should not be provided when delimWhitespace is true."}),r.delimWhitespace=!0,r.delimiter=" "):r.delimiter=n.delimiter?n.delimiter:",",r}return a(t,e),t.prototype.columnNames=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:e.sent(),e.label=2;case 2:return[2,this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames]}})})},t.prototype.setColumnNames=function(){return s(this,void 0,void 0,function(){var e,t,n,r,o,a,s=this;return u(this,function(u){switch(u.label){case 0:return[4,this.maybeReadHeaderLine()];case 1:if(e=u.sent(),!this.fullColumnNames&&!e)throw new Error("Column names must be provided if there is no header line.");if(this.fullColumnNames&&e&&i.dd.assert(e.length===this.fullColumnNames.length,function(){return"The length of provided columnNames ("+s.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+e.length.toString()+")."}),this.fullColumnNames||(this.fullColumnNames=e),t=this.fullColumnNames.reduce(function(e,t){return e[t]=e[t]+1||1,e},{}),n=Object.keys(t).filter(function(e){return t[e]>1}),i.dd.assert(0===n.length,function(){return"Duplicate column names found: "+n.toString()}),this.columnConfigs)for(r=0,o=Object.keys(this.columnConfigs);r<o.length;r++)if(a=o[r],-1===this.fullColumnNames.indexOf(a))throw new Error('The key "'+a+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").");return this.columnNamesValidated=!0,[2]}})})},t.prototype.maybeReadHeaderLine=function(){return s(this,void 0,void 0,function(){var e,t;return u(this,function(n){switch(n.label){case 0:return this.hasHeader?[4,this.base.iterator()]:[3,3];case 1:return[4,n.sent().next()];case 2:if((e=n.sent()).done)throw new Error("No data was found for CSV parsing.");return t=e.value,[2,this.parseRow(t,!1)];case 3:return[2,null]}})})},t.prototype.iterator=function(){return s(this,void 0,void 0,function(){var e,t=this;return u(this,function(n){switch(n.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:n.sent(),n.label=2;case 2:return[4,this.base.iterator()];case 3:return e=n.sent(),this.hasHeader&&(e=e.skip(1)),[2,e.map(function(e){return t.makeDataElement(e)})]}})})},t.prototype.makeDataElement=function(e){for(var t=this.parseRow(e),n={},r={},i=0;i<this.fullColumnNames.length;i++){var o=this.fullColumnNames[i],a=this.columnConfigs?this.columnConfigs[o]:null;if(!this.configuredColumnsOnly||a){var s=t[i],u=null;if(""===s)if(a&&void 0!==a.default)u=a.default;else{if(a&&(a.required||a.isLabel))throw new Error("Required column "+o+" is empty in this line: "+e);u=void 0}else{var l=Number(s);if(isNaN(l))u=a&&"bool"===a.dtype?this.getBoolean(s):s;else if(a&&a.dtype)switch(a.dtype){case"float32":u=l;break;case"int32":u=Math.floor(l);break;case"bool":u=this.getBoolean(s);break;default:u=l}else u=l}a&&a.isLabel?r[o]=u:n[o]=u}}return 0===Object.keys(r).length?n:{xs:n,ys:r}},t.prototype.getBoolean=function(e){return"1"===e||"true"===e.toLowerCase()?1:0},t.prototype.parseRow=function(e,t){void 0===t&&(t=!0);for(var n=[],r=0,i=e.length,o=ce,a=0;a<i;a++)switch(o){case ce:switch(e.charAt(a)){case'"':r=a+1,o=pe;break;case this.delimiter:if(r=a+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),o=ce;break;default:o=fe,r=a}break;case fe:switch(e.charAt(a)){case this.delimiter:n.push(e.substring(r,a)),o=ce,r=a+1}break;case pe:switch(e.charAt(a)){case'"':o=he}break;case he:switch(e.charAt(a)){case this.delimiter:n.push(e.substring(r,a-1)),o=ce,r=a+1;break;case'"':o=pe;break;default:o=de}break;case de:switch(e.charAt(a)){case'"':o=pe}}if(o===he?n.push(e.substring(r,i-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error("Invalid row in csv file. Should have "+this.fullColumnNames.length+" elements in a row, but got "+n);return n},t}(ne),ge=function(e){function t(t){var n=e.call(this)||this;n.microphoneConfig=t,n.isClosed=!1,n.fftSize=t.fftSize||1024;var r=Math.log2(n.fftSize);if(n.fftSize<0||r<4||r>14||!Number.isInteger(r))throw new Error("Invalid fftSize: it must be a power of 2 between 2 to 4 and 2 to 14, but got "+n.fftSize);if(n.numFrames=t.numFramesPerSpectrogram||43,n.sampleRateHz=t.sampleRateHz,n.columnTruncateLength=t.columnTruncateLength||n.fftSize,n.audioTrackConstraints=t.audioTrackConstraints,n.smoothingTimeConstant=t.smoothingTimeConstant||0,n.includeSpectrogram=!1!==t.includeSpectrogram,n.includeWaveform=!0===t.includeWaveform,!n.includeSpectrogram&&!n.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.");return n}return a(t,e),t.prototype.summary=function(){return"microphone"},t.create=function(e){return void 0===e&&(e={}),s(this,void 0,void 0,function(){var n;return u(this,function(r){switch(r.label){case 0:if(Object(i.W)().get("IS_NODE"))throw new Error("microphone API is only supported in browser environment.");return[4,(n=new t(e)).start()];case 1:return r.sent(),[2,n]}})})},t.prototype.start=function(){return s(this,void 0,void 0,function(){var e,t,n,r;return u(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this,[4,navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1})];case 1:return e.stream=i.sent(),[3,3];case 2:throw t=i.sent(),new Error("Error thrown while initializing video stream: "+t.message);case 3:if(!this.stream)throw new Error("Could not obtain audio from microphone.");if(n=window.AudioContext||window.webkitAudioContext,this.audioContext=new n,this.sampleRateHz){if(this.audioContext.sampleRate!==this.sampleRateHz)throw new Error("Mismatch in sampling rate: Expected: "+this.sampleRateHz+"; Actual: "+this.audioContext.sampleRate)}else this.sampleRateHz=this.audioContext.sampleRate;return r=this.audioContext.createMediaStreamSource(this.stream),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,r.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize),[2]}})})},t.prototype.next=function(){return s(this,void 0,void 0,function(){var e,t,n,r,i;return u(this,function(o){switch(o.label){case 0:return this.isClosed?[2,{value:null,done:!0}]:[4,this.getAudioData()];case 1:return n=o.sent(),this.includeSpectrogram&&(r=this.flattenQueue(n.freqDataQueue),e=this.getTensorFromAudioDataArray(r,[this.numFrames,this.columnTruncateLength,1])),this.includeWaveform&&(i=this.flattenQueue(n.timeDataQueue),t=this.getTensorFromAudioDataArray(i,[this.numFrames*this.fftSize,1])),[2,{value:{spectrogram:e,waveform:t},done:!1}]}})})},t.prototype.capture=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,this.next()];case 1:return[2,e.sent().value]}})})},t.prototype.getAudioData=function(){return s(this,void 0,void 0,function(){var e,t,n,r=this;return u(this,function(i){return e=[],t=[],n=0,[2,new Promise(function(i){var o=setInterval(function(){r.includeSpectrogram&&(r.analyser.getFloatFrequencyData(r.freqData),r.freqData[0]===-1/0&&i({freqDataQueue:e,timeDataQueue:t}),e.push(r.freqData.slice(0,r.columnTruncateLength))),r.includeWaveform&&(r.analyser.getFloatTimeDomainData(r.timeData),t.push(r.timeData.slice())),++n===r.numFrames&&(clearInterval(o),i({freqDataQueue:e,timeDataQueue:t}))},r.fftSize/r.sampleRateHz*1e3)})]})})},t.prototype.stop=function(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())},t.prototype.toArray=function(){throw new Error("Can not convert infinite audio stream to array.")},t.prototype.getSampleRate=function(){return this.sampleRateHz},t.prototype.flattenQueue=function(e){var t=e[0].length,n=new Float32Array(e.length*t);return e.forEach(function(e,r){return n.set(e,r*t)}),n},t.prototype.getTensorFromAudioDataArray=function(e,t){var n=new Float32Array(i.dd.sizeFromShape(t));return n.set(e,n.length-e.length),Object(i.Rc)(n,t)},t}(F),ve=function(e){function t(t,n){var r=e.call(this)||this;if(r.webcamVideoElement=t,r.webcamConfig=n,r.isClosed=!0,r.resize=!1,r.needToResize())if(r.resize=!0,r.cropSize=[r.webcamConfig.resizeHeight,r.webcamConfig.resizeWidth],r.cropBoxInd=Object(i.Sc)([0],"int32"),r.webcamConfig.centerCrop){var o=1*r.webcamConfig.resizeWidth/r.webcamVideoElement.width,a=1*r.webcamConfig.resizeHeight/r.webcamVideoElement.height,s=(1-o)/2,u=(1-a)/2,l=s+o,c=a+u;r.cropBox=Object(i.Tc)([u,s,c,l],[1,4])}else r.cropBox=Object(i.Tc)([0,0,1,1],[1,4]);return r}return a(t,e),t.prototype.summary=function(){return"webcam"},t.create=function(e,n){return void 0===n&&(n={}),s(this,void 0,void 0,function(){var r;return u(this,function(o){switch(o.label){case 0:if(Object(i.W)().get("IS_NODE"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!e){if(e=document.createElement("video"),!n.resizeWidth||!n.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");e.width=n.resizeWidth,e.height=n.resizeHeight}return[4,(r=new t(e,n)).start()];case 1:return o.sent(),[2,r]}})})},t.prototype.start=function(){return s(this,void 0,void 0,function(){var e,t,n=this;return u(this,function(r){switch(r.label){case 0:this.webcamConfig.facingMode&&i.dd.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,function(){return"Invalid webcam facing mode: "+n.webcamConfig.facingMode+". Please provide 'user' or 'environment'"}),r.label=1;case 1:return r.trys.push([1,3,,4]),e=this,[4,navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})];case 2:return e.stream=r.sent(),[3,4];case 3:throw(t=r.sent()).message="Error thrown while initializing video stream: "+t.message,t;case 4:if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(e){console.log(e),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,[2,new Promise(function(e){n.webcamVideoElement.onloadedmetadata=function(){e()}})]}})})},t.prototype.next=function(){return s(this,void 0,void 0,function(){var e;return u(this,function(t){if(this.isClosed)return[2,{value:null,done:!0}];try{e=i.y.fromPixels(this.webcamVideoElement)}catch(e){throw new Error("Error thrown converting video to pixels: "+JSON.stringify(e))}if(!this.resize)return[2,{value:e,done:!1}];try{return[2,{value:this.cropAndResizeFrame(e),done:!1}]}catch(e){throw new Error("Error thrown cropping the video: "+e.message)}finally{e.dispose()}return[2]})})},t.prototype.needToResize=function(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)},t.prototype.cropAndResizeFrame=function(e){var t=this;return Object(i.Wc)(function(){var n,r=e.toFloat().expandDims(0),o=(n=i.ob.cropAndResize(r,t.cropBox,t.cropBoxInd,t.cropSize,"bilinear")).shape;return n.reshape(o.slice(1))})},t.prototype.capture=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,this.next()];case 1:return[2,e.sent().value]}})})},t.prototype.stop=function(){this.stream.getTracks().forEach(function(e){return e.stop()});try{this.webcamVideoElement.srcObject=null}catch(e){console.log(e),this.webcamVideoElement.src=null}this.isClosed=!0},t.prototype.toArray=function(){throw new Error("Can not convert infinite video stream to array.")},t}(F),ye=function(){},be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.split=function(e){return new we(this,e)},t}(F),we=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.impl=new xe(t,n),r}return a(t,e),t.prototype.summary=function(){return this.impl.summary()},t.prototype.next=function(){return s(this,void 0,void 0,function(){return u(this,function(e){return[2,this.impl.next()]})})},t}(be),xe=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.separator=n,r.carryover="",r}return a(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Split('"+this.separator+"')"},t.prototype.pump=function(){return s(this,void 0,void 0,function(){var e,t,n,r,i;return u(this,function(o){switch(o.label){case 0:return[4,this.upstream.next()];case 1:if((e=o.sent()).done)return""===this.carryover?[2,!1]:(this.outputQueue.push(this.carryover),this.carryover="",[2,!0]);for((t=e.value.split(this.separator))[0]=this.carryover+t[0],n=0,r=t.slice(0,-1);n<r.length;n++)i=r[n],this.outputQueue.push(i);return this.carryover=t[t.length-1],[2,!0]}})})},t}(Y),_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.decodeUTF8=function(){return new Ce(this)},t}(F),Ce=function(e){function t(t){var n=e.call(this)||this;return n.upstream=t,n.impl=new Ee(t),n}return a(t,e),t.prototype.summary=function(){return this.impl.summary()},t.prototype.next=function(){return s(this,void 0,void 0,function(){return u(this,function(e){return[2,this.impl.next()]})})},t}(be),Ee=function(e){function t(t){var r=e.call(this)||this;if(r.upstream=t,Object(i.W)().get("IS_BROWSER"))r.decoder=new TextDecoder("utf-8");else{var o=n(558).StringDecoder;r.decoder=new o("utf8")}return r}return a(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Utf8"},t.prototype.pump=function(){return s(this,void 0,void 0,function(){var e,t,n;return u(this,function(o){switch(o.label){case 0:return[4,this.upstream.next()];case 1:return(e=o.sent()).done?[2,!1]:(t=e.value,n=Object(i.W)().get("IS_BROWSER")?this.decoder.decode(t,{stream:!0}):this.decoder.write(r.from(t.buffer)),this.outputQueue.push(n),[2,!0])}})})},t}(Y),Se=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.file=t,r.options=n,i.dd.assert(t instanceof Uint8Array||!!Object(i.W)().get("IS_BROWSER")&&(t instanceof File||t instanceof Blob),function(){return"FileChunkIterator only supports File, Blob and Uint8Array right now."}),r.offset=n.offset||0,r.chunkSize=n.chunkSize||1048576,r}return a(t,e),t.prototype.summary=function(){return"FileChunks "+this.file},t.prototype.next=function(){return s(this,void 0,void 0,function(){var e,t,n=this;return u(this,function(r){switch(r.label){case 0:return this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size)?[2,{value:null,done:!0}]:(e=new Promise(function(e,t){var r=n.offset+n.chunkSize;if(n.file instanceof Uint8Array)e(new Uint8Array(n.file.slice(n.offset,r)));else{var i=new FileReader;i.onload=function(n){var r=i.result;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(r instanceof Uint8Array))return t(new TypeError("FileReader returned unknown type."));e(r)},i.onabort=function(e){return t(new Error("Aborted"))},i.onerror=function(e){return t(new Error(e.type))};var o=n.file.slice(n.offset,r);i.readAsArrayBuffer(o)}n.offset=r}),t={},[4,e]);case 1:return[2,(t.value=r.sent(),t.done=!1,t)]}})})},t}(_e);function ke(e,t){return void 0===t&&(t={}),s(this,void 0,void 0,function(){var n,r,o,a,s;return u(this,function(u){switch(u.label){case 0:return"string"==typeof e?n=e:(n=e.url,r=Oe(e)),[4,i.dd.fetch(n,r)];case 1:return(o=u.sent()).ok?(s=Uint8Array.bind,[4,o.arrayBuffer()]):[3,3];case 2:return a=new(s.apply(Uint8Array,[void 0,u.sent()])),[2,new Se(a,t)];case 3:throw new Error(o.statusText)}})})}var Oe=function(e){return{method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}};function Te(e){return"string"==typeof e&&"file://"===e.substr(0,7)}var Ne=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.input=t,r.options=n,r}return a(t,e),t.prototype.iterator=function(){return s(this,void 0,void 0,function(){var e;return u(this,function(t){return Te(this.input)&&Object(i.W)().get("IS_NODE")&&(e=n(559),this.input=e.readFileSync(this.input.substr(7))),[2,new Se(this.input,this.options)]})})},t}(ye),Ae=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.url=t,r.fileOptions=n,r}return a(t,e),t.prototype.iterator=function(){return s(this,void 0,void 0,function(){return u(this,function(e){return Te(this.url)?[2,new Ne(this.url,this.fileOptions).iterator()]:[2,ke(this.url,this.fileOptions)]})})},t}(ye);function Ie(e,t){return void 0===t&&(t={}),new me(new Ae(e),t)}function Re(e){var t=this,n=M(e);return re(function(){return s(t,void 0,void 0,function(){return u(this,function(e){return[2,n]})})})}function Pe(e){var t=this;return re(function(){return s(t,void 0,void 0,function(){var t;return u(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),[2,M(function(){return t.next()})]}})})})}function Me(e,t){return s(this,void 0,void 0,function(){return u(this,function(n){return[2,ve.create(e,t)]})})}function je(e){return s(this,void 0,void 0,function(){return u(this,function(t){return[2,ge.create(e)]})})}var De="1.7.0"}).call(this,n(44),n(160).Buffer)},function(e,t,n){"use strict";var r=s(n(504)),i=s(n(509)),o=s(n(220)),a=s(n(218));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=o(n(511));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){var r=n(571),i=Object.prototype.hasOwnProperty;function o(e){return Array.isArray(e)?"array":typeof e}function a(e,t){var n=o(e),r;if(n!==o(t))return!1;switch(n){case"array":if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!a(e[i],t[i]))return!1;return!0;case"object":return e&&t?e.type===t.type&&(e.key===t.key&&(e.ref===t.ref&&s(e.props,t.props))):e===t;default:return e===t}}function s(e,t){var n=0,o=0;for(var s in e)if(i.call(e,s)){if("style"===s){if(!r(e[s],t[s]))return!1}else if("children"===s);else if(e[s]!==t[s])return!1;n++}for(var s in t)i.call(t,s)&&o++;return n===o&&a(e.children,t.children)}e.exports=s},,function(e,t,n){var r=n(13),i=n(15),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(13),i=n(29);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(164),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(45),i=n(164);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(42),i=n(60),o=n(126),a=n(16);e.exports=r("Reflect","ownKeys")||function e(t){var n=i.f(a(t)),r=o.f;return r?n.concat(r(t)):n}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(11);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(e,t,n){var r=n(13),i=n(93),o=r.process,a=o&&o.versions,s=a&&a.v8,u,l;s?l=(u=s.split("."))[0]+u[1]:i&&(!(u=i.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=i.match(/Chrome\/(\d+)/))&&(l=u[1]),e.exports=l&&+l},function(e,t,n){"use strict";var r=n(22),i=n(50),o=n(20);e.exports=function e(t){for(var n=r(this),a=o(n.length),s=arguments.length,u=i(s>1?arguments[1]:void 0,a),l=s>2?arguments[2]:void 0,c=void 0===l?a:i(l,a);c>u;)n[u++]=t;return n}},function(e,t,n){var r=n(17),i=n(84),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){var r,i,o={};o[n(17)("toStringTag")]="z",e.exports="[object z]"===String(o)},function(e,t,n){"use strict";var r=n(9),i=n(179),o=n(43),a=n(62),s=n(46),u=n(29),l=n(27),c=n(17),f=n(45),p=n(84),h=n(180),d=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,g=c("iterator"),v="keys",y="values",b="entries",w=function(){return this};e.exports=function(e,t,n,c,h,x,_){i(n,t,c);var C=function(e){if(e===h&&T)return T;if(!m&&e in k)return k[e];switch(e){case v:return function t(){return new n(this,e)};case y:return function t(){return new n(this,e)};case b:return function t(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",S=!1,k=e.prototype,O=k[g]||k["@@iterator"]||h&&k[h],T=!m&&O||C(h),N="Array"==t&&k.entries||O,A,I,R;if(N&&(A=o(N.call(new e)),d!==Object.prototype&&A.next&&(f||o(A)===d||(a?a(A,d):"function"!=typeof A[g]&&u(A,g,w)),s(A,E,!0,!0),f&&(p[E]=w))),h==y&&O&&O.name!==y&&(S=!0,T=function e(){return O.call(this)}),f&&!_||k[g]===T||u(k,g,T),p[t]=T,h)if(I={values:C(y),keys:x?T:C(v),entries:C(b)},_)for(R in I)!m&&!S&&R in k||l(k,R,I[R]);else r({target:t,proto:!0,forced:m||S},I);return I}},function(e,t,n){var r=n(11);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,n){var r=n(20),i=n(136),o=n(28),a=Math.ceil,s=function(e){return function(t,n,s){var u=String(o(t)),l=u.length,c=void 0===s?" ":String(s),f=r(n),p,h;return f<=l||""==c?u:(p=f-l,(h=i.call(c,a(p/c.length))).length>p&&(h=h.slice(0,p)),e?u+h:h+u)}};e.exports={start:s(!1),end:s(!0)}},function(e,t,n){"use strict";var r=n(37),i=n(28);e.exports="".repeat||function e(t){var n=String(i(this)),o="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(n+=n))1&a&&(o+=n);return o}},function(e,t){e.exports=Math.sign||function e(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(e,t,n){var r=n(13),i=n(11),o=n(40),a=n(52),s=n(171),u=n(120),l=n(194),c=r.location,f=r.setImmediate,p=r.clearImmediate,h=r.process,d=r.MessageChannel,m=r.Dispatch,g=0,v={},y="onreadystatechange",b,w,x,_=function(e){if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},C=function(e){return function(){_(e)}},E=function(e){_(e.data)},S=function(e){r.postMessage(e+"",c.protocol+"//"+c.host)};f&&p||(f=function e(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return v[++g]=function(){("function"==typeof t?t:Function(t)).apply(void 0,n)},b(g),g},p=function e(t){delete v[t]},"process"==o(h)?b=function(e){h.nextTick(C(e))}:m&&m.now?b=function(e){m.now(C(e))}:d&&!l?(x=(w=new d).port2,w.port1.onmessage=E,b=a(x.postMessage,x,1)):!r.addEventListener||"function"!=typeof postMessage||r.importScripts||i(S)||"file:"===c.protocol?b=y in u("script")?function(e){s.appendChild(u("script")).onreadystatechange=function(){s.removeChild(this),_(e)}}:function(e){setTimeout(C(e),0)}:(b=S,r.addEventListener("message",E,!1))),e.exports={set:f,clear:p}},function(e,t,n){var r=n(15),i=n(40),o,a=n(17)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var r=n(11);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r(function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),t.BROKEN_CARET=r(function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},function(e,t,n){var r=n(139);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r,i=n(17)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";var r=n(105).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(11),i=n(101),o="\u200b\x85\u180e";e.exports=function(e){return r(function(){return!!i[e]()||o[e]()!=o||i[e].name!==e})}},function(e,t,n){var r=n(13),i=n(11),o=n(94),a=n(18).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!a||!i(function(){u(1)})||!i(function(){new u(-1)})||!o(function(e){new u,new u(null),new u(1.5),new u(e)},!0)||i(function(){return 1!==new u(new s(2),1,void 0).length})},function(e,t,n){var r=n(73);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(150)("keys"),i=n(112);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(57),i=n(56),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(111)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(147);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(89),i=n(478),o=n(151),a=n(149)("IE_PROTO"),s=function(){},u="prototype",l=function(){var e=n(210)("iframe"),t=o.length,r="<",i=">",a;for(e.style.display="none",n(479).appendChild(e),e.src="javascript:",(a=e.contentWindow.document).open(),a.write("<script>document.F=Object<\/script>"),a.close(),l=a.F;t--;)delete l.prototype[o[t]];return l()};e.exports=Object.create||function e(t,n){var o;return null!==t?(s.prototype=r(t),o=new s,s.prototype=null,o[a]=t):o=l(),void 0===n?o:i(o,n)}},function(e,t,n){var r=n(64).f,i=n(65),o=n(75)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){t.f=n(75)},function(e,t,n){var r=n(56),i=n(57),o=n(111),a=n(157),s=n(64).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){"use strict";(function(t){var r=n(39),i=n(530),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function s(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(222):void 0!==t&&(e=n(222)),e}var u={adapter:s(),transformRequest:[function e(t,n){return i(n,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(n,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function e(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function e(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function e(t){u.headers[t]={}}),r.forEach(["post","put","patch"],function e(t){u.headers[t]=r.merge(o)}),e.exports=u}).call(this,n(108))},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(549),i=n(550),o=n(551);function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?g(e,t,n,r):"string"==typeof t?d(e,t,n):v(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t,n,r){return f(t),t<=0?u(e,t):void 0!==n?"string"==typeof r?u(e,t).fill(n,r):u(e,t).fill(n):u(e,t)}function h(e,t){if(f(t),e=u(e,t<0?0:0|y(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(t,n),i=(e=u(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}function m(e,t){var n=t.length<0?0:0|y(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function g(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=m(e,t),e}function v(e,t){if(l.isBuffer(t)){var n=0|y(t.length);return 0===(e=u(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||te(t.length)?u(e,0):m(e,t);if("Buffer"===t.type&&o(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),l.alloc(+e)}function w(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(r)return Z(e).length;t=(""+t).toLowerCase(),r=!0}}function x(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return j(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function C(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,i){var o=1,a=e.length,s=t.length,u;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,s/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(u=n;u<a;u++)if(l(e,u)===l(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===s)return c*o}else-1!==c&&(u-=u-c),c=-1}else for(n+s>a&&(n=a-s),u=n;u>=0;u--){for(var f=!0,p=0;p<s;p++)if(l(e,u+p)!==l(t,p)){f=!1;break}if(f)return u}return-1}function S(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function k(e,t,n,r){return ee(Z(t,e.length-n),e,n,r)}function O(e,t,n,r){return ee($(t),e,n,r)}function T(e,t,n,r){return O(e,t,n,r)}function N(e,t,n,r){return ee(Q(t),e,n,r)}function A(e,t,n,r){return ee(J(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1,u,l,c,f;if(i+s<=n)switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(u=e[i+1]))&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=e[i+1],l=e[i+2],128==(192&u)&&128==(192&l)&&(f=(15&o)<<12|(63&u)<<6|63&l)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(f=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(a=f)}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return M(r)}t.Buffer=l,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:a(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return p(null,e,t,n)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function e(t){return!(null==t||!t._isBuffer)},l.compare=function e(t,n){if(!l.isBuffer(t)||!l.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(t[o]!==n[o]){r=t[o],i=n[o];break}return r<i?-1:i<r?1:0},l.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function e(t,n){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=l.allocUnsafe(n),a=0;for(r=0;r<t.length;++r){var s=t[r];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,a),a+=s.length}return i},l.byteLength=w,l.prototype._isBuffer=!0,l.prototype.swap16=function e(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)_(this,n,n+1);return this},l.prototype.swap32=function e(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)_(this,n,n+3),_(this,n+1,n+2);return this},l.prototype.swap64=function e(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)_(this,n,n+7),_(this,n+1,n+6),_(this,n+2,n+5),_(this,n+3,n+4);return this},l.prototype.toString=function e(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):x.apply(this,arguments)},l.prototype.equals=function e(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function e(){var n="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(n=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(n+=" ... ")),"<Buffer "+n+">"},l.prototype.compare=function e(t,n,r,i,o){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var a=o-i,s=r-n,u=Math.min(a,s),c=this.slice(i,o),f=t.slice(n,r),p=0;p<u;++p)if(c[p]!==f[p]){a=c[p],s=f[p];break}return a<s?-1:s<a?1:0},l.prototype.includes=function e(t,n,r){return-1!==this.indexOf(t,n,r)},l.prototype.indexOf=function e(t,n,r){return C(this,t,n,r,!0)},l.prototype.lastIndexOf=function e(t,n,r){return C(this,t,n,r,!1)},l.prototype.write=function e(t,n,r,i){if(void 0===n)i="utf8",r=this.length,n=0;else if(void 0===r&&"string"==typeof n)i=n,r=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var o=this.length-n;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return S(this,t,n,r);case"utf8":case"utf-8":return k(this,t,n,r);case"ascii":return O(this,t,n,r);case"latin1":case"binary":return T(this,t,n,r);case"base64":return N(this,t,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n,r);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},l.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function M(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=P));return n}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function L(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Y(e[o]);return i}function F(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function z(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function W(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function V(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(e,t,n,r,o){return o||V(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),i.write(e,t,n,r,23,4),n+4}function G(e,t,n,r,o){return o||V(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function e(t,n){var r=this.length,i;if(t=~~t,n=void 0===n?r:~~n,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),n<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<t&&(n=t),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,n)).__proto__=l.prototype;else{var o=n-t;i=new l(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+t]}return i},l.prototype.readUIntLE=function e(t,n,r){t|=0,n|=0,r||z(t,n,this.length);for(var i=this[t],o=1,a=0;++a<n&&(o*=256);)i+=this[t+a]*o;return i},l.prototype.readUIntBE=function e(t,n,r){t|=0,n|=0,r||z(t,n,this.length);for(var i=this[t+--n],o=1;n>0&&(o*=256);)i+=this[t+--n]*o;return i},l.prototype.readUInt8=function e(t,n){return n||z(t,1,this.length),this[t]},l.prototype.readUInt16LE=function e(t,n){return n||z(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function e(t,n){return n||z(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function e(t,n){return n||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function e(t,n){return n||z(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function e(t,n,r){t|=0,n|=0,r||z(t,n,this.length);for(var i=this[t],o=1,a=0;++a<n&&(o*=256);)i+=this[t+a]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*n)),i},l.prototype.readIntBE=function e(t,n,r){t|=0,n|=0,r||z(t,n,this.length);for(var i=n,o=1,a=this[t+--i];i>0&&(o*=256);)a+=this[t+--i]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*n)),a},l.prototype.readInt8=function e(t,n){return n||z(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function e(t,n){n||z(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function e(t,n){n||z(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function e(t,n){return n||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function e(t,n){return n||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function e(t,n){return n||z(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function e(t,n){return n||z(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function e(t,n){return n||z(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function e(t,n){return n||z(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function e(t,n,r,i){var o;(t=+t,n|=0,r|=0,i)||B(this,t,n,r,Math.pow(2,8*r)-1,0);var a=1,s=0;for(this[n]=255&t;++s<r&&(a*=256);)this[n+s]=t/a&255;return n+r},l.prototype.writeUIntBE=function e(t,n,r,i){var o;(t=+t,n|=0,r|=0,i)||B(this,t,n,r,Math.pow(2,8*r)-1,0);var a=r-1,s=1;for(this[n+a]=255&t;--a>=0&&(s*=256);)this[n+a]=t/s&255;return n+r},l.prototype.writeUInt8=function e(t,n,r){return t=+t,n|=0,r||B(this,t,n,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},l.prototype.writeUInt16LE=function e(t,n,r){return t=+t,n|=0,r||B(this,t,n,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):U(this,t,n,!0),n+2},l.prototype.writeUInt16BE=function e(t,n,r){return t=+t,n|=0,r||B(this,t,n,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):U(this,t,n,!1),n+2},l.prototype.writeUInt32LE=function e(t,n,r){return t=+t,n|=0,r||B(this,t,n,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):W(this,t,n,!0),n+4},l.prototype.writeUInt32BE=function e(t,n,r){return t=+t,n|=0,r||B(this,t,n,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):W(this,t,n,!1),n+4},l.prototype.writeIntLE=function e(t,n,r,i){if(t=+t,n|=0,!i){var o=Math.pow(2,8*r-1);B(this,t,n,r,o-1,-o)}var a=0,s=1,u=0;for(this[n]=255&t;++a<r&&(s*=256);)t<0&&0===u&&0!==this[n+a-1]&&(u=1),this[n+a]=(t/s>>0)-u&255;return n+r},l.prototype.writeIntBE=function e(t,n,r,i){if(t=+t,n|=0,!i){var o=Math.pow(2,8*r-1);B(this,t,n,r,o-1,-o)}var a=r-1,s=1,u=0;for(this[n+a]=255&t;--a>=0&&(s*=256);)t<0&&0===u&&0!==this[n+a+1]&&(u=1),this[n+a]=(t/s>>0)-u&255;return n+r},l.prototype.writeInt8=function e(t,n,r){return t=+t,n|=0,r||B(this,t,n,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},l.prototype.writeInt16LE=function e(t,n,r){return t=+t,n|=0,r||B(this,t,n,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):U(this,t,n,!0),n+2},l.prototype.writeInt16BE=function e(t,n,r){return t=+t,n|=0,r||B(this,t,n,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):U(this,t,n,!1),n+2},l.prototype.writeInt32LE=function e(t,n,r){return t=+t,n|=0,r||B(this,t,n,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):W(this,t,n,!0),n+4},l.prototype.writeInt32BE=function e(t,n,r){return t=+t,n|=0,r||B(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):W(this,t,n,!1),n+4},l.prototype.writeFloatLE=function e(t,n,r){return H(this,t,n,!0,r)},l.prototype.writeFloatBE=function e(t,n,r){return H(this,t,n,!1,r)},l.prototype.writeDoubleLE=function e(t,n,r){return G(this,t,n,!0,r)},l.prototype.writeDoubleBE=function e(t,n,r){return G(this,t,n,!1,r)},l.prototype.copy=function e(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var o=i-r,a;if(this===t&&r<n&&n<i)for(a=o-1;a>=0;--a)t[a+n]=this[a+r];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+n]=this[a+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),n);return o},l.prototype.fill=function e(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var a;if(n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(a=n;a<r;++a)this[a]=t;else{var s=l.isBuffer(t)?t:Z(new l(t,i).toString()),u=s.length;for(a=0;a<r-n;++a)this[a+n]=s[a%u]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function K(e){if((e=X(e).replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function X(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function Z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function J(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function Q(e){return r.toByteArray(K(e))}function ee(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function te(e){return e!=e}}).call(this,n(44))},function(e,t,n){"use strict";(function(e){var r=n(2),i=n.n(r),o=n(36),a=n(23),s=n.n(a),u=1073741823,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:{};function c(){var e="__global_unique_id__";return l[e]=(l[e]||0)+1}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){var t=[];return{on:function e(n){t.push(n)},off:function e(n){t=t.filter(function(e){return e!==n})},get:function t(){return e},set:function n(r,i){e=r,t.forEach(function(t){return t(e,i)})}}}function h(e){return Array.isArray(e)?e[0]:e}function d(e,t){var n,i,a="__create-react-context-"+c()+"__",l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=p(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function e(){var t;return(t={})[a]=this.emitter,t},r.componentWillReceiveProps=function e(n){if(this.props.value!==n.value){var r=this.props.value,i=n.value,o;f(r,i)?o=0:(o="function"==typeof t?t(r,i):u,0!==(o|=0)&&this.emitter.set(n.value,o))}},r.render=function e(){return this.props.children},n}(r.Component);l.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var d=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){var r;0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function e(t){var n=t.observedBits;this.observedBits=void 0===n||null===n?u:n},r.componentDidMount=function e(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentWillUnmount=function e(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function t(){return this.context[a]?this.context[a].get():e},r.render=function e(){return h(this.props.children)(this.state.value)},n}(r.Component);return d.contextTypes=((i={})[a]=s.a.object,i),{Provider:l,Consumer:d}}var m=i.a.createContext||d;t.a=m}).call(this,n(44))},function(e,t,n){var r=n(572);e.exports=y,e.exports.parse=o,e.exports.compile=a,e.exports.tokensToFunction=l,e.exports.tokensToRegExp=v;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n=[],r=0,o=0,a="",s=t&&t.delimiter||"/",u;null!=(u=i.exec(e));){var l=u[0],p=u[1],h=u.index;if(a+=e.slice(o,h),o=h+l.length,p)a+=p[1];else{var d=e[o],m=u[2],g=u[3],v=u[4],y=u[5],b=u[6],w=u[7];a&&(n.push(a),a="");var x=null!=m&&null!=d&&d!==m,_="+"===b||"*"===b,C="?"===b||"*"===b,E=u[2]||s,S=v||y;n.push({name:g||r++,prefix:m||"",delimiter:E,optional:C,repeat:_,partial:x,asterisk:!!w,pattern:S?f(S):w?".*":"[^"+c(E)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&n.push(a),n}function a(e,t){return l(o(e,t),t)}function s(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function u(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",a=t||{},l,c=(i||{}).pretty?s:encodeURIComponent,f=0;f<e.length;f++){var p=e[f];if("string"!=typeof p){var h=a[p.name],d;if(null==h){if(p.optional){p.partial&&(o+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(r(h)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var m=0;m<h.length;m++){if(d=c(h[m]),!n[f].test(d))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===m?p.prefix:p.delimiter)+d}}else{if(d=p.asterisk?u(h):c(h),!n[f].test(d))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+d+'"');o+=p.prefix+d}}else o+=p}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function f(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function p(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function d(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return p(e,t)}function m(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(y(e[i],t,n).source);var o;return p(new RegExp("(?:"+r.join("|")+")",h(n)),t)}function g(e,t,n){return v(o(e,n),t,n)}function v(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"==typeof u)a+=c(u);else{var l=c(u.prefix),f="(?:"+u.pattern+")";t.push(u),u.repeat&&(f+="(?:"+l+f+")*"),a+=f=u.optional?u.partial?l+"("+f+")?":"(?:"+l+"("+f+"))?":l+"("+f+")"}}var d=c(n.delimiter||"/"),m=a.slice(-d.length)===d;return i||(a=(m?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+d+"|$)",p(new RegExp("^"+a,h(n)),t)}function y(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?d(e,t):r(e)?m(e,t,n):g(e,t,n)}},function(e,t,n){var r=n(19),i=n(11),o=n(120);e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(13),i=n(121),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},function(e,t,n){var r=n(13),i=n(122),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},function(e,t,n){var r=n(24),i=n(124),o=n(26),a=n(21);e.exports=function(e,t){for(var n=i(t),s=a.f,u=o.f,l=0;l<n.length;l++){var c=n[l];r(e,c)||s(e,c,u(t,c))}}},function(e,t,n){var r=n(13);e.exports=r},function(e,t,n){var r=n(24),i=n(31),o=n(79).indexOf,a=n(78);e.exports=function(e,t){var n=i(e),s=0,u=[],l;for(l in n)!r(a,l)&&r(n,l)&&u.push(l);for(;t.length>s;)r(n,l=t[s++])&&(~o(u,l)||u.push(l));return u}},function(e,t,n){var r=n(127);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(19),i=n(21),o=n(16),a=n(81);e.exports=r?Object.defineProperties:function e(t,n){o(t);for(var r=a(n),s=r.length,u=0,l;s>u;)i.f(t,l=r[u++],n[l]);return t}},function(e,t,n){var r=n(42);e.exports=r("document","documentElement")},function(e,t,n){var r=n(31),i=n(60).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function e(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(e,t,n){var r=n(17);t.f=r},function(e,t,n){"use strict";var r=n(22),i=n(50),o=n(20),a=Math.min;e.exports=[].copyWithin||function e(t,n){var s=r(this),u=o(s.length),l=i(t,u),c=i(n,u),f=arguments.length>2?arguments[2]:void 0,p=a((void 0===f?u:i(f,u))-c,u-l),h=1;for(c<l&&l<c+p&&(h=-1,c+=p-1,l+=p-1);p-- >0;)c in s?s[l]=s[c]:delete s[l],l+=h,c+=h;return s}},function(e,t,n){"use strict";var r=n(67),i=n(20),o=n(52),a=function(e,t,n,s,u,l,c,f){for(var p=u,h=0,d=!!c&&o(c,f,3),m;h<s;){if(h in n){if(m=d?d(n[h],h,t):n[h],l>0&&r(m))p=a(e,t,m,i(m.length),p,l-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=m}p++}h++}return p};e.exports=a},function(e,t,n){"use strict";var r=n(25).forEach,i=n(47),o=n(30),a=i("forEach"),s=o("forEach");e.exports=a&&s?[].forEach:function e(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){"use strict";var r=n(52),i=n(22),o=n(178),a=n(130),s=n(20),u=n(61),l=n(85);e.exports=function e(t){var n=i(t),c="function"==typeof this?this:Array,f=arguments.length,p=f>1?arguments[1]:void 0,h=void 0!==p,d=l(n),m=0,g,v,y,b,w,x;if(h&&(p=r(p,f>2?arguments[2]:void 0,2)),void 0==d||c==Array&&a(d))for(v=new c(g=s(n.length));g>m;m++)x=h?p(n[m],m):n[m],u(v,m,x);else for(w=(b=d.call(n)).next,v=new c;!(y=w.call(b)).done;m++)x=h?o(b,p,[y.value,m],!0):y.value,u(v,m,x);return v.length=m,v}},function(e,t,n){var r=n(16);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){"use strict";var r=n(180).IteratorPrototype,i=n(51),o=n(49),a=n(46),s=n(84),u=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,l,!1,!0),s[l]=u,e}},function(e,t,n){"use strict";var r=n(43),i=n(29),o=n(24),a=n(17),s=n(45),u=a("iterator"),l=!1,c=function(){return this},f,p,h;[].keys&&("next"in(h=[].keys())?(p=r(r(h)))!==Object.prototype&&(f=p):l=!0),void 0==f&&(f={}),s||o(f,u)||i(f,u,c),e.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:l}},function(e,t,n){var r=n(15);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var r=n(31),i=n(37),o=n(20),a=n(47),s=n(30),u=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),p=s("indexOf",{ACCESSORS:!0,1:0}),h=c||!f||!p;e.exports=h?function e(t){if(c)return l.apply(this,arguments)||0;var n=r(this),a=o(n.length),s=a-1;for(arguments.length>1&&(s=u(s,i(arguments[1]))),s<0&&(s=a+s);s>=0;s--)if(s in n&&n[s]===t)return s||0;return-1}:l},function(e,t,n){var r=n(37),i=n(20);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},function(e,t,n){"use strict";var r=n(21).f,i=n(51),o=n(69),a=n(52),s=n(54),u=n(88),l=n(132),c=n(68),f=n(19),p=n(63).fastKey,h=n(32),d=h.set,m=h.getterFor;e.exports={getConstructor:function(e,t,n,l){var c=e(function(e,r){s(e,c,t),d(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&u(r,e[l],e,n)}),h=m(t),g=function(e,t,n){var r=h(e),i=v(e,t),o,a;return i?i.value=n:(r.last=i={index:a=p(t,!0),key:t,value:n,previous:o=r.last,next:void 0,removed:!1},r.first||(r.first=i),o&&(o.next=i),f?r.size++:e.size++,"F"!==a&&(r.index[a]=i)),e},v=function(e,t){var n=h(e),r=p(t),i;if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==t)return i};return o(c.prototype,{clear:function e(){for(var t=this,n=h(this),r=n.index,i=n.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete r[i.index],i=i.next;n.first=n.last=void 0,f?n.size=0:this.size=0},delete:function(e){var t=this,n=h(this),r=v(this,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),f?n.size--:this.size--}return!!r},forEach:function e(t){for(var n=h(this),r=a(t,arguments.length>1?arguments[1]:void 0,3),i;i=i?i.next:n.first;)for(r(i.value,i.key,this);i&&i.removed;)i=i.previous},has:function e(t){return!!v(this,t)}}),o(c.prototype,n?{get:function e(t){var n=v(this,t);return n&&n.value},set:function e(t,n){return g(this,0===t?0:t,n)}}:{add:function e(t){return g(this,t=0===t?0:t,t)}}),f&&r(c.prototype,"size",{get:function(){return h(this).size}}),c},setStrong:function(e,t,n){var r=t+" Iterator",i=m(t),o=m(r);l(e,t,function(e,t){d(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),c(t)}}},function(e,t){var n=Math.log;e.exports=Math.log1p||function e(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},function(e,t,n){var r=n(15),i=Math.floor;e.exports=function e(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(e,t,n){var r=n(13),i=n(70).trim,o=n(101),a=r.parseFloat,s=1/a(o+"-0")!=-1/0;e.exports=s?function e(t){var n=i(String(t)),r=a(n);return 0===r&&"-"==n.charAt(0)?-0:r}:a},function(e,t,n){var r=n(13),i=n(70).trim,o=n(101),a=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");e.exports=u?function e(t,n){var r=i(String(t));return a(r,n>>>0||(s.test(r)?16:10))}:a},function(e,t,n){var r=n(40);e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},function(e,t,n){"use strict";var r=n(19),i=n(11),o=n(81),a=n(126),s=n(91),u=n(22),l=n(76),c=Object.assign,f=Object.defineProperty;e.exports=!c||i(function(){if(r&&1!==c({b:1},c(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||o(c({},t)).join("")!=i})?function e(t,n){for(var i=u(t),c=arguments.length,f=1,p=a.f,h=s.f;c>f;)for(var d=l(arguments[f++]),m=p?o(d).concat(p(d)):o(d),g=m.length,v=0,y;g>v;)y=m[v++],r&&!h.call(d,y)||(i[y]=d[y]);return i}:c},function(e,t,n){var r=n(19),i=n(81),o=n(31),a=n(91).f,s=function(e){return function(t){for(var n=o(t),s=i(n),u=s.length,l=0,c=[],f;u>l;)f=s[l++],r&&!a.call(n,f)||c.push(e?[f,n[f]]:n[f]);return c}};e.exports={entries:s(!0),values:s(!1)}},function(e,t){e.exports=Object.is||function e(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(e,t,n){var r=n(13);e.exports=r.Promise},function(e,t,n){var r=n(93);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(13),i=n(26).f,o=n(40),a=n(138).set,s=n(194),u=r.MutationObserver||r.WebKitMutationObserver,l=r.process,c=r.Promise,f="process"==o(l),p=i(r,"queueMicrotask"),h=p&&p.value,d,m,g,v,y,b,w,x;h||(d=function(){var e,t;for(f&&(e=l.domain)&&e.exit();m;){t=m.fn,m=m.next;try{t()}catch(e){throw m?v():g=void 0,e}}g=void 0,e&&e.enter()},f?v=function(){l.nextTick(d)}:u&&!s?(y=!0,b=document.createTextNode(""),new u(d).observe(b,{characterData:!0}),v=function(){b.data=y=!y}):c&&c.resolve?(w=c.resolve(void 0),x=w.then,v=function(){x.call(w,d)}):v=function(){a.call(r,d)}),e.exports=h||function(e){var t={fn:e,next:void 0};g&&(g.next=t),m||(m=t,v()),g=t}},function(e,t,n){var r=n(16),i=n(15),o=n(197);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),a;return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(38),i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";var r=n(9),i=n(104);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,n){"use strict";var r=n(105).charAt,i=n(32),o=n(132),a="String Iterator",s=i.set,u=i.getterFor(a);o(String,"String",function(e){s(this,{type:a,string:String(e),index:0})},function e(){var t=u(this),n=t.string,i=t.index,o;return i>=n.length?{value:void 0,done:!0}:(o=r(n,i),t.index+=o.length,{value:o,done:!1})})},function(e,t,n){var r=n(93);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(e,t,n){var r=n(405);e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},function(e,t,n){var r=n(22),i=n(20),o=n(85),a=n(130),s=n(52),u=n(18).aTypedArrayConstructor;e.exports=function e(t){var n=r(t),l=arguments.length,c=l>1?arguments[1]:void 0,f=void 0!==c,p=o(n),h,d,m,g,v,y;if(void 0!=p&&!a(p))for(y=(v=p.call(n)).next,n=[];!(g=y.call(v)).done;)n.push(g.value);for(f&&l>2&&(c=s(c,arguments[2],2)),d=i(n.length),m=new(u(this))(d),h=0;d>h;h++)m[h]=f?c(n[h],h):n[h];return m}},function(e,t,n){"use strict";var r=n(69),i=n(63).getWeakData,o=n(16),a=n(15),s=n(54),u=n(88),l=n(25),c=n(24),f=n(32),p=f.set,h=f.getterFor,d=l.find,m=l.findIndex,g=0,v=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},b=function(e,t){return d(e.entries,function(e){return e[0]===t})};y.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,l){var f=e(function(e,r){s(e,f,t),p(e,{type:t,id:g++,frozen:void 0}),void 0!=r&&u(r,e[l],e,n)}),d=h(t),m=function(e,t,n){var r=d(e),a=i(o(t),!0);return!0===a?v(r).set(t,n):a[r.id]=n,e};return r(f.prototype,{delete:function(e){var t=d(this);if(!a(e))return!1;var n=i(e);return!0===n?v(t).delete(e):n&&c(n,t.id)&&delete n[t.id]},has:function e(t){var n=d(this);if(!a(t))return!1;var r=i(t);return!0===r?v(n).has(t):r&&c(r,n.id)}}),r(f.prototype,n?{get:function e(t){var n=d(this);if(a(t)){var r=i(t);return!0===r?v(n).get(t):r?r[n.id]:void 0}},set:function e(t,n){return m(this,t,n)}}:{add:function e(t){return m(this,t,!0)}}),f}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(11),i=n(17),o=n(45),a=i("iterator");e.exports=!r(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach(function(e,r){t.delete("b"),n+=r+e}),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})},function(e,t,n){"use strict";n(95);var r=n(9),i=n(42),o=n(205),a=n(27),s=n(69),u=n(46),l=n(179),c=n(32),f=n(54),p=n(24),h=n(52),d=n(86),m=n(16),g=n(15),v=n(51),y=n(49),b=n(448),w=n(85),x=n(17),_=i("fetch"),C=i("Headers"),E=x("iterator"),S="URLSearchParams",k="URLSearchParamsIterator",O=c.set,T=c.getterFor("URLSearchParams"),N=c.getterFor("URLSearchParamsIterator"),A=/\+/g,I=Array(4),R=function(e){return I[e-1]||(I[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},P=function(e){try{return decodeURIComponent(e)}catch(t){return e}},M=function(e){var t=e.replace(A," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(R(n--),P);return t}},j=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=function(e){return D[e]},F=function(e){return encodeURIComponent(e).replace(j,L)},z=function(e,t){if(t)for(var n=t.split("&"),r=0,i,o;r<n.length;)(i=n[r++]).length&&(o=i.split("="),e.push({key:M(o.shift()),value:M(o.join("="))}))},B=function(e){this.entries.length=0,z(this.entries,e)},U=function(e,t){if(e<t)throw TypeError("Not enough arguments")},W=l(function e(t,n){O(this,{type:"URLSearchParamsIterator",iterator:b(T(t).entries),kind:n})},"Iterator",function e(){var t=N(this),n=t.kind,r=t.iterator.next(),i=r.value;return r.done||(r.value="keys"===n?i.key:"values"===n?i.value:[i.key,i.value]),r}),V=function e(){f(this,V,"URLSearchParams");var t=arguments.length>0?arguments[0]:void 0,n=this,r=[],i,o,a,s,u,l,c,h,d;if(O(this,{type:"URLSearchParams",entries:r,updateURL:function(){},updateSearchParams:B}),void 0!==t)if(g(t))if("function"==typeof(i=w(t)))for(a=(o=i.call(t)).next;!(s=a.call(o)).done;){if((c=(l=(u=b(m(s.value))).next).call(u)).done||(h=l.call(u)).done||!l.call(u).done)throw TypeError("Expected sequence with length 2");r.push({key:c.value+"",value:h.value+""})}else for(d in t)p(t,d)&&r.push({key:d,value:t[d]+""});else z(r,"string"==typeof t?"?"===t.charAt(0)?t.slice(1):t:t+"")},H=V.prototype;s(H,{append:function e(t,n){U(arguments.length,2);var r=T(this);r.entries.push({key:t+"",value:n+""}),r.updateURL()},delete:function(e){U(arguments.length,1);for(var t=T(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function e(t){U(arguments.length,1);for(var n=T(this).entries,r=t+"",i=0;i<n.length;i++)if(n[i].key===r)return n[i].value;return null},getAll:function e(t){U(arguments.length,1);for(var n=T(this).entries,r=t+"",i=[],o=0;o<n.length;o++)n[o].key===r&&i.push(n[o].value);return i},has:function e(t){U(arguments.length,1);for(var n=T(this).entries,r=t+"",i=0;i<n.length;)if(n[i++].key===r)return!0;return!1},set:function e(t,n){U(arguments.length,1);for(var r=T(this),i=r.entries,o=!1,a=t+"",s=n+"",u=0,l;u<i.length;u++)(l=i[u]).key===a&&(o?i.splice(u--,1):(o=!0,l.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function e(){var t=T(this),n=t.entries,r=n.slice(),i,o,a;for(n.length=0,a=0;a<r.length;a++){for(i=r[a],o=0;o<a;o++)if(n[o].key>i.key){n.splice(o,0,i);break}o===a&&n.push(i)}t.updateURL()},forEach:function e(t){for(var n=T(this).entries,r=h(t,arguments.length>1?arguments[1]:void 0,3),i=0,o;i<n.length;)r((o=n[i++]).value,o.key,this)},keys:function e(){return new W(this,"keys")},values:function e(){return new W(this,"values")},entries:function e(){return new W(this,"entries")}},{enumerable:!0}),a(H,E,H.entries),a(H,"toString",function e(){for(var t=T(this).entries,n=[],r=0,i;r<t.length;)i=t[r++],n.push(F(i.key)+"="+F(i.value));return n.join("&")},{enumerable:!0}),u(V,"URLSearchParams"),r({global:!0,forced:!o},{URLSearchParams:V}),o||"function"!=typeof _||"function"!=typeof C||r({global:!0,enumerable:!0,forced:!0},{fetch:function e(t){var n=[t],r,i,o;return arguments.length>1&&(r=arguments[1],g(r)&&(i=r.body,"URLSearchParams"===d(i)&&((o=r.headers?new C(r.headers):new C).has("content-type")||o.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),r=v(r,{body:y(0,String(i)),headers:y(0,o)}))),n.push(r)),_.apply(this,n)}}),e.exports={URLSearchParams:V,getState:T}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc"),t;if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},r=0;r<10;r++)n["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(n).map(function(e){return n[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}e.exports=s()?Object.assign:function(e,t){for(var n,s=a(e),u,l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(s[c]=n[c]);if(r){u=r(n);for(var f=0;f<u.length;f++)o.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},function(e,t,n){var r=n(468);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports=!n(58)&&!n(90)(function(){return 7!=Object.defineProperty(n(210)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(73),i=n(56).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(65),i=n(74),o=n(470)(!1),a=n(149)("IE_PROTO");e.exports=function(e,t){var n=i(e),s=0,u=[],l;for(l in n)l!=a&&r(n,l)&&u.push(l);for(;t.length>s;)r(n,l=t[s++])&&(~o(u,l)||u.push(l));return u}},function(e,t,n){var r=n(213);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(111),i=n(71),o=n(215),a=n(72),s=n(154),u=n(477),l=n(156),c=n(480),f=n(75)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",d="keys",m="values",g=function(){return this};e.exports=function(e,t,n,v,y,b,w){u(n,t,v);var x=function(e){if(!p&&e in S)return S[e];switch(e){case d:return function t(){return new n(this,e)};case m:return function t(){return new n(this,e)}}return function t(){return new n(this,e)}},_=t+" Iterator",C=y==m,E=!1,S=e.prototype,k=S[f]||S[h]||y&&S[y],O=k||x(y),T=y?C?x("entries"):O:void 0,N="Array"==t&&S.entries||k,A,I,R;if(N&&(R=c(N.call(new e)))!==Object.prototype&&R.next&&(l(R,_,!0),r||"function"==typeof R[f]||a(R,f,g)),C&&k&&k.name!==m&&(E=!0,O=function e(){return k.call(this)}),r&&!w||!p&&!E&&S[f]||a(S,f,O),s[t]=O,s[_]=g,y)if(A={values:C?O:x(m),keys:b?O:x(d),entries:T},w)for(I in A)I in S||o(S,I,A[I]);else i(i.P+i.F*(p||E),t,A);return A}},function(e,t,n){e.exports=n(72)},function(e,t,n){var r=n(211),i=n(151).concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return r(t,i)}},function(e,t,n){var r=n(113),i=n(109),o=n(74),a=n(146),s=n(65),u=n(209),l=Object.getOwnPropertyDescriptor;t.f=n(58)?l:function e(t,n){if(t=o(t),n=a(n,!0),u)try{return l(t,n)}catch(e){}if(s(t,n))return i(!r.f.call(t,n),t[n])}},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=l(n(0)),i=u(n(2)),o=u(n(10)),a=n(12),s=n(219);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function c(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p="unmounted";t.UNMOUNTED=p;var h="exited";t.EXITED=h;var d="entering";t.ENTERING=d;var m="entered";t.ENTERED=m;var g="exiting";t.EXITING=g;var v=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i=n.transitionGroup,o=i&&!i.isMounting?t.enter:t.appear,a;return r.appearStatus=null,t.in?o?(a=h,r.appearStatus=d):a=m:a=t.unmountOnExit||t.mountOnEnter?p:h,r.state={status:a},r.nextCallback=null,r}f(t,e);var n=t.prototype;return n.getChildContext=function e(){return{transitionGroup:null}},t.getDerivedStateFromProps=function e(t,n){var r;return t.in&&n.status===p?{status:h}:null},n.componentDidMount=function e(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function e(t){var n=null;if(t!==this.props){var r=this.state.status;this.props.in?r!==d&&r!==m&&(n=d):r!==d&&r!==m||(n=g)}this.updateStatus(!1,n)},n.componentWillUnmount=function e(){this.cancelNextCallback()},n.getTimeouts=function e(){var t=this.props.timeout,n,r,i;return n=r=i=t,null!=t&&"number"!=typeof t&&(n=t.exit,r=t.enter,i=void 0!==t.appear?t.appear:r),{exit:n,enter:r,appear:i}},n.updateStatus=function e(t,n){if(void 0===t&&(t=!1),null!==n){this.cancelNextCallback();var r=o.default.findDOMNode(this);n===d?this.performEnter(r,t):this.performExit(r)}else this.props.unmountOnExit&&this.state.status===h&&this.setState({status:p})},n.performEnter=function e(t,n){var r=this,i=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:n,a=this.getTimeouts(),s=o?a.appear:a.enter;n||i?(this.props.onEnter(t,o),this.safeSetState({status:d},function(){r.props.onEntering(t,o),r.onTransitionEnd(t,s,function(){r.safeSetState({status:m},function(){r.props.onEntered(t,o)})})})):this.safeSetState({status:m},function(){r.props.onEntered(t)})},n.performExit=function e(t){var n=this,r=this.props.exit,i=this.getTimeouts();r?(this.props.onExit(t),this.safeSetState({status:g},function(){n.props.onExiting(t),n.onTransitionEnd(t,i.exit,function(){n.safeSetState({status:h},function(){n.props.onExited(t)})})})):this.safeSetState({status:h},function(){n.props.onExited(t)})},n.cancelNextCallback=function e(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function e(t,n){n=this.setNextCallback(n),this.setState(t,n)},n.setNextCallback=function e(t){var n=this,r=!0;return this.nextCallback=function(e){r&&(r=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},n.onTransitionEnd=function e(t,n,r){this.setNextCallback(r);var i=null==n&&!this.props.addEndListener;t&&!i?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=n&&setTimeout(this.nextCallback,n)):setTimeout(this.nextCallback,0)},n.render=function e(){var t=this.state.status;if(t===p)return null;var n=this.props,r=n.children,o=c(n,["children"]);if(delete o.in,delete o.mountOnEnter,delete o.unmountOnExit,delete o.appear,delete o.enter,delete o.exit,delete o.timeout,delete o.addEndListener,delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,"function"==typeof r)return r(t,o);var a=i.default.Children.only(r);return i.default.cloneElement(a,o)},t}(i.default.Component);function y(){}v.contextTypes={transitionGroup:r.object},v.childContextTypes={transitionGroup:function e(){}},v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},v.UNMOUNTED=0,v.EXITED=1,v.ENTERING=2,v.ENTERED=3,v.EXITING=4;var b=(0,a.polyfill)(v);t.default=b},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var o=null;t.timeoutsShape=null;var a=null;t.classNamesShape=null},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(0)),i=s(n(2)),o=n(12),a=n(510);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},h={component:"div",childFactory:function e(t){return t}},d=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(f(f(r)));return r.state={handleExited:i,firstRender:!0},r}c(t,e);var n=t.prototype;return n.getChildContext=function e(){return{transitionGroup:{isMounting:!this.appeared}}},n.componentDidMount=function e(){this.appeared=!0,this.mounted=!0},n.componentWillUnmount=function e(){this.mounted=!1},t.getDerivedStateFromProps=function e(t,n){var r=n.children,i=n.handleExited,o;return{children:n.firstRender?(0,a.getInitialChildMapping)(t,i):(0,a.getNextChildMapping)(t,r,i),firstRender:!1}},n.handleExited=function e(t,n){var r=(0,a.getChildMapping)(this.props.children);t.key in r||(t.props.onExited&&t.props.onExited(n),this.mounted&&this.setState(function(e){var n=l({},e.children);return delete n[t.key],{children:n}}))},n.render=function e(){var t=this.props,n=t.component,r=t.childFactory,o=u(t,["component","childFactory"]),a=p(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===n?a:i.default.createElement(n,o,a)},t}(i.default.Component);d.childContextTypes={transitionGroup:r.default.object.isRequired},d.propTypes={},d.defaultProps=h;var m=(0,o.polyfill)(d);t.default=m,e.exports=t.default},function(e,t,n){"use strict";e.exports=function e(t,n){return function e(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return t.apply(n,r)}}},function(e,t,n){"use strict";var r=n(39),i=n(531),o=n(533),a=n(534),s=n(535),u=n(223);e.exports=function e(t){return new Promise(function e(l,c){var f=t.data,p=t.headers;r.isFormData(f)&&delete p["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",m=t.auth.password||"";p.Authorization="Basic "+btoa(d+":"+m)}if(h.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h.onreadystatechange=function e(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,r,o={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:t,request:h};i(l,c,o),h=null}},h.onerror=function e(){c(u("Network Error",t,null,h)),h=null},h.ontimeout=function e(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var g=n(536),v=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;v&&(p[t.xsrfHeaderName]=v)}if("setRequestHeader"in h&&r.forEach(p,function e(t,n){void 0===f&&"content-type"===n.toLowerCase()?delete p[n]:h.setRequestHeader(n,t)}),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function e(t){h&&(h.abort(),c(t),h=null)}),void 0===f&&(f=null),h.send(f)})}},function(e,t,n){"use strict";var r=n(532);e.exports=function e(t,n,i,o,a){var s=new Error(t);return r(s,n,i,o,a)}},function(e,t,n){"use strict";e.exports=function e(t){return!(!t||!t.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function e(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i,o=a(n(227));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),r(t,[{key:"update",value:function e(t){this.x=t.x,this.y=t.y}},{key:"moveByAngle",value:function e(t,n){var r=t+Math.PI/2;this.x=this.x+Math.sin(r)*n,this.y=this.y-Math.cos(r)*n}},{key:"equalsTo",value:function e(t){return this.x===t.x&&this.y===t.y}},{key:"getDifferenceTo",value:function e(t){return new o.default(this.x-t.x,this.y-t.y)}},{key:"getDistanceTo",value:function e(t){var n=this.getDifferenceTo(t);return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"getAngleTo",value:function e(t){var n=this.getDifferenceTo(t);return Math.atan2(n.y,n.x)}},{key:"toObject",value:function e(){return{x:this.x,y:this.y}}}]),t}(o.default);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.x=t,this.y=n};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t,n){i(this,e),this.x=t,this.y=n}return r(e,[{key:"update",value:function e(t){this.x=t.x,this.y=t.y}},{key:"getDifferenceTo",value:function t(n){return new e(this.x-n.x,this.y-n.y)}},{key:"getDistanceTo",value:function e(t){var n=this.getDifferenceTo(t);return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}}]),e}();t.default=o},function(e,t,n){var r,i;r=this,i=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),u=!o&&/WebKit\//.test(e),l=u&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),f=/Opera\//.test(e),p=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),d=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),x=f&&e.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(f=!1,u=!0);var _=y&&(l||f&&(null==x||x<12.11)),C=n||a&&s>=9;function E(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S=function(e,t){var n=e.className,r=E(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},k;function O(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return O(e).appendChild(t)}function N(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function A(e,t,n,r){var i=N(e,t,n,r);return i.setAttribute("role","presentation"),i}function I(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function R(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function P(e,t){var n=e.className;E(t).test(n)||(e.className+=(n?" ":"")+t)}function M(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!E(n[r]).test(t)&&(t+=" "+n[r]);return t}k=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var j=function(e){e.select()};function D(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function L(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function F(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}m?j=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(j=function(e){try{e.select()}catch(e){}});var z=function(){this.id=null,this.f=null,this.time=0,this.handler=D(this.onTimeout,this)};function B(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}z.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},z.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var U=50,W={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},H={origin:"*mouse"},G={origin:"+move"};function q(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var K=[""];function X(e){for(;K.length<=e;)K.push(Y(K)+" ");return K[e]}function Y(e){return e[e.length-1]}function Z(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function $(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function J(){}function Q(e,t){var n;return Object.create?n=Object.create(e):(J.prototype=e,n=new J),t&&L(t,n),n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&ie.test(e)}function ae(e,t,n){for(;(n<0?t>0:t<e.length)&&oe(e.charAt(t));)t+=n;return t}function se(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function ue(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}var le=null;function ce(e,t,n){var r;le=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:le=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:le=i)}return null!=r?r:le}var fe=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,s=/[1n]/;function u(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var l="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var c=e.length,f=[],p=0;p<c;++p)f.push(n(e.charCodeAt(p)));for(var h=0,d=l;h<c;++h){var m=f[h];"m"==m?f[h]=d:d=m}for(var g=0,v=l;g<c;++g){var y=f[g];"1"==y&&"r"==v?f[g]="n":o.test(y)&&(v=y,"r"==y&&(f[g]="R"))}for(var b=1,w=f[0];b<c-1;++b){var x=f[b];"+"==x&&"1"==w&&"1"==f[b+1]?f[b]="1":","!=x||w!=f[b+1]||"1"!=w&&"n"!=w||(f[b]=w),w=x}for(var _=0;_<c;++_){var C=f[_];if(","==C)f[_]="N";else if("%"==C){var E=void 0;for(E=_+1;E<c&&"%"==f[E];++E);for(var S=_&&"!"==f[_-1]||E<c&&"1"==f[E]?"1":"N",k=_;k<E;++k)f[k]=S;_=E-1}}for(var O=0,T=l;O<c;++O){var N=f[O];"L"==T&&"1"==N?f[O]="L":o.test(N)&&(T=N)}for(var A=0;A<c;++A)if(i.test(f[A])){var I=void 0;for(I=A+1;I<c&&i.test(f[I]);++I);for(var R="L"==(A?f[A-1]:l),P,M=R==("L"==(I<c?f[I]:l))?R?"L":"R":l,j=A;j<I;++j)f[j]=M;A=I-1}for(var D=[],L,F=0;F<c;)if(a.test(f[F])){var z=F;for(++F;F<c&&a.test(f[F]);++F);D.push(new u(0,z,F))}else{var B=F,U=D.length,W="rtl"==t?1:0;for(++F;F<c&&"L"!=f[F];++F);for(var V=B;V<F;)if(s.test(f[V])){B<V&&(D.splice(U,0,new u(1,B,V)),U+=W);var H=V;for(++V;V<F&&s.test(f[V]);++V);D.splice(U,0,new u(2,H,V)),U+=W,B=V}else++V;B<F&&D.splice(U,0,new u(1,B,F))}return"ltr"==t&&(1==D[0].level&&(L=e.match(/^\s+/))&&(D[0].from=L[0].length,D.unshift(new u(0,0,L[0].length))),1==Y(D).level&&(L=e.match(/\s+$/))&&(Y(D).to-=L[0].length,D.push(new u(0,c-L[0].length,c)))),"rtl"==t?D.reverse():D}}();function pe(e,t){var n=e.order;return null==n&&(n=e.order=fe(e.text,t)),n}var he=[],de=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||he).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||he}function ge(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=B(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function ve(e,t){var n=me(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function ye(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ve(e,n||t.type,e,t),Ee(t)||t.codemirrorIgnore}function be(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==B(n,t[r])&&n.push(t[r])}function we(e,t){return me(e,t).length>0}function xe(e){e.prototype.on=function(e,t){de(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function _e(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ce(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ee(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Se(e){_e(e),Ce(e)}function ke(e){return e.target||e.srcElement}function Oe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Te=function(){if(a&&s<9)return!1;var e=N("div");return"draggable"in e||"dragDrop"in e}(),Ne,Ae;function Ie(e){if(null==Ne){var t=N("span","\u200b");T(e,N("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ne=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=Ne?N("span","\u200b"):N("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Re(e){if(null!=Ae)return Ae;var t=T(e,document.createTextNode("A\u062eA")),n=k(t,0,1).getBoundingClientRect(),r=k(t,1,2).getBoundingClientRect();return O(e),!(!n||n.left==n.right)&&(Ae=r.right-n.right<3)}var Pe=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Me=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},je="oncopy"in(De=N("div"))||(De.setAttribute("oncopy","return;"),"function"==typeof De.oncopy),De,Le=null;function Fe(e){if(null!=Le)return Le;var t=T(e,N("span","x")),n=t.getBoundingClientRect(),r=k(t,0,1).getBoundingClientRect();return Le=Math.abs(n.left-r.left)>1}var ze={},Be={};function Ue(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ze[e]=t}function We(e,t){Be[e]=t}function Ve(e){if("string"==typeof e&&Be.hasOwnProperty(e))e=Be[e];else if(e&&"string"==typeof e.name&&Be.hasOwnProperty(e.name)){var t=Be[e.name];"string"==typeof t&&(t={name:t}),(e=Q(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ve("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ve("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function He(e,t){t=Ve(t);var n=ze[t.name];if(!n)return He(e,"text/plain");var r=n(e,t);if(Ge.hasOwnProperty(t.name)){var i=Ge[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Ge={};function qe(e,t){var n;L(t,Ge.hasOwnProperty(e)?Ge[e]:Ge[e]={})}function Ke(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Xe(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ye(e,t,n){return!e.startState||e.startState(t,n)}var Ze=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function $e(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Je(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function Qe(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function et(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function tt(e){if(null==e.parent)return null;for(var t=e.parent,n=B(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function nt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s,u=e.lines[a].height;if(t<u)break;t-=u}return n+a}function rt(e,t){return t>=e.first&&t<e.first+e.size}function it(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ot(e,t,n){if(void 0===n&&(n=null),!(this instanceof ot))return new ot(e,t,n);this.line=e,this.ch=t,this.sticky=n}function at(e,t){return e.line-t.line||e.ch-t.ch}function st(e,t){return e.sticky==t.sticky&&0==at(e,t)}function ut(e){return ot(e.line,e.ch)}function lt(e,t){return at(e,t)<0?t:e}function ct(e,t){return at(e,t)<0?e:t}function ft(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function pt(e,t){if(t.line<e.first)return ot(e.first,0);var n=e.first+e.size-1;return t.line>n?ot(n,$e(e,n).text.length):ht(t,$e(e,t.line).text.length)}function ht(e,t){var n=e.ch;return null==n||n>t?ot(e.line,t):n<0?ot(e.line,0):e}function dt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=pt(e,t[r]);return n}Ze.prototype.eol=function(){return this.pos>=this.string.length},Ze.prototype.sol=function(){return this.pos==this.lineStart},Ze.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ze.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ze.prototype.eat=function(e){var t=this.string.charAt(this.pos),n;if(n="string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ze.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ze.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ze.prototype.skipToEnd=function(){this.pos=this.string.length},Ze.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ze.prototype.backUp=function(e){this.pos-=e},Ze.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o;if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Ze.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ze.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ze.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ze.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var mt=function(e,t){this.state=e,this.lookAhead=t},gt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function vt(e,t,n,r){var i=[e.state.modeGen],o={};kt(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],u=1,l=0;n.state=!0,kt(e,t.text,s.mode,n,function(e,t){for(var n=u;l<e;){var r=i[u];r>e&&i.splice(u,1,e,i[u+1],r),u+=2,l=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,u-n,e,"overlay "+t),u=n+2;else for(;n<u;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},u=0;u<e.state.overlays.length;++u)s(u);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function yt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=bt(e,tt(t)),i=t.text.length>e.options.maxHighlightLength&&Ke(e.doc.mode,r.state),o=vt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function bt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new gt(r,!0,t);var o=Ot(e,t,n),a=o>r.first&&$e(r,o-1).stateAfter,s=a?gt.fromSaved(r,a,o):new gt(r,Ye(r.mode),o);return r.iter(o,t,function(n){wt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function wt(e,t,n,r){var i=e.doc.mode,o=new Ze(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&xt(i,n.state);!o.eol();)_t(i,o,n.state),o.start=o.pos}function xt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Xe(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function _t(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Xe(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}gt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},gt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},gt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},gt.fromSaved=function(e,t,n){return t instanceof mt?new gt(e,Ke(e.mode,t.state),n,t.lookAhead):new gt(e,Ke(e.mode,t),n)},gt.prototype.save=function(e){var t=!1!==e?Ke(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new mt(t,this.maxLookAhead):t};var Ct=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Et(e,t,n,r){var i=e.doc,o=i.mode,a,s=$e(i,(t=pt(i,t)).line),u=bt(e,t.line,n),l=new Ze(s.text,e.options.tabSize,u),c;for(r&&(c=[]);(r||l.pos<t.ch)&&!l.eol();)l.start=l.pos,a=_t(o,l,u.state),r&&c.push(new Ct(l,a,Ke(i.mode,u.state)));return r?c:new Ct(l,a,u.state)}function St(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function kt(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var u=0,l=null,c=new Ze(t,e.options.tabSize,r),f,p=e.options.addModeClass&&[null];for(""==t&&St(xt(n,r.state),o);!c.eol();){if(c.pos>e.options.maxHighlightLength?(s=!1,a&&wt(e,t,r,c.pos),c.pos=t.length,f=null):f=St(_t(n,c,r.state,p),o),p){var h=p[0].name;h&&(f="m-"+(f?h+" "+f:h))}if(!s||l!=f){for(;u<c.start;)i(u=Math.min(c.start,u+5e3),l);l=f}c.start=c.pos}for(;u<c.pos;){var d=Math.min(c.pos,u+5e3);i(d,l),u=d}}function Ot(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var u=$e(o,s-1),l=u.stateAfter;if(l&&(!n||s+(l instanceof mt?l.lookAhead:0)<=o.modeFrontier))return s;var c=F(u.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function Tt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=$e(e,r).stateAfter;if(i&&(!(i instanceof mt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Nt=!1,At=!1;function It(){Nt=!0}function Rt(){At=!0}function Pt(e,t,n){this.marker=e,this.from=t,this.to=n}function Mt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function jt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Dt(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Lt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var u=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Pt(a,o.from,u?null:o.to))}}return r}function Ft(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var u=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Pt(a,u?null:o.from-t,null==o.to?null:o.to-t))}}return r}function zt(e,t){if(t.full)return null;var n=rt(e,t.from.line)&&$e(e,t.from.line).markedSpans,r=rt(e,t.to.line)&&$e(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==at(t.from,t.to),s=Lt(n,i,a),u=Ft(r,o,a),l=1==t.text.length,c=Y(t.text).length+(l?i:0);if(s)for(var f=0;f<s.length;++f){var p=s[f];if(null==p.to){var h=Mt(u,p.marker);h?l&&(p.to=null==h.to?null:h.to+c):p.to=i}}if(u)for(var d=0;d<u.length;++d){var m=u[d],g;if(null!=m.to&&(m.to+=c),null==m.from)Mt(s,m.marker)||(m.from=c,l&&(s||(s=[])).push(m));else m.from+=c,l&&(s||(s=[])).push(m)}s&&(s=Bt(s)),u&&u!=s&&(u=Bt(u));var v=[s];if(!l){var y=t.text.length-2,b;if(y>0&&s)for(var w=0;w<s.length;++w)null==s[w].to&&(b||(b=[])).push(new Pt(s[w].marker,null,null));for(var x=0;x<y;++x)v.push(b);v.push(u)}return v}function Bt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ut(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=B(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),u=0;u<i.length;++u){var l=i[u];if(!(at(l.to,s.from)<0||at(l.from,s.to)>0)){var c=[u,1],f=at(l.from,s.from),p=at(l.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:l.from,to:s.from}),(p>0||!a.inclusiveRight&&!p)&&c.push({from:s.to,to:l.to}),i.splice.apply(i,c),u+=c.length-3}}return i}function Wt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Vt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Ht(e){return e.inclusiveLeft?-1:0}function Gt(e){return e.inclusiveRight?1:0}function qt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=at(r.from,i.from)||Ht(e)-Ht(t);if(o)return-o;var a=at(r.to,i.to)||Gt(e)-Gt(t);return a||t.id-e.id}function Kt(e,t){var n=At&&e.markedSpans,r;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||qt(r,i.marker)<0)&&(r=i.marker);return r}function Xt(e){return Kt(e,!0)}function Yt(e){return Kt(e,!1)}function Zt(e,t){var n=At&&e.markedSpans,r;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||qt(r,o.marker)<0)&&(r=o.marker)}return r}function $t(e,t,n,r,i){var o=$e(e,t),a=At&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];if(u.marker.collapsed){var l=u.marker.find(0),c=at(l.from,n)||Ht(u.marker)-Ht(i),f=at(l.to,r)||Gt(u.marker)-Gt(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?at(l.to,n)>=0:at(l.to,n)>0)||c>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?at(l.from,r)<=0:at(l.from,r)<0)))return!0}}}function Jt(e){for(var t;t=Xt(e);)e=t.find(-1,!0).line;return e}function Qt(e){for(var t;t=Yt(e);)e=t.find(1,!0).line;return e}function en(e){for(var t,n;t=Yt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function tn(e,t){var n=$e(e,t),r=Jt(n);return n==r?t:tt(r)}function nn(e,t){if(t>e.lastLine())return t;var n=$e(e,t),r;if(!rn(e,n))return t;for(;r=Yt(n);)n=r.find(1,!0).line;return tt(n)+1}function rn(e,t){var n=At&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&on(e,t,r))return!0}}function on(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return on(e,r.line,Mt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&on(e,t,i))return!0}function an(e){for(var t=0,n=(e=Jt(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function sn(e){if(0==e.height)return 0;for(var t=e.text.length,n,r=e;n=Xt(r);){var i=n.find(0,!0);r=i.from.line,t+=i.from.ch-i.to.ch}for(r=e;n=Yt(r);){var o=n.find(0,!0);t-=r.text.length-o.from.ch,t+=(r=o.to.line).text.length-o.to.ch}return t}function un(e){var t=e.display,n=e.doc;t.maxLine=$e(n,n.first),t.maxLineLength=sn(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=sn(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}var ln=function(e,t,n){this.text=e,Vt(this,t),this.height=n?n(this):1};function cn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Wt(e),Vt(e,n);var i=r?r(e):1;i!=e.height&&et(e,i)}function fn(e){e.parent=null,Wt(e)}ln.prototype.lineNo=function(){return tt(this)},xe(ln);var pn={},hn={};function dn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?hn:pn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function mn(e,t){var n=A("span",null,null,u?"padding-right: .1px":null),r={pre:A("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0,s;r.pos=0,r.addToken=vn,Re(e.display.measure)&&(a=pe(o,e.doc.direction))&&(r.addToken=bn(r.addToken,a)),r.map=[],xn(o,r,yt(e,o,t!=e.display.externalMeasured&&tt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=M(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=M(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ie(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(u){var l=r.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ve(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=M(r.pre.className,r.textClass||"")),r}function gn(e){var t=N("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function vn(e,t,n,r,i,o,u){if(t){var l=e.splitSpaces?yn(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1,p;if(c.test(t)){p=document.createDocumentFragment();for(var h=0;;){c.lastIndex=h;var d=c.exec(t),m=d?d.index-h:t.length-h;if(m){var g=document.createTextNode(l.slice(h,h+m));a&&s<9?p.appendChild(N("span",[g])):p.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!d)break;h+=m+1;var v=void 0;if("\t"==d[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=p.appendChild(N("span",X(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==d[0]||"\n"==d[0]?((v=p.appendChild(N("span","\r"==d[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",d[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),a&&s<9?p.appendChild(N("span",[v])):p.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,p=document.createTextNode(l),e.map.push(e.pos,e.pos+t.length,p),a&&s<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==l.charCodeAt(t.length-1),n||r||i||f||o){var w=n||"";r&&(w+=r),i&&(w+=i);var x=N("span",[p],w,o);if(u)for(var _ in u)u.hasOwnProperty(_)&&"style"!=_&&"class"!=_&&x.setAttribute(_,u[_]);return e.content.appendChild(x)}e.content.appendChild(p)}}function yn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}function bn(e,t){return function(n,r,i,o,a,s,u){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var f=void 0,p=0;p<t.length&&!((f=t[p]).to>l&&f.from<=l);p++);if(f.to>=c)return e(n,r,i,o,a,s,u);e(n,r.slice(0,f.to-l),i,o,null,s,u),o=null,r=r.slice(f.to-l),l=f.to}}}function wn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function xn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a=i.length,s=0,u=1,l="",c,f,p=0,h,d,m,g,v;;){if(p==s){h=d=m=f="",v=null,g=null,p=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var x=r[w],_=x.marker;if("bookmark"==_.type&&x.from==s&&_.widgetNode)y.push(_);else if(x.from<=s&&(null==x.to||x.to>s||_.collapsed&&x.to==s&&x.from==s)){if(null!=x.to&&x.to!=s&&p>x.to&&(p=x.to,d=""),_.className&&(h+=" "+_.className),_.css&&(f=(f?f+";":"")+_.css),_.startStyle&&x.from==s&&(m+=" "+_.startStyle),_.endStyle&&x.to==p&&(b||(b=[])).push(_.endStyle,x.to),_.title&&((v||(v={})).title=_.title),_.attributes)for(var C in _.attributes)(v||(v={}))[C]=_.attributes[C];_.collapsed&&(!g||qt(g.marker,_)<0)&&(g=x)}else x.from>s&&p>x.from&&(p=x.from)}if(b)for(var E=0;E<b.length;E+=2)b[E+1]==p&&(d+=" "+b[E]);if(!g||g.from==s)for(var S=0;S<y.length;++S)wn(t,0,y[S]);if(g&&(g.from||0)==s){if(wn(t,(null==g.to?a+1:g.to)-s,g.marker,null==g.from),null==g.to)return;g.to==s&&(g=!1)}}if(s>=a)break;for(var k=Math.min(a,p);;){if(l){var O=s+l.length;if(!g){var T=O>k?l.slice(0,k-s):l;t.addToken(t,T,c?c+h:h,m,s+T.length==p?d:"",f,v)}if(O>=k){l=l.slice(k-s),s=k;break}s=O,m=""}l=i.slice(o,o=n[u++]),c=dn(n[u++],t.cm.options)}}else for(var N=1;N<n.length;N+=2)t.addToken(t,i.slice(o,o=n[N]),dn(n[N+1],t.cm.options))}function _n(e,t,n){this.line=t,this.rest=en(t),this.size=this.rest?tt(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=rn(e,t)}function Cn(e,t,n){for(var r=[],i,o=t;o<n;o=i){var a=new _n(e.doc,$e(e.doc,o),o);i=o+a.size,r.push(a)}return r}var En=null;function Sn(e){En?En.ops.push(e):e.ownsGroup=En={ops:[e],delayedCallbacks:[]}}function kn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function On(e,t){var n=e.ownsGroup;if(n)try{kn(n)}finally{En=null,t(n)}}var Tn=null;function Nn(e,t){var n=me(e,t);if(n.length){var r=Array.prototype.slice.call(arguments,2),i;En?i=En.delayedCallbacks:Tn?i=Tn:(i=Tn=[],setTimeout(An,0));for(var o=function(e){i.push(function(){return n[e].apply(null,r)})},a=0;a<n.length;++a)o(a)}}function An(){var e=Tn;Tn=null;for(var t=0;t<e.length;++t)e[t]()}function In(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?jn(e,t):"gutter"==o?Ln(e,t,n,r):"class"==o?Dn(e,t):"widget"==o&&Fn(e,t,r)}t.changes=null}function Rn(e){return e.node==e.text&&(e.node=N("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function Pn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Rn(t);t.background=r.insertBefore(N("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Mn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):mn(e,t)}function jn(e,t){var n=t.text.className,r=Mn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Dn(e,t)):n&&(t.text.className=n)}function Dn(e,t){Pn(e,t),t.line.wrapClass?Rn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Ln(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=Rn(t);t.gutterBackground=N("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=Rn(t),s=t.gutter=N("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(N("div",it(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var u=0;u<e.display.gutterSpecs.length;++u){var l=e.display.gutterSpecs[u].className,c=o.hasOwnProperty(l)&&o[l];c&&s.appendChild(N("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function Fn(e,t,n){t.alignable&&(t.alignable=null);for(var r=E("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);Bn(e,t,n)}function zn(e,t,n,r){var i=Mn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Dn(e,t),Ln(e,t,n,r),Bn(e,t,r),t.node}function Bn(e,t,n){if(Un(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Un(e,t.rest[r],t,n,!1)}function Un(e,t,n,r,i){if(t.widgets)for(var o=Rn(n),a=0,s=t.widgets;a<s.length;++a){var u=s[a],l=N("div",[u.node],"CodeMirror-linewidget"+(u.className?" "+u.className:""));u.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),Wn(u,l,n,r),e.display.input.setUneditable(l),i&&u.above?o.insertBefore(l,n.gutter||n.text):o.appendChild(l),Nn(u,"redraw")}}function Wn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Vn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!I(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,N("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Hn(e,t){for(var n=ke(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Gn(e){return e.lineSpace.offsetTop}function qn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Kn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,N("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Xn(e){return U-e.display.nativeBarWidth}function Yn(e){return e.display.scroller.clientWidth-Xn(e)-e.display.barWidth}function Zn(e){return e.display.scroller.clientHeight-Xn(e)-e.display.barHeight}function $n(e,t,n){var r=e.options.lineWrapping,i=r&&Yn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var u=a[s],l=a[s+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Jn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(tt(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Qn(e,t){var n=tt(t=Jt(t)),r=e.display.externalMeasured=new _n(e.doc,t,n);r.lineN=n;var i=r.built=mn(e,r);return r.text=i.pre,T(e.display.lineMeasure,i.pre),r}function er(e,t,n,r){return rr(e,nr(e,t),n,r)}function tr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Dr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function nr(e,t){var n=tt(t),r=tr(e,n);r&&!r.text?r=null:r&&r.changes&&(In(e,r,n,Ir(e)),e.curOp.forceUpdate=!0),r||(r=Qn(e,t));var i=Jn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function rr(e,t,n,r,i){t.before&&(n=-1);var o=n+(r||""),a;return t.cache.hasOwnProperty(o)?a=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||($n(e,t.view,t.rect),t.hasHeights=!0),(a=ur(e,t,n,r)).bogus||(t.cache[o]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}var ir={left:0,right:0,top:0,bottom:0},or;function ar(e,t,n){for(var r,i,o,a,s,u,l=0;l<e.length;l+=3)if(s=e[l],u=e[l+1],t<s?(i=0,o=1,a="left"):t<u?o=(i=t-s)+1:(l==e.length-3||t==u&&e[l+3]>t)&&(i=(o=u-s)-1,t>=u&&(a="right")),null!=i){if(r=e[l+2],s==u&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)r=e[2+(l-=3)],a="left";if("right"==n&&i==u-s)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)r=e[(l+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:u}}function sr(e,t){var n=ir;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function ur(e,t,n,r){var i=ar(t.map,n,r),o=i.node,u=i.start,l=i.end,c=i.collapse,f;if(3==o.nodeType){for(var p=0;p<4;p++){for(;u&&oe(t.line.text.charAt(i.coverStart+u));)--u;for(;i.coverStart+l<i.coverEnd&&oe(t.line.text.charAt(i.coverStart+l));)++l;if((f=a&&s<9&&0==u&&l==i.coverEnd-i.coverStart?o.parentNode.getBoundingClientRect():sr(k(o,u,l).getClientRects(),r)).left||f.right||0==u)break;l=u,u-=1,c="right"}a&&s<11&&(f=lr(e.display.measure,f))}else{var h;u>0&&(c=r="right"),f=e.options.lineWrapping&&(h=o.getClientRects()).length>1?h["right"==r?h.length-1:0]:o.getBoundingClientRect()}if(a&&s<9&&!u&&(!f||!f.left&&!f.right)){var d=o.parentNode.getClientRects()[0];f=d?{left:d.left,right:d.left+Ar(e.display),top:d.top,bottom:d.bottom}:ir}for(var m=f.top-t.rect.top,g=f.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var w=b?y[b-1]:0,x=y[b],_={left:("right"==c?f.right:f.left)-t.rect.left,right:("left"==c?f.left:f.right)-t.rect.left,top:w,bottom:x};return f.left||f.right||(_.bogus=!0),e.options.singleCursorHeightPerLine||(_.rtop=m,_.rbottom=g),_}function lr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Fe(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function cr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function fr(e){e.display.externalMeasure=null,O(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)cr(e.display.view[t])}function pr(e){fr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function hr(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function dr(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function mr(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Vn(e.widgets[n]));return t}function gr(e,t,n,r,i){if(!i){var o=mr(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=an(t);if("local"==r?a+=Gn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:dr());var u=s.left+("window"==r?0:hr());n.left+=u,n.right+=u}return n.top+=a,n.bottom+=a,n}function vr(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=hr(),i-=dr();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function yr(e,t,n,r,i){return r||(r=$e(e.doc,t.line)),gr(e,r,er(e,r,t.ch,i),n)}function br(e,t,n,r,i,o){function a(t,a){var s=rr(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,gr(e,r,s,n)}r=r||$e(e.doc,t.line),i||(i=nr(e,r));var s=pe(r,e.doc.direction),u=t.ch,l=t.sticky;if(u>=r.text.length?(u=r.text.length,l="before"):u<=0&&(u=0,l="after"),!s)return a("before"==l?u-1:u,"before"==l);function c(e,t,n){var r,i=1==s[t].level;return a(n?e-1:e,i!=n)}var f=ce(s,u,l),p=le,h=c(u,f,"before"==l);return null!=p&&(h.other=c(u,p,"before"!=l)),h}function wr(e,t){var n=0;t=pt(e.doc,t),e.options.lineWrapping||(n=Ar(e.display)*t.ch);var r=$e(e.doc,t.line),i=an(r)+Gn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function xr(e,t,n,r,i){var o=ot(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function _r(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return xr(r.first,0,null,-1,-1);var i=nt(r,n),o=r.first+r.size-1;if(i>o)return xr(r.first+r.size-1,$e(r,o).text.length,null,1,1);t<0&&(t=0);for(var a=$e(r,i);;){var s=kr(e,a,i,t,n),u=Zt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!u)return s;var l=u.find(1);if(l.line==i)return l;a=$e(r,i=l.line)}}function Cr(e,t,n,r){r-=mr(t);var i=t.text.length,o=se(function(t){return rr(e,n,t-1).bottom<=r},i,0);return{begin:o,end:i=se(function(t){return rr(e,n,t).top>r},o,i)}}function Er(e,t,n,r){var i;return n||(n=nr(e,t)),Cr(e,t,n,gr(e,t,rr(e,n,r),"line").top)}function Sr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function kr(e,t,n,r,i){i-=an(t);var o=nr(e,t),a=mr(t),s=0,u=t.text.length,l=!0,c=pe(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?Tr:Or)(e,t,n,o,c,r,i);s=(l=1!=f.level)?f.from:f.to-1,u=l?f.to:f.from-1}var p=null,h=null,d=se(function(t){var n=rr(e,o,t);return n.top+=a,n.bottom+=a,!!Sr(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,h=n),!0)},s,u),m,g,v=!1;if(h){var y=r-h.left<h.right-r,b=y==l;d=p+(b?0:1),g=b?"after":"before",m=y?h.left:h.right}else{l||d!=u&&d!=s||d++,g=0==d?"after":d==t.text.length?"before":rr(e,o,d-(l?1:0)).bottom+a<=i==l?"after":"before";var w=br(e,ot(n,d,g),"line",t,o);m=w.left,v=i<w.top?-1:i>=w.bottom?1:0}return xr(n,d=ae(t.text,d,1),g,v,r-m)}function Or(e,t,n,r,i,o,a){var s=se(function(s){var u=i[s],l=1!=u.level;return Sr(br(e,ot(n,l?u.to:u.from,l?"before":"after"),"line",t,r),o,a,!0)},0,i.length-1),u=i[s];if(s>0){var l=1!=u.level,c=br(e,ot(n,l?u.from:u.to,l?"after":"before"),"line",t,r);Sr(c,o,a,!0)&&c.top>a&&(u=i[s-1])}return u}function Tr(e,t,n,r,i,o,a){var s=Cr(e,t,r,a),u=s.begin,l=s.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var c=null,f=null,p=0;p<i.length;p++){var h=i[p];if(!(h.from>=l||h.to<=u)){var d,m=rr(e,r,1!=h.level?Math.min(l,h.to)-1:Math.max(u,h.from)).right,g=m<o?o-m+1e9:m-o;(!c||f>g)&&(c=h,f=g)}}return c||(c=i[i.length-1]),c.from<u&&(c={from:u,to:c.to,level:c.level}),c.to>l&&(c={from:c.from,to:l,level:c.level}),c}function Nr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==or){or=N("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)or.appendChild(document.createTextNode("x")),or.appendChild(N("br"));or.appendChild(document.createTextNode("x"))}T(e.measure,or);var n=or.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),O(e.measure),n||1}function Ar(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=N("span","xxxxxxxxxx"),n=N("pre",[t],"CodeMirror-line-like");T(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Ir(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:Rr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Rr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Pr(e){var t=Nr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Ar(e.display)-3);return function(i){if(rn(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Mr(e){var t=e.doc,n=Pr(e);t.iter(function(e){var t=n(e);t!=e.height&&et(e,t)})}function jr(e,t,n,r){var i=e.display;if(!n&&"true"==ke(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(e){return null}var u=_r(e,o,a),l;if(r&&u.xRel>0&&(l=$e(e.doc,u.line).text).length==u.ch){var c=F(l,l.length,e.options.tabSize)-l.length;u=ot(u.line,Math.max(0,Math.round((o-Kn(e.display).left)/Ar(e.display))-c))}return u}function Dr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Lr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)At&&tn(e.doc,t)<i.viewTo&&zr(e);else if(n<=i.viewFrom)At&&nn(e.doc,n+r)>i.viewFrom?zr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)zr(e);else if(t<=i.viewFrom){var o=Br(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):zr(e)}else if(n>=i.viewTo){var a=Br(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):zr(e)}else{var s=Br(e,t,t,-1),u=Br(e,n,n+r,1);s&&u?(i.view=i.view.slice(0,s.index).concat(Cn(e,s.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=r):zr(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function Fr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Dr(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==B(a,n)&&a.push(n)}}}function zr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Br(e,t,n,r){var i=Dr(e,t),o,a=e.display.view;if(!At||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var s=e.display.viewFrom,u=0;u<i;u++)s+=a[u].size;if(s!=t){if(r>0){if(i==a.length-1)return null;o=s+a[i].size-t,i++}else o=s-t;t+=o,n+=o}for(;tn(e.doc,n)!=n;){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function Ur(e,t,n){var r=e.display,i;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=Cn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Cn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Dr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Cn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Dr(e,n)))),r.viewTo=n}function Wr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Vr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Hr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var u=s.empty();(u||e.options.showCursorWhenSelecting)&&Gr(e,s.head,i),u||Kr(e,s,o)}}return r}function Gr(e,t,n){var r=br(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(N("div","\xa0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(N("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function qr(e,t){return e.top-t.top||e.left-t.left}function Kr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=Kn(e.display),s=a.left,u=Math.max(r.sizerWidth,Yn(e)-r.sizer.offsetLeft)-a.right,l="ltr"==i.direction;function c(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(N("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?u-e:n)+"px;\n                             height: "+(r-t)+"px"))}function f(t,n,r){var o=$e(i,t),a=o.text.length,f,p;function h(n,r){return yr(e,ot(t,n),"div",o,r)}function d(t,n,r){var i=Er(e,o,null,t),a="ltr"==n==("after"==r)?"left":"right",s;return h("after"==r?i.begin:i.end-(/\s/.test(o.text.charAt(i.end-1))?2:1),a)[a]}var m=pe(o,i.direction);return ue(m,n||0,null==r?a:r,function(e,t,i,o){var g="ltr"==i,v=h(e,g?"left":"right"),y=h(t-1,g?"right":"left"),b=null==n&&0==e,w=null==r&&t==a,x=0==o,_=!m||o==m.length-1;if(y.top-v.top<=3){var C,E=(l?w:b)&&_,S=(l?b:w)&&x?s:(g?v:y).left,k=E?u:(g?y:v).right;c(S,v.top,k-S,v.bottom)}else{var O,T,N,A;g?(O=l&&b&&x?s:v.left,T=l?u:d(e,i,"before"),N=l?s:d(t,i,"after"),A=l&&w&&_?u:y.right):(O=l?d(e,i,"before"):s,T=!l&&b&&x?u:v.right,N=!l&&w&&_?s:y.left,A=l?d(t,i,"after"):u),c(O,v.top,T-O,v.bottom),v.bottom<y.top&&c(s,v.bottom,null,y.top),c(N,y.top,A-N,y.bottom)}(!f||qr(v,f)<0)&&(f=v),qr(y,f)<0&&(f=y),(!p||qr(v,p)<0)&&(p=v),qr(y,p)<0&&(p=y)}),{start:f,end:p}}var p=t.from(),h=t.to();if(p.line==h.line)f(p.line,p.ch,h.ch);else{var d=$e(i,p.line),m=$e(i,h.line),g=Jt(d)==Jt(m),v=f(p.line,p.ch,g?d.text.length+1:null).end,y=f(h.line,g?0:null,h.ch).start;g&&(v.top<y.top-2?(c(v.right,v.top,null,v.bottom),c(s,y.top,y.left,y.bottom)):c(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&c(s,v.bottom,null,y.top)}n.appendChild(o)}function Xr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Yr(e){e.state.focused||(e.display.input.focus(),$r(e))}function Zr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Jr(e))},100)}function $r(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ve(e,"focus",e,t),e.state.focused=!0,P(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),u&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Xr(e))}function Jr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ve(e,"blur",e,t),e.state.focused=!1,S(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Qr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,u=void 0,l=0;if(!i.hidden){if(a&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;u=c-n,n=c}else{var f=i.node.getBoundingClientRect();u=f.bottom-f.top,!o&&i.text.firstChild&&(l=i.text.firstChild.getBoundingClientRect().right-f.left-1)}var p=i.line.height-u;if((p>.005||p<-.005)&&(et(i.line,u),ei(i.line),i.rest))for(var h=0;h<i.rest.length;h++)ei(i.rest[h]);if(l>e.display.sizerWidth){var d=Math.ceil(l/Ar(e.display));d>e.display.maxLineLength&&(e.display.maxLineLength=d,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function ei(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ti(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Gn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=nt(t,r),a=nt(t,i);if(n&&n.ensure){var s=n.ensure.from.line,u=n.ensure.to.line;s<o?(o=s,a=nt(t,an($e(t,s))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=a&&(o=nt(t,an($e(t,u))-e.wrapper.clientHeight),a=u)}return{from:o,to:Math.max(a,o+1)}}function ni(e,t){if(!ye(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!d){var o=N("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Gn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Xn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function ri(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?ot(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?ot(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=br(e,t),u=n&&n!=t?br(e,n):s,l=oi(e,i={left:Math.min(s.left,u.left),top:Math.min(s.top,u.top)-r,right:Math.max(s.left,u.left),bottom:Math.max(s.bottom,u.bottom)+r}),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=l.scrollTop&&(pi(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=l.scrollLeft&&(di(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}function ii(e,t){var n=oi(e,t);null!=n.scrollTop&&pi(e,n.scrollTop),null!=n.scrollLeft&&di(e,n.scrollLeft)}function oi(e,t){var n=e.display,r=Nr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Zn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+qn(n),u=t.top<r,l=t.bottom>s-r;if(t.top<i)a.scrollTop=u?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(l?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,p=Yn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left-(h?0:10)):t.right>p+f-3&&(a.scrollLeft=t.right+(h?0:10)-p),a}function ai(e,t){null!=t&&(ci(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function si(e){ci(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function ui(e,t,n){null==t&&null==n||ci(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function li(e,t){ci(e),e.curOp.scrollToPos=t}function ci(e){var t=e.curOp.scrollToPos,n,r;t&&(e.curOp.scrollToPos=null,fi(e,wr(e,t.from),wr(e,t.to),t.margin))}function fi(e,t,n,r){var i=oi(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});ui(e,i.scrollLeft,i.scrollTop)}function pi(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Vi(e,{top:t}),hi(e,t,!0),n&&Vi(e),ji(e,100))}function hi(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function di(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Ki(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function mi(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+qn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Xn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var gi=function(e,t,n){this.cm=n;var r=this.vert=N("div",[N("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=N("div",[N("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),de(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),de(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};gi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},gi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},gi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},gi.prototype.zeroWidthHack=function(){var e=y&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new z,this.disableVert=new z},gi.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect(),o;("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},gi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var vi=function(){};function yi(e,t){t||(t=mi(e));var n=e.display.barWidth,r=e.display.barHeight;bi(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Qr(e),bi(e,mi(e)),n=e.display.barWidth,r=e.display.barHeight}function bi(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}vi.prototype.update=function(){return{bottom:0,right:0}},vi.prototype.setScrollLeft=function(){},vi.prototype.setScrollTop=function(){},vi.prototype.clear=function(){};var wi={native:gi,null:vi};function xi(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&S(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new wi[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),de(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?di(e,t):pi(e,t)},e),e.display.scrollbars.addClass&&P(e.display.wrapper,e.display.scrollbars.addClass)}var _i=0;function Ci(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++_i},Sn(e.curOp)}function Ei(e){var t=e.curOp;t&&On(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Si(e)})}function Si(e){for(var t=e.ops,n=0;n<t.length;n++)ki(t[n]);for(var r=0;r<t.length;r++)Oi(t[r]);for(var i=0;i<t.length;i++)Ti(t[i]);for(var o=0;o<t.length;o++)Ni(t[o]);for(var a=0;a<t.length;a++)Ai(t[a])}function ki(e){var t=e.cm,n=t.display;Fi(t),e.updateMaxLine&&un(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Li(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Oi(e){e.updatedDisplay=e.mustUpdate&&Ui(e.cm,e.update)}function Ti(e){var t=e.cm,n=t.display;e.updatedDisplay&&Qr(t),e.barMeasure=mi(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=er(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Xn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Yn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ni(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&di(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==R();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&yi(t,e.barMeasure),e.updatedDisplay&&qi(t,e.barMeasure),e.selectionChanged&&Xr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Yr(e.cm)}function Ai(e){var t=e.cm,n=t.display,r=t.doc,i;(e.updatedDisplay&&Wi(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&hi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&di(t,e.scrollLeft,!0,!0),e.scrollToPos)&&ni(t,ri(t,pt(r,e.scrollToPos.from),pt(r,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||ve(o[s],"hide");if(a)for(var u=0;u<a.length;++u)a[u].lines.length&&ve(a[u],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ve(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ii(e,t){if(e.curOp)return t();Ci(e);try{return t()}finally{Ei(e)}}function Ri(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ci(e);try{return t.apply(e,arguments)}finally{Ei(e)}}}function Pi(e){return function(){if(this.curOp)return e.apply(this,arguments);Ci(this);try{return e.apply(this,arguments)}finally{Ei(this)}}}function Mi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ci(t);try{return e.apply(this,arguments)}finally{Ei(t)}}}function ji(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,D(Di,e))}function Di(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=bt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Ke(t.mode,r.state):null,u=vt(e,o,r,!0);s&&(r.state=s),o.styles=u.styles;var l=o.styleClasses,c=u.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),p=0;!f&&p<a.length;++p)f=a[p]!=o.styles[p];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&wt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ji(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Ii(e,function(){for(var t=0;t<i.length;t++)Fr(e,i[t],"text")})}}var Li=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ti(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Yn(e),this.force=n,this.dims=Ir(e),this.events=[]};function Fi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Xn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Xn(e)+"px",t.scrollbarsClipped=!0)}function zi(e){if(e.hasFocus())return null;var t=R();if(!t||!I(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&I(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Bi(e){if(e&&e.activeElt&&e.activeElt!=R()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&I(document.body,e.anchorNode)&&I(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Ui(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return zr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Wr(e))return!1;Xi(e)&&(zr(e),t.dims=Ir(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),At&&(o=tn(e.doc,o),a=nn(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Ur(e,o,a),n.viewOffset=an($e(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=Wr(e);if(!s&&0==u&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var l=zi(e);return u>4&&(n.lineDiv.style.display="none"),Hi(e,n.updateLineNumbers,t.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Bi(l),O(n.cursorDiv),O(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ji(e,400)),n.updateLineNumbers=null,!0}function Wi(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Yn(e))r&&(t.visible=ti(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+qn(e.display)-Zn(e),n.top)}),t.visible=ti(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Ui(e,t))break;Qr(e);var i=mi(e);Vr(e),yi(e,i),qi(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Vi(e,t){var n=new Li(e,t);if(Ui(e,n)){Qr(e),Wi(e,n);var r=mi(e);Vr(e),yi(e,r),qi(e,r),n.finish()}}function Hi(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(t){var n=t.nextSibling;return u&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var l=r.view,c=r.viewFrom,f=0;f<l.length;f++){var p=l[f];if(p.hidden);else if(p.node&&p.node.parentNode==o){for(;a!=p.node;)a=s(a);var h=i&&null!=t&&t<=c&&p.lineNumber;p.changes&&(B(p.changes,"gutter")>-1&&(h=!1),In(e,p,c,n)),h&&(O(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(it(e.options,c)))),a=p.node.nextSibling}else{var d=zn(e,p,c,n);o.insertBefore(d,a)}c+=p.size}for(;a;)a=s(a)}function Gi(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function qi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Xn(e)+"px"}function Ki(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Rr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var u=0;u<s.length;u++)s[u].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Xi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=it(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(N("div",[N("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Gi(e.display),!0}return!1}function Yi(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Zi(e){var t=e.gutters,n=e.gutterSpecs;O(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,s=t.appendChild(N("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Gi(e)}function $i(e){Zi(e.display),Lr(e),Ki(e)}function Ji(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=N("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=N("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=A("div",null,"CodeMirror-code"),o.selectionDiv=N("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=N("div",null,"CodeMirror-cursors"),o.measure=N("div",null,"CodeMirror-measure"),o.lineMeasure=N("div",null,"CodeMirror-measure"),o.lineSpace=A("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=A("div",[o.lineSpace],"CodeMirror-lines");o.mover=N("div",[l],null,"position: relative"),o.sizer=N("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=N("div",null,null,"position: absolute; height: "+U+"px; width: 1px;"),o.gutters=N("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=N("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=N("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),u||n&&v||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Yi(i.gutters,i.lineNumbers),Zi(o),r.init(o)}Li.prototype.signal=function(e,t){we(e,t)&&this.events.push(arguments)},Li.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ve.apply(null,this.events[e])};var Qi=0,eo=null;function to(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function no(e){var t=to(e);return t.x*=eo,t.y*=eo,t}function ro(e,t){var r=to(t),i=r.x,o=r.y,a=e.display,s=a.scroller,l=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&l||o&&c){if(o&&y&&u)e:for(var p=t.target,h=a.view;p!=s;p=p.parentNode)for(var d=0;d<h.length;d++)if(h[d].node==p){e.display.currentWheelTarget=p;break e}if(i&&!n&&!f&&null!=eo)return o&&c&&pi(e,Math.max(0,s.scrollTop+o*eo)),di(e,Math.max(0,s.scrollLeft+i*eo)),(!o||o&&c)&&_e(t),void(a.wheelStartX=null);if(o&&null!=eo){var m=o*eo,g=e.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),Vi(e,{top:g,bottom:v})}Qi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(eo=(eo*Qi+n)/(Qi+1),++Qi)}},200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?eo=-.53:n?eo=15:c?eo=-.7:p&&(eo=-1/3);var io=function(e,t){this.ranges=e,this.primIndex=t};io.prototype.primary=function(){return this.ranges[this.primIndex]},io.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!st(n.anchor,r.anchor)||!st(n.head,r.head))return!1}return!0},io.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new oo(ut(this.ranges[t].anchor),ut(this.ranges[t].head));return new io(e,this.primIndex)},io.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},io.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(at(t,r.from())>=0&&at(e,r.to())<=0)return n}return-1};var oo=function(e,t){this.anchor=e,this.head=t};function ao(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort(function(e,t){return at(e.from(),t.from())}),n=B(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],u=at(s.to(),a.from());if(r&&!a.empty()?u>0:u>=0){var l=ct(s.from(),a.from()),c=lt(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new oo(f?c:l,f?l:c))}}return new io(t,n)}function so(e,t){return new io([new oo(e,t||e)],0)}function uo(e){return e.text?ot(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function lo(e,t){if(at(e,t.from)<0)return e;if(at(e,t.to)<=0)return uo(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=uo(t).ch-t.to.ch),ot(n,r)}function co(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new oo(lo(i.anchor,t),lo(i.head,t)))}return ao(e.cm,n,e.sel.primIndex)}function fo(e,t,n){return e.line==t.line?ot(n.line,e.ch-t.ch+n.ch):ot(n.line+(e.line-t.line),e.ch)}function po(e,t,n){for(var r=[],i=ot(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],u=fo(s.from,i,o),l=fo(uo(s),i,o);if(i=s.to,o=l,"around"==n){var c=e.sel.ranges[a],f=at(c.head,c.anchor)<0;r[a]=new oo(f?l:u,f?u:l)}else r[a]=new oo(u,u)}return new io(r,e.sel.primIndex)}function ho(e){e.doc.mode=He(e.options,e.doc.modeOption),mo(e)}function mo(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ji(e,100),e.state.modeGen++,e.curOp&&Lr(e)}function go(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function vo(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){cn(e,n,i,r),Nn(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new ln(l[o],i(o),r));return n}var s=t.from,u=t.to,l=t.text,c=$e(e,s.line),f=$e(e,u.line),p=Y(l),h=i(l.length-1),d=u.line-s.line;if(t.full)e.insert(0,a(0,l.length)),e.remove(l.length,e.size-l.length);else if(go(e,t)){var m=a(0,l.length-1);o(f,f.text,h),d&&e.remove(s.line,d),m.length&&e.insert(s.line,m)}else if(c==f)if(1==l.length)o(c,c.text.slice(0,s.ch)+p+c.text.slice(u.ch),h);else{var g=a(1,l.length-1);g.push(new ln(p+c.text.slice(u.ch),h,r)),o(c,c.text.slice(0,s.ch)+l[0],i(0)),e.insert(s.line+1,g)}else if(1==l.length)o(c,c.text.slice(0,s.ch)+l[0]+f.text.slice(u.ch),i(0)),e.remove(s.line+1,d);else{o(c,c.text.slice(0,s.ch)+l[0],i(0)),o(f,p+f.text.slice(u.ch),h);var v=a(1,l.length-1);d>1&&e.remove(s.line+1,d-1),e.insert(s.line+1,v)}Nn(e,"change",e,t)}function yo(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var u=o&&s.sharedHist;n&&!u||(t(s.doc,u),r(s.doc,e,u))}}}r(e,null,!0)}function bo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Mr(e),ho(e),wo(e),e.options.lineWrapping||un(e),e.options.mode=t.modeOption,Lr(e)}function wo(e){("rtl"==e.doc.direction?P:S)(e.display.lineDiv,"CodeMirror-rtl")}function xo(e){Ii(e,function(){wo(e),Lr(e)})}function _o(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Co(e,t){var n={from:ut(t.from),to:uo(t),text:Je(e,t.from,t.to)};return Ao(e,n,t.from.line,t.to.line+1),yo(e,function(e){return Ao(e,n,t.from.line,t.to.line+1)},!0),n}function Eo(e){for(;e.length;){var t;if(!Y(e).ranges)break;e.pop()}}function So(e,t){return t?(Eo(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}function ko(e,t,n,r){var i=e.history;i.undone.length=0;var o=+new Date,a,s;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>o-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(a=So(i,i.lastOp==r)))s=Y(a.changes),0==at(t.from,t.to)&&0==at(t.from,s.to)?s.to=uo(t):a.changes.push(Co(e,t));else{var u=Y(i.done);for(u&&u.ranges||No(e.sel,i.done),a={changes:[Co(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||ve(e,"historyAdded")}function Oo(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function To(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||Oo(e,o,Y(i.done),t))?i.done[i.done.length-1]=t:No(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Eo(i.undone)}function No(e,t){var n=Y(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Ao(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Io(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Ro(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Io(n[i]));return r}function Po(e,t){var n=Ro(e,t),r=zt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var u=a[s],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue e;o.push(u)}else a&&(n[i]=a)}return n}function Mo(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?io.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var u=0;u<a.length;++u){var l=a[u],c=void 0;if(s.push({from:l.from,to:l.to,text:l.text}),t)for(var f in l)(c=f.match(/^spans_(\d+)$/))&&B(t,Number(c[1]))>-1&&(Y(s)[f]=l[f],delete l[f])}}}return r}function jo(e,t,n,r){if(r){var i=e.anchor;if(n){var o=at(t,i)<0;o!=at(n,i)<0?(i=t,t=n):o!=at(t,n)<0&&(t=n)}return new oo(i,t)}return new oo(n||t,t)}function Do(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Wo(e,new io([jo(e.sel.primary(),t,n,i)],0),r)}function Lo(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=jo(e.sel.ranges[o],t[o],null,i);var a;Wo(e,ao(e.cm,r,e.sel.primIndex),n)}function Fo(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Wo(e,ao(e.cm,i,e.sel.primIndex),r)}function zo(e,t,n,r){Wo(e,so(t,n),r)}function Bo(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new oo(pt(e,t[n].anchor),pt(e,t[n].head))},origin:n&&n.origin};return ve(e,"beforeSelectionChange",e,r),e.cm&&ve(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?ao(e.cm,r.ranges,r.ranges.length-1):t}function Uo(e,t,n){var r=e.history.done,i=Y(r);i&&i.ranges?(r[r.length-1]=t,Vo(e,t,n)):Wo(e,t,n)}function Wo(e,t,n){Vo(e,t,n),To(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Vo(e,t,n){var r;(we(e,"beforeSelectionChange")||e.cm&&we(e.cm,"beforeSelectionChange"))&&(t=Bo(e,t,n)),Ho(e,qo(e,t,n&&n.bias||(at(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||si(e.cm)}function Ho(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,be(e.cm)),Nn(e,"cursorActivity",e))}function Go(e){Ho(e,qo(e,e.sel,null,!1))}function qo(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],u=Xo(e,a.anchor,s&&s.anchor,n,r),l=Xo(e,a.head,s&&s.head,n,r);(i||u!=a.anchor||l!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new oo(u,l))}return i?ao(e.cm,i,t.primIndex):t}function Ko(e,t,n,r,i){var o=$e(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],u=s.marker,l="selectLeft"in u?!u.selectLeft:u.inclusiveLeft,c="selectRight"in u?!u.selectRight:u.inclusiveRight;if((null==s.from||(l?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(ve(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!u.atomic)continue;if(n){var f=u.find(r<0?1:-1),p=void 0;if((r<0?c:l)&&(f=Yo(e,f,-r,f&&f.line==t.line?o:null)),f&&f.line==t.line&&(p=at(f,n))&&(r<0?p<0:p>0))return Ko(e,f,t,r,i)}var h=u.find(r<0?-1:1);return(r<0?l:c)&&(h=Yo(e,h,r,h.line==t.line?o:null)),h?Ko(e,h,t,r,i):null}}return t}function Xo(e,t,n,r,i){var o=r||1,a=Ko(e,t,n,o,i)||!i&&Ko(e,t,n,o,!0)||Ko(e,t,n,-o,i)||!i&&Ko(e,t,n,-o,!0);return a||(e.cantEdit=!0,ot(e.first,0))}function Yo(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?pt(e,ot(t.line-1)):null:n>0&&t.ch==(r||$e(e,t.line)).text.length?t.line<e.first+e.size-1?ot(t.line+1,0):null:new ot(t.line,t.ch+n)}function Zo(e){e.setSelection(ot(e.firstLine(),0),ot(e.lastLine()),V)}function $o(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=pt(e,t)),n&&(r.to=pt(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),ve(e,"beforeChange",e,r),e.cm&&ve(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Jo(e,t,n){if(e.cm){if(!e.cm.curOp)return Ri(e.cm,Jo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"))||(t=$o(e,t,!0))){var r=Nt&&!n&&Ut(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Qo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Qo(e,t)}}function Qo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=at(t.from,t.to)){var n=co(e,t);ko(e,t,n,e.cm?e.cm.curOp.id:NaN),na(e,t,n,zt(e,t));var r=[];yo(e,function(e,n){n||-1!=B(r,e.history)||(sa(e.history,t),r.push(e.history)),na(e,t,null,zt(e,t))})}}function ea(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i=e.history,o,a=e.sel,s="undo"==t?i.done:i.undone,u="undo"==t?i.undone:i.done,l=0;l<s.length&&(o=s[l],n?!o.ranges||o.equals(e.sel):o.ranges);l++);if(l!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(o=s.pop()).ranges){if(r)return void s.push(o);break}if(No(o,u),n&&!o.equals(e.sel))return void Wo(e,o,{clearRedo:!1});a=o}var c=[];No(a,u),u.push({changes:c,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var f=we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"),p=function(n){var r=o.changes[n];if(r.origin=t,f&&!$o(e,r,!1))return s.length=0,{};c.push(Co(e,r));var i=n?co(e,r):Y(s);na(e,r,i,Po(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:uo(r)});var a=[];yo(e,function(e,t){t||-1!=B(a,e.history)||(sa(e.history,r),a.push(e.history)),na(e,r,null,Po(e,r))})},h=o.changes.length-1;h>=0;--h){var d=p(h);if(d)return d.v}}}}function ta(e,t){if(0!=t&&(e.first+=t,e.sel=new io(Z(e.sel.ranges,function(e){return new oo(ot(e.anchor.line+t,e.anchor.ch),ot(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Lr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Fr(e.cm,r,"gutter")}}function na(e,t,n,r){if(e.cm&&!e.cm.curOp)return Ri(e.cm,na)(e,t,n,r);if(t.to.line<e.first)ta(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ta(e,i),t={from:ot(e.first,0),to:ot(t.to.line+i,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ot(o,$e(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Je(e,t.from,t.to),n||(n=co(e,t)),e.cm?ra(e.cm,t,r):vo(e,t,r),Vo(e,n,V),e.cantEdit&&Xo(e,ot(e.firstLine(),0))&&(e.cantEdit=!1)}}function ra(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,u=o.line;e.options.lineWrapping||(u=tt(Jt($e(r,o.line))),r.iter(u,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),r.sel.contains(t.from,t.to)>-1&&be(e),vo(r,t,n,Pr(e)),e.options.lineWrapping||(r.iter(u,o.line+t.text.length,function(e){var t=sn(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),Tt(r,o.line),ji(e,400);var l=t.text.length-(a.line-o.line)-1;t.full?Lr(e):o.line!=a.line||1!=t.text.length||go(e.doc,t)?Lr(e,o.line,a.line+1,l):Fr(e,o.line,"text");var c=we(e,"changes"),f=we(e,"change");if(f||c){var p={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&Nn(e,"change",e,p),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function ia(e,t,n,r,i){var o;r||(r=n),at(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Jo(e,{from:n,to:r,text:t,origin:i})}function oa(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function aa(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)oa(o.ranges[s].anchor,t,n,r),oa(o.ranges[s].head,t,n,r)}else{for(var u=0;u<o.changes.length;++u){var l=o.changes[u];if(n<l.from.line)l.from=ot(l.from.line+r,l.from.ch),l.to=ot(l.to.line+r,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function sa(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;aa(e.done,n,r,i),aa(e.undone,n,r,i)}function ua(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=$e(e,ft(e,t)):i=tt(t),null==i?null:(r(o,i)&&e.cm&&Fr(e.cm,i,n),o)}function la(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function ca(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}oo.prototype.from=function(){return ct(this.anchor,this.head)},oo.prototype.to=function(){return lt(this.anchor,this.head)},oo.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},la.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,fn(i),Nn(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},ca.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof la))){var s=[];this.collapse(s),this.children=[new la(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var u=new la(i.lines.slice(s,s+=25));i.height-=u.height,this.children.splice(++r,0,u),u.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t,n=new ca(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=n.size,e.height-=n.height;var r=B(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new ca(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var fa=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function pa(e,t,n){an(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ai(e,n)}function ha(e,t,n,r){var i=new fa(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),ua(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!rn(e,t)){var r=an(t)<e.scrollTop;et(t,t.height+Vn(i)),r&&ai(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&Nn(o,"lineWidgetAdded",o,i,"number"==typeof t?t:tt(t)),i}fa.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=tt(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Vn(this);et(n,Math.max(0,n.height-o)),e&&(Ii(e,function(){pa(e,n,-o),Fr(e,r,"widget")}),Nn(e,"lineWidgetCleared",e,this,r))}},fa.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Vn(this)-t;i&&(rn(this.doc,r)||et(r,r.height+i),n&&Ii(n,function(){n.curOp.forceUpdate=!0,pa(n,r,i),Nn(n,"lineWidgetChanged",n,e,tt(r))}))},xe(fa);var da=0,ma=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++da};function ga(e,t,n,r,i){if(r&&r.shared)return ya(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Ri(e.cm,ga)(e,t,n,r,i);var o=new ma(e,i),a=at(t,n);if(r&&L(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if($t(e,t.line,t,n,o)||t.line!=n.line&&$t(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Rt()}o.addToHistory&&ko(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s=t.line,u=e.cm,l;if(e.iter(s,n.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&Jt(e)==u.display.maxLine&&(l=!0),o.collapsed&&s!=t.line&&et(e,0),Dt(e,new Pt(o,s==t.line?t.ch:null,s==n.line?n.ch:null)),++s}),o.collapsed&&e.iter(t.line,n.line+1,function(t){rn(e,t)&&et(t,0)}),o.clearOnEnter&&de(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(It(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++da,o.atomic=!0),u){if(l&&(u.curOp.updateMaxLine=!0),o.collapsed)Lr(u,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=n.line;c++)Fr(u,c,"text");o.atomic&&Go(u.doc),Nn(u,"markerAdded",u,o)}return o}ma.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ci(e),we(this,"clear")){var n=this.find();n&&Nn(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Mt(a.markedSpans,this);e&&!this.collapsed?Fr(e,tt(a),"text"):e&&(null!=s.to&&(i=tt(a)),null!=s.from&&(r=tt(a))),a.markedSpans=jt(a.markedSpans,s),null==s.from&&this.collapsed&&!rn(this.doc,a)&&e&&et(a,Nr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var l=Jt(this.lines[u]),c=sn(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Lr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Go(e.doc)),e&&Nn(e,"markerCleared",e,this,r,i),t&&Ei(e),this.parent&&this.parent.clear()}},ma.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Mt(o.markedSpans,this);if(null!=a.from&&(n=ot(t?o:tt(o),a.from),-1==e))return n;if(null!=a.to&&(r=ot(t?o:tt(o),a.to),1==e))return r}return n&&{from:n,to:r}},ma.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Ii(r,function(){var i=t.line,o=tt(t.line),a=tr(r,o);if(a&&(cr(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!rn(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var u=Vn(n)-s;u&&et(i,i.height+u)}Nn(r,"markerChanged",r,e)})},ma.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=B(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ma.prototype.detachLine=function(e){if(this.lines.splice(B(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},xe(ma);var va=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function ya(e,t,n,r,i){(r=L(r)).shared=!1;var o=[ga(e,t,n,r,i)],a=o[0],s=r.widgetNode;return yo(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(ga(e,pt(e,t),pt(e,n),r,i));for(var u=0;u<e.linked.length;++u)if(e.linked[u].isParent)return;a=Y(o)}),new va(o,a)}function ba(e){return e.findMarks(ot(e.first,0),e.clipPos(ot(e.lastLine())),function(e){return e.parent})}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(at(o,a)){var s=ga(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function xa(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];yo(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==B(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}va.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Nn(this,"clear")}},va.prototype.find=function(e,t){return this.primary.find(e,t)},xe(va);var _a=0,Ca=function(e,t,n,r,i){if(!(this instanceof Ca))return new Ca(e,t,n,r,i);null==n&&(n=0),ca.call(this,[new la([new ln("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ot(n,0);this.sel=so(o),this.history=new _o(null),this.id=++_a,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),vo(this,{from:o,to:o,text:e}),Wo(this,so(o),V)};Ca.prototype=Q(ca.prototype,{constructor:Ca,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Qe(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Mi(function(e){var t=ot(this.first,0),n=this.first+this.size-1;Jo(this,{from:t,to:ot(n,$e(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&ui(this.cm,0,0),Wo(this,so(t),V)}),replaceRange:function(e,t,n,r){ia(this,e,t=pt(this,t),n=n?pt(this,n):t,r)},getRange:function(e,t,n){var r=Je(this,pt(this,e),pt(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(rt(this,e))return $e(this,e)},getLineNumber:function(e){return tt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=$e(this,e)),Jt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return pt(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return n=null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Mi(function(e,t,n){zo(this,pt(this,"number"==typeof e?ot(e,t||0):e),null,n)}),setSelection:Mi(function(e,t,n){zo(this,pt(this,e),pt(this,t||e),n)}),extendSelection:Mi(function(e,t,n){Do(this,pt(this,e),t&&pt(this,t),n)}),extendSelections:Mi(function(e,t){Lo(this,dt(this,e),t)}),extendSelectionsBy:Mi(function(e,t){var n;Lo(this,dt(this,Z(this.sel.ranges,e)),t)}),setSelections:Mi(function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new oo(pt(this,e[i].anchor),pt(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Wo(this,ao(this.cm,r,t),n)}}),addSelection:Mi(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new oo(pt(this,e),pt(this,t||e))),Wo(this,ao(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t=this.sel.ranges,n,r=0;r<t.length;r++){var i=Je(this,t[r].from(),t[r].to());n=n?n.concat(i):i}return!1===e?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Je(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Mi(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&po(this,r,t),u=r.length-1;u>=0;u--)Jo(this,r[u]);s?Uo(this,s):this.cm&&si(this.cm)}),undo:Mi(function(){ea(this,"undo")}),redo:Mi(function(){ea(this,"redo")}),undoSelection:Mi(function(){ea(this,"undo",!0)}),redoSelection:Mi(function(){ea(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new _o(this.history.maxGeneration),yo(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Mo(this.history.done),undone:Mo(this.history.undone)}},setHistory:function(e){var t=this.history=new _o(this.history.maxGeneration);t.done=Mo(e.done.slice(0),null,!0),t.undone=Mo(e.undone.slice(0),null,!0)},setGutterMarker:Mi(function(e,t,n){return ua(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Mi(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&ua(t,n,"gutter",function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!rt(this,e))return null;if(t=e,!(e=$e(this,e)))return null}else if(null==(t=tt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Mi(function(e,t,n){return ua(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(E(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:Mi(function(e,t,n){return ua(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(E(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Mi(function(e,t,n){return ha(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ga(this,pt(this,e),pt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ga(this,e=pt(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=$e(this,(e=pt(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=pt(this,e),t=pt(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var u=a[s];null!=u.to&&i==e.line&&e.ch>=u.to||null==u.from&&i!=e.line||null!=u.from&&i==t.line&&u.from>=t.ch||n&&!n(u.marker)||r.push(u.marker.parent||u.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),pt(this,ot(n,t))},indexFromPos:function(e){var t=(e=pt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Ca(Qe(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ca(Qe(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],wa(r,ba(this)),r},unlinkDoc:function(e){if(e instanceof Ls&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n;if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),xa(ba(this));break}}if(e.history==this.history){var r=[e.id];yo(e,function(e){return r.push(e.id)},!0),e.history=new _o(null),e.history.done=Mo(this.history.done,r),e.history.undone=Mo(this.history.undone,r)}},iterLinkedDocs:function(e){yo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Pe(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Mi(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&xo(this.cm))})}),Ca.prototype.eachLine=Ca.prototype.iter;var Ea=0;function Sa(e){var t=this;if(Ta(t),!ye(t,e)&&!Hn(t.display,e)){_e(e),a&&(Ea=+new Date);var n=jr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,u=function(){++s==i&&Ri(t,function(){var e={from:n=pt(t.doc,n),to:n,text:t.doc.splitLines(o.filter(function(e){return null!=e}).join(t.doc.lineSeparator())),origin:"paste"};Jo(t.doc,e),Uo(t.doc,so(pt(t.doc,n),pt(t.doc,uo(e))))})()},l=function(e,n){if(t.options.allowDropFileTypes&&-1==B(t.options.allowDropFileTypes,e.type))u();else{var r=new FileReader;r.onerror=function(){return u()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)?u():(o[n]=e,u())},r.readAsText(e)}},c=0;c<r.length;c++)l(r[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var f=e.dataTransfer.getData("Text");if(f){var p;if(t.state.draggingText&&!t.state.draggingText.copy&&(p=t.listSelections()),Vo(t.doc,so(n,n)),p)for(var h=0;h<p.length;++h)ia(t.doc,"",p[h].anchor,p[h].head,"drag");t.replaceSelection(f,"around","paste"),t.display.input.focus()}}catch(e){}}}}function ka(e,t){if(a&&(!e.state.draggingText||+new Date-Ea<100))Se(t);else if(!ye(e,t)&&!Hn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!p)){var n=N("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}function Oa(e,t){var n=jr(e,t);if(n){var r=document.createDocumentFragment();Gr(e,n,r),e.display.dragCursor||(e.display.dragCursor=N("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,r)}}function Ta(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Na(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}var Aa=!1;function Ia(){Aa||(Ra(),Aa=!0)}function Ra(){var e;de(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Na(Pa)},100))}),de(window,"blur",function(){return Na(Jr)})}function Pa(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ma={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ja=0;ja<10;ja++)Ma[ja+48]=Ma[ja+96]=String(ja);for(var Da=65;Da<=90;Da++)Ma[Da]=String.fromCharCode(Da);for(var La=1;La<=12;La++)Ma[La+111]=Ma[La+63235]="F"+La;var Fa={};function za(e){var t=e.split(/-(?!$)/),n,r,i,o;e=t[t.length-1];for(var a=0;a<t.length-1;a++){var s=t[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Ba(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Z(n.split(" "),za),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var u=t[s];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var l in t)e[l]=t[l];return e}function Ua(e,t,n,r){var i=(t=Ga(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ua(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=Ua(e,t.fallthrough[o],n,r);if(a)return a}}}function Wa(e){var t="string"==typeof e?e:Ma[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Va(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(_?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(_?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Ha(e,t){if(f&&34==e.keyCode&&e.char)return!1;var n=Ma[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Va(n,e,t))}function Ga(e){return"string"==typeof e?Fa[e]:e}function qa(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&at(o.from,Y(r).to)<=0;){var a=r.pop();if(at(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Ii(e,function(){for(var t=r.length-1;t>=0;t--)ia(e.doc,"",r[t].from,r[t].to,"+delete");si(e)})}function Ka(e,t,n){var r=ae(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Xa(e,t,n){var r=Ka(e,t.ch,n);return null==r?null:new ot(t.line,r,n<0?"after":"before")}function Ya(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=pe(n,t.doc.direction);if(o){var a=i<0?Y(o):o[0],s,u=i<0==(1==a.level)?"after":"before",l;if(a.level>0||"rtl"==t.doc.direction){var c=nr(t,n);l=i<0?n.text.length-1:0;var f=rr(t,c,l).top;l=se(function(e){return rr(t,c,e).top==f},i<0==(1==a.level)?a.from:a.to-1,l),"before"==u&&(l=Ka(n,l,1))}else l=i<0?a.to:a.from;return new ot(r,l,u)}}return new ot(r,i<0?n.text.length:0,i<0?"before":"after")}function Za(e,t,n,r){var i=pe(t,e.doc.direction);if(!i)return Xa(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ce(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Xa(t,n,r);var s=function(e,n){return Ka(t,e instanceof ot?e.ch:e,n)},u,l=function(n){return e.options.lineWrapping?(u=u||nr(e,t),Er(e,t,u,n)):{begin:0,end:t.text.length}},c=l("before"==n.sticky?s(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==r<0,p=s(n,f?1:-1);if(null!=p&&(f?p<=a.to&&p<=c.end:p>=a.from&&p>=c.begin)){var h=f?"before":"after";return new ot(n.line,p,h)}}var d=function(e,t,r){for(var o=function(e,t){return t?new ot(n.line,s(e,1),"before"):new ot(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],u=t>0==(1!=a.level),l=u?r.begin:s(r.end,-1);if(a.from<=l&&l<a.to)return o(l,u);if(l=u?a.from:s(a.to,-1),r.begin<=l&&l<r.end)return o(l,u)}},m=d(o+r,r,c);if(m)return m;var g=r>0?c.end:s(c.begin,-1);return null==g||r>0&&g==t.text.length||!(m=d(r>0?0:i.length-1,r,l(g)))?null:m}Fa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Fa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Fa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Fa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Fa.default=y?Fa.macDefault:Fa.pcDefault;var $a={selectAll:Zo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return qa(e,function(t){if(t.empty()){var n=$e(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ot(t.head.line+1,0)}:{from:t.head,to:ot(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return qa(e,function(t){return{from:ot(t.from().line,0),to:pt(e.doc,ot(t.to().line+1,0))}})},delLineLeft:function(e){return qa(e,function(e){return{from:ot(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return qa(e,function(t){var n=e.charCoords(t.head,"div").top+5,r;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return qa(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ot(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ot(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Ja(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return es(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return Qa(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},G)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},G)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?es(e,t.head):r},G)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=F(e.getLine(o.line),o.ch,r);t.push(X(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ii(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=$e(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ot(i.line,i.ch-1)),i.ch>0)i=new ot(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ot(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=$e(e.doc,i.line-1).text;a&&(i=new ot(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ot(i.line-1,a.length-1),i,"+transpose"))}n.push(new oo(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return Ii(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);si(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ja(e,t){var n=$e(e.doc,t),r=Jt(n);return r!=n&&(t=tt(r)),Ya(!0,e,r,t,1)}function Qa(e,t){var n=$e(e.doc,t),r=Qt(n);return r!=n&&(t=tt(r)),Ya(!0,e,n,t,-1)}function es(e,t){var n=Ja(e,t.line),r=$e(e.doc,n.line),i=pe(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return ot(n.line,a?0:o,n.sticky)}return n}function ts(e,t,n){if("string"==typeof t&&!(t=$a[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=W}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function ns(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Ua(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Ua(t,e.options.extraKeys,n,e)||Ua(t,e.options.keyMap,n,e)}var rs=new z;function is(e,t,n,r){var i=e.state.keySeq;if(i){if(Wa(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:rs.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),os(e,i+" "+t,n,r))return!0}return os(e,t,n,r)}function os(e,t,n,r){var i=ns(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&Nn(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(_e(n),Xr(e)),!!i}function as(e,t){var n=Ha(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?is(e,"Shift-"+n,t,function(t){return ts(e,t,!0)})||is(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ts(e,t)}):is(e,n,t,function(t){return ts(e,t)}))}function ss(e,t,n){return is(e,"'"+n+"'",t,function(t){return ts(e,t,!0)})}var us=null;function ls(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=R(),ye(t,e)))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=as(t,e);f&&(us=i?r:null,!i&&88==r&&!je&&(y?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),n&&!y&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||cs(t)}}function cs(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(S(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n))}P(t,"CodeMirror-crosshair"),de(document,"keyup",n),de(document,"mouseover",n)}function fs(e){16==e.keyCode&&(this.doc.sel.shift=!1),ye(this,e)}function ps(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Hn(t.display,e)||ye(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(f&&n==us)return us=null,void _e(e);if(!f||e.which&&!(e.which<10)||!as(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(ss(t,e,i)||t.display.input.onKeyPress(e))}}}var hs=400,ds=function(e,t,n){this.time=e,this.pos=t,this.button=n},ms,gs;function vs(e,t){var n=+new Date;return gs&&gs.compare(n,e,t)?(ms=gs=null,"triple"):ms&&ms.compare(n,e,t)?(gs=new ds(n,e,t),ms=null,"double"):(ms=new ds(n,e,t),gs=null,"single")}function ys(e){var t=this,n=t.display;if(!(ye(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Hn(n,e))u||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!Os(t,e)){var r=jr(t,e),i=Oe(e),o=r?vs(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&bs(t,i,r,o,e)||(1==i?r?xs(t,r,o,e):ke(e)==n.scroller&&_e(e):2==i?(r&&Do(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(C?t.display.input.onContextMenu(e):Zr(t)))}}function bs(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),is(e,Va(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,function(t){if("string"==typeof t&&(t=$a[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=W}finally{e.state.suppressEdits=!1}return r})}function ws(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}function xs(e,t,n,r){a?setTimeout(D(Yr,e),0):e.curOp.focus=R();var i=ws(e,n,r),o=e.doc.sel,s;e.options.dragDrop&&Te&&!e.isReadOnly()&&"single"==n&&(s=o.contains(t))>-1&&(at((s=o.ranges[s]).from(),t)<0||t.xRel>0)&&(at(s.to(),t)>0||t.xRel<0)?_s(e,r,t,i):Es(e,r,t,i)}function _s(e,t,n,r){var i=e.display,o=!1,l=Ri(e,function(t){u&&(i.scroller.draggable=!1),e.state.draggingText=!1,ge(i.wrapper.ownerDocument,"mouseup",l),ge(i.wrapper.ownerDocument,"mousemove",c),ge(i.scroller,"dragstart",f),ge(i.scroller,"drop",l),o||(_e(t),r.addNew||Do(e.doc,n,null,null,r.extend),u&&!p||a&&9==s?setTimeout(function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()},20):i.input.focus())}),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},f=function(){return o=!0};u&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),de(i.wrapper.ownerDocument,"mouseup",l),de(i.wrapper.ownerDocument,"mousemove",c),de(i.scroller,"dragstart",f),de(i.scroller,"drop",l),Zr(e),setTimeout(function(){return i.input.focus()},20)}function Cs(e,t,n){if("char"==n)return new oo(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new oo(ot(t.line,0),pt(e.doc,ot(t.line+1,0)));var r=n(e,t);return new oo(r.from,r.to)}function Es(e,t,n,r){var i=e.display,o=e.doc;_e(t);var a,s,u=o.sel,l=u.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?l[s]:new oo(n,n)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new oo(n,n)),n=jr(e,t,!0,!0),s=-1;else{var c=Cs(e,n,r.unit);a=r.extend?jo(a,c.anchor,c.head,r.extend):c}r.addNew?-1==s?(s=l.length,Wo(o,ao(e,l.concat([a]),s),{scroll:!1,origin:"*mouse"})):l.length>1&&l[s].empty()&&"char"==r.unit&&!r.extend?(Wo(o,ao(e,l.slice(0,s).concat(l.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):Fo(o,s,a,H):(s=0,Wo(o,new io([a],0),H),u=o.sel);var f=n;function p(t){if(0!=at(f,t))if(f=t,"rectangle"==r.unit){for(var i=[],l=e.options.tabSize,c=F($e(o,n.line).text,n.ch,l),p=F($e(o,t.line).text,t.ch,l),h=Math.min(c,p),d=Math.max(c,p),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=$e(o,m).text,y=q(v,h,l);h==d?i.push(new oo(ot(m,y),ot(m,y))):v.length>y&&i.push(new oo(ot(m,y),ot(m,q(v,d,l))))}i.length||i.push(new oo(n,n)),Wo(o,ao(e,u.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=a,w=Cs(e,t,r.unit),x=b.anchor,_;at(w.anchor,x)>0?(_=w.head,x=ct(b.from(),w.anchor)):(_=w.anchor,x=lt(b.to(),w.head));var C=u.ranges.slice(0);C[s]=Ss(e,new oo(pt(o,x),_)),Wo(o,ao(e,C,s),H)}}var h=i.wrapper.getBoundingClientRect(),d=0;function m(t){var n=++d,a=jr(e,t,!0,"rectangle"==r.unit);if(a)if(0!=at(a,f)){e.curOp.focus=R(),p(a);var s=ti(i,o);(a.line>=s.to||a.line<s.from)&&setTimeout(Ri(e,function(){d==n&&m(t)}),150)}else{var u=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;u&&setTimeout(Ri(e,function(){d==n&&(i.scroller.scrollTop+=u,m(t))}),50)}}function g(t){e.state.selectingText=!1,d=1/0,t&&(_e(t),i.input.focus()),ge(i.wrapper.ownerDocument,"mousemove",v),ge(i.wrapper.ownerDocument,"mouseup",y),o.history.lastSelOrigin=null}var v=Ri(e,function(e){0!==e.buttons&&Oe(e)?m(e):g(e)}),y=Ri(e,g);e.state.selectingText=y,de(i.wrapper.ownerDocument,"mousemove",v),de(i.wrapper.ownerDocument,"mouseup",y)}function Ss(e,t){var n=t.anchor,r=t.head,i=$e(e.doc,n.line);if(0==at(n,r)&&n.sticky==r.sticky)return t;var o=pe(i);if(!o)return t;var a=ce(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var u=a+(s.from==n.ch==(1!=s.level)?0:1),l;if(0==u||u==o.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=ce(o,r.ch,r.sticky),f=c-a||(r.ch-n.ch)*(1==s.level?-1:1);l=c==u-1||c==u?f<0:f>0}var p=o[u+(l?-1:0)],h=l==(1==p.level),d=h?p.from:p.to,m=h?"after":"before";return n.ch==d&&n.sticky==m?t:new oo(new ot(n.line,d,m),r)}function ks(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&_e(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!we(e,n))return Ee(t);o-=s.top-a.viewOffset;for(var u=0;u<e.display.gutterSpecs.length;++u){var l=a.gutters.childNodes[u],c,f;if(l&&l.getBoundingClientRect().right>=i)return ve(e,n,e,nt(e.doc,o),e.display.gutterSpecs[u].className,t),Ee(t)}}function Os(e,t){return ks(e,t,"gutterClick",!0)}function Ts(e,t){Hn(e.display,t)||Ns(e,t)||ye(e,t,"contextmenu")||C||e.display.input.onContextMenu(t)}function Ns(e,t){return!!we(e,"gutterContextMenu")&&ks(e,t,"gutterContextMenu",!1)}function As(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),pr(e)}ds.prototype.compare=function(e,t,n){return this.time+400>e&&0==at(t,this.pos)&&n==this.button};var Is={toString:function(){return"CodeMirror.Init"}},Rs={},Ps={};function Ms(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=Is&&i(e,t,n)}:i)}e.defineOption=n,e.Init=Is,n("value","",function(e,t){return e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,ho(e)},!0),n("indentUnit",2,ho,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){mo(e),pr(e),Lr(e)},!0),n("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(ot(r,o))}r++});for(var i=n.length-1;i>=0;i--)ia(e.doc,t,n[i],ot(n[i].line,n[i].ch+t.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Is&&e.refresh()}),n("specialCharPlaceholder",gn,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),n("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),n("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){As(e),$i(e)},!0),n("keyMap","default",function(e,t,n){var r=Ga(t),i=n!=Is&&Ga(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ds,!0),n("gutters",[],function(e,t){e.display.gutterSpecs=Yi(t,e.options.lineNumbers),$i(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?Rr(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return yi(e)},!0),n("scrollbarStyle","native",function(e){xi(e),yi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e,t){e.display.gutterSpecs=Yi(e.options.gutters,t),$i(e)},!0),n("firstLineNumber",1,$i,!0),n("lineNumberFormatter",function(e){return e},$i,!0),n("showCursorWhenSelecting",!1,Vr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(e,t){"nocursor"==t&&(Jr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),n("screenReaderLabel",null,function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)}),n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),n("dragDrop",!0,js),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Vr,!0),n("singleCursorHeightPerLine",!0,Vr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,mo,!0),n("addModeClass",!1,mo,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,mo,!0),n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),n("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),n("autofocus",null),n("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),n("phrases",null)}function js(e,t,n){var r;if(!t!=!(n&&n!=Is)){var i=e.display.dragFunctions,o=t?de:ge;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function Ds(e){e.options.lineWrapping?(P(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(S(e.display.wrapper,"CodeMirror-wrap"),un(e)),Mr(e),Lr(e),pr(e),setTimeout(function(){return yi(e)},100)}function Ls(e,t){var n=this;if(!(this instanceof Ls))return new Ls(e,t);this.options=t=t?L(t):{},L(Rs,t,!1);var r=t.value;"string"==typeof r?r=new Ca(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Ls.inputStyles[t.inputStyle](this),o=this.display=new Ji(e,r,i,t);for(var l in o.wrapper.CodeMirror=this,As(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),xi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new z,keySeq:null,specialChars:null},t.autofocus&&!v&&o.input.focus(),a&&s<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Fs(this),Ia(),Ci(this),this.curOp.forceUpdate=!0,bo(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout(D($r,this),20):Jr(this),Ps)Ps.hasOwnProperty(l)&&Ps[l](this,t[l],Is);Xi(this),t.finishInit&&t.finishInit(this);for(var c=0;c<zs.length;++c)zs[c](this);Ei(this),u&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Fs(e){var t=e.display;de(t.scroller,"mousedown",Ri(e,ys)),de(t.scroller,"dblclick",a&&s<11?Ri(e,function(t){if(!ye(e,t)){var n=jr(e,t);if(n&&!Os(e,t)&&!Hn(e.display,t)){_e(t);var r=e.findWordAt(n);Do(e.doc,r.anchor,r.head)}}}):function(t){return ye(e,t)||_e(t)}),de(t.scroller,"contextmenu",function(t){return Ts(e,t)}),de(t.input.getField(),"contextmenu",function(n){t.scroller.contains(n.target)||Ts(e,n)});var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),(r=t.activeTouch).end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function u(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}de(t.scroller,"touchstart",function(i){if(!ye(e,i)&&!o(i)&&!Os(e,i)){t.input.ensurePolled(),clearTimeout(n);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}}),de(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),de(t.scroller,"touchend",function(n){var r=t.activeTouch;if(r&&!Hn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o=e.coordsChar(t.activeTouch,"page"),a;a=!r.prev||u(r,r.prev)?new oo(o,o):!r.prev.prev||u(r,r.prev.prev)?e.findWordAt(o):new oo(ot(o.line,0),pt(e.doc,ot(o.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),_e(n)}i()}),de(t.scroller,"touchcancel",i),de(t.scroller,"scroll",function(){t.scroller.clientHeight&&(pi(e,t.scroller.scrollTop),di(e,t.scroller.scrollLeft,!0),ve(e,"scroll",e))}),de(t.scroller,"mousewheel",function(t){return ro(e,t)}),de(t.scroller,"DOMMouseScroll",function(t){return ro(e,t)}),de(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){ye(e,t)||Se(t)},over:function(t){ye(e,t)||(Oa(e,t),Se(t))},start:function(t){return ka(e,t)},drop:Ri(e,Sa),leave:function(t){ye(e,t)||Ta(e)}};var l=t.input.getField();de(l,"keyup",function(t){return fs.call(e,t)}),de(l,"keydown",Ri(e,ls)),de(l,"keypress",Ri(e,ps)),de(l,"focus",function(t){return $r(e,t)}),de(l,"blur",function(t){return Jr(e,t)})}Ls.defaults=Rs,Ls.optionHandlers=Ps;var zs=[];function Bs(e,t,n,r){var i=e.doc,o;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=bt(e,t).state:n="prev");var a=e.options.tabSize,s=$e(i,t),u=F(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l=s.text.match(/^\s*/)[0],c;if(r||/\S/.test(s.text)){if("smart"==n&&((c=i.mode.indent(o,s.text.slice(l.length),s.text))==W||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>i.first?F($e(i,t-1).text,null,a):0:"add"==n?c=u+e.options.indentUnit:"subtract"==n?c=u-e.options.indentUnit:"number"==typeof n&&(c=u+n),c=Math.max(0,c);var f="",p=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/a);h;--h)p+=a,f+="\t";if(p<c&&(f+=X(c-p)),f!=l)return ia(i,f,ot(t,0),ot(t,l.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<i.sel.ranges.length;d++){var m=i.sel.ranges[d];if(m.head.line==t&&m.head.ch<l.length){var g=ot(t,l.length);Fo(i,d,new oo(g,g));break}}}Ls.defineInitHook=function(e){return zs.push(e)};var Us=null;function Ws(e){Us=e}function Vs(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,u=Pe(t),l=null;if(s&&r.ranges.length>1)if(Us&&Us.text.join("\n")==t){if(r.ranges.length%Us.text.length==0){l=[];for(var c=0;c<Us.text.length;c++)l.push(o.splitLines(Us.text[c]))}}else u.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(l=Z(u,function(e){return[e]}));for(var f=e.curOp.updateInput,p=r.ranges.length-1;p>=0;p--){var h=r.ranges[p],d=h.from(),m=h.to();h.empty()&&(n&&n>0?d=ot(d.line,d.ch-n):e.state.overwrite&&!s?m=ot(m.line,Math.min($e(o,m.line).text.length,m.ch+Y(u).length)):s&&Us&&Us.lineWise&&Us.text.join("\n")==u.join("\n")&&(d=m=ot(d.line,0)));var g={from:d,to:m,text:l?l[p%l.length]:u,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};Jo(e.doc,g),Nn(e,"inputRead",e,g)}t&&!s&&Gs(e,t),si(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Hs(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Ii(t,function(){return Vs(t,n,0,null,"paste")}),!0}function Gs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Bs(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test($e(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Bs(e,i.head.line,"smart"));a&&Nn(e,"electricInput",e,i.head.line)}}}function qs(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:ot(i,0),head:ot(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Ks(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Xs(){var e=N("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=N("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ks(e),t}function Ys(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Ri(this,t[e])(this,n,i),ve(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ga(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Pi(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");$(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Lr(this)}),removeOverlay:Pi(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Lr(this)}}),indentLine:Pi(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),rt(this.doc,e)&&Bs(this,e,t,n)}),indentSelection:Pi(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Bs(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&si(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var u=s;u<n;++u)Bs(this,u,e);var l=this.doc.sel.ranges;0==o.ch&&t.length==l.length&&l[r].from().ch>0&&Fo(this.doc,r,new oo(o,l[r].to()),V)}}}),getTokenAt:function(e,t){return Et(this,e,t)},getLineTokens:function(e,t){return Et(this,ot(e),t,!0)},getTokenTypeAt:function(e){e=pt(this.doc,e);var t=yt(this,$e(this.doc,e.line)),n=0,r=(t.length-1)/2,i=e.ch,o;if(0==i)o=t[2];else for(;;){var a=n+r>>1;if((a?t[2*a-1]:0)>=i)r=a;else{if(!(t[2*a+1]<i)){o=t[2*a+2];break}n=a+1}}var s=o?o.indexOf("overlay "):-1;return s<0?o:0==s?null:o.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var u=0;u<i._global.length;u++){var l=i._global[u];l.pred(o,this)&&-1==B(r,l.val)&&r.push(l.val)}return r},getStateAfter:function(e,t){var n=this.doc;return bt(this,(e=ft(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return br(this,n=null==e?r.head:"object"==typeof e?pt(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return yr(this,pt(this.doc,e),t||"page")},coordsChar:function(e,t){return _r(this,(e=vr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=vr(this,{top:e,left:0},t||"page").top,nt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r=!1,i;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),i=$e(this.doc,e)}else i=e;return gr(this,i,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-an(i):0)},defaultTextHeight:function(){return Nr(this.display)},defaultCharWidth:function(){return Ar(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=br(this,pt(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var u=Math.max(o.wrapper.clientHeight,this.doc.height),l=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(a=e.bottom),s+t.offsetWidth>l&&(s=l-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&ii(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Pi(ls),triggerOnKeyPress:Pi(ps),triggerOnKeyUp:fs,triggerOnMouseDown:Pi(ys),execCommand:function(e){if($a.hasOwnProperty(e))return $a[e].call(null,this)},triggerElectric:Pi(function(e){Gs(this,e)}),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=pt(this.doc,e),a=0;a<t&&!(o=Zs(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:Pi(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Zs(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},G)}),deleteH:Pi(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):qa(this,function(n){var i=Zs(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=pt(this.doc,e),s=0;s<t;++s){var u=br(this,a,"div");if(null==o?o=u.left:u.left=o,(a=$s(this,u,i,n)).hitSide)break}return a},moveV:Pi(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=br(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var u=$s(n,s,e,t);return"page"==t&&a==r.sel.primary()&&ai(n,yr(n,u,"div").top-s.top),u},G),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t,n=$e(this.doc,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),s=ne(a,o)?function(e){return ne(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new oo(ot(e.line,r),ot(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?P(this.display.cursorDiv,"CodeMirror-overwrite"):S(this.display.cursorDiv,"CodeMirror-overwrite"),ve(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==R()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Pi(function(e,t){ui(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Xn(this)-this.display.barHeight,width:e.scrollWidth-Xn(this)-this.display.barWidth,clientHeight:Zn(this),clientWidth:Yn(this)}},scrollIntoView:Pi(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ot(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?li(this,e):fi(this,e.from,e.to,e.margin)}),setSize:Pi(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&fr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Fr(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,ve(this,"refresh",this)}),operation:function(e){return Ii(this,e)},startOperation:function(){return Ci(this)},endOperation:function(){return Ei(this)},refresh:Pi(function(){var e=this.display.cachedTextHeight;Lr(this),this.curOp.forceUpdate=!0,pr(this),ui(this,this.doc.scrollLeft,this.doc.scrollTop),Gi(this.display),(null==e||Math.abs(e-Nr(this.display))>.5||this.options.lineWrapping)&&Mr(this),ve(this,"refresh",this)}),swapDoc:Pi(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),bo(this,e),pr(this),this.display.input.reset(),ui(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Nn(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},xe(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}function Zs(e,t,n,r,i){var o=t,a=n,s=$e(e,t.line),u=i&&"rtl"==e.direction?-n:n;function l(){var n=t.line+u;return!(n<e.first||n>=e.first+e.size)&&(t=new ot(n,t.ch,t.sticky),s=$e(e,n))}function c(r){var o;if(null==(o=i?Za(e.cm,s,t,n):Xa(s,t,n))){if(r||!l())return!1;t=Ya(i,e.cm,s,t.line,u)}else t=o;return!0}if("char"==r)c();else if("column"==r)c(!0);else if("word"==r||"group"==r)for(var f=null,p="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||c(!d);d=!1){var m=s.text.charAt(t.ch)||"\n",g=ne(m,h)?"w":p&&"\n"==m?"n":!p||/\s/.test(m)?null:"p";if(!p||d||g||(g="s"),f&&f!=g){n<0&&(n=1,c(),t.sticky="after");break}if(g&&(f=g),n>0&&!c(!d))break}var v=Xo(e,t,o,a,!0);return st(o,v)&&(v.hitSide=!0),v}function $s(e,t,n,r){var i=e.doc,o=t.left,a,s;if("page"==r){var u=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(u-.5*Nr(e.display),3);a=(n>0?t.bottom:t.top)+n*l}else"line"==r&&(a=n>0?t.bottom+3:t.top-3);for(;(s=_r(e,o,a)).outside;){if(n<0?a<=0:a>=i.height){s.hitSide=!0;break}a+=5*n}return s}var Js=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new z,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Qs(e,t){var n=tr(e,t.line);if(!n||n.hidden)return null;var r=$e(e.doc,t.line),i=Jn(n,r,t.line),o=pe(r,e.doc.direction),a="left",s;o&&(a=ce(o,t.ch)%2?"right":"left");var u=ar(i.map,t.ch,a);return u.offset="right"==u.collapse?u.end:u.start,u}function eu(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function tu(e,t){return t&&(e.bad=!0),e}function nu(e,t,n,r,i){var o="",a=!1,s=e.doc.lineSeparator(),u=!1;function l(e){return function(t){return t.id==e}}function c(){a&&(o+=s,u&&(o+=s),a=u=!1)}function f(e){e&&(c(),o+=e)}function p(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void f(n);var o=t.getAttribute("cm-marker"),h;if(o){var d=e.findMarks(ot(r,0),ot(i+1,0),l(+o));return void(d.length&&(h=d[0].find(0))&&f(Je(e.doc,h.from,h.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&c();for(var g=0;g<t.childNodes.length;g++)p(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(u=!0),m&&(a=!0)}else 3==t.nodeType&&f(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;p(t),t!=n;)t=t.nextSibling,u=!1;return o}function ru(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return tu(e.clipPos(ot(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return iu(o,t,n)}}function iu(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!I(r,t))return tu(ot(tt(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?Y(e.rest):e.line;return tu(ot(tt(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var u=e.measure,l=u.maps;function c(t,n,r){for(var i=-1;i<(l?l.length:0);i++)for(var o=i<0?u.map:l[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var c=tt(i<0?e.line:e.rest[i]),f=o[a]+r;return(r<0||s!=t)&&(f=o[a+(r?1:0)]),ot(c,f)}}}var f=c(a,s,n);if(f)return tu(f,i);for(var p=s.nextSibling,h=a?a.nodeValue.length-n:0;p;p=p.nextSibling){if(f=c(p,p.firstChild,0))return tu(ot(f.line,f.ch-h),i);h+=p.textContent.length}for(var d=s.previousSibling,m=n;d;d=d.previousSibling){if(f=c(d,d.firstChild,-1))return tu(ot(f.line,f.ch+m),i);m+=d.textContent.length}}Js.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!ye(r,e)){if(r.somethingSelected())Ws({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=qs(r);Ws({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,V),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var a=Us.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=Xs(),u=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),u.value=Us.text.join("\n");var l=document.activeElement;j(u),setTimeout(function(){r.display.lineSpace.removeChild(s),l.focus(),l==i&&n.showPrimarySelection()},50)}}Ks(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),de(i,"paste",function(e){!o(e)||ye(r,e)||Hs(e,r)||s<=11&&setTimeout(Ri(r,function(){return t.updateFromDOM()}),20)}),de(i,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),de(i,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),de(i,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),de(i,"touchstart",function(){return n.forceCompositionEnd()}),de(i,"input",function(){t.composing||t.readFromDOMSoon()}),de(i,"copy",a),de(i,"cut",a)},Js.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Js.prototype.prepareSelection=function(){var e=Hr(this.cm,!1);return e.focus=document.activeElement==this.div,e},Js.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Js.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Js.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=ru(t,e.anchorNode,e.anchorOffset),s=ru(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=at(ct(a,s),i)||0!=at(lt(a,s),o)){var u=t.display.view,l=i.line>=t.display.viewFrom&&Qs(t,i)||{node:u[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&Qs(t,o);if(!c){var f=u[u.length-1].measure,p=f.maps?f.maps[f.maps.length-1]:f.map;c={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(l&&c){var h=e.rangeCount&&e.getRangeAt(0),d;try{d=k(l.node,l.offset,c.offset,c.node)}catch(e){}d&&(!n&&t.state.focused?(e.collapse(l.node,l.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Js.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Js.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},Js.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Js.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return I(this.div,t)},Js.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Js.prototype.blur=function(){this.div.blur()},Js.prototype.getField=function(){return this.div},Js.prototype.supportsTouch=function(){return!0},Js.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Ii(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},Js.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Js.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&c&&this.cm.display.gutterSpecs.length&&eu(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=ru(t,e.anchorNode,e.anchorOffset),r=ru(t,e.focusNode,e.focusOffset);n&&r&&Ii(t,function(){Wo(t.doc,so(n,r),V),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Js.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to(),o,a,s;if(0==r.ch&&r.line>e.firstLine()&&(r=ot(r.line-1,$e(e.doc,r.line-1).length)),i.ch==$e(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=ot(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;r.line==t.viewFrom||0==(o=Dr(e,r.line))?(a=tt(t.view[0].line),s=t.view[0].node):(a=tt(t.view[o].line),s=t.view[o-1].node.nextSibling);var u=Dr(e,i.line),l,c;if(u==t.view.length-1?(l=t.viewTo-1,c=t.lineDiv.lastChild):(l=tt(t.view[u+1].line)-1,c=t.view[u+1].node.previousSibling),!s)return!1;for(var f=e.doc.splitLines(nu(e,s,c,a,l)),p=Je(e.doc,ot(a,0),ot(l,$e(e.doc,l).text.length));f.length>1&&p.length>1;)if(Y(f)==Y(p))f.pop(),p.pop(),l--;else{if(f[0]!=p[0])break;f.shift(),p.shift(),a++}for(var h=0,d=0,m=f[0],g=p[0],v=Math.min(m.length,g.length);h<v&&m.charCodeAt(h)==g.charCodeAt(h);)++h;for(var y=Y(f),b=Y(p),w=Math.min(y.length-(1==f.length?h:0),b.length-(1==p.length?h:0));d<w&&y.charCodeAt(y.length-d-1)==b.charCodeAt(b.length-d-1);)++d;if(1==f.length&&1==p.length&&a==r.line)for(;h&&h>r.ch&&y.charCodeAt(y.length-d-1)==b.charCodeAt(b.length-d-1);)h--,d++;f[f.length-1]=y.slice(0,y.length-d).replace(/^\u200b+/,""),f[0]=f[0].slice(h).replace(/\u200b+$/,"");var x=ot(a,h),_=ot(l,p.length?Y(p).length-d:0);return f.length>1||f[0]||at(x,_)?(ia(e.doc,f,x,_,"+input"),!0):void 0},Js.prototype.ensurePolled=function(){this.forceCompositionEnd()},Js.prototype.reset=function(){this.forceCompositionEnd()},Js.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Js.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Js.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ii(this.cm,function(){return Lr(e.cm)})},Js.prototype.setUneditable=function(e){e.contentEditable="false"},Js.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ri(this.cm,Vs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Js.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Js.prototype.onContextMenu=function(){},Js.prototype.resetPosition=function(){},Js.prototype.needsContentAttribute=!0;var ou=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new z,this.hasSelection=!1,this.composing=null};function au(e,t){if((t=t?L(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=R();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(de(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(ge(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=Ls(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return s}function su(e){e.off=ge,e.on=de,e.wheelEventPixels=no,e.Doc=Ca,e.splitLines=Pe,e.countColumn=F,e.findColumn=q,e.isWordChar=te,e.Pass=W,e.signal=ve,e.Line=ln,e.changeEnd=uo,e.scrollbarModel=wi,e.Pos=ot,e.cmpPos=at,e.modes=ze,e.mimeModes=Be,e.resolveMode=Ve,e.getMode=He,e.modeExtensions=Ge,e.extendMode=qe,e.copyState=Ke,e.startState=Ye,e.innerMode=Xe,e.commands=$a,e.keyMap=Fa,e.keyName=Ha,e.isModifierKey=Wa,e.lookupKey=Ua,e.normalizeKeyMap=Ba,e.StringStream=Ze,e.SharedTextMarker=va,e.TextMarker=ma,e.LineWidget=fa,e.e_preventDefault=_e,e.e_stopPropagation=Ce,e.e_stop=Se,e.addClass=P,e.contains=I,e.rmClass=S,e.keyNames=Ma}ou.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!ye(r,e)){if(r.somethingSelected())Ws({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=qs(r);Ws({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,V):(n.prevInput="",i.value=t.text.join("\n"),j(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),de(i,"input",function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),de(i,"paste",function(e){ye(r,e)||Hs(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())}),de(i,"cut",o),de(i,"copy",o),de(e.scroller,"paste",function(t){if(!Hn(e,t)&&!ye(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}}),de(e.lineSpace,"selectstart",function(t){Hn(e,t)||_e(t)}),de(i,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),de(i,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},ou.prototype.createField=function(e){this.wrapper=Xs(),this.textarea=this.wrapper.firstChild},ou.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},ou.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Hr(e);if(e.options.moveInputWithCursor){var i=br(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},ou.prototype.showSelection=function(e){var t,n=this.cm.display;T(n.cursorDiv,e.cursors),T(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ou.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&j(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},ou.prototype.getField=function(){return this.textarea},ou.prototype.supportsTouch=function(){return!1},ou.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||R()!=this.textarea))try{this.textarea.focus()}catch(e){}},ou.prototype.blur=function(){this.textarea.blur()},ou.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ou.prototype.receivedFocus=function(){this.slowPoll()},ou.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},ou.prototype.fastPoll=function(){var e=!1,t=this;function n(){var r;t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},ou.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Me(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var u=0,l=Math.min(r.length,i.length);u<l&&r.charCodeAt(u)==i.charCodeAt(u);)++u;return Ii(t,function(){Vs(t,i.slice(u),r.length-u,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ou.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ou.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},ou.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=jr(n,e),l=r.scroller.scrollTop;if(o&&!f){var c;n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Ri(n,Wo)(n.doc,so(o),V);var p=i.style.cssText,h=t.wrapper.style.cssText,d=t.wrapper.offsetParent.getBoundingClientRect(),m;if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",u&&(m=window.scrollY),r.input.focus(),u&&window.scrollTo(null,m),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=y,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&v(),C){Se(e);var g=function(){ge(window,"mouseup",g),setTimeout(y,20)};de(window,"mouseup",g)}else setTimeout(y,50)}function v(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="\u200b"+(e?i.value:"");i.value="\u21da",i.value=o,t.prevInput=e?"":"\u200b",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function y(){if(t.contextMenuPending==y&&(t.contextMenuPending=!1,t.wrapper.style.cssText=h,i.style.cssText=p,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=l),null!=i.selectionStart)){(!a||a&&s<9)&&v();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?Ri(n,Zo)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},ou.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},ou.prototype.setUneditable=function(){},ou.prototype.needsContentAttribute=!1,Ms(Ls),Ys(Ls);var uu="iter insert remove copy getEditor constructor".split(" ");for(var lu in Ca.prototype)Ca.prototype.hasOwnProperty(lu)&&B(uu,lu)<0&&(Ls.prototype[lu]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ca.prototype[lu]));return xe(Ca),Ls.inputStyles={textarea:ou,contenteditable:Js},Ls.defineMode=function(e){Ls.defaults.mode||"null"==e||(Ls.defaults.mode=e),Ue.apply(this,arguments)},Ls.defineMIME=We,Ls.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ls.defineMIME("text/plain","null"),Ls.defineExtension=function(e,t){Ls.prototype[e]=t},Ls.defineDocExtension=function(e,t){Ca.prototype[e]=t},Ls.fromTextArea=au,su(Ls),Ls.version="5.56.0",Ls},e.exports=i()},function(e,t,n){"use strict";e.exports=n(573)},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t=0,n=-1,r=!0,i;for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!r){t=i+1;break}}else-1===n&&(r=!1,n=i+1);return-1===n?"":e.slice(t,n)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(i(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===o(e,-1);return(e=n(i(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var l=[],u=s;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(108))},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,c=l&&l(Object);function f(e,t,n){if("string"!=typeof t){if(c){var p=l(t);p&&p!==c&&f(e,p,n)}var h=a(t);s&&(h=h.concat(s(t)));for(var d=0;d<h.length;++d){var m=h[d];if(!(r[m]||i[m]||n&&n[m])){var g=u(t,m);try{o(e,m,g)}catch(e){}}}return e}return e}e.exports=f},function(e,t,n){"use strict";const r=n(517),i=n(518),o=n(519),a=e=>null===e||void 0===e;function s(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[",i,"]"].join("")]:[...n,[c(t,e),"[",c(i,e),"]=",c(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[]"].join("")]:[...n,[c(t,e),"[]=",c(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null===r||void 0===r||0===r.length?n:0===n.length?[[c(t,e),"=",c(r,e)].join("")]:[[n,c(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,c(t,e)]:[...n,[c(t,e),"=",c(r,e)].join("")]}}function u(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1,o=i?n.split(e.arrayFormatSeparator).map(t=>f(t,e)):null===n?n:f(n,e);r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function l(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function f(e,t){return t.decode?i(e):e}function p(e){return Array.isArray(e)?e.sort():"object"==typeof e?p(Object.keys(e)).sort((e,t)=>Number(e)-Number(t)).map(t=>e[t]):e}function h(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}function m(e){const t=(e=h(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function g(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function v(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=u(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:f(a,t),n(f(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=g(n[e],t);else r[e]=g(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=p(n):e[t]=n,e},Object.create(null))}t.extract=m,t.parse=v,t.stringify=((e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&a(e[n])||t.skipEmptyString&&""===e[n],r=s(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{const i=e[n];return void 0===i?"":null===i?c(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):c(n,t)+"="+c(i,t)}).filter(e=>e.length>0).join("&")}),t.parseUrl=((e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:v(m(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:f(r,t)}:{})}),t.stringifyUrl=((e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=h(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query);let s=t.stringify(a,n);s&&(s=`?${s}`);let u=d(e.url);return e.fragmentIdentifier&&(u=`#${c(e.fragmentIdentifier,n)}`),`${r}${s}${u}`})},function(e,t,n){var r,i;r="undefined"!=typeof self?self:this,i=function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=60)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t,n){return e||console.error("theme has not been set"),f(e)(t,n)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var o=n(64),a,s=function(e){return e&&e.__esModule?e:{default:e}}(n(65)),u=n(66),l=function(e){return{backgroundColor:e.base00,ellipsisColor:e.base09,braceColor:e.base07,expandedIcon:e.base0D,collapsedIcon:e.base0E,keyColor:e.base07,arrayKeyColor:e.base0C,objectSize:e.base04,copyToClipboard:e.base0F,copyToClipboardCheck:e.base0D,objectBorder:e.base02,dataTypes:{boolean:e.base0E,date:e.base0D,float:e.base0B,function:e.base0D,integer:e.base0F,string:e.base09,nan:e.base08,null:e.base0A,undefined:e.base05,regexp:e.base0A,background:e.base02},editVariable:{editIcon:e.base0E,cancelIcon:e.base09,removeIcon:e.base09,addIcon:e.base0E,checkIcon:e.base0E,background:e.base01,color:e.base0A,border:e.base07},addKeyModal:{background:e.base05,border:e.base04,color:e.base0A,labelColor:e.base01},validationFailure:{background:e.base09,iconColor:e.base01,fontColor:e.base01}}},c=function(e){var t=l(e);return{"app-container":{fontFamily:s.default.globalFontFamily,cursor:s.default.globalCursor,backgroundColor:t.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:t.ellipsisColor,fontSize:s.default.ellipsisFontSize,lineHeight:s.default.ellipsisLineHeight,cursor:s.default.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:s.default.braceCursor,fontWeight:s.default.braceFontWeight,color:t.braceColor},"expanded-icon":{color:t.expandedIcon},"collapsed-icon":{color:t.collapsedIcon},colon:{display:"inline-block",margin:s.default.keyMargin,color:t.keyColor,verticalAlign:"top"},objectKeyVal:function(e,n){return{style:i({paddingTop:s.default.keyValPaddingTop,paddingRight:s.default.keyValPaddingRight,paddingBottom:s.default.keyValPaddingBottom,borderLeft:s.default.keyValBorderLeft+" "+t.objectBorder,":hover":{paddingLeft:n.paddingLeft-1+"px",borderLeft:s.default.keyValBorderHover+" "+t.objectBorder}},n)}},"object-key-val-no-border":{padding:s.default.keyValPadding},"pushed-content":{marginLeft:s.default.pushedContentMarginLeft},variableValue:function(e,t){return{style:i({display:"inline-block",paddingRight:s.default.variableValuePaddingRight,position:"relative"},t)}},"object-name":{display:"inline-block",color:t.keyColor,letterSpacing:s.default.keyLetterSpacing,fontStyle:s.default.keyFontStyle,verticalAlign:s.default.keyVerticalAlign,opacity:s.default.keyOpacity,":hover":{opacity:s.default.keyOpacityHover}},"array-key":{display:"inline-block",color:t.arrayKeyColor,letterSpacing:s.default.keyLetterSpacing,fontStyle:s.default.keyFontStyle,verticalAlign:s.default.keyVerticalAlign,opacity:s.default.keyOpacity,":hover":{opacity:s.default.keyOpacityHover}},"object-size":{color:t.objectSize,borderRadius:s.default.objectSizeBorderRadius,fontStyle:s.default.objectSizeFontStyle,margin:s.default.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:s.default.dataTypeFontSize,marginRight:s.default.dataTypeMarginRight,opacity:s.default.datatypeOpacity},boolean:{display:"inline-block",color:t.dataTypes.boolean},date:{display:"inline-block",color:t.dataTypes.date},"date-value":{marginLeft:s.default.dateValueMarginLeft},float:{display:"inline-block",color:t.dataTypes.float},function:{display:"inline-block",color:t.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:t.dataTypes.integer},string:{display:"inline-block",color:t.dataTypes.string},nan:{display:"inline-block",color:t.dataTypes.nan,fontSize:s.default.nanFontSize,fontWeight:s.default.nanFontWeight,backgroundColor:t.dataTypes.background,padding:s.default.nanPadding,borderRadius:s.default.nanBorderRadius},null:{display:"inline-block",color:t.dataTypes.null,fontSize:s.default.nullFontSize,fontWeight:s.default.nullFontWeight,backgroundColor:t.dataTypes.background,padding:s.default.nullPadding,borderRadius:s.default.nullBorderRadius},undefined:{display:"inline-block",color:t.dataTypes.undefined,fontSize:s.default.undefinedFontSize,padding:s.default.undefinedPadding,borderRadius:s.default.undefinedBorderRadius,backgroundColor:t.dataTypes.background},regexp:{display:"inline-block",color:t.dataTypes.regexp},"copy-to-clipboard":{cursor:s.default.clipboardCursor},"copy-icon":{color:t.copyToClipboard,fontSize:s.default.iconFontSize,marginRight:s.default.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:t.copyToClipboardCheck,marginLeft:s.default.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:s.default.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:s.default.metaDataPadding},"icon-container":{display:"inline-block",width:s.default.iconContainerWidth},tooltip:{padding:s.default.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.removeIcon,cursor:s.default.iconCursor,fontSize:s.default.iconFontSize,marginRight:s.default.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.addIcon,cursor:s.default.iconCursor,fontSize:s.default.iconFontSize,marginRight:s.default.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.editIcon,cursor:s.default.iconCursor,fontSize:s.default.iconFontSize,marginRight:s.default.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:s.default.iconCursor,color:t.editVariable.checkIcon,fontSize:s.default.iconFontSize,paddingRight:s.default.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:s.default.iconCursor,color:t.editVariable.cancelIcon,fontSize:s.default.iconFontSize,paddingRight:s.default.iconPaddingRight},"edit-input":{display:"inline-block",minHeight:s.default.editInputHeight,minWidth:s.default.editInputMinWidth,borderRadius:s.default.editInputBorderRadius,backgroundColor:t.editVariable.background,color:t.editVariable.color,padding:s.default.editInputPadding,marginRight:s.default.editInputMarginRight,fontFamily:s.default.editInputFontFamily},"detected-row":{paddingTop:s.default.detectedRowPaddingTop},"key-modal-request":{position:s.default.addKeyCoverPosition,top:s.default.addKeyCoverPositionPx,left:s.default.addKeyCoverPositionPx,right:s.default.addKeyCoverPositionPx,bottom:s.default.addKeyCoverPositionPx,backgroundColor:s.default.addKeyCoverBackground},"key-modal":{width:s.default.addKeyModalWidth,backgroundColor:t.addKeyModal.background,marginLeft:s.default.addKeyModalMargin,marginRight:s.default.addKeyModalMargin,padding:s.default.addKeyModalPadding,borderRadius:s.default.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:t.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:t.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:t.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:t.addKeyModal.labelColor,fontSize:s.default.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:t.editVariable.addIcon,fontSize:s.default.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:t.ellipsisColor,fontSize:s.default.ellipsisFontSize,lineHeight:s.default.ellipsisLineHeight,cursor:s.default.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:t.validationFailure.fontColor,backgroundColor:t.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:t.validationFailure.iconColor,fontSize:s.default.iconFontSize,transform:"rotate(45deg)"}}},f=function(e){var t=o.rjv_default;return!1!==e&&"none"!==e||(t=o.rjv_grey),(0,u.createStyling)(c,{defaultBase16:t})(e)}},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(32)("wks"),i=n(23),o=n(5).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";function r(e){var t=i(e);return"number"===t&&(t=isNaN(e)?"nan":(0|e)!=e?"float":"integer"),t}function i(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function o(e){var t=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if("object"===r(e)){for(var n=0;n<t.length;n++)if(!(t[n]in e))return!1;return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.toType=r,t.isTheme=o},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f,p=r(n(1)),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=(e.rjvId,e.type_name),n=e.displayDataTypes,r=e.theme;return n?c.default.createElement("span",s({className:"data-type-label"},(0,p.default)(r,"data-type-label")),t):null}}]),t}(c.default.PureComponent);t.default=h},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(9),i=n(22);e.exports=n(10)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(16),i=n(44),o=n(29),a=Object.defineProperty;t.f=n(10)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(49),i=n(28);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(161),l,c=function(e){return e&&e.__esModule?e:{default:e}}(n(14)),f=n(4),p,h=new(function(e){function t(){var e,n,a,u;i(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.objects={},a.set=function(e,t,n,r){void 0===a.objects[e]&&(a.objects[e]={}),void 0===a.objects[e][t]&&(a.objects[e][t]={}),a.objects[e][t][n]=r},a.get=function(e,t,n,r){return void 0===a.objects[e]||void 0===a.objects[e][t]||void 0==a.objects[e][t][n]?r:a.objects[e][t][n]},a.handleAction=function(e){var t=e.rjvId,n=e.data;switch(e.name){case"RESET":a.emit("reset-"+t);break;case"VARIABLE_UPDATED":e.data.updated_src=a.updateSrc(t,n),a.set(t,"action","variable-update",s({},n,{type:"variable-edited"})),a.emit("variable-update-"+t);break;case"VARIABLE_REMOVED":e.data.updated_src=a.updateSrc(t,n),a.set(t,"action","variable-update",s({},n,{type:"variable-removed"})),a.emit("variable-update-"+t);break;case"VARIABLE_ADDED":e.data.updated_src=a.updateSrc(t,n),a.set(t,"action","variable-update",s({},n,{type:"variable-added"})),a.emit("variable-update-"+t);break;case"ADD_VARIABLE_KEY_REQUEST":a.set(t,"action","new-key-request",n),a.emit("add-key-request-"+t)}},a.updateSrc=function(e,t){var n=t.name,i=t.namespace,o=t.new_value,s=(t.existing_value,t.variable_removed);i.shift();var u=a.get(e,"global","src"),l=a.deepCopy(u,[].concat(r(i))),c=l,p=!0,h=!1,d=void 0;try{for(var m,g=i[Symbol.iterator]();!(p=(m=g.next()).done);p=!0)c=c[m.value]}catch(e){h=!0,d=e}finally{try{!p&&g.return&&g.return()}finally{if(h)throw d}}return s?"array"==(0,f.toType)(c)?c.splice(n,1):delete c[n]:null!==n?c[n]=o:l=o,a.set(e,"global","src",l),l},a.deepCopy=function(e,t){var n=(0,f.toType)(e),i=void 0,o=t.shift();return"array"==n?i=[].concat(r(e)):"object"==n&&(i=s({},e)),void 0!==o&&(i[o]=a.deepCopy(e[o],t)),i},o(a,u=n)}return a(t,e),t}(u.EventEmitter));c.default.register(h.handleAction.bind(h)),t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=new(n(162).Dispatcher);t.default=i},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e||(e={}),{style:u({verticalAlign:"middle"},e,{color:e.color?e.color:p,height:"1em",width:"1em"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.CheckCircle=t.Edit=t.Add=t.AddCircle=t.RemoveCircle=t.Clippy=t.ArrowDown=t.ArrowRight=t.SquarePlus=t.SquareMinus=t.CirclePlus=t.CircleMinus=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c,f=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),p="#000000";t.CircleMinus=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",u({},s(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),t}(f.default.PureComponent),t.CirclePlus=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",u({},s(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),t}(f.default.PureComponent),t.SquareMinus=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]),i=s(t).style;return f.default.createElement("span",n,f.default.createElement("svg",{fill:i.color,width:i.height,height:i.width,style:i,viewBox:"0 0 1792 1792"},f.default.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),t}(f.default.PureComponent),t.SquarePlus=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]),i=s(t).style;return f.default.createElement("span",n,f.default.createElement("svg",{fill:i.color,width:i.height,height:i.width,style:i,viewBox:"0 0 1792 1792"},f.default.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),t}(f.default.PureComponent),t.ArrowRight=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",{style:u({},s(t).style,{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},f.default.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),t}(f.default.PureComponent),t.ArrowDown=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",{style:u({},s(t).style,{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},f.default.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),t}(f.default.PureComponent),t.Clippy=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",u({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("g",null,f.default.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),t}(f.default.PureComponent),t.RemoveCircle=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",u({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("g",null,f.default.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(f.default.PureComponent),t.AddCircle=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",u({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("g",null,f.default.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(f.default.PureComponent),t.Add=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",u({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("g",null,f.default.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),t}(f.default.PureComponent),t.Edit=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",u({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("g",null,f.default.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),t}(f.default.PureComponent),t.CheckCircle=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",u({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("g",null,f.default.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(f.default.PureComponent)},function(e,t,n){var r=n(17);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){var r=n(48),i=n(33);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=!0},function(e,t,n){var r=n(5),i=n(2),o=n(71),a=n(8),s=n(7),u=function(e,t,n){var l,c,f,p=e&u.F,h=e&u.G,d=e&u.S,m=e&u.P,g=e&u.B,v=e&u.W,y=h?i:i[t]||(i[t]={}),b=y.prototype,w=h?r:d?r[t]:(r[t]||{}).prototype;for(l in h&&(n=t),n)(c=!p&&w&&void 0!==w[l])&&s(y,l)||(f=c?w[l]:n[l],y[l]=h&&"function"!=typeof w[l]?n[l]:g&&c?o(f,r):v&&w[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((y.virtual||(y.virtual={}))[l]=f,e&u.R&&b&&!b[l]&&a(b,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c,f=r(n(0)),p=n(41),h=n(4),d=n(42),m,g=r(n(171)),v,y=r(n(56)),b,w=r(n(57)),x,_=r(n(58)),C,E=r(n(13)),S=n(59),k,O=r(n(1)),T=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));N.call(n);var r=t.getState(e);return n.state=u({},r,{prevProps:{}}),n}return s(t,e),l(t,[{key:"getBraceStart",value:function(e,t){var n=this,r=this.props,i=r.src,o=r.theme,a=r.iconStyle;if("array_group"===r.parent_type)return f.default.createElement("span",null,f.default.createElement("span",(0,O.default)(o,"brace"),"array"===e?"[":"{"),t?this.getObjectMetaData(i):null);var s=t?S.ExpandedIcon:S.CollapsedIcon;return f.default.createElement("span",null,f.default.createElement("span",u({onClick:function(e){n.toggleCollapsed()}},(0,O.default)(o,"brace-row")),f.default.createElement("div",u({className:"icon-container"},(0,O.default)(o,"icon-container")),f.default.createElement(s,{theme:o,iconStyle:a})),f.default.createElement(_.default,this.props),f.default.createElement("span",(0,O.default)(o,"brace"),"array"===e?"[":"{")),t?this.getObjectMetaData(i):null)}},{key:"render",value:function(){var e=this.props,t=e.depth,n=e.src,r=(e.namespace,e.name,e.type,e.parent_type),o=e.theme,a=e.jsvRoot,s=e.iconStyle,l=i(e,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),c=this.state,p=c.object_type,h=c.expanded,d={};return a||"array_group"===r?"array_group"===r&&(d.borderLeft=0,d.display="inline"):d.paddingLeft=5*this.props.indentWidth,f.default.createElement("div",u({className:"object-key-val"},(0,O.default)(o,a?"jsv-root":"objectKeyVal",d)),this.getBraceStart(p,h),h?this.getObjectContent(t,n,u({theme:o,iconStyle:s},l)):this.getEllipsis(),f.default.createElement("span",{className:"brace-row"},f.default.createElement("span",{style:u({},(0,O.default)(o,"brace").style,{paddingLeft:h?"3px":"0px"})},"array"===p?"]":"}"),h?null:this.getObjectMetaData(n)))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r=n.prevProps;if(e.src!==r.src||e.collapsed!==r.collapsed||e.name!==r.name||e.namespace!==r.namespace||e.rjvId!==r.rjvId){var i=t.getState(e);return u({},i,{prevProps:e})}return null}}]),t}(f.default.PureComponent);T.getState=function(e){var t=Object.keys(e.src).length,n=(!1===e.collapsed||!0!==e.collapsed&&e.collapsed>e.depth)&&(!e.shouldCollapse||!1===e.shouldCollapse({name:e.name,src:e.src,type:(0,h.toType)(e.src),namespace:e.namespace}))&&0!==t;return{expanded:E.default.get(e.rjvId,e.namespace,"expanded",n),object_type:"array"===e.type?"array":"object",parent_type:"array"===e.type?"array":"object",size:t}};var N=function(){var e=this;this.toggleCollapsed=function(){e.setState({expanded:!e.state.expanded},function(){E.default.set(e.props.rjvId,e.props.namespace,"expanded",e.state.expanded)})},this.getObjectContent=function(t,n,r){return f.default.createElement("div",{className:"pushed-content object-container"},f.default.createElement("div",u({className:"object-content"},(0,O.default)(e.props.theme,"pushed-content")),e.renderObjectContents(n,r)))},this.getEllipsis=function(){return 0===e.state.size?null:f.default.createElement("div",u({},(0,O.default)(e.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:e.toggleCollapsed}),"...")},this.getObjectMetaData=function(t){var n=e.props,r=(n.rjvId,n.theme,e.state.size);return f.default.createElement(y.default,u({size:r},e.props))},this.renderObjectContents=function(t,n){var r=e.props,i=r.depth,o=r.parent_type,a=r.index_offset,s=r.groupArraysAfterLength,l=r.namespace,c=e.state.object_type,p=(n.theme,[]),h=void 0,m=Object.keys(t||{});return e.props.sortKeys&&(m=m.sort()),m.forEach(function(r){if(h=new A(r,t[r]),"array_group"===o&&a&&(h.name=parseInt(h.name)+a),t.hasOwnProperty(r))if("object"===h.type)p.push(f.default.createElement(d.JsonObject,u({key:h.name,depth:i+1,name:h.name,src:h.value,namespace:l.concat(h.name),parent_type:c},n)));else if("array"===h.type){var m=d.JsonObject;s&&h.value.length>s&&(m=w.default),p.push(f.default.createElement(m,u({key:h.name,depth:i+1,name:h.name,src:h.value,namespace:l.concat(h.name),type:"array",parent_type:c},n)))}else p.push(f.default.createElement(g.default,u({key:h.name+"_"+l,variable:h,singleIndent:5,namespace:l,type:e.props.type},n)))}),p}},A=function e(t,n){o(this,e),this.name=t,this.value=n,this.type=(0,h.toType)(n)};(0,p.polyfill)(T),t.default=T},function(e,t,n){"use strict";var r=n(70)(!0);n(43)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(17);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(32)("keys"),i=n(23);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(2),i=n(5),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(20)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(9).f,i=n(7),o=n(3)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(28);e.exports=function(e){return Object(r(e))}},function(e,t,n){n(80);for(var r=n(5),i=n(8),o=n(18),a=n(3)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],f=c&&c.prototype;f&&!f[a]&&i(f,a,l),o[l]=o.Array}},function(e,t,n){t.f=n(3)},function(e,t,n){var r=n(5),i=n(2),o=n(20),a=n(37),s=n(9).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){function n(e,t,n){return Math.min(Math.max(e,t),n)}e.exports=n},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){function t(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}this.setState(t.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(63);Object.defineProperty(t,"JsonBoolean",{enumerable:!0,get:function(){return r(i).default}});var o=n(158);Object.defineProperty(t,"JsonDate",{enumerable:!0,get:function(){return r(o).default}});var a=n(159);Object.defineProperty(t,"JsonFloat",{enumerable:!0,get:function(){return r(a).default}});var s=n(160);Object.defineProperty(t,"JsonFunction",{enumerable:!0,get:function(){return r(s).default}});var u=n(165);Object.defineProperty(t,"JsonNan",{enumerable:!0,get:function(){return r(u).default}});var l=n(166);Object.defineProperty(t,"JsonNull",{enumerable:!0,get:function(){return r(l).default}});var c=n(167);Object.defineProperty(t,"JsonInteger",{enumerable:!0,get:function(){return r(c).default}});var f=n(25);Object.defineProperty(t,"JsonObject",{enumerable:!0,get:function(){return r(f).default}});var p=n(168);Object.defineProperty(t,"JsonRegexp",{enumerable:!0,get:function(){return r(p).default}});var h=n(169);Object.defineProperty(t,"JsonString",{enumerable:!0,get:function(){return r(h).default}});var d=n(170);Object.defineProperty(t,"JsonUndefined",{enumerable:!0,get:function(){return r(d).default}})},function(e,t,n){"use strict";var r=n(20),i=n(21),o=n(46),a=n(8),s=n(18),u=n(73),l=n(34),c=n(79),f=n(3)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,d,m,g,v){u(n,t,d);var y,b,w,x=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",C="values"==m,E=!1,S=e.prototype,k=S[f]||S["@@iterator"]||m&&S[m],O=k||x(m),T=m?C?x("entries"):O:void 0,N="Array"==t&&S.entries||k;if(N&&(w=c(N.call(new e)))!==Object.prototype&&w.next&&(l(w,_,!0),r||"function"==typeof w[f]||a(w,f,h)),C&&k&&"values"!==k.name&&(E=!0,O=function(){return k.call(this)}),r&&!v||!p&&!E&&S[f]||a(S,f,O),s[t]=O,s[_]=h,m)if(y={values:C?O:x("values"),keys:g?O:x("keys"),entries:T},v)for(b in y)b in S||o(S,b,y[b]);else i(i.P+i.F*(p||E),t,y);return y}},function(e,t,n){e.exports=!n(10)&&!n(11)(function(){return 7!=Object.defineProperty(n(45)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(17),i=n(5).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=n(8)},function(e,t,n){var r=n(16),i=n(74),o=n(33),a=n(31)("IE_PROTO"),s=function(){},u=function(){var e,t=n(45)("iframe"),r=o.length;for(t.style.display="none",n(78).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(7),i=n(12),o=n(75)(!1),a=n(31)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(30);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(48),i=n(33).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(30),i=n(3)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){function n(e){return e.match(r)}var r=/-?\d+(\.\d+)?%?/g;e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.default=function(e){var t,n=void 0;switch((0,r.toType)(e)){case"undefined":n="undefined";break;case"nan":n="NaN";break;case"string":n=e;break;case"date":case"function":case"regexp":n=e.toString();break;default:try{n=JSON.stringify(e,null,"  ")}catch(e){n=""}}return n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f=n(4),p,h=(r(n(54)),n(15)),d,m=r(n(1)),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.copiedTimer=null,n.handleCopy=function(){var e=document.createElement("textarea"),t=n.props,r=t.clickCallback,i=t.src,o=t.namespace;e.innerHTML=JSON.stringify(n.clipboardValue(i),null,"  "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),n.copiedTimer=setTimeout(function(){n.setState({copied:!1})},5500),n.setState({copied:!0},function(){"function"==typeof r&&r({src:i,namespace:o,name:o[o.length-1]})})},n.getClippyIcon=function(){var e=n.props.theme;return n.state.copied?c.default.createElement("span",null,c.default.createElement(h.Clippy,s({className:"copy-icon"},(0,m.default)(e,"copy-icon"))),c.default.createElement("span",(0,m.default)(e,"copy-icon-copied"),"\u2714")):c.default.createElement(h.Clippy,s({className:"copy-icon"},(0,m.default)(e,"copy-icon")))},n.clipboardValue=function(e){switch((0,f.toType)(e)){case"function":case"regexp":return e.toString();default:return e}},n.state={copied:!1},n}return a(t,e),u(t,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var e=this.props,t=(e.src,e.theme),n=e.hidden,r=(0,m.default)(t,"copy-to-clipboard").style,i="inline";return n&&(i="none"),c.default.createElement("span",{className:"copy-to-clipboard-container"},c.default.createElement("span",{style:s({},r,{display:i}),onClick:this.handleCopy},this.getClippyIcon()))}}]),t}(c.default.PureComponent);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l,c=r(n(0)),f,p=r(n(14)),h,d=r(n(55)),m=n(4),g=n(15),v,y=r(n(1)),b=function(e){function t(){var e,n,r,s;o(this,t);for(var l=arguments.length,f=Array(l),h=0;h<l;h++)f[h]=arguments[h];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.getObjectSize=function(){var e=r.props,t=e.size,n=e.theme;if(e.displayObjectSize)return c.default.createElement("span",u({className:"object-size"},(0,y.default)(n,"object-size")),t," item",1===t?"":"s")},r.getAddAttribute=function(){var e=r.props,t=e.theme,n=e.namespace,o=e.name,a=e.src,s=e.rjvId,l=e.depth;return c.default.createElement("span",{className:"click-to-add",style:{verticalAlign:"top"}},c.default.createElement(g.AddCircle,u({className:"click-to-add-icon"},(0,y.default)(t,"addVarIcon"),{onClick:function(){var e={name:l>0?o:null,namespace:n.splice(0,n.length-1),existing_value:a,variable_removed:!1,key_name:null};"object"===(0,m.toType)(a)?p.default.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:s,data:e}):p.default.dispatch({name:"VARIABLE_ADDED",rjvId:s,data:u({},e,{new_value:[].concat(i(a),[null])})})}})))},r.getRemoveObject=function(){var e=r.props,t=e.theme,n=(e.hover,e.namespace),i=e.name,o=e.src,a=e.rjvId;if(1!==n.length)return c.default.createElement("span",{className:"click-to-remove"},c.default.createElement(g.RemoveCircle,u({className:"click-to-remove-icon"},(0,y.default)(t,"removeVarIcon"),{onClick:function(){p.default.dispatch({name:"VARIABLE_REMOVED",rjvId:a,data:{name:i,namespace:n.splice(0,n.length-1),existing_value:o,variable_removed:!0}})}})))},r.render=function(){var e=r.props,t=e.theme,n=e.onDelete,i=e.onAdd,o=e.enableClipboard,a=e.src,s=e.namespace;return c.default.createElement("div",u({},(0,y.default)(t,"object-meta-data"),{className:"object-meta-data",onClick:function(e){e.stopPropagation()}}),r.getObjectSize(),o?c.default.createElement(d.default,u({clickCallback:o},{src:a,theme:t,namespace:s})):null,!1!==i?r.getAddAttribute():null,!1!==n?r.getRemoveObject():null)},a(r,s=n)}return s(t,e),t}(c.default.PureComponent);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f,p=r(n(0)),h,d=r(n(1)),m,g=r(n(56)),v,y=r(n(58)),b,w=r(n(25)),x=n(59),_=function(e){function t(e){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleCollapsed=function(e){var t=[];for(var r in n.state.expanded)t.push(n.state.expanded[r]);t[e]=!t[e],n.setState({expanded:t})},n.state={expanded:[]},n}return u(t,e),c(t,[{key:"getExpandedIcon",value:function(e){var t=this.props,n=t.theme,r=t.iconStyle;return this.state.expanded[e]?p.default.createElement(x.ExpandedIcon,{theme:n,iconStyle:r}):p.default.createElement(x.CollapsedIcon,{theme:n,iconStyle:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.src,r=t.groupArraysAfterLength,a=(t.depth,t.name),s=t.theme,u=t.jsvRoot,c=t.namespace,f=(t.parent_type,o(t,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),h=0,m=5*this.props.indentWidth;u||(h=5*this.props.indentWidth);var v=r,b=Math.ceil(n.length/v);return p.default.createElement("div",l({className:"object-key-val"},(0,d.default)(s,u?"jsv-root":"objectKeyVal",{paddingLeft:h})),p.default.createElement(y.default,this.props),p.default.createElement("span",null,p.default.createElement(g.default,l({size:n.length},this.props))),[].concat(i(Array(b))).map(function(t,r){return p.default.createElement("div",l({key:r,className:"object-key-val array-group"},(0,d.default)(s,"objectKeyVal",{marginLeft:6,paddingLeft:m})),p.default.createElement("span",(0,d.default)(s,"brace-row"),p.default.createElement("div",l({className:"icon-container"},(0,d.default)(s,"icon-container"),{onClick:function(t){e.toggleCollapsed(r)}}),e.getExpandedIcon(r)),e.state.expanded[r]?p.default.createElement(w.default,l({key:a+r,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:v,index_offset:r*v,src:n.slice(r*v,r*v+v),namespace:c,type:"array",parent_type:"array_group",theme:s},f)):p.default.createElement("span",l({},(0,d.default)(s,"brace"),{onClick:function(t){e.toggleCollapsed(r)},className:"array-group-brace"}),"[",p.default.createElement("div",l({},(0,d.default)(s,"array-group-meta-data"),{className:"array-group-meta-data"}),p.default.createElement("span",l({className:"object-size"},(0,d.default)(s,"object-size")),r*v," - ",r*v+v>n.length?n.length:r*v+v)),"]")))}))}}]),t}(p.default.PureComponent);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.parent_type,n=e.namespace,r=e.theme,i=e.jsvRoot,a=e.name,u=e.name?e.name:"";return!i||!1!==a&&null!==a?"array"==t?s.default.createElement("span",o({},(0,l.default)(r,"array-key"),{key:n}),s.default.createElement("span",{className:"array-key"},u),s.default.createElement("span",(0,l.default)(r,"colon"),":")):s.default.createElement("span",o({},(0,l.default)(r,"object-name"),{key:n}),s.default.createElement("span",{className:"object-key"},s.default.createElement("span",{style:{verticalAlign:"top"}},'"'),s.default.createElement("span",null,u),s.default.createElement("span",{style:{verticalAlign:"top"}},'"')),s.default.createElement("span",(0,l.default)(r,"colon"),":")):s.default.createElement("span",null)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var a,s=r(n(0)),u,l=r(n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.theme;switch(e.iconStyle){case"triangle":return u.default.createElement(f.ArrowDown,a({},(0,c.default)(t,"expanded-icon"),{className:"expanded-icon"}));case"square":return u.default.createElement(f.SquareMinus,a({},(0,c.default)(t,"expanded-icon"),{className:"expanded-icon"}));default:return u.default.createElement(f.CircleMinus,a({},(0,c.default)(t,"expanded-icon"),{className:"expanded-icon"}))}}function o(e){var t=e.theme;switch(e.iconStyle){case"triangle":return u.default.createElement(f.ArrowRight,a({},(0,c.default)(t,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return u.default.createElement(f.SquarePlus,a({},(0,c.default)(t,"collapsed-icon"),{className:"collapsed-icon"}));default:return u.default.createElement(f.CirclePlus,a({},(0,c.default)(t,"collapsed-icon"),{className:"collapsed-icon"}))}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.ExpandedIcon=i,t.CollapsedIcon=o;var s,u=r(n(0)),l,c=r(n(1)),f=n(15)},function(e,t,n){e.exports=n(61)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f=n(41),p,h=r(n(62)),d,m=r(n(177)),g,v=r(n(179)),y=n(4),b,w=r(n(13)),x,_=r(n(1));n(180);var C=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.rjvId=Date.now().toString(),n.getListeners=function(){return{reset:n.resetState,"variable-update":n.updateSrc,"add-key-request":n.addKeyRequest}},n.updateSrc=function(){var e=w.default.get(n.rjvId,"action","variable-update"),t=e.name,r=e.namespace,i=e.new_value,o=e.existing_value,a=(e.variable_removed,e.updated_src),s=e.type,u=n.props,l=u.onEdit,c=u.onDelete,f=u.onAdd,p,h=void 0,d={existing_src:n.state.src,new_value:i,updated_src:a,name:t,namespace:r,existing_value:o};switch(s){case"variable-added":h=f(d);break;case"variable-edited":h=l(d);break;case"variable-removed":h=c(d)}!1!==h?(w.default.set(n.rjvId,"global","src",a),n.setState({src:a})):n.setState({validationFailure:!0})},n.addKeyRequest=function(){n.setState({addKeyRequest:!0})},n.resetState=function(){n.setState({validationFailure:!1,addKeyRequest:!1})},n.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:t.defaultProps.src,name:t.defaultProps.name,theme:t.defaultProps.theme,validationMessage:t.defaultProps.validationMessage,prevSrc:t.defaultProps.src,prevName:t.defaultProps.name,prevTheme:t.defaultProps.theme},n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){w.default.set(this.rjvId,"global","src",this.state.src);var e=this.getListeners();for(var t in e)w.default.on(t+"-"+this.rjvId,e[t]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(e,t){!1!==t.addKeyRequest&&this.setState({addKeyRequest:!1}),!1!==t.editKeyRequest&&this.setState({editKeyRequest:!1}),e.src!==this.state.src&&w.default.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var e=this.getListeners();for(var t in e)w.default.removeListener(t+"-"+this.rjvId,e[t])}},{key:"render",value:function(){var e=this.state,t=e.validationFailure,n=e.validationMessage,r=e.addKeyRequest,i=e.theme,o=e.src,a=e.name,u=this.props,l=u.style,f=u.defaultValue;return c.default.createElement("div",{className:"react-json-view",style:s({},(0,_.default)(i,"app-container").style,l)},c.default.createElement(v.default,{message:n,active:t,theme:i,rjvId:this.rjvId}),c.default.createElement(h.default,s({},this.props,{src:o,name:a,theme:i,type:(0,y.toType)(o),rjvId:this.rjvId})),c.default.createElement(m.default,{active:r,theme:i,rjvId:this.rjvId,defaultValue:f}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){if(e.src!==n.prevSrc||e.name!==n.prevName||e.theme!==n.prevTheme){var r={src:e.src,name:e.name,theme:e.theme,validationMessage:e.validationMessage,prevSrc:e.src,prevName:e.name,prevTheme:e.theme};return t.validateState(r)}return null}}]),t}(c.default.PureComponent);C.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null},C.validateState=function(e){var t={};return"object"!==(0,y.toType)(e.theme)||(0,y.isTheme)(e.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),t.theme="rjv-default"),"object"!==(0,y.toType)(e.src)&&"array"!==(0,y.toType)(e.src)&&(console.error("react-json-view error:","src property must be a valid json object"),t.name="ERROR",t.src={message:"src property must be a valid json object"}),s({},e,t)},(0,f.polyfill)(C),t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u,l=r(n(0)),c,f=r(n(25)),p,h=r(n(57)),d=function(e){function t(){var e,n,r,a;i(this,t);for(var u=arguments.length,c=Array(u),p=0;p<u;p++)c[p]=arguments[p];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.render=function(){var e,t=r.props,n=[t.name],i=f.default;return t.groupArraysAfterLength&&t.src.length>t.groupArraysAfterLength&&(i=h.default),l.default.createElement("div",{className:"pretty-json-container object-container"},l.default.createElement("div",{className:"object-content"},l.default.createElement(i,s({namespace:n,depth:0,jsvRoot:!0},t))))},o(r,a=n)}return a(t,e),t}(l.default.PureComponent);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f,p=r(n(6)),h,d=r(n(1)),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,d.default)(e.theme,"boolean"),c.default.createElement(p.default,s({type_name:"bool"},e)),e.value?"true":"false")}}]),t}(c.default.PureComponent);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rjv_default={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},t.rjv_grey={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputHeight:"25px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBase16Theme=t.createStyling=t.invertTheme=void 0;var i,o=r(n(67)),a,s=r(n(94)),u,l=r(n(99)),c,f=r(n(107)),p,h=r(n(111)),d,m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(112)),g,v=r(n(150)),y,b=r(n(151)),w,x=r(n(156)),_=n(157),C=m.default,E=(0,f.default)(C),S=function(e){return e<.25?1:e<.5?.9-e:1.1-e},k=(0,x.default)(b.default,_.rgb2yuv,function(e){var t=(0,l.default)(e,3),n=t[0],r=t[1],i=t[2];return[S(n),r,i]},_.yuv2rgb,v.default),O=function(e){return function(t){return{className:[t.className,e.className].filter(Boolean).join(" "),style:(0,s.default)({},t.style||{},e.style||{})}}},T=function(e,t){if(void 0===e)return t;if(void 0===t)return e;var n=void 0===e?"undefined":(0,o.default)(e),r=void 0===t?"undefined":(0,o.default)(t);switch(n){case"string":switch(r){case"string":return[t,e].filter(Boolean).join(" ");case"object":return O({className:e,style:t});case"function":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return O({className:e})(t.apply(void 0,[n].concat(i)))}}case"object":switch(r){case"string":return O({className:t,style:e});case"object":return(0,s.default)({},t,e);case"function":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return O({style:e})(t.apply(void 0,[n].concat(i)))}}case"function":switch(r){case"string":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.apply(void 0,[O(n)({className:t})].concat(i))};case"object":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.apply(void 0,[O(n)({style:t})].concat(i))};case"function":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.apply(void 0,[t.apply(void 0,[n].concat(i))].concat(i))}}}},N=function(e,t){var n=(0,f.default)(t);for(var r in e)-1===n.indexOf(r)&&n.push(r);return n.reduce(function(n,r){return n[r]=T(e[r],t[r]),n},{})},A=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(null===t)return e;Array.isArray(t)||(t=[t]);var a,u=t.map(function(t){return e[t]}).filter(Boolean).reduce(function(e,t){return"string"==typeof t?e.className=[e.className,t].filter(Boolean).join(" "):"object"===(void 0===t?"undefined":(0,o.default)(t))?e.style=(0,s.default)({},e.style,t):"function"==typeof t&&(e=(0,s.default)({},e,t.apply(void 0,[e].concat(r)))),e},{className:"",style:{}});return u.className||delete u.className,0===(0,f.default)(u.style).length&&delete u.style,u},I=t.invertTheme=function(e){return(0,f.default)(e).reduce(function(t,n){return t[n]=/^base/.test(n)?k(e[n]):"scheme"===n?e[n]+":inverted":e[n],t},{})},R=(t.createStyling=(0,h.default)(function(e){for(var t=arguments.length,n=Array(t>3?t-3:0),r=3;r<t;r++)n[r-3]=arguments[r];var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.defaultBase16,u=void 0===a?C:a,l=i.base16Themes,c,p=R(o,void 0===l?null:l);p&&(o=(0,s.default)({},p,o));var d=E.reduce(function(e,t){return e[t]=o[t]||u[t],e},{}),m=(0,f.default)(o).reduce(function(e,t){return-1===E.indexOf(t)?(e[t]=o[t],e):e},{}),g=e(d),v=N(m,g);return(0,h.default)(A,2).apply(void 0,[v].concat(n))},3),t.getBase16Theme=function(e,t){if(e&&e.extend&&(e=e.extend),"string"==typeof e){var n=e.split(":"),r=(0,l.default)(n,2),i=r[0],o=r[1];e=(t||{})[i]||m[i],"inverted"===o&&(e=I(e))}return e&&e.hasOwnProperty("base00")?e:void 0})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i,o=r(n(68)),a,s=r(n(83)),u="function"==typeof s.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===u(o.default)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":u(e)}},function(e,t,n){e.exports={default:n(69),__esModule:!0}},function(e,t,n){n(26),n(36),e.exports=n(37).f("iterator")},function(e,t,n){var r=n(27),i=n(28);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(72);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(47),i=n(22),o=n(34),a={};n(8)(a,n(3)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(9),i=n(16),o=n(19);e.exports=n(10)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(12),i=n(76),o=n(77);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=i(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(27),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(27),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(5).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(7),i=n(35),o=n(31)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(81),i=n(82),o=n(18),a=n(12);e.exports=n(43)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(84),__esModule:!0}},function(e,t,n){n(85),n(91),n(92),n(93),e.exports=n(2).Symbol},function(e,t,n){"use strict";var r=n(5),i=n(7),o=n(10),a=n(21),s=n(46),u=n(86).KEY,l=n(11),c=n(32),f=n(34),p=n(23),h=n(3),d=n(37),m=n(38),g=n(87),v=n(88),y=n(16),b=n(17),w=n(12),x=n(29),_=n(22),C=n(47),E=n(89),S=n(90),k=n(9),O=n(19),T=S.f,N=k.f,A=E.f,I=r.Symbol,R=r.JSON,P=R&&R.stringify,M=h("_hidden"),j=h("toPrimitive"),D={}.propertyIsEnumerable,L=c("symbol-registry"),F=c("symbols"),z=c("op-symbols"),B=Object.prototype,U="function"==typeof I,W=r.QObject,V=!W||!W.prototype||!W.prototype.findChild,H=o&&l(function(){return 7!=C(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=T(B,t);r&&delete B[t],N(e,t,n),r&&e!==B&&N(B,t,r)}:N,G=function(e){var t=F[e]=C(I.prototype);return t._k=e,t},q=U&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},K=function(e,t,n){return e===B&&K(z,t,n),y(e),t=x(t,!0),y(n),i(F,t)?(n.enumerable?(i(e,M)&&e[M][t]&&(e[M][t]=!1),n=C(n,{enumerable:_(0,!1)})):(i(e,M)||N(e,M,_(1,{})),e[M][t]=!0),H(e,t,n)):N(e,t,n)},X=function(e,t){y(e);for(var n,r=g(t=w(t)),i=0,o=r.length;o>i;)K(e,n=r[i++],t[n]);return e},Y=function(e,t){return void 0===t?C(e):X(C(e),t)},Z=function(e){var t=D.call(this,e=x(e,!0));return!(this===B&&i(F,e)&&!i(z,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,M)&&this[M][e])||t)},$=function(e,t){if(e=w(e),t=x(t,!0),e!==B||!i(F,t)||i(z,t)){var n=T(e,t);return!n||!i(F,t)||i(e,M)&&e[M][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=A(w(e)),r=[],o=0;n.length>o;)i(F,t=n[o++])||t==M||t==u||r.push(t);return r},Q=function(e){for(var t,n=e===B,r=A(n?z:w(e)),o=[],a=0;r.length>a;)!i(F,t=r[a++])||n&&!i(B,t)||o.push(F[t]);return o};U||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(z,n),i(this,M)&&i(this[M],e)&&(this[M][e]=!1),H(this,e,_(1,n))};return o&&V&&H(B,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",function(){return this._k}),S.f=$,k.f=K,n(50).f=E.f=J,n(24).f=Z,n(39).f=Q,o&&!n(20)&&s(B,"propertyIsEnumerable",Z,!0),d.f=function(e){return G(h(e))}),a(a.G+a.W+a.F*!U,{Symbol:I});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ne=O(h.store),re=0;ne.length>re;)m(ne[re++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=I(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!U,"Object",{create:Y,defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),R&&a(a.S+a.F*(!U||l(function(){var e=I();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!q(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,P.apply(R,r)}}),I.prototype[j]||n(8)(I.prototype,j,I.prototype.valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(23)("meta"),i=n(17),o=n(7),a=n(9).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(11)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},p=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},h=function(e){return l&&d.NEED&&u(e)&&!o(e,r)&&c(e),e},d=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:h}},function(e,t,n){var r=n(19),i=n(39),o=n(24);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var r=n(30);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(12),i=n(50).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(24),i=n(22),o=n(12),a=n(29),s=n(7),u=n(44),l=Object.getOwnPropertyDescriptor;t.f=n(10)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(38)("asyncIterator")},function(e,t,n){n(38)("observable")},function(e,t,n){"use strict";t.__esModule=!0;var r,i=function(e){return e&&e.__esModule?e:{default:e}}(n(95));t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(96),__esModule:!0}},function(e,t,n){n(97),e.exports=n(2).Object.assign},function(e,t,n){var r=n(21);r(r.S+r.F,"Object",{assign:n(98)})},function(e,t,n){"use strict";var r=n(19),i=n(39),o=n(24),a=n(35),s=n(49),u=Object.assign;e.exports=!u||n(11)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,l=1,c=i.f,f=o.f;u>l;)for(var p,h=s(arguments[l++]),d=c?r(h).concat(c(h)):r(h),m=d.length,g=0;m>g;)f.call(h,p=d[g++])&&(n[p]=h[p]);return n}:u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i,o=r(n(100)),a,s=r(n(103));t.default=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=(0,s.default)(e);!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={default:n(101),__esModule:!0}},function(e,t,n){n(36),n(26),e.exports=n(102)},function(e,t,n){var r=n(51),i=n(3)("iterator"),o=n(18);e.exports=n(2).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(104),__esModule:!0}},function(e,t,n){n(36),n(26),e.exports=n(105)},function(e,t,n){var r=n(16),i=n(106);e.exports=n(2).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(51),i=n(3)("iterator"),o=n(18);e.exports=n(2).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){e.exports={default:n(108),__esModule:!0}},function(e,t,n){n(109),e.exports=n(2).Object.keys},function(e,t,n){var r=n(35),i=n(19);n(110)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(21),i=n(2),o=n(11);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){(function(t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function i(e,t){return!(!e||!e.length)&&a(e,t,0)>-1}function o(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function a(e,t,n){if(t!=t)return o(e,s,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function s(e){return e!=e}function u(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function l(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function f(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==H||(e[n]=H,o[i++]=n)}return o}function p(e){return j(e)?Ae(e):{}}function h(e){return!(!j(e)||N(e))&&(M(e)||c(e)?Ne:me).test(I(e))}function d(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,l=Ie(o-a,0),c=Array(u+l),f=!r;++s<u;)c[s]=t[s];for(;++i<a;)(f||i<o)&&(c[n[i]]=e[i]);for(;l--;)c[s++]=e[i++];return c}function m(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,l=t.length,c=Ie(o-s,0),f=Array(c+l),p=!r;++i<c;)f[i]=e[i];for(var h=i;++u<l;)f[h+u]=t[u];for(;++a<s;)(p||i<o)&&(f[h+n[a]]=e[i++]);return f}function g(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function v(e,t,n){function r(){return(this&&this!==xe&&this instanceof r?o:e).apply(i?n:this,arguments)}var i=t&G,o=y(e);return r}function y(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=p(e.prototype),r=e.apply(n,t);return j(r)?r:n}}function b(e,t,r){function i(){for(var a=arguments.length,s=Array(a),u=a,l=E(i);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:f(s,l);return(a-=c.length)<r?_(e,t,w,i.placeholder,void 0,s,c,void 0,void 0,r-a):n(this&&this!==xe&&this instanceof i?o:e,this,s)}var o=y(e);return i}function w(e,t,n,r,i,o,a,s,l,c){function p(){for(var S=arguments.length,k=Array(S),O=S;O--;)k[O]=arguments[O];if(b)var T=E(p),N=u(k,T);if(r&&(k=d(k,r,i,b)),o&&(k=m(k,o,a,b)),S-=N,b&&S<c){var I=f(k,T);return _(e,t,w,p.placeholder,n,k,I,s,l,c-S)}var R=g?n:this,P=v?R[e]:e;return S=k.length,s?k=A(k,s):x&&S>1&&k.reverse(),h&&l<S&&(k.length=l),this&&this!==xe&&this instanceof p&&(P=C||y(P)),P.apply(R,k)}var h=t&J,g=t&G,v=t&q,b=t&(X|Y),x=t&Q,C=v?void 0:y(e);return p}function x(e,t,r,i){function o(){for(var t=-1,u=arguments.length,l=-1,c=i.length,f=Array(c+u),p=this&&this!==xe&&this instanceof o?s:e;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++t];return n(p,a?r:this,f)}var a=t&G,s=y(e);return o}function _(e,t,n,r,i,o,a,s,u,l){var c=t&X,f,p,h,d;t|=c?Z:$,(t&=~(c?$:Z))&K||(t&=~(G|q));var m=n(e,t,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,u,l);return m.placeholder=r,Me(m,e,t)}function C(e,t,n,r,i,o,a,s){var u=t&q;if(!u&&"function"!=typeof e)throw new TypeError(V);var l=r?r.length:0;if(l||(t&=~(Z|$),r=i=void 0),a=void 0===a?a:Ie(z(a),0),s=void 0===s?s:z(s),l-=i?i.length:0,t&$){var c=r,f=i;r=i=void 0}var p=[e,t,n,r,i,c,f,o,a,s];if(e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],!(s=p[9]=null==p[9]?u?0:e.length:Ie(p[9]-l,0))&&t&(X|Y)&&(t&=~(X|Y)),t&&t!=G)h=t==X||t==Y?b(e,t,s):t!=Z&&t!=(G|Z)||i.length?w.apply(void 0,p):x(e,t,n,r);else var h=v(e,t,n);return Me(h,e,t)}function E(e){return e.placeholder}function S(e,t){var n=l(e,t);return h(n)?n:void 0}function k(e){var t=e.match(fe);return t?t[1].split(pe):[]}function O(e,t){var n=t.length,r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}function T(e,t){return!!(t=null==t?te:t)&&("number"==typeof e||ve.test(e))&&e>-1&&e%1==0&&e<t}function N(e){return!!Se&&Se in e}function A(e,t){for(var n=e.length,r=Re(t.length,n),i=g(e);r--;){var o=t[r];e[r]=T(o,n)?i[o]:void 0}return e}function I(e){if(null!=e){try{return ke.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function R(e,t){return r(ie,function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)}),e.sort()}function P(e,t,n){var r=C(e,X,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=P.placeholder,r}function M(e){var t=j(e)?Te.call(e):"";return t==oe||t==ae}function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function D(e){return!!e&&"object"==typeof e}function L(e){return"symbol"==typeof e||D(e)&&Te.call(e)==se}function F(e){return e?(e=B(e))===ee||e===-ee?(e<0?-1:1)*ne:e==e?e:0:0===e?e:0}function z(e){var t=F(e),n=t%1;return t==t?n?t-n:t:0}function B(e){if("number"==typeof e)return e;if(L(e))return re;if(j(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=j(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(le,"");var n=de.test(e);return n||ge.test(e)?ye(e.slice(2),n?2:8):he.test(e)?re:+e}function U(e){return function(){return e}}function W(e){return e}var V="Expected a function",H="__lodash_placeholder__",G=1,q=2,K=4,X=8,Y=16,Z=32,$=64,J=128,Q=512,ee=1/0,te=9007199254740991,ne=1.7976931348623157e308,re=NaN,ie=[["ary",J],["bind",G],["bindKey",q],["curry",X],["curryRight",Y],["flip",Q],["partial",Z],["partialRight",$],["rearg",256]],oe="[object Function]",ae="[object GeneratorFunction]",se="[object Symbol]",ue=/[\\^$.*+?()[\]{}|]/g,le=/^\s+|\s+$/g,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fe=/\{\n\/\* \[wrapped with (.+)\] \*/,pe=/,? & /,he=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=parseInt,be="object"==typeof t&&t&&t.Object===Object&&t,we="object"==typeof self&&self&&self.Object===Object&&self,xe=be||we||Function("return this")(),_e=Function.prototype,Ce=Object.prototype,Ee=xe["__core-js_shared__"],Se=function(){var e=/[^.]+$/.exec(Ee&&Ee.keys&&Ee.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ke=_e.toString,Oe=Ce.hasOwnProperty,Te=Ce.toString,Ne=RegExp("^"+ke.call(Oe).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=Object.create,Ie=Math.max,Re=Math.min,Pe=function(){var e=S(Object,"defineProperty"),t=S.name;return t&&t.length>2?e:void 0}(),Me=Pe?function(e,t,n){var r=t+"";return Pe(e,"toString",{configurable:!0,enumerable:!1,value:U(O(r,R(k(r),n)))})}:W;P.placeholder={},e.exports=P}).call(t,n(52))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var i=n(113);t.threezerotwofour=r(i);var o=n(114);t.apathy=r(o);var a=n(115);t.ashes=r(a);var s=n(116);t.atelierDune=r(s);var u=n(117);t.atelierForest=r(u);var l=n(118);t.atelierHeath=r(l);var c=n(119);t.atelierLakeside=r(c);var f=n(120);t.atelierSeaside=r(f);var p=n(121);t.bespin=r(p);var h=n(122);t.brewer=r(h);var d=n(123);t.bright=r(d);var m=n(124);t.chalk=r(m);var g=n(125);t.codeschool=r(g);var v=n(126);t.colors=r(v);var y=n(127);t.default=r(y);var b=n(128);t.eighties=r(b);var w=n(129);t.embers=r(w);var x=n(130);t.flat=r(x);var _=n(131);t.google=r(_);var C=n(132);t.grayscale=r(C);var E=n(133);t.greenscreen=r(E);var S=n(134);t.harmonic=r(S);var k=n(135);t.hopscotch=r(k);var O=n(136);t.isotope=r(O);var T=n(137);t.marrakesh=r(T);var N=n(138);t.mocha=r(N);var A=n(139);t.monokai=r(A);var I=n(140);t.ocean=r(I);var R=n(141);t.paraiso=r(R);var P=n(142);t.pop=r(P);var M=n(143);t.railscasts=r(M);var j=n(144);t.shapeshifter=r(j);var D=n(145);t.solarized=r(D);var L=n(146);t.summerfruit=r(L);var F=n(147);t.tomorrow=r(F);var z=n(148);t.tube=r(z);var B=n(149);t.twilight=r(B)},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"brewer",author:"timoth\xe9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},e.exports=t.default},function(e,t,n){function r(e){var t,n=Math.round(o(e,0,255)).toString(16);return 1==n.length?"0"+n:n}function i(e){var t=4===e.length?r(255*e[3]):"";return"#"+r(e[0])+r(e[1])+r(e[2])+t}var o=n(40);e.exports=i},function(e,t,n){function r(e){var t=o(e),n=u(t);return 4===t.length&&n.push(t[3]),n}function i(e){for(var t in l)if(0===e.indexOf(t))return l[t](e)}var o=n(152),a=n(153),s=n(154),u=n(155),l={"#":a,hsl:r,rgb:s};i.rgb=s,i.hsl=o,i.hex=a,e.exports=i},function(e,t,n){function r(e,t){switch(e=parseFloat(e),t){case 0:return a(e,0,360);case 1:case 2:return a(e,0,100);case 3:return a(e,0,1)}}function i(e){return o(e).map(r)}var o=n(53),a=n(40);e.exports=i},function(e,t){function n(e){for(var t="#",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}function r(e){4!==e.length&&5!==e.length||(e=n(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var r=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(r)}return t}e.exports=r},function(e,t,n){function r(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*a(parseInt(e,10),0,100)/100):a(parseInt(e,10),0,255):a(parseFloat(e),0,1)}function i(e){return o(e).map(r)}var o=n(53),a=n(40);e.exports=i},function(e,t){function n(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,u=e[2]/100;if(0==s)return[o=255*u,o,o];t=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*o;return i}e.exports=n},function(e,t,n){(function(t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function i(e,t,n,o,s){var u=-1,l=e.length;for(n||(n=a),s||(s=[]);++u<l;){var c=e[u];t>0&&n(c)?t>1?i(c,t-1,n,o,s):r(s,c):o||(s[s.length]=c)}return s}function o(e,t){return t=O(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=O(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=a,n(e,this,s)}}function a(e){return T(e)||s(e)||!!(k&&e&&e[k])}function s(e){return l(e)&&_.call(e,"callee")&&(!S.call(e,"callee")||C.call(e)==m)}function u(e){return null!=e&&f(e.length)&&!c(e)}function l(e){return h(e)&&u(e)}function c(e){var t=p(e)?C.call(e):"";return t==g||t==v}function f(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){return!!e&&"object"==typeof e}var d=9007199254740991,m="[object Arguments]",g="[object Function]",v="[object GeneratorFunction]",y="object"==typeof t&&t&&t.Object===Object&&t,b="object"==typeof self&&self&&self.Object===Object&&self,w=y||b||Function("return this")(),x=Object.prototype,_=x.hasOwnProperty,C=x.toString,E=w.Symbol,S=x.propertyIsEnumerable,k=E?E.isConcatSpreadable:void 0,O=Math.max,T=Array.isArray,N=function(e){return o(function(e){for(var t=(e=i(e,1)).length,n=t;n--;)if("function"!=typeof e[n])throw new TypeError("Expected a function");return function(){for(var n=0,r=t?e[n].apply(this,arguments):arguments[0];++n<t;)r=e[n].call(this,r);return r}})}();e.exports=N}).call(t,n(52))},function(e,t,n){"use strict";function r(e){var t,n,r,i=e[0],o=e[1],a=e[2];return t=1*i+0*o+1.13983*a,n=1*i+-.39465*o+-.5806*a,r=1*i+2.02311*o+0*a,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]}function i(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[.299*t+.587*n+.114*r,-.14713*t+-.28886*n+.436*r,.615*t+-.51499*n+-.10001*r]}Object.defineProperty(t,"__esModule",{value:!0}),t.yuv2rgb=r,t.rgb2yuv=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f,p=r(n(6)),h,d=r(n(1)),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return c.default.createElement("div",(0,d.default)(e.theme,"date"),c.default.createElement(p.default,s({type_name:"date"},e)),c.default.createElement("span",s({className:"date-value"},(0,d.default)(e.theme,"date-value")),e.value.toLocaleTimeString("en-us",t)))}}]),t}(c.default.PureComponent);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f,p=r(n(6)),h,d=r(n(1)),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,d.default)(e.theme,"float"),c.default.createElement(p.default,s({type_name:"float"},e)),this.props.value)}}]),t}(c.default.PureComponent);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f,p=r(n(6)),h,d=r(n(1)),m,g=r(n(13)),v=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return y.call(n),n.state={collapsed:g.default.get(e.rjvId,e.namespace,"collapsed",!0)},n}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=this.state.collapsed;return c.default.createElement("div",(0,d.default)(e.theme,"function"),c.default.createElement(p.default,s({type_name:"function"},e)),c.default.createElement("span",s({},(0,d.default)(e.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(t)))}}]),t}(c.default.PureComponent),y=function(){var e=this;this.toggleCollapsed=function(){e.setState({collapsed:!e.state.collapsed},function(){g.default.set(e.props.rjvId,e.props.namespace,"collapsed",e.state.collapsed)})},this.getFunctionDisplay=function(t){var n=e.props;return t?c.default.createElement("span",null,e.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),c.default.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},c.default.createElement("span",null,"{"),c.default.createElement("span",(0,d.default)(n.theme,"ellipsis"),"..."),c.default.createElement("span",null,"}"))):e.props.value.toString().slice(9,-1)}};t.default=v},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(a(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),i=(l=n.slice()).length,u=0;u<i;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){e.exports.Dispatcher=n(163)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=n(164),o=function(){function e(){r(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||i(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||i(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||i(!1):(this._callbacks[n]||i(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&i(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,u],f=0;(l=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,l=r(n(0)),c,f=r(n(1)),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",(0,f.default)(this.props.theme,"nan"),"NaN")}}]),t}(l.default.PureComponent);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,l=r(n(0)),c,f=r(n(1)),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",(0,f.default)(this.props.theme,"null"),"NULL")}}]),t}(l.default.PureComponent);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f,p=r(n(6)),h,d=r(n(1)),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,d.default)(e.theme,"integer"),c.default.createElement(p.default,s({type_name:"int"},e)),this.props.value)}}]),t}(c.default.PureComponent);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f,p=r(n(6)),h,d=r(n(1)),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,d.default)(e.theme,"regexp"),c.default.createElement(p.default,s({type_name:"regexp"},e)),this.props.value.toString())}}]),t}(c.default.PureComponent);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f,p=r(n(6)),h=n(4),d,m=r(n(1)),g,v=r(n(13)),y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleCollapsed=function(){n.setState({collapsed:!n.state.collapsed},function(){v.default.set(n.props.rjvId,n.props.namespace,"collapsed",n.state.collapsed)})},n.state={collapsed:v.default.get(e.rjvId,e.namespace,"collapsed",!0)},n}return a(t,e),u(t,[{key:"render",value:function(){var e=(this.state.collapsed,this.props),t=e.collapseStringsAfterLength,n=e.theme,r=e.value,i,o={style:{cursor:"default"}};return"integer"===(0,h.toType)(t)&&r.length>t&&(o.style.cursor="pointer",this.state.collapsed&&(r=c.default.createElement("span",null,r.substring(0,t),c.default.createElement("span",(0,m.default)(n,"ellipsis")," ...")))),c.default.createElement("div",(0,m.default)(n,"string"),c.default.createElement(p.default,s({type_name:"string"},e)),c.default.createElement("span",s({className:"string-value"},o,{onClick:this.toggleCollapsed}),'"',r,'"'))}}]),t}(c.default.PureComponent);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,l=r(n(0)),c,f=r(n(1)),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",(0,f.default)(this.props.theme,"undefined"),"undefined")}}]),t}(l.default.PureComponent);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c,f=r(n(0)),p,h=r(n(172)),d,m=r((n(4),n(14))),g,v=r(n(176)),y,b=r(n(54)),w,x=r(n(55)),_=n(42),C=n(15),E,S=r(n(1)),k=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return O.call(n),n.state={editMode:!1,editValue:"",renameKey:!1,parsedInput:{type:!1,value:null}},n}return s(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.variable,r=(t.src,t.singleIndent),o=t.type,a=t.theme,s=t.namespace,l=t.indentWidth,c=t.enableClipboard,p=t.onEdit,h=t.onDelete,d=t.onSelect,m=(t.rjvId,this.state.editMode);return f.default.createElement("div",u({},(0,S.default)(a,"objectKeyVal",{paddingLeft:l*r}),{className:"variable-row",key:n.name}),"array"==o?f.default.createElement("span",u({},(0,S.default)(a,"array-key"),{key:n.name+"_"+s}),n.name,f.default.createElement("div",(0,S.default)(a,"colon"),":")):f.default.createElement("span",null,f.default.createElement("span",u({},(0,S.default)(a,"object-name"),{className:"object-key",key:n.name+"_"+s}),f.default.createElement("span",{style:{verticalAlign:"top"}},'"'),f.default.createElement("span",{style:{display:"inline-block"}},n.name),f.default.createElement("span",{style:{verticalAlign:"top"}},'"')),f.default.createElement("span",(0,S.default)(a,"colon"),":")),f.default.createElement("div",u({className:"variable-value",onClick:!1===d&&!1===p?null:function(t){var r=[].concat(i(s));(t.ctrlKey||t.metaKey)&&!1!==p?e.prepopInput(n):!1!==d&&(r.shift(),d(u({},n,{namespace:r})))}},(0,S.default)(a,"variableValue",{cursor:!1===d?"default":"pointer"})),this.getValue(n,m)),c?f.default.createElement(x.default,u({hidden:m,src:n.value,clickCallback:c},{theme:a,namespace:s})):null,!1!==p&&0==m?this.getEditIcon():null,!1!==h&&0==m?this.getRemoveIcon():null)}}]),t}(f.default.PureComponent),O=function(){var e=this;this.getEditIcon=function(){var t=e.props,n=t.variable,r=t.theme;return f.default.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top"}},f.default.createElement(C.Edit,u({className:"click-to-edit-icon"},(0,S.default)(r,"editVarIcon"),{onClick:function(){e.prepopInput(n)}})))},this.prepopInput=function(t){if(!1!==e.props.onEdit){var n=(0,b.default)(t.value),r=(0,v.default)(n);e.setState({editMode:!0,editValue:n,parsedInput:{type:r.type,value:r.value}})}},this.getRemoveIcon=function(){var t=e.props,n=t.variable,r=t.namespace,i=t.theme,o=t.rjvId;return f.default.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top"}},f.default.createElement(C.RemoveCircle,u({className:"click-to-remove-icon"},(0,S.default)(i,"removeVarIcon"),{onClick:function(){m.default.dispatch({name:"VARIABLE_REMOVED",rjvId:o,data:{name:n.name,namespace:r,existing_value:n.value,variable_removed:!0}})}})))},this.getValue=function(t,n){var r=!n&&t.type,i=e.props;switch(r){case!1:return e.getEditInput();case"string":return f.default.createElement(_.JsonString,u({value:t.value},i));case"integer":return f.default.createElement(_.JsonInteger,u({value:t.value},i));case"float":return f.default.createElement(_.JsonFloat,u({value:t.value},i));case"boolean":return f.default.createElement(_.JsonBoolean,u({value:t.value},i));case"function":return f.default.createElement(_.JsonFunction,u({value:t.value},i));case"null":return f.default.createElement(_.JsonNull,i);case"nan":return f.default.createElement(_.JsonNan,i);case"undefined":return f.default.createElement(_.JsonUndefined,i);case"date":return f.default.createElement(_.JsonDate,u({value:t.value},i));case"regexp":return f.default.createElement(_.JsonRegexp,u({value:t.value},i));default:return f.default.createElement("div",{className:"object-value"},JSON.stringify(t.value))}},this.getEditInput=function(){var t=e.props.theme,n=e.state.editValue;return f.default.createElement("div",null,f.default.createElement(h.default,u({type:"text",inputRef:function(e){return e&&e.focus()},value:n,className:"variable-editor",onChange:function(t){var n=t.target.value,r=(0,v.default)(n);e.setState({editValue:n,parsedInput:{type:r.type,value:r.value}})},onKeyDown:function(t){switch(t.key){case"Escape":e.setState({editMode:!1,editValue:""});break;case"Enter":(t.ctrlKey||t.metaKey)&&e.submitEdit(!0)}t.stopPropagation()},placeholder:"update this value"},(0,S.default)(t,"edit-input"))),f.default.createElement("div",(0,S.default)(t,"edit-icon-container"),f.default.createElement(C.RemoveCircle,u({className:"edit-cancel"},(0,S.default)(t,"cancel-icon"),{onClick:function(){e.setState({editMode:!1,editValue:""})}})),f.default.createElement(C.CheckCircle,u({className:"edit-check string-value"},(0,S.default)(t,"check-icon"),{onClick:function(){e.submitEdit()}})),f.default.createElement("div",null,e.showDetected())))},this.submitEdit=function(t){var n=e.props,r=n.variable,i=n.namespace,o=n.rjvId,a=e.state,s=a.editValue,u=a.parsedInput,l=s;t&&u.type&&(l=u.value),e.setState({editMode:!1}),m.default.dispatch({name:"VARIABLE_UPDATED",rjvId:o,data:{name:r.name,namespace:i,existing_value:r.value,new_value:l,variable_removed:!1}})},this.showDetected=function(){var t=e.props,n=t.theme,r=(t.variable,t.namespace,t.rjvId,e.state.parsedInput),i=(r.type,r.value,e.getDetectedInput());if(i)return f.default.createElement("div",null,f.default.createElement("div",(0,S.default)(n,"detected-row"),i,f.default.createElement(C.CheckCircle,{className:"edit-check detected",style:u({verticalAlign:"top",paddingLeft:"3px"},(0,S.default)(n,"check-icon").style),onClick:function(){e.submitEdit(!0)}})))},this.getDetectedInput=function(){var t=e.state.parsedInput,n=t.type,r=t.value,i=e.props,o=i.theme;if(!1!==n)switch(n.toLowerCase()){case"object":return f.default.createElement("span",null,f.default.createElement("span",{style:u({},(0,S.default)(o,"brace").style,{cursor:"default"})},"{"),f.default.createElement("span",{style:u({},(0,S.default)(o,"ellipsis").style,{cursor:"default"})},"..."),f.default.createElement("span",{style:u({},(0,S.default)(o,"brace").style,{cursor:"default"})},"}"));case"array":return f.default.createElement("span",null,f.default.createElement("span",{style:u({},(0,S.default)(o,"brace").style,{cursor:"default"})},"["),f.default.createElement("span",{style:u({},(0,S.default)(o,"ellipsis").style,{cursor:"default"})},"..."),f.default.createElement("span",{style:u({},(0,S.default)(o,"brace").style,{cursor:"default"})},"]"));case"string":return f.default.createElement(_.JsonString,u({value:r},i));case"integer":return f.default.createElement(_.JsonInteger,u({value:r},i));case"float":return f.default.createElement(_.JsonFloat,u({value:r},i));case"boolean":return f.default.createElement(_.JsonBoolean,u({value:r},i));case"function":return f.default.createElement(_.JsonFunction,u({value:r},i));case"null":return f.default.createElement(_.JsonNull,i);case"nan":return f.default.createElement(_.JsonNan,i);case"undefined":return f.default.createElement(_.JsonUndefined,i);case"date":return f.default.createElement(_.JsonDate,u({value:new Date(r)},i))}}};t.default=k},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e,t,n,r,i){void 0===n&&(n=!1),void 0===r&&(r=null),void 0===i&&(i=null),null===v.parentNode&&document.body.appendChild(v);var o=s(e,t,n);if(null===o)return null;var a=o.paddingSize,u=o.borderSize,l=o.boxSizing,c=o.sizingStyle;Object.keys(c).forEach(function(e){v.style[e]=c[e]}),y(v),v.value=e.value||e.placeholder||"x";var f=-1/0,p=1/0,h=v.scrollHeight;"border-box"===l?h+=u:"content-box"===l&&(h-=a),v.value="x";var d=v.scrollHeight-a;return null===r&&null===i||(null!==r&&(f=d*r,"border-box"===l&&(f=f+a+u),h=Math.max(f,h)),null!==i&&(p=d*i,"border-box"===l&&(p=p+a+u),h=Math.min(p,h))),{height:h,minHeight:f,maxHeight:p,rowCount:Math.floor(h/d)}}function s(e,t,n){if(void 0===n&&(n=!1),n&&g[t])return g[t];var r=window.getComputedStyle(e);if(null===r)return null;var i=m.reduce(function(e,t){return e[t]=r.getPropertyValue(t),e},{}),o=i["box-sizing"];if(""===o)return null;h&&"border-box"===o&&(i.width=parseFloat(i.width)+parseFloat(r["border-right-width"])+parseFloat(r["border-left-width"])+parseFloat(r["padding-right"])+parseFloat(r["padding-left"])+"px");var a,s,u={sizingStyle:i,paddingSize:parseFloat(i["padding-bottom"])+parseFloat(i["padding-top"]),borderSize:parseFloat(i["border-bottom-width"])+parseFloat(i["border-top-width"]),boxSizing:o};return n&&(g[t]=u),u}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),l=n.n(u),c=n(173),f=n.n(c),p=(Object.setPrototypeOf,"object"==typeof Reflect&&Reflect.construct,"undefined"!=typeof window&&"undefined"!=typeof document),h=!!p&&!!document.documentElement.currentStyle,d={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},m=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],g={},v=p&&document.createElement("textarea"),y=function(e){Object.keys(d).forEach(function(t){e.style.setProperty(t,d[t],"important")})};p&&y(v);var b=function(e){return delete g[e]},w=function(e){return void 0===e&&(e=0),function(){return++e}}(),x=function(){},_=p&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],C=_[0],E=_[1],S=function(e){function t(t){var n;return(n=e.call(this,t)||this)._resizeLock=!1,n._onRootDOMNode=function(e){n._rootDOMNode=e,n.props.inputRef(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e)},n._resizeComponent=function(e){if(void 0===e&&(e=x),void 0!==n._rootDOMNode){var t=a(n._rootDOMNode,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null!==t){var r=t.height,i=t.minHeight,o=t.maxHeight,s=t.rowCount;n.rowCount=s,n.state.height===r&&n.state.minHeight===i&&n.state.maxHeight===o?e():n.setState({height:r,minHeight:i,maxHeight:o},e)}else e()}else e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=w(),n._controlled="string"==typeof t.value,n}i(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,o(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=r({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),l.a.createElement("textarea",r({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},n.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent(function(){return e._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},n.componentDidUpdate=function(e,t){var n=this;e!==this.props&&(this._clearNextFrame(),this._onNextFrameActionId=C(function(){return n._resizeComponent()})),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},n.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),b(this._uid)},n._clearNextFrame=function(){E(this._onNextFrameActionId)},t}(l.a.Component);S.propTypes={inputRef:f.a.func,maxRows:f.a.number,minRows:f.a.number,onChange:f.a.func,onHeightChange:f.a.func,useCacheForDOMMeasurements:f.a.bool,value:f.a.string},S.defaultProps={inputRef:x,onChange:x,onHeightChange:x,useCacheForDOMMeasurements:!1},t.default=S},function(e,t,n){e.exports=n(174)()},function(e,t,n){"use strict";function r(){}var i=n(175);e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){e=e.trim();try{if("["===(e=JSON.stringify(JSON.parse(e)))[0])return i("array",JSON.parse(e));if("{"===e[0])return i("object",JSON.parse(e));if(e.match(/\-?\d+\.\d+/)&&e.match(/\-?\d+\.\d+/)[0]===e)return i("float",parseFloat(e));if(e.match(/\-?\d+/)&&e.match(/\-?\d+/)[0]===e)return i("integer",parseInt(e))}catch(e){}switch(e=e.toLowerCase()){case"undefined":return i("undefined",void 0);case"nan":return i("nan",NaN);case"null":return i("null",null);case"true":return i("boolean",!0);case"false":return i("boolean",!1);default:if(e=Date.parse(e))return i("date",new Date(e))}return i(!1,null)}function i(e,t){return{type:e,value:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f,p=r(n(14)),h,d=r(n(13)),m,g=r(n(178)),v,y=(r(n(1)),function(e){function t(){var e,n,r,a;i(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.isValid=function(e){var t=r.props.rjvId,n=d.default.get(t,"action","new-key-request");return""!=e&&-1===Object.keys(n.existing_value).indexOf(e)},r.submit=function(e){var t=r.props.rjvId,n=d.default.get(t,"action","new-key-request");n.new_value=s({},n.existing_value),n.new_value[e]=r.props.defaultValue,p.default.dispatch({name:"VARIABLE_ADDED",rjvId:t,data:n})},o(r,a=n)}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.theme,r=e.rjvId;return t?c.default.createElement(g.default,{rjvId:r,theme:n,isValid:this.isValid,submit:this.submit}):null}}]),t}(c.default.PureComponent));t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f,p=r(n(14)),h=n(15),d,m=r(n(1)),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closeModal=function(){p.default.dispatch({rjvId:n.props.rjvId,name:"RESET"})},n.submit=function(){n.props.submit(n.state.input)},n.state={input:e.input?e.input:""},n}return a(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.rjvId,i=t.isValid,o=this.state.input,a=i(o);return c.default.createElement("div",s({className:"key-modal-request"},(0,m.default)(n,"key-modal-request"),{onClick:this.closeModal}),c.default.createElement("div",s({},(0,m.default)(n,"key-modal"),{onClick:function(e){e.stopPropagation()}}),c.default.createElement("div",(0,m.default)(n,"key-modal-label"),"Key Name:"),c.default.createElement("div",{style:{position:"relative"}},c.default.createElement("input",s({},(0,m.default)(n,"key-modal-input"),{className:"key-modal-input",ref:function(e){return e&&e.focus()},spellCheck:!1,value:o,placeholder:"...",onChange:function(t){e.setState({input:t.target.value})},onKeyPress:function(t){a&&"Enter"===t.key?e.submit():"Escape"===t.key&&e.closeModal()}})),a?c.default.createElement(h.CheckCircle,s({},(0,m.default)(n,"key-modal-submit"),{className:"key-modal-submit",onClick:function(t){return e.submit()}})):null),c.default.createElement("span",(0,m.default)(n,"key-modal-cancel"),c.default.createElement(h.Add,s({},(0,m.default)(n,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){p.default.dispatch({rjvId:r,name:"RESET"})}})))))}}]),t}(c.default.PureComponent);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,c=r(n(0)),f,p=r(n(14)),h,d=(r(n(13)),n(15)),m,g=r(n(1)),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.active,r=e.theme,i=e.rjvId;return n?c.default.createElement("div",s({className:"validation-failure"},(0,g.default)(r,"validation-failure"),{onClick:function(){p.default.dispatch({rjvId:i,name:"RESET"})}}),c.default.createElement("span",(0,g.default)(r,"validation-failure-label"),t),c.default.createElement(d.Add,(0,g.default)(r,"validation-failure-clear"))):null}}]),t}(c.default.PureComponent);t.default=v},function(e,t,n){var r=n(181);"string"==typeof r&&(r=[[e.i,r,""]]);var i={transform:void 0};n(183)(r,i),r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(182)(!1)).push([e.i,".react-json-view .copy-to-clipboard-container{vertical-align:top;display:none}.react-json-view .click-to-add,.react-json-view .click-to-edit,.react-json-view .click-to-remove{display:none}.react-json-view .object-content .variable-row:hover .click-to-edit,.react-json-view .object-content .variable-row:hover .click-to-remove,.react-json-view .object-key-val:hover>span>.object-meta-data>.click-to-add,.react-json-view .object-key-val:hover>span>.object-meta-data>.click-to-remove,.react-json-view .object-key-val:hover>span>.object-meta-data>.copy-to-clipboard-container,.react-json-view .variable-row:hover .copy-to-clipboard-container{display:inline-block}",""])},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=d[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],t));d[r.id]={id:r.id,refs:1,parts:a}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s,u,l,c={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}function o(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),o(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),o(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var l=y++;n=v||(v=s(t)),r=f.bind(null,n,l,!1),i=f.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=h.bind(null,n,t),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=p.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function f(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function p(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function h(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=w(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var d={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),v=null,y=0,b=[],w=n(184);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],u;(u=d[s.id]).refs--,o.push(u)}e&&r(i(e,t),t);for(var a=0;a<o.length;a++){var u;if(0===(u=o[a]).refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete d[u.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t}),o;return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}}])},e.exports=i(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyPoint=t.Point=t.LazyBrush=void 0;var r,i=l(n(547)),o,a=l(n(227)),s,u=l(n(226));function l(e){return e&&e.__esModule?e:{default:e}}t.LazyBrush=i.default,t.Point=a.default,t.LazyPoint=u.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point=t.Catenary=void 0;var r,i=s(n(548)),o,a=s(n(228));function s(e){return e&&e.__esModule?e:{default:e}}t.Catenary=i.default,t.Point=a.default},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},a=2;function s(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&l()}function u(){o(s)}function l(){var e=Date.now();if(n){if(e-i<a)return;r=!0}else n=!0,r=!1,setTimeout(u,t);i=e}return l}var u=20,l=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,f=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),u)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e;this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r;l.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){var t;return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},d=E(0,0,0,0);function m(e){return parseFloat(e)||0}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){var r;return t+m(e["border-"+n+"-width"])},0)}function v(e){for(var t,n={},r=0,i=["top","right","bottom","left"];r<i.length;r++){var o=i[r],a=e["padding-"+o];n[o]=m(a)}return n}function y(e){var t=e.getBBox();return E(0,0,t.width,t.height)}function b(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=h(e).getComputedStyle(e),i=v(r),o=i.left+i.right,a=i.top+i.bottom,s=m(r.width),u=m(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=g(r,"left","right")+o),Math.round(u+a)!==n&&(u-=g(r,"top","bottom")+a)),!x(e)){var l=Math.round(s+o)-t,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return E(i.left,i.top,s,u)}var w="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"==typeof e.getBBox};function x(e){return e===h(e).document.documentElement}function _(e){return r?w(e)?y(e):b(e):d}function C(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return p(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function E(e,t,n,r){return{x:e,y:t,width:n,height:r}}var S=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=E(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=_(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),k=function(){function e(e,t){var n=C(t);p(this,{target:e,contentRect:n})}return e}(),O=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new S(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new k(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),T="undefined"!=typeof WeakMap?new WeakMap:new n,N=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=f.getInstance(),r=new O(t,n,this);T.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){N.prototype[e]=function(){var t;return(t=T.get(this))[e].apply(t,arguments)}});var A=void 0!==i.ResizeObserver?i.ResizeObserver:N;t.a=A}).call(this,n(44))},function(e,t,n){"use strict";(function(e){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var o=(a=function e(t,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a;Object.defineProperty(t,"__esModule",{value:!0}),t.UnControlled=t.Controlled=void 0;var s=n(2),u="undefined"==typeof navigator||!0===e.PREVENT_CODEMIRROR_RENDER,l;u||(l=n(229));var c=function(){function e(){}return e.equals=function(e,t){var n=this,r=Object.keys,o=i(e),a=i(t);return e&&t&&"object"===o&&o===a?r(e).length===r(t).length&&r(e).every(function(r){return n.equals(e[r],t[r])}):e===t},e}(),f=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,n){var r=this.editor.getDoc();n&&this.editor.focus(),t?r.setCursor(e):r.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){var n;this.editor.getDoc().setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,n){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!c.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!c.equals(e.cursor,t.cursor)&&this.delegateCursor(n.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!c.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(e){var t=this;Object.keys(e||{}).filter(function(e){return/^on/.test(e)}).forEach(function(e){switch(e){case"onBlur":t.editor.on("blur",function(e,n){t.props.onBlur(t.editor,n)});break;case"onContextMenu":t.editor.on("contextmenu",function(e,n){t.props.onContextMenu(t.editor,n)});break;case"onCopy":t.editor.on("copy",function(e,n){t.props.onCopy(t.editor,n)});break;case"onCursor":t.editor.on("cursorActivity",function(e){t.props.onCursor(t.editor,t.editor.getDoc().getCursor())});break;case"onCursorActivity":t.editor.on("cursorActivity",function(e){t.props.onCursorActivity(t.editor)});break;case"onCut":t.editor.on("cut",function(e,n){t.props.onCut(t.editor,n)});break;case"onDblClick":t.editor.on("dblclick",function(e,n){t.props.onDblClick(t.editor,n)});break;case"onDragEnter":t.editor.on("dragenter",function(e,n){t.props.onDragEnter(t.editor,n)});break;case"onDragLeave":t.editor.on("dragleave",function(e,n){t.props.onDragLeave(t.editor,n)});break;case"onDragOver":t.editor.on("dragover",function(e,n){t.props.onDragOver(t.editor,n)});break;case"onDragStart":t.editor.on("dragstart",function(e,n){t.props.onDragStart(t.editor,n)});break;case"onDrop":t.editor.on("drop",function(e,n){t.props.onDrop(t.editor,n)});break;case"onFocus":t.editor.on("focus",function(e,n){t.props.onFocus(t.editor,n)});break;case"onGutterClick":t.editor.on("gutterClick",function(e,n,r,i){t.props.onGutterClick(t.editor,n,r,i)});break;case"onInputRead":t.editor.on("inputRead",function(e,n){t.props.onInputRead(t.editor,n)});break;case"onKeyDown":t.editor.on("keydown",function(e,n){t.props.onKeyDown(t.editor,n)});break;case"onKeyHandled":t.editor.on("keyHandled",function(e,n,r){t.props.onKeyHandled(t.editor,n,r)});break;case"onKeyPress":t.editor.on("keypress",function(e,n){t.props.onKeyPress(t.editor,n)});break;case"onKeyUp":t.editor.on("keyup",function(e,n){t.props.onKeyUp(t.editor,n)});break;case"onMouseDown":t.editor.on("mousedown",function(e,n){t.props.onMouseDown(t.editor,n)});break;case"onPaste":t.editor.on("paste",function(e,n){t.props.onPaste(t.editor,n)});break;case"onRenderLine":t.editor.on("renderLine",function(e,n,r){t.props.onRenderLine(t.editor,n,r)});break;case"onScroll":t.editor.on("scroll",function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())});break;case"onSelection":t.editor.on("beforeSelectionChange",function(e,n){t.props.onSelection(t.editor,n)});break;case"onTouchStart":t.editor.on("touchstart",function(e,n){t.props.onTouchStart(t.editor,n)});break;case"onUpdate":t.editor.on("update",function(e){t.props.onUpdate(t.editor)});break;case"onViewportChange":t.editor.on("viewportChange",function(e,n,r){t.props.onViewportChange(t.editor,n,r)})}})},e}(),p=function(e){function t(t){var n=e.call(this,t)||this;return u?n:(n.applied=!1,n.appliedNext=!1,n.appliedUserDefined=!1,n.deferred=null,n.emulating=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n)}return o(t,e),t.prototype.hydrate=function(e){var t=this,n=e&&e.options?e.options:{},i=r({},l.defaults,this.editor.options,n),o;Object.keys(i).some(function(e){return t.editor.getOption(e)!==i[e]})&&Object.keys(i).forEach(function(e){n.hasOwnProperty(e)&&t.editor.getOption(e)!==i[e]&&(t.editor.setOption(e,i[e]),t.mirror.setOption(e,i[e]))}),this.hydrated||(this.deferred?this.resolveChange(e.value):this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.getDoc(),n=t.lastLine(),r=t.getLine(t.lastLine()).length;t.replaceRange(e||"",{line:0,ch:0},{line:n,ch:r}),this.mirror.setValue(e),t.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(e){this.emulating=!0;var t=this.editor.getDoc();if("undo"===this.deferred.origin?t.undo():"redo"===this.deferred.origin?t.redo():t.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),e&&e!==t.getValue()){var n=t.getCursor();t.setValue(e),t.setCursor(n)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){var t=this.editor.getDoc();return"undo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var e=this;u||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&l.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=l(this.ref,this.props.options),this.shared=new f(this.editor,this.props),this.mirror=l(function(){},this.props.options),this.editor.on("electricInput",function(){e.mirror.setHistory(e.editor.getDoc().getHistory())}),this.editor.on("cursorActivity",function(){e.mirror.setCursor(e.editor.getDoc().getCursor())}),this.editor.on("beforeChange",function(t,n){if(!e.emulating){n.cancel(),e.deferred=n;var r=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,r)}}),this.editor.on("change",function(t,n){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,n,e.editor.getValue())}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(!u){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(e,this.props,t),this.appliedNext=!0),this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){u||this.props.editorWillUnmount&&this.props.editorWillUnmount(l)},t.prototype.shouldComponentUpdate=function(e,t){return!u},t.prototype.render=function(){var e=this;if(u)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return s.createElement("div",{className:t,ref:function t(n){return e.ref=n}})},t}(s.Component);t.Controlled=p;var h=function(e){function t(t){var n=e.call(this,t)||this;return u?n:(n.applied=!1,n.appliedUserDefined=!1,n.continueChange=!1,n.detached=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n.onBeforeChangeCb=function(){n.continueChange=!0},n)}return o(t,e),t.prototype.hydrate=function(e){var t=this,n=e&&e.options?e.options:{},i=r({},l.defaults,this.editor.options,n),o;if(Object.keys(i).some(function(e){return t.editor.getOption(e)!==i[e]})&&Object.keys(i).forEach(function(e){n.hasOwnProperty(e)&&t.editor.getOption(e)!==i[e]&&t.editor.setOption(e,i[e])}),!this.hydrated){var a=this.editor.getDoc(),s=a.lastLine(),u=a.getLine(a.lastLine()).length;a.replaceRange(e.value||"",{line:0,ch:0},{line:s,ch:u})}this.hydrated=!0},t.prototype.componentDidMount=function(){var e=this;u||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&l.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=l(this.ref,this.props.options),this.shared=new f(this.editor,this.props),this.editor.on("beforeChange",function(t,n){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,n,e.editor.getValue(),e.onBeforeChangeCb)}),this.editor.on("change",function(t,n){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,n,e.editor.getValue()):e.props.onChange(e.editor,n,e.editor.getValue()))}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(this.detached&&!1===this.props.detach&&(this.detached=!1,e.editorDidAttach&&e.editorDidAttach(this.editor)),this.detached||!0!==this.props.detach||(this.detached=!0,e.editorDidDetach&&e.editorDidDetach(this.editor)),!u&&!this.detached){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),e.autoCursor||void 0===e.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(e),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){u||this.props.editorWillUnmount&&this.props.editorWillUnmount(l)},t.prototype.shouldComponentUpdate=function(e,t){var n=!0;return u&&(n=!1),this.detached&&e.detach&&(n=!1),n},t.prototype.render=function(){var e=this;if(u)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return s.createElement("div",{className:t,ref:function t(n){return e.ref=n}})},t}(s.Component);t.UnControlled=h}).call(this,n(44))},function(e,t,n){"use strict";var r=n(230),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function l(e){return r.isMemo(e)?s:u[e.$$typeof]||i}u[r.ForwardRef]=a,u[r.Memo]=s;var c=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,m=Object.prototype;function g(e,t,n){if("string"!=typeof t){if(m){var r=d(t);r&&r!==m&&g(e,r,n)}var i=f(t);p&&(i=i.concat(p(t)));for(var a=l(e),s=l(t),u=0;u<i.length;++u){var v=i[u];if(!(o[v]||n&&n[v]||s&&s[v]||a&&a[v])){var y=h(t,v);try{c(e,v,y)}catch(e){}}}}return e}e.exports=g},function(e,t,n){e.exports=n(574)},function(e,t,n){"use strict";var r=n(9),i=n(13),o=n(42),a=n(45),s=n(19),u=n(127),l=n(169),c=n(11),f=n(24),p=n(67),h=n(15),d=n(16),m=n(22),g=n(31),v=n(41),y=n(49),b=n(51),w=n(81),x=n(60),_=n(172),C=n(126),E=n(26),S=n(21),k=n(91),O=n(29),T=n(27),N=n(123),A=n(92),I=n(78),R=n(77),P=n(17),M=n(173),j=n(33),D=n(46),L=n(32),F=n(25).forEach,z=A("hidden"),B="Symbol",U="prototype",W=P("toPrimitive"),V=L.set,H=L.getterFor(B),G=Object.prototype,q=i.Symbol,K=o("JSON","stringify"),X=E.f,Y=S.f,Z=_.f,$=k.f,J=N("symbols"),Q=N("op-symbols"),ee=N("string-to-symbol-registry"),te=N("symbol-to-string-registry"),ne=N("wks"),re=i.QObject,ie=!re||!re.prototype||!re.prototype.findChild,oe=s&&c(function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=X(G,t);r&&delete G[t],Y(e,t,n),r&&e!==G&&Y(G,t,r)}:Y,ae=function(e,t){var n=J[e]=b(q.prototype);return V(n,{type:B,tag:e,description:t}),s||(n.description=t),n},se=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof q},ue=function e(t,n,r){t===G&&ue(Q,n,r),d(t);var i=v(n,!0);return d(r),f(J,i)?(r.enumerable?(f(t,z)&&t[z][i]&&(t[z][i]=!1),r=b(r,{enumerable:y(0,!1)})):(f(t,z)||Y(t,z,y(1,{})),t[z][i]=!0),oe(t,i,r)):Y(t,i,r)},le=function e(t,n){d(t);var r=g(n),i=w(r).concat(de(r));return F(i,function(e){s&&!fe.call(r,e)||ue(t,e,r[e])}),t},ce=function e(t,n){return void 0===n?b(t):le(b(t),n)},fe=function e(t){var n=v(t,!0),r=$.call(this,n);return!(this===G&&f(J,n)&&!f(Q,n))&&(!(r||!f(this,n)||!f(J,n)||f(this,z)&&this[z][n])||r)},pe=function e(t,n){var r=g(t),i=v(n,!0);if(r!==G||!f(J,i)||f(Q,i)){var o=X(r,i);return!o||!f(J,i)||f(r,z)&&r[z][i]||(o.enumerable=!0),o}},he=function e(t){var n=Z(g(t)),r=[];return F(n,function(e){f(J,e)||f(I,e)||r.push(e)}),r},de=function e(t){var n=t===G,r=Z(n?Q:g(t)),i=[];return F(r,function(e){!f(J,e)||n&&!f(G,e)||i.push(J[e])}),i},me;(u||(T((q=function e(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,n=R(t),r=function(e){this===G&&r.call(Q,e),f(this,z)&&f(this[z],n)&&(this[z][n]=!1),oe(this,n,y(1,e))};return s&&ie&&oe(G,n,{configurable:!0,set:r}),ae(n,t)}).prototype,"toString",function e(){return H(this).tag}),T(q,"withoutSetter",function(e){return ae(R(e),e)}),k.f=fe,S.f=ue,E.f=pe,x.f=_.f=he,C.f=de,M.f=function(e){return ae(P(e),e)},s&&(Y(q.prototype,"description",{configurable:!0,get:function e(){return H(this).description}}),a||T(G,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:q}),F(w(ne),function(e){j(e)}),r({target:B,stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=q(t);return ee[t]=n,te[n]=t,n},keyFor:function e(t){if(!se(t))throw TypeError(t+" is not a symbol");if(f(te,t))return te[t]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:ce,defineProperty:ue,defineProperties:le,getOwnPropertyDescriptor:pe}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he,getOwnPropertySymbols:de}),r({target:"Object",stat:!0,forced:c(function(){C.f(1)})},{getOwnPropertySymbols:function e(t){return C.f(m(t))}}),K)&&r({target:"JSON",stat:!0,forced:!u||c(function(){var e=q();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))})},{stringify:function e(t,n,r){for(var i=[t],o=1,a;arguments.length>o;)i.push(arguments[o++]);if(a=n,(h(n)||void 0!==t)&&!se(t))return p(n)||(n=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!se(t))return t}),i[1]=n,K.apply(null,i)}});q.prototype[W]||O(q.prototype,W,q.prototype.valueOf),D(q,B),I[z]=!0},function(e,t,n){"use strict";var r=n(9),i=n(19),o=n(13),a=n(24),s=n(15),u=n(21).f,l=n(166),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var f={},p=function e(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof p?new c(t):void 0===t?c():c(t);return""===t&&(f[n]=!0),n};l(p,c);var h=p.prototype=c.prototype;h.constructor=p;var d=h.toString,m="Symbol(test)"==String(c("test")),g=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function e(){var t=s(this)?this.valueOf():this,n=d.call(t);if(a(f,t))return"";var r=m?n.slice(7,-1):n.replace(g,"$1");return""===r?void 0:r}}),r({global:!0,forced:!0},{Symbol:p})}},function(e,t,n){var r;n(33)("asyncIterator")},function(e,t,n){var r;n(33)("hasInstance")},function(e,t,n){var r;n(33)("isConcatSpreadable")},function(e,t,n){var r;n(33)("iterator")},function(e,t,n){var r;n(33)("match")},function(e,t,n){var r;n(33)("replace")},function(e,t,n){var r;n(33)("search")},function(e,t,n){var r;n(33)("species")},function(e,t,n){var r;n(33)("split")},function(e,t,n){var r;n(33)("toPrimitive")},function(e,t,n){var r;n(33)("toStringTag")},function(e,t,n){var r;n(33)("unscopables")},function(e,t,n){"use strict";var r=n(9),i=n(11),o=n(67),a=n(15),s=n(22),u=n(20),l=n(61),c=n(82),f=n(83),p=n(17),h=n(128),d=p("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=h>=51||!i(function(){var e=[];return e[d]=!1,e.concat()[0]!==e}),y=f("concat"),b=function(e){if(!a(e))return!1;var t=e[d];return void 0!==t?!!t:o(e)},w;r({target:"Array",proto:!0,forced:!v||!y},{concat:function e(t){var n=s(this),r=c(n,0),i=0,o,a,f,p,h;for(o=-1,f=arguments.length;o<f;o++)if(h=-1===o?n:arguments[o],b(h)){if(i+(p=u(h.length))>9007199254740991)throw TypeError(g);for(a=0;a<p;a++,i++)a in h&&l(r,i,h[a])}else{if(i>=9007199254740991)throw TypeError(g);l(r,i++,h)}return r.length=i,r}})},function(e,t,n){var r=n(9),i=n(174),o=n(53);r({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},function(e,t,n){"use strict";var r=n(9),i=n(25).every,o=n(47),a=n(30),s=o("every"),u=a("every");r({target:"Array",proto:!0,forced:!s||!u},{every:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(9),i=n(129),o=n(53);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(e,t,n){"use strict";var r=n(9),i=n(25).filter,o=n(83),a=n(30),s=o("filter"),u=a("filter");r({target:"Array",proto:!0,forced:!s||!u},{filter:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(9),i=n(25).find,o=n(53),a,s="find",u=!0,l=n(30)(s);s in[]&&Array(1).find(function(){u=!1}),r({target:"Array",proto:!0,forced:u||!l},{find:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},function(e,t,n){"use strict";var r=n(9),i=n(25).findIndex,o=n(53),a,s="findIndex",u=!0,l=n(30)(s);s in[]&&Array(1).findIndex(function(){u=!1}),r({target:"Array",proto:!0,forced:u||!l},{findIndex:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},function(e,t,n){"use strict";var r=n(9),i=n(175),o=n(22),a=n(20),s=n(37),u=n(82);r({target:"Array",proto:!0},{flat:function e(){var t=arguments.length?arguments[0]:void 0,n=o(this),r=a(n.length),l=u(n,0);return l.length=i(l,n,n,r,0,void 0===t?1:s(t)),l}})},function(e,t,n){"use strict";var r=n(9),i=n(175),o=n(22),a=n(20),s=n(38),u=n(82);r({target:"Array",proto:!0},{flatMap:function e(t){var n=o(this),r=a(n.length),l;return s(t),(l=u(n,0)).length=i(l,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),l}})},function(e,t,n){"use strict";var r=n(9),i=n(176);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,n){var r=n(9),i=n(177),o,a;r({target:"Array",stat:!0,forced:!n(94)(function(e){Array.from(e)})},{from:i})},function(e,t,n){"use strict";var r=n(9),i=n(79).includes,o=n(53),a,s;r({target:"Array",proto:!0,forced:!n(30)("indexOf",{ACCESSORS:!0,1:0})},{includes:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(e,t,n){"use strict";var r=n(9),i=n(79).indexOf,o=n(47),a=n(30),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),c=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!l||!c},{indexOf:function e(t){return u?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(9),i=n(76),o=n(31),a=n(47),s=[].join,u=i!=Object,l=a("join",",");r({target:"Array",proto:!0,forced:u||!l},{join:function e(t){return s.call(o(this),void 0===t?",":t)}})},function(e,t,n){var r=n(9),i=n(182);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(e,t,n){"use strict";var r=n(9),i=n(25).map,o=n(83),a=n(30),s=o("map"),u=a("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(9),i=n(11),o=n(61),a;r({target:"Array",stat:!0,forced:i(function(){function e(){}return!(Array.of.call(e)instanceof e)})},{of:function e(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)o(r,t,arguments[t++]);return r.length=n,r}})},function(e,t,n){"use strict";var r=n(9),i=n(96).left,o=n(47),a=n(30),s=o("reduce"),u=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function e(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(9),i=n(96).right,o=n(47),a=n(30),s=o("reduceRight"),u=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduceRight:function e(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(9),i=n(67),o=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function e(){return i(this)&&(this.length=this.length),o.call(this)}})},function(e,t,n){"use strict";var r=n(9),i=n(15),o=n(67),a=n(50),s=n(20),u=n(31),l=n(61),c=n(17),f=n(83),p=n(30),h=f("slice"),d=p("slice",{ACCESSORS:!0,0:0,1:2}),m=c("species"),g=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!h||!d},{slice:function e(t,n){var r=u(this),c=s(r.length),f=a(t,c),p=a(void 0===n?c:n,c),h,d,y;if(o(r)&&("function"!=typeof(h=r.constructor)||h!==Array&&!o(h.prototype)?i(h)&&null===(h=h[m])&&(h=void 0):h=void 0,h===Array||void 0===h))return g.call(r,f,p);for(d=new(void 0===h?Array:h)(v(p-f,0)),y=0;f<p;f++,y++)f in r&&l(d,y,r[f]);return d.length=y,d}})},function(e,t,n){"use strict";var r=n(9),i=n(25).some,o=n(47),a=n(30),s=o("some"),u=a("some");r({target:"Array",proto:!0,forced:!s||!u},{some:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(9),i=n(38),o=n(22),a=n(11),s=n(47),u=[],l=u.sort,c=a(function(){u.sort(void 0)}),f=a(function(){u.sort(null)}),p=s("sort"),h;r({target:"Array",proto:!0,forced:c||!f||!p},{sort:function e(t){return void 0===t?l.call(o(this)):l.call(o(this),i(t))}})},function(e,t,n){var r;n(68)("Array")},function(e,t,n){"use strict";var r=n(9),i=n(50),o=n(37),a=n(20),s=n(22),u=n(82),l=n(61),c=n(83),f=n(30),p=c("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,m=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!p||!h},{splice:function e(t,n){var r=s(this),c=a(r.length),f=i(t,c),p=arguments.length,h,g,y,b,w,x;if(0===p?h=g=0:1===p?(h=0,g=c-f):(h=p-2,g=m(d(o(n),0),c-f)),c+h-g>9007199254740991)throw TypeError(v);for(y=u(r,g),b=0;b<g;b++)(w=f+b)in r&&l(y,b,r[w]);if(y.length=g,h<g){for(b=f;b<c-g;b++)x=b+h,(w=b+g)in r?r[x]=r[w]:delete r[x];for(b=c;b>c-g+h;b--)delete r[b-1]}else if(h>g)for(b=c-g;b>f;b--)x=b+h-1,(w=b+g-1)in r?r[x]=r[w]:delete r[x];for(b=0;b<h;b++)r[b+f]=arguments[b+2];return r.length=c-g+h,y}})},function(e,t,n){var r;n(53)("flat")},function(e,t,n){var r;n(53)("flatMap")},function(e,t,n){"use strict";var r=n(9),i=n(13),o=n(97),a=n(68),s="ArrayBuffer",u=o.ArrayBuffer,l;r({global:!0,forced:i.ArrayBuffer!==u},{ArrayBuffer:u}),a(s)},function(e,t){var n=1/0,r=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,s=Math.LN2,u=function(e,t,n){var u=new Array(n),l=8*n-t-1,c=(1<<l)-1,f=c>>1,p=23===t?i(2,-24)-i(2,-77):0,h=e<0||0===e&&1/e<0?1:0,d=0,m,g,v;for((e=r(e))!=e||e===1/0?(g=e!=e?1:0,m=c):(m=o(a(e)/s),e*(v=i(2,-m))<1&&(m--,v*=2),(e+=m+f>=1?p/v:p*i(2,1-f))*v>=2&&(m++,v/=2),m+f>=c?(g=0,m=c):m+f>=1?(g=(e*v-1)*i(2,t),m+=f):(g=e*i(2,f-1)*i(2,t),m=0));t>=8;u[d++]=255&g,g/=256,t-=8);for(m=m<<t|g,l+=t;l>0;u[d++]=255&m,m/=256,l-=8);return u[--d]|=128*h,u},l=function(e,t){var n=e.length,r=8*n-t-1,o=(1<<r)-1,a=o>>1,s=r-7,u=n-1,l=e[u--],c=127&l,f;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(f=c&(1<<-s)-1,c>>=-s,s+=t;s>0;f=256*f+e[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return f?NaN:l?-1/0:1/0;f+=i(2,t),c-=a}return(l?-1:1)*f*i(2,c-t)};e.exports={pack:u,unpack:l}},function(e,t,n){var r=n(9),i=n(18),o;r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},function(e,t,n){"use strict";var r=n(9),i=n(11),o=n(97),a=n(16),s=n(50),u=n(20),l=n(55),c=o.ArrayBuffer,f=o.DataView,p=c.prototype.slice,h;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i(function(){return!new c(2).slice(1,void 0).byteLength})},{slice:function e(t,n){if(void 0!==p&&void 0===n)return p.call(a(this),t);for(var r=a(this).byteLength,i=s(t,r),o=s(void 0===n?r:n,r),h=new(l(this,c))(u(o-i)),d=new f(this),m=new f(h),g=0;i<o;)m.setUint8(g++,d.getUint8(i++));return h}})},function(e,t,n){var r=n(9),i=n(97),o;r({global:!0,forced:!n(134)},{DataView:i.DataView})},function(e,t,n){var r=n(9),i=n(288);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},function(e,t,n){"use strict";var r=n(11),i=n(135).start,o=Math.abs,a=Date.prototype,s=a.getTime,u=a.toISOString;e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-5e13-1))})||!r(function(){u.call(new Date(NaN))})?function e(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var t=this,n=this.getUTCFullYear(),r=this.getUTCMilliseconds(),a=n<0?"-":n>9999?"+":"";return a+i(o(n),a?6:4,0)+"-"+i(this.getUTCMonth()+1,2,0)+"-"+i(this.getUTCDate(),2,0)+"T"+i(this.getUTCHours(),2,0)+":"+i(this.getUTCMinutes(),2,0)+":"+i(this.getUTCSeconds(),2,0)+"."+i(r,3,0)+"Z"}:u},function(e,t,n){"use strict";var r=n(9),i=n(11),o=n(22),a=n(41),s;r({target:"Date",proto:!0,forced:i(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function e(t){var n=o(this),r=a(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(e,t,n){var r=n(29),i=n(291),o,a=n(17)("toPrimitive"),s=Date.prototype;a in s||r(s,a,i)},function(e,t,n){"use strict";var r=n(16),i=n(41);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!==e)}},function(e,t,n){"use strict";var r=n(15),i=n(21),o=n(43),a,s=n(17)("hasInstance"),u=Function.prototype;s in u||i.f(u,s,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(19),i=n(21).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,u="name";!r||u in o||i(o,u,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){var r=n(13),i;n(46)(r.JSON,"JSON",!0)},function(e,t,n){"use strict";var r=n(98),i=n(184);e.exports=r("Map",function(e){return function t(){return e(this,arguments.length?arguments[0]:void 0)}},i)},function(e,t,n){var r=n(9),i=n(185),o=Math.acosh,a=Math.log,s=Math.sqrt,u=Math.LN2,l;r({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function e(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+u:i(t-1+s(t-1)*s(t+1))}})},function(e,t,n){var r=n(9),i=Math.asinh,o=Math.log,a=Math.sqrt;function s(e){return isFinite(e=+e)&&0!=e?e<0?-s(-e):o(e+a(e*e+1)):e}r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:s})},function(e,t,n){var r=n(9),i=Math.atanh,o=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function e(t){return 0==(t=+t)?t:o((1+t)/(1-t))/2}})},function(e,t,n){var r=n(9),i=n(137),o=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function e(t){return i(t=+t)*a(o(t),1/3)}})},function(e,t,n){var r=n(9),i=Math.floor,o=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function e(t){return(t>>>=0)?31-i(o(t+.5)*a):32}})},function(e,t,n){var r=n(9),i=n(100),o=Math.cosh,a=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function e(t){var n=i(a(t)-1)+1;return(n+1/(n*s*s))*(s/2)}})},function(e,t,n){var r=n(9),i=n(100);r({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},function(e,t,n){var r,i;n(9)({target:"Math",stat:!0},{fround:n(304)})},function(e,t,n){var r=n(137),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),l=o(2,-126),c=function(e){return e+1/a-1/a};e.exports=Math.fround||function e(t){var n=i(t),o=r(t),f,p;return n<l?o*c(n/l/s)*l*s:(p=(f=(1+s/a)*n)-(f-n))>u||p!=p?o*(1/0):o*p}},function(e,t,n){var r=n(9),i=Math.hypot,o=Math.abs,a=Math.sqrt,s;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function e(t,n){for(var r=0,i=0,s=arguments.length,u=0,l,c;i<s;)u<(l=o(arguments[i++]))?(r=r*(c=u/l)*c+1,u=l):r+=l>0?(c=l/u)*c:l;return u===1/0?1/0:u*a(r)}})},function(e,t,n){var r=n(9),i=n(11),o=Math.imul,a;r({target:"Math",stat:!0,forced:i(function(){return-5!=o(4294967295,5)||2!=o.length})},{imul:function e(t,n){var r=65535,i=+t,o=+n,a=65535&i,s=65535&o;return 0|a*s+((65535&i>>>16)*s+a*(65535&o>>>16)<<16>>>0)}})},function(e,t,n){var r=n(9),i=Math.log,o=Math.LOG10E;r({target:"Math",stat:!0},{log10:function e(t){return i(t)*o}})},function(e,t,n){var r,i;n(9)({target:"Math",stat:!0},{log1p:n(185)})},function(e,t,n){var r=n(9),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function e(t){return i(t)/o}})},function(e,t,n){var r,i;n(9)({target:"Math",stat:!0},{sign:n(137)})},function(e,t,n){var r=n(9),i=n(11),o=n(100),a=Math.abs,s=Math.exp,u=Math.E,l;r({target:"Math",stat:!0,forced:i(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function e(t){return a(t=+t)<1?(o(t)-o(-t))/2:(s(t-1)-s(-t-1))*(u/2)}})},function(e,t,n){var r=n(9),i=n(100),o=Math.exp;r({target:"Math",stat:!0},{tanh:function e(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},function(e,t,n){var r;n(46)(Math,"Math",!0)},function(e,t,n){var r=n(9),i=Math.ceil,o=Math.floor;r({target:"Math",stat:!0},{trunc:function e(t){return(t>0?o:i)(t)}})},function(e,t,n){"use strict";var r=n(19),i=n(13),o=n(80),a=n(27),s=n(24),u=n(40),l=n(99),c=n(41),f=n(11),p=n(51),h=n(60).f,d=n(26).f,m=n(21).f,g=n(70).trim,v="Number",y=i.Number,b=y.prototype,w=u(p(b))==v,x=function(e){var t=c(e,!1),n,r,i,o,a,s,u,l;if("string"==typeof t&&t.length>2)if(43===(n=(t=g(t)).charCodeAt(0))||45===n){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t}for(s=(a=t.slice(2)).length,u=0;u<s;u++)if((l=a.charCodeAt(u))<48||l>o)return NaN;return parseInt(a,i)}return+t};if(o(v,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var _=function e(t){var n=arguments.length<1?0:t,r=this;return r instanceof _&&(w?f(function(){b.valueOf.call(r)}):u(r)!=v)?l(new y(x(n)),r,_):x(n)},C=r?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0,S;C.length>E;E++)s(y,S=C[E])&&!s(_,S)&&m(_,S,d(y,S));_.prototype=b,b.constructor=_,a(i,v,_)}},function(e,t,n){var r;n(9)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r,i;n(9)({target:"Number",stat:!0},{isFinite:n(318)})},function(e,t,n){var r,i=n(13).isFinite;e.exports=Number.isFinite||function e(t){return"number"==typeof t&&i(t)}},function(e,t,n){var r,i;n(9)({target:"Number",stat:!0},{isInteger:n(186)})},function(e,t,n){var r;n(9)({target:"Number",stat:!0},{isNaN:function e(t){return t!=t}})},function(e,t,n){var r=n(9),i=n(186),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function e(t){return i(t)&&o(t)<=9007199254740991}})},function(e,t,n){var r;n(9)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r;n(9)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(9),i=n(187);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},function(e,t,n){var r=n(9),i=n(188);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(e,t,n){"use strict";var r=n(9),i=n(37),o=n(189),a=n(136),s=n(11),u=1..toFixed,l=Math.floor,c=function(e,t,n){return 0===t?n:t%2==1?c(e,t-1,n*e):c(e*e,t/2,n)},f=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t},p;r({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s(function(){u.call({})})},{toFixed:function e(t){var n=o(this),r=i(t),s=[0,0,0,0,0,0],u="",p="0",h,d,m,g,v=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*s[n],s[n]=r%1e7,r=l(r/1e7)},y=function(e){for(var t=6,n=0;--t>=0;)n+=s[t],s[t]=l(n/e),n=n%e*1e7},b=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==s[e]){var n=String(s[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t};if(r<0||r>20)throw RangeError("Incorrect fraction digits");if(n!=n)return"NaN";if(n<=-1e21||n>=1e21)return String(n);if(n<0&&(u="-",n=-n),n>1e-21)if(d=(h=f(n*c(2,69,1))-69)<0?n*c(2,-h,1):n/c(2,h,1),d*=4503599627370496,(h=52-h)>0){for(v(0,d),m=r;m>=7;)v(1e7,0),m-=7;for(v(c(10,m,1),0),m=h-1;m>=23;)y(1<<23),m-=23;y(1<<m),v(1,1),y(2),p=b()}else v(0,d),v(1<<-h,0),p=b()+a.call("0",r);return p=r>0?u+((g=p.length)<=r?"0."+a.call("0",r-g)+p:p.slice(0,g-r)+"."+p.slice(g-r)):u+p}})},function(e,t,n){"use strict";var r=n(9),i=n(11),o=n(189),a=1..toPrecision,s;r({target:"Number",proto:!0,forced:i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})},{toPrecision:function e(t){return void 0===t?a.call(o(this)):a.call(o(this),t)}})},function(e,t,n){var r=n(9),i=n(190);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){"use strict";var r=n(9),i=n(19),o=n(102),a=n(22),s=n(38),u=n(21);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function e(t,n){u.f(a(this),t,{get:s(n),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(9),i=n(19),o=n(102),a=n(22),s=n(38),u=n(21);i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function e(t,n){u.f(a(this),t,{set:s(n),enumerable:!0,configurable:!0})}})},function(e,t,n){var r=n(9),i=n(191).entries;r({target:"Object",stat:!0},{entries:function e(t){return i(t)}})},function(e,t,n){var r=n(9),i=n(87),o=n(11),a=n(15),s=n(63).onFreeze,u=Object.freeze,l;r({target:"Object",stat:!0,forced:o(function(){u(1)}),sham:!i},{freeze:function e(t){return u&&a(t)?u(s(t)):t}})},function(e,t,n){var r=n(9),i=n(88),o=n(61);r({target:"Object",stat:!0},{fromEntries:function e(t){var n={};return i(t,function(e,t){o(n,e,t)},void 0,!0),n}})},function(e,t,n){var r=n(9),i=n(11),o=n(31),a=n(26).f,s=n(19),u=i(function(){a(1)}),l;r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function e(t,n){return a(o(t),n)}})},function(e,t,n){var r=n(9),i=n(19),o=n(124),a=n(31),s=n(26),u=n(61);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function e(t){for(var n=a(t),r=s.f,i=o(n),l={},c=0,f,p;i.length>c;)void 0!==(p=r(n,f=i[c++]))&&u(l,f,p);return l}})},function(e,t,n){var r=n(9),i=n(11),o=n(172).f,a;r({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:o})},function(e,t,n){var r=n(9),i=n(11),o=n(22),a=n(43),s=n(133),u;r({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!s},{getPrototypeOf:function e(t){return a(o(t))}})},function(e,t,n){var r,i;n(9)({target:"Object",stat:!0},{is:n(192)})},function(e,t,n){var r=n(9),i=n(11),o=n(15),a=Object.isExtensible,s;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isExtensible:function e(t){return!!o(t)&&(!a||a(t))}})},function(e,t,n){var r=n(9),i=n(11),o=n(15),a=Object.isFrozen,s;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isFrozen:function e(t){return!o(t)||!!a&&a(t)}})},function(e,t,n){var r=n(9),i=n(11),o=n(15),a=Object.isSealed,s;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isSealed:function e(t){return!o(t)||!!a&&a(t)}})},function(e,t,n){var r=n(9),i=n(22),o=n(81),a,s;r({target:"Object",stat:!0,forced:n(11)(function(){o(1)})},{keys:function e(t){return o(i(t))}})},function(e,t,n){"use strict";var r=n(9),i=n(19),o=n(102),a=n(22),s=n(41),u=n(43),l=n(26).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function e(t){var n=a(this),r=s(t,!0),i;do{if(i=l(n,r))return i.get}while(n=u(n))}})},function(e,t,n){"use strict";var r=n(9),i=n(19),o=n(102),a=n(22),s=n(41),u=n(43),l=n(26).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function e(t){var n=a(this),r=s(t,!0),i;do{if(i=l(n,r))return i.set}while(n=u(n))}})},function(e,t,n){var r=n(9),i=n(15),o=n(63).onFreeze,a=n(87),s=n(11),u=Object.preventExtensions,l;r({target:"Object",stat:!0,forced:s(function(){u(1)}),sham:!a},{preventExtensions:function e(t){return u&&i(t)?u(o(t)):t}})},function(e,t,n){var r=n(9),i=n(15),o=n(63).onFreeze,a=n(87),s=n(11),u=Object.seal,l;r({target:"Object",stat:!0,forced:s(function(){u(1)}),sham:!a},{seal:function e(t){return u&&i(t)?u(o(t)):t}})},function(e,t,n){var r,i;n(9)({target:"Object",stat:!0},{setPrototypeOf:n(62)})},function(e,t,n){var r=n(131),i=n(27),o=n(349);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,n){"use strict";var r=n(131),i=n(86);e.exports=r?{}.toString:function e(){return"[object "+i(this)+"]"}},function(e,t,n){var r=n(9),i=n(191).values;r({target:"Object",stat:!0},{values:function e(t){return i(t)}})},function(e,t,n){var r=n(9),i=n(187);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(e,t,n){var r=n(9),i=n(188);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,n){"use strict";var r=n(9),i=n(45),o=n(13),a=n(42),s=n(193),u=n(27),l=n(69),c=n(46),f=n(68),p=n(15),h=n(38),d=n(54),m=n(40),g=n(122),v=n(88),y=n(94),b=n(55),w=n(138).set,x=n(195),_=n(196),C=n(354),E=n(197),S=n(355),k=n(32),O=n(80),T=n(17),N=n(128),A=T("species"),I="Promise",R=k.get,P=k.set,M=k.getterFor(I),j=s,D=o.TypeError,L=o.document,F=o.process,z=a("fetch"),B=E.f,U=B,W="process"==m(F),V=!!(L&&L.createEvent&&o.dispatchEvent),H="unhandledrejection",G="rejectionhandled",q=0,K=1,X=2,Y=1,Z=2,$,J,Q,ee,te=O(I,function(){var e;if(!(g(j)!==String(j))){if(66===N)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(i&&!j.prototype.finally)return!0;if(N>=51&&/native code/.test(j))return!1;var t=j.resolve(1),n=function(e){e(function(){},function(){})},r;return(t.constructor={})[A]=n,!(t.then(function(){})instanceof n)}),ne=te||!y(function(e){j.all(e).catch(function(){})}),re=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;x(function(){for(var i=t.value,o=1==t.state,a=0;r.length>a;){var s=r[a++],u=o?s.ok:s.fail,l=s.resolve,c=s.reject,f=s.domain,p,h,d;try{u?(o||(2===t.rejection&&ue(e,t),t.rejection=1),!0===u?p=i:(f&&f.enter(),p=u(i),f&&(f.exit(),d=!0)),p===s.promise?c(D("Promise-chain cycle")):(h=re(p))?h.call(p,l,c):l(p)):c(i)}catch(e){f&&!d&&f.exit(),c(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ae(e,t)})}},oe=function(e,t,n){var r,i;V?((r=L.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),o.dispatchEvent(r)):r={promise:t,reason:n},(i=o["on"+e])?i(r):e===H&&C("Unhandled promise rejection",n)},ae=function(e,t){w.call(o,function(){var n=t.value,r,i;if(se(t)&&(i=S(function(){W?F.emit("unhandledRejection",n,e):oe(H,e,n)}),t.rejection=W||se(t)?2:1,i.error))throw i.value})},se=function(e){return 1!==e.rejection&&!e.parent},ue=function(e,t){w.call(o,function(){W?F.emit("rejectionHandled",e):oe(G,e,t.value)})},le=function(e,t,n,r){return function(i){e(t,n,i,r)}},ce=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,ie(e,t,!0))},fe=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw D("Promise can't be resolved itself");var i=re(n);i?x(function(){var r={done:!1};try{i.call(n,le(fe,e,r,t),le(ce,e,r,t))}catch(n){ce(e,r,n,t)}}):(t.value=n,t.state=1,ie(e,t,!1))}catch(n){ce(e,{done:!1},n,t)}}};te&&(j=function e(t){d(this,j,I),h(t),$.call(this);var n=R(this);try{t(le(fe,this,n),le(ce,this,n))}catch(e){ce(this,n,e)}},($=function e(t){P(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=l(j.prototype,{then:function e(t,n){var r=M(this),i=B(b(this,j));return i.ok="function"!=typeof t||t,i.fail="function"==typeof n&&n,i.domain=W?F.domain:void 0,r.parent=!0,r.reactions.push(i),0!=r.state&&ie(this,r,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),J=function(){var e=new $,t=R(e);this.promise=e,this.resolve=le(fe,e,t),this.reject=le(ce,e,t)},E.f=B=function(e){return e===j||e===Q?new J(e):U(e)},i||"function"!=typeof s||(ee=s.prototype.then,u(s.prototype,"then",function e(t,n){var r=this;return new j(function(e,t){ee.call(r,e,t)}).then(t,n)},{unsafe:!0}),"function"==typeof z&&r({global:!0,enumerable:!0,forced:!0},{fetch:function e(t){return _(j,z.apply(o,arguments))}}))),r({global:!0,wrap:!0,forced:te},{Promise:j}),c(j,I,!1,!0),f(I),Q=a(I),r({target:I,stat:!0,forced:te},{reject:function e(t){var n=B(this);return n.reject.call(void 0,t),n.promise}}),r({target:I,stat:!0,forced:i||te},{resolve:function e(t){return _(i&&this===Q?j:this,t)}}),r({target:I,stat:!0,forced:ne},{all:function e(t){var n=this,r=B(n),i=r.resolve,o=r.reject,a=S(function(){var e=h(n.resolve),r=[],a=0,s=1;v(t,function(t){var u=a++,l=!1;r.push(void 0),s++,e.call(n,t).then(function(e){l||(l=!0,r[u]=e,--s||i(r))},o)}),--s||i(r)});return a.error&&o(a.value),r.promise},race:function e(t){var n=this,r=B(n),i=r.reject,o=S(function(){var e=h(n.resolve);v(t,function(t){e.call(n,t).then(r.resolve,i)})});return o.error&&i(o.value),r.promise}})},function(e,t,n){var r=n(13);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var r=n(9),i=n(45),o=n(193),a=n(11),s=n(42),u=n(55),l=n(196),c=n(27),f;r({target:"Promise",proto:!0,real:!0,forced:!!o&&a(function(){o.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=u(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then(function(){return n})}:e,n?function(n){return l(t,e()).then(function(){throw n})}:e)}}),i||"function"!=typeof o||o.prototype.finally||c(o.prototype,"finally",s("Promise").prototype.finally)},function(e,t,n){var r=n(9),i=n(42),o=n(38),a=n(16),s=n(11),u=i("Reflect","apply"),l=Function.apply,c;r({target:"Reflect",stat:!0,forced:!s(function(){u(function(){})})},{apply:function e(t,n,r){return o(t),a(r),u?u(t,n,r):l.call(t,n,r)}})},function(e,t,n){var r=n(9),i=n(42),o=n(38),a=n(16),s=n(15),u=n(51),l=n(359),c=n(11),f=i("Reflect","construct"),p=c(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),h=!c(function(){f(function(){})}),d=p||h;r({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function e(t,n){o(t),a(n);var r=arguments.length<3?t:o(arguments[2]);if(h&&!p)return f(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var i=[null];return i.push.apply(i,n),new(l.apply(t,i))}var c=r.prototype,d=u(s(c)?c:Object.prototype),m=Function.apply.call(t,d,n);return s(m)?m:d}})},function(e,t,n){"use strict";var r=n(38),i=n(15),o=[].slice,a={},s=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function e(t){var n=r(this),a=o.call(arguments,1),u=function e(){var r=a.concat(o.call(arguments));return this instanceof u?s(n,r.length,r):n.apply(t,r)};return i(n.prototype)&&(u.prototype=n.prototype),u}},function(e,t,n){var r=n(9),i=n(19),o=n(16),a=n(41),s=n(21),u,l;r({target:"Reflect",stat:!0,forced:n(11)(function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})}),sham:!i},{defineProperty:function e(t,n,r){o(t);var i=a(n,!0);o(r);try{return s.f(t,i,r),!0}catch(e){return!1}}})},function(e,t,n){var r=n(9),i=n(16),o=n(26).f;r({target:"Reflect",stat:!0},{deleteProperty:function e(t,n){var r=o(i(t),n);return!(r&&!r.configurable)&&delete t[n]}})},function(e,t,n){var r=n(9),i=n(15),o=n(16),a=n(24),s=n(26),u=n(43);function l(e,t){var n=arguments.length<3?e:arguments[2],r,c;return o(e)===n?e[t]:(r=s.f(e,t))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(n):i(c=u(e))?l(c,t,n):void 0}r({target:"Reflect",stat:!0},{get:l})},function(e,t,n){var r=n(9),i=n(19),o=n(16),a=n(26);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function e(t,n){return a.f(o(t),n)}})},function(e,t,n){var r=n(9),i=n(16),o=n(43),a;r({target:"Reflect",stat:!0,sham:!n(133)},{getPrototypeOf:function e(t){return o(i(t))}})},function(e,t,n){var r;n(9)({target:"Reflect",stat:!0},{has:function e(t,n){return n in t}})},function(e,t,n){var r=n(9),i=n(16),o=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function e(t){return i(t),!o||o(t)}})},function(e,t,n){var r,i;n(9)({target:"Reflect",stat:!0},{ownKeys:n(124)})},function(e,t,n){var r=n(9),i=n(42),o=n(16),a;r({target:"Reflect",stat:!0,sham:!n(87)},{preventExtensions:function e(t){o(t);try{var n=i("Object","preventExtensions");return n&&n(t),!0}catch(e){return!1}}})},function(e,t,n){var r=n(9),i=n(16),o=n(15),a=n(24),s=n(11),u=n(21),l=n(26),c=n(43),f=n(49),p;function h(e,t,n){var r=arguments.length<4?e:arguments[3],s=l.f(i(e),t),p,d;if(!s){if(o(d=c(e)))return h(d,t,n,r);s=f(0)}if(a(s,"value")){if(!1===s.writable||!o(r))return!1;if(p=l.f(r,t)){if(p.get||p.set||!1===p.writable)return!1;p.value=n,u.f(r,t,p)}else u.f(r,t,f(0,n));return!0}return void 0!==s.set&&(s.set.call(r,n),!0)}r({target:"Reflect",stat:!0,forced:s(function(){var e=u.f({},"a",{configurable:!0});return!1!==Reflect.set(c(e),"a",1,e)})},{set:h})},function(e,t,n){var r=n(9),i=n(16),o=n(181),a=n(62);a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function e(t,n){i(t),o(n);try{return a(t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(19),i=n(13),o=n(80),a=n(99),s=n(21).f,u=n(60).f,l=n(139),c=n(103),f=n(140),p=n(27),h=n(11),d=n(32).set,m=n(68),g,v=n(17)("match"),y=i.RegExp,b=y.prototype,w=/a/g,x=/a/g,_=new y(w)!==w,C=f.UNSUPPORTED_Y,E;if(r&&o("RegExp",!_||C||h(function(){return x[v]=!1,y(w)!=w||y(x)==x||"/a/i"!=y(w,"i")}))){for(var S=function e(t,n){var r=this instanceof S,i=l(t),o=void 0===n,s;if(!r&&i&&t.constructor===S&&o)return t;_?i&&!o&&(t=t.source):t instanceof S&&(o&&(n=c.call(t)),t=t.source),C&&(s=!!n&&n.indexOf("y")>-1)&&(n=n.replace(/y/g,""));var u=a(_?new y(t,n):y(t,n),r?this:b,S);return C&&s&&d(u,{sticky:s}),u},k=function(e){e in S||s(S,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})},O=u(y),T=0;O.length>T;)k(O[T++]);b.constructor=S,S.prototype=b,p(i,"RegExp",S)}m("RegExp")},function(e,t,n){var r=n(19),i=n(21),o=n(103),a=n(140).UNSUPPORTED_Y;r&&("g"!=/./g.flags||a)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},function(e,t,n){"use strict";var r=n(27),i=n(16),o=n(11),a=n(103),s="toString",u=RegExp.prototype,l=u.toString,c=o(function(){return"/a/b"!=l.call({source:"a",flags:"b"})}),f=l.name!=s;(c||f)&&r(RegExp.prototype,s,function e(){var t=i(this),n=String(t.source),r=t.flags,o;return"/"+n+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in u)?a.call(t):r)},{unsafe:!0})},function(e,t,n){"use strict";var r=n(98),i=n(184);e.exports=r("Set",function(e){return function t(){return e(this,arguments.length?arguments[0]:void 0)}},i)},function(e,t,n){"use strict";var r=n(9),i=n(105).codeAt;r({target:"String",proto:!0},{codePointAt:function e(t){return i(this,t)}})},function(e,t,n){"use strict";var r=n(9),i=n(26).f,o=n(20),a=n(141),s=n(28),u=n(142),l=n(45),c="".endsWith,f=Math.min,p=u("endsWith"),h,d;r({target:"String",proto:!0,forced:!!(l||p||(d=i(String.prototype,"endsWith"),!d||d.writable))&&!p},{endsWith:function e(t){var n=String(s(this));a(t);var r=arguments.length>1?arguments[1]:void 0,i=o(n.length),u=void 0===r?i:f(o(r),i),l=String(t);return c?c.call(n,l,u):n.slice(u-l.length,u)===l}})},function(e,t,n){var r=n(9),i=n(50),o=String.fromCharCode,a=String.fromCodePoint,s;r({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function e(t){for(var n=[],r=arguments.length,a=0,s;r>a;){if(s=+arguments[a++],i(s,1114111)!==s)throw RangeError(s+" is not a valid code point");n.push(s<65536?o(s):o(55296+((s-=65536)>>10),s%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(9),i=n(141),o=n(28),a;r({target:"String",proto:!0,forced:!n(142)("includes")},{includes:function e(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(106),i=n(16),o=n(20),a=n(28),s=n(143),u=n(107);r("match",1,function(e,t,n){return[function t(n){var r=a(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),l=String(this);if(!a.global)return u(a,l);var c=a.unicode;a.lastIndex=0;for(var f=[],p=0,h;null!==(h=u(a,l));){var d=String(h[0]);f[p]=d,""===d&&(a.lastIndex=s(l,o(a.lastIndex),c)),p++}return 0===p?null:f}]})},function(e,t,n){"use strict";var r=n(9),i=n(135).end,o;r({target:"String",proto:!0,forced:n(200)},{padEnd:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(9),i=n(135).start,o;r({target:"String",proto:!0,forced:n(200)},{padStart:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(9),i=n(31),o=n(20);r({target:"String",stat:!0},{raw:function e(t){for(var n=i(t.raw),r=o(n.length),a=arguments.length,s=[],u=0;r>u;)s.push(String(n[u++])),u<a&&s.push(String(arguments[u]));return s.join("")}})},function(e,t,n){var r,i;n(9)({target:"String",proto:!0},{repeat:n(136)})},function(e,t,n){"use strict";var r=n(106),i=n(16),o=n(22),a=n(20),s=n(37),u=n(28),l=n(143),c=n(107),f=Math.max,p=Math.min,h=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};r("replace",2,function(e,t,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,b=v?"$":"$0";return[function n(r,i){var o=u(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):t.call(String(o),r,i)},function(e,r){if(!v&&y||"string"==typeof r&&-1===r.indexOf(b)){var o=n(t,e,this,r);if(o.done)return o.value}var u=i(e),h=String(this),d="function"==typeof r;d||(r=String(r));var m=u.global;if(m){var x=u.unicode;u.lastIndex=0}for(var _=[];;){var C=c(u,h),E;if(null===C)break;if(_.push(C),!m)break;""===String(C[0])&&(u.lastIndex=l(h,a(u.lastIndex),x))}for(var S="",k=0,O=0;O<_.length;O++){C=_[O];for(var T=String(C[0]),N=f(p(s(C.index),h.length),0),A=[],I=1;I<C.length;I++)A.push(g(C[I]));var R=C.groups;if(d){var P=[T].concat(A,N,h);void 0!==R&&P.push(R);var M=String(r.apply(void 0,P))}else M=w(T,h,N,A,R,r);N>=k&&(S+=h.slice(k,N)+M,k=N+T.length)}return S+h.slice(k)}];function w(e,n,r,i,a,s){var u=r+e.length,l=i.length,c=m;return void 0!==a&&(a=o(a),c=d),t.call(s,c,function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return t;if(c>l){var f=h(c/10);return 0===f?t:f<=l?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):t}s=i[c-1]}return void 0===s?"":s})}})},function(e,t,n){"use strict";var r=n(106),i=n(16),o=n(28),a=n(192),s=n(107);r("search",1,function(e,t,n){return[function t(n){var r=o(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),u=String(this),l=o.lastIndex;a(l,0)||(o.lastIndex=0);var c=s(o,u);return a(o.lastIndex,l)||(o.lastIndex=l),null===c?-1:c.index}]})},function(e,t,n){"use strict";var r=n(106),i=n(139),o=n(16),a=n(28),s=n(55),u=n(143),l=n(20),c=n(107),f=n(104),p=n(11),h=[].push,d=Math.min,m=4294967295,g=!p(function(){return!RegExp(4294967295,"y")});r("split",2,function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);for(var s=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,c=new RegExp(e.source,u+"g"),p,d,m;(p=f.call(c,r))&&!((d=c.lastIndex)>l&&(s.push(r.slice(l,p.index)),p.length>1&&p.index<r.length&&h.apply(s,p.slice(1)),m=p[0].length,l=d,s.length>=o));)c.lastIndex===p.index&&c.lastIndex++;return l===r.length?!m&&c.test("")||s.push(""):s.push(r.slice(l)),s.length>o?s.slice(0,o):s}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function t(n,i){var o=a(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,o,i):r.call(String(o),n,i)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var f=o(e),p=String(this),h=s(f,RegExp),m=f.unicode,v=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(g?"y":"g"),y=new h(g?f:"^(?:"+f.source+")",v),b=void 0===i?4294967295:i>>>0;if(0===b)return[];if(0===p.length)return null===c(y,p)?[p]:[];for(var w=0,x=0,_=[];x<p.length;){y.lastIndex=g?x:0;var C=c(y,g?p:p.slice(x)),E;if(null===C||(E=d(l(y.lastIndex+(g?0:x)),p.length))===w)x=u(p,x,m);else{if(_.push(p.slice(w,x)),_.length===b)return _;for(var S=1;S<=C.length-1;S++)if(_.push(C[S]),_.length===b)return _;x=w=E}}return _.push(p.slice(w)),_}]},!g)},function(e,t,n){"use strict";var r=n(9),i=n(26).f,o=n(20),a=n(141),s=n(28),u=n(142),l=n(45),c="".startsWith,f=Math.min,p=u("startsWith"),h,d;r({target:"String",proto:!0,forced:!!(l||p||(d=i(String.prototype,"startsWith"),!d||d.writable))&&!p},{startsWith:function e(t){var n=String(s(this));a(t);var r=o(f(arguments.length>1?arguments[1]:void 0,n.length)),i=String(t);return c?c.call(n,i,r):n.slice(r,r+i.length)===i}})},function(e,t,n){"use strict";var r=n(9),i=n(70).trim,o;r({target:"String",proto:!0,forced:n(144)("trim")},{trim:function e(){return i(this)}})},function(e,t,n){"use strict";var r=n(9),i=n(70).end,o,a=n(144)("trimEnd"),s=a?function e(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:a},{trimEnd:s,trimRight:s})},function(e,t,n){"use strict";var r=n(9),i=n(70).start,o,a=n(144)("trimStart"),s=a?function e(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:a},{trimStart:s,trimLeft:s})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("anchor")},{anchor:function e(t){return i(this,"a","name",t)}})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("big")},{big:function e(){return i(this,"big","","")}})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("blink")},{blink:function e(){return i(this,"blink","","")}})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("bold")},{bold:function e(){return i(this,"b","","")}})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("fixed")},{fixed:function e(){return i(this,"tt","","")}})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("fontcolor")},{fontcolor:function e(t){return i(this,"font","color",t)}})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("fontsize")},{fontsize:function e(t){return i(this,"font","size",t)}})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("italics")},{italics:function e(){return i(this,"i","","")}})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("link")},{link:function e(t){return i(this,"a","href",t)}})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("small")},{small:function e(){return i(this,"small","","")}})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("strike")},{strike:function e(){return i(this,"strike","","")}})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("sub")},{sub:function e(){return i(this,"sub","","")}})},function(e,t,n){"use strict";var r=n(9),i=n(34),o;r({target:"String",proto:!0,forced:n(35)("sup")},{sup:function e(){return i(this,"sup","","")}})},function(e,t,n){var r;n(48)("Float32",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r=n(37);e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},function(e,t,n){var r;n(48)("Float64",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r;n(48)("Int8",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r;n(48)("Int16",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r;n(48)("Int32",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r;n(48)("Uint8",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r;n(48)("Uint8",function(e){return function t(n,r,i){return e(this,n,r,i)}},!0)},function(e,t,n){var r;n(48)("Uint16",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r;n(48)("Uint32",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){"use strict";var r=n(18),i=n(174),o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("copyWithin",function e(t,n){return i.call(o(this),t,n,arguments.length>2?arguments[2]:void 0)})},function(e,t,n){"use strict";var r=n(18),i=n(25).every,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("every",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(18),i=n(129),o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("fill",function e(t){return i.apply(o(this),arguments)})},function(e,t,n){"use strict";var r=n(18),i=n(25).filter,o=n(55),a=r.aTypedArray,s=r.aTypedArrayConstructor,u;(0,r.exportTypedArrayMethod)("filter",function e(t){for(var n=i(a(this),t,arguments.length>1?arguments[1]:void 0),r=o(this,this.constructor),u=0,l=n.length,c=new(s(r))(l);l>u;)c[u]=n[u++];return c})},function(e,t,n){"use strict";var r=n(18),i=n(25).find,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("find",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(18),i=n(25).findIndex,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("findIndex",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(18),i=n(25).forEach,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("forEach",function e(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(145),i,o;(0,n(18).exportTypedArrayStaticMethod)("from",n(202),r)},function(e,t,n){"use strict";var r=n(18),i=n(79).includes,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("includes",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(18),i=n(79).indexOf,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("indexOf",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(13),i=n(18),o=n(95),a,s=n(17)("iterator"),u=r.Uint8Array,l=o.values,c=o.keys,f=o.entries,p=i.aTypedArray,h=i.exportTypedArrayMethod,d=u&&u.prototype[s],m=!!d&&("values"==d.name||void 0==d.name),g=function e(){return l.call(p(this))};h("entries",function e(){return f.call(p(this))}),h("keys",function e(){return c.call(p(this))}),h("values",g,!m),h(s,g,!m)},function(e,t,n){"use strict";var r=n(18),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].join;o("join",function e(t){return a.apply(i(this),arguments)})},function(e,t,n){"use strict";var r=n(18),i=n(182),o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("lastIndexOf",function e(t){return i.apply(o(this),arguments)})},function(e,t,n){"use strict";var r=n(18),i=n(25).map,o=n(55),a=r.aTypedArray,s=r.aTypedArrayConstructor,u;(0,r.exportTypedArrayMethod)("map",function e(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0,function(e,t){return new(s(o(e,e.constructor)))(t)})})},function(e,t,n){"use strict";var r=n(18),i=n(145),o=r.aTypedArrayConstructor,a;(0,r.exportTypedArrayStaticMethod)("of",function e(){for(var t=0,n=arguments.length,r=new(o(this))(n);n>t;)r[t]=arguments[t++];return r},i)},function(e,t,n){"use strict";var r=n(18),i=n(96).left,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("reduce",function e(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(18),i=n(96).right,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("reduceRight",function e(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(18),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=Math.floor;o("reverse",function e(){for(var t=this,n=i(this).length,r=a(n/2),o=0,s;o<r;)s=this[o],this[o++]=this[--n],this[n]=s;return this})},function(e,t,n){"use strict";var r=n(18),i=n(20),o=n(201),a=n(22),s=n(11),u=r.aTypedArray,l,c;(0,r.exportTypedArrayMethod)("set",function e(t){u(this);var n=o(arguments.length>1?arguments[1]:void 0,1),r=this.length,s=a(t),l=i(s.length),c=0;if(l+n>r)throw RangeError("Wrong length");for(;c<l;)this[n+c]=s[c++]},s(function(){new Int8Array(1).set({})}))},function(e,t,n){"use strict";var r=n(18),i=n(55),o=n(11),a=r.aTypedArray,s=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod,l=[].slice,c;u("slice",function e(t,n){for(var r=l.call(a(this),t,n),o=i(this,this.constructor),u=0,c=r.length,f=new(s(o))(c);c>u;)f[u]=r[u++];return f},o(function(){new Int8Array(1).slice()}))},function(e,t,n){"use strict";var r=n(18),i=n(25).some,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("some",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(18),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].sort;o("sort",function e(t){return a.call(i(this),t)})},function(e,t,n){"use strict";var r=n(18),i=n(20),o=n(50),a=n(55),s=r.aTypedArray,u;(0,r.exportTypedArrayMethod)("subarray",function e(t,n){var r=s(this),u=r.length,l=o(t,u);return new(a(r,r.constructor))(r.buffer,r.byteOffset+l*r.BYTES_PER_ELEMENT,i((void 0===n?u:o(n,u))-l))})},function(e,t,n){"use strict";var r=n(13),i=n(18),o=n(11),a=r.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,l=[].toLocaleString,c=[].slice,f=!!a&&o(function(){l.call(new a(1))}),p;u("toLocaleString",function e(){return l.apply(f?c.call(s(this)):s(this),arguments)},o(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!o(function(){a.prototype.toLocaleString.call([1,2])}))},function(e,t,n){"use strict";var r=n(18).exportTypedArrayMethod,i=n(11),o,a=n(13).Uint8Array,s=a&&a.prototype||{},u=[].toString,l=[].join;i(function(){u.call({})})&&(u=function e(){return l.call(this)});var c=s.toString!=u;r("toString",u,c)},function(e,t,n){"use strict";var r=n(13),i=n(69),o=n(63),a=n(98),s=n(203),u=n(15),l=n(32).enforce,c=n(165),f=!r.ActiveXObject&&"ActiveXObject"in r,p=Object.isExtensible,h,d=function(e){return function t(){return e(this,arguments.length?arguments[0]:void 0)}},m=e.exports=a("WeakMap",d,s);if(c&&f){h=s.getConstructor(d,"WeakMap",!0),o.REQUIRED=!0;var g=m.prototype,v=g.delete,y=g.has,b=g.get,w=g.set;i(g,{delete:function(e){if(u(e)&&!p(e)){var t=l(this);return t.frozen||(t.frozen=new h),v.call(this,e)||t.frozen.delete(e)}return v.call(this,e)},has:function e(t){if(u(t)&&!p(t)){var n=l(this);return n.frozen||(n.frozen=new h),y.call(this,t)||n.frozen.has(t)}return y.call(this,t)},get:function e(t){if(u(t)&&!p(t)){var n=l(this);return n.frozen||(n.frozen=new h),y.call(this,t)?b.call(this,t):n.frozen.get(t)}return b.call(this,t)},set:function e(t,n){if(u(t)&&!p(t)){var r=l(this);r.frozen||(r.frozen=new h),y.call(this,t)?w.call(this,t,n):r.frozen.set(t,n)}else w.call(this,t,n);return this}})}},function(e,t,n){"use strict";var r,i;n(98)("WeakSet",function(e){return function t(){return e(this,arguments.length?arguments[0]:void 0)}},n(203))},function(e,t,n){var r=n(13),i=n(204),o=n(176),a=n(29);for(var s in i){var u=r[s],l=u&&u.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(e){l.forEach=o}}},function(e,t,n){var r=n(13),i=n(204),o=n(95),a=n(29),s=n(17),u=s("iterator"),l=s("toStringTag"),c=o.values;for(var f in i){var p=r[f],h=p&&p.prototype;if(h){if(h[u]!==c)try{a(h,u,c)}catch(e){h[u]=c}if(h[l]||a(h,l,f),i[f])for(var d in o)if(h[d]!==o[d])try{a(h,d,o[d])}catch(e){h[d]=o[d]}}}},function(e,t,n){var r=n(9),i=n(13),o=n(138),a;r({global:!0,bind:!0,enumerable:!0,forced:!i.setImmediate||!i.clearImmediate},{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,n){var r=n(9),i=n(13),o=n(195),a=n(40),s=i.process,u="process"==a(s);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function e(t){var n=u&&s.domain;o(n?n.bind(t):t)}})},function(e,t,n){var r=n(9),i=n(13),o=n(93),a=[].slice,s,u=function(e){return function(t,n){var r=arguments.length>2,i=r?a.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},function(e,t,n){"use strict";n(199);var r=n(9),i=n(19),o=n(205),a=n(13),s=n(170),u=n(27),l=n(54),c=n(24),f=n(190),p=n(177),h=n(105).codeAt,d=n(447),m=n(46),g=n(206),v=n(32),y=a.URL,b=g.URLSearchParams,w=g.getState,x=v.set,_=v.getterFor("URL"),C=Math.floor,E=Math.pow,S="Invalid authority",k="Invalid scheme",O="Invalid host",T="Invalid port",N=/[A-Za-z]/,A=/[\d+-.A-Za-z]/,I=/\d/,R=/^(0x|0X)/,P=/^[0-7]+$/,M=/^\d+$/,j=/^[\dA-Fa-f]+$/,D=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,L=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,F=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,z=/[\u0009\u000A\u000D]/g,B,U=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return O;if(!(n=V(t.slice(1,-1))))return O;e.host=n}else if(J(e)){if(t=d(t),D.test(t))return O;if(null===(n=W(t)))return O;e.host=n}else{if(L.test(t))return O;for(n="",r=p(t),i=0;i<r.length;i++)n+=Z(r[i],q);e.host=n}},W=function(e){var t=e.split("."),n,r,i,o,a,s,u;if(t.length&&""==t[t.length-1]&&t.pop(),(n=t.length)>4)return e;for(r=[],i=0;i<n;i++){if(""==(o=t[i]))return e;if(a=10,o.length>1&&"0"==o.charAt(0)&&(a=R.test(o)?16:8,o=o.slice(8==a?1:2)),""===o)s=0;else{if(!(10==a?M:8==a?P:j).test(o))return e;s=parseInt(o,a)}r.push(s)}for(i=0;i<n;i++)if(s=r[i],i==n-1){if(s>=E(256,5-n))return null}else if(s>255)return null;for(u=r.pop(),i=0;i<r.length;i++)u+=r[i]*E(256,3-i);return u},V=function(e){var t=[0,0,0,0,0,0,0,0],n=0,r=null,i=0,o,a,s,u,l,c,f,p=function(){return e.charAt(i)};if(":"==p()){if(":"!=e.charAt(1))return;i+=2,r=++n}for(;p();){if(8==n)return;if(":"!=p()){for(o=a=0;a<4&&j.test(p());)o=16*o+parseInt(p(),16),i++,a++;if("."==p()){if(0==a)return;if(i-=a,n>6)return;for(s=0;p();){if(u=null,s>0){if(!("."==p()&&s<4))return;i++}if(!I.test(p()))return;for(;I.test(p());){if(l=parseInt(p(),10),null===u)u=l;else{if(0==u)return;u=10*u+l}if(u>255)return;i++}t[n]=256*t[n]+u,2!=++s&&4!=s||n++}if(4!=s)return;break}if(":"==p()){if(i++,!p())return}else if(p())return;t[n++]=o}else{if(null!==r)return;i++,r=++n}}if(null!==r)for(c=n-r,n=7;0!=n&&c>0;)f=t[n],t[n--]=t[r+c-1],t[r+--c]=f;else if(8!=n)return;return t},H=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t},G=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=C(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=H(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},q={},K=f({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),X=f({},K,{"#":1,"?":1,"{":1,"}":1}),Y=f({},X,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(e,t){var n=h(e,0);return n>32&&n<127&&!c(t,e)?e:encodeURIComponent(e)},$={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(e){return c($,e.scheme)},Q=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&N.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},oe=function(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e},ae={},se={},ue={},le={},ce={},fe={},pe={},he={},de={},me={},ge={},ve={},ye={},be={},we={},xe={},_e={},Ce={},Ee={},Se={},ke={},Oe=function(e,t,n,r){var i=n||ae,o=0,a="",s=!1,u=!1,l=!1,f,h,d,m;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(F,"")),t=t.replace(z,""),f=p(t);o<=f.length;){switch(h=f[o],i){case ae:if(!h||!N.test(h)){if(n)return k;i=ue;continue}a+=h.toLowerCase(),i=se;break;case se:if(h&&(A.test(h)||"+"==h||"-"==h||"."==h))a+=h.toLowerCase();else{if(":"!=h){if(n)return k;a="",i=ue,o=0;continue}if(n&&(J(e)!=c($,a)||"file"==a&&(Q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=a,n)return void(J(e)&&$[e.scheme]==e.port&&(e.port=null));a="","file"==e.scheme?i=be:J(e)&&r&&r.scheme==e.scheme?i=le:J(e)?i=he:"/"==f[o+1]?(i=ce,o++):(e.cannotBeABaseURL=!0,e.path.push(""),i=Ee)}break;case ue:if(!r||r.cannotBeABaseURL&&"#"!=h)return k;if(r.cannotBeABaseURL&&"#"==h){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,i=ke;break}i="file"==r.scheme?be:fe;continue;case le:if("/"!=h||"/"!=f[o+1]){i=fe;continue}i=de,o++;break;case ce:if("/"==h){i=me;break}i=Ce;continue;case fe:if(e.scheme=r.scheme,h==B)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==h||"\\"==h&&J(e))i=pe;else if("?"==h)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",i=Se;else{if("#"!=h){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),i=Ce;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",i=ke}break;case pe:if(!J(e)||"/"!=h&&"\\"!=h){if("/"!=h){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,i=Ce;continue}i=me}else i=de;break;case he:if(i=de,"/"!=h||"/"!=a.charAt(o+1))continue;o++;break;case de:if("/"!=h&&"\\"!=h){i=me;continue}break;case me:if("@"==h){s&&(a="%40"+a),s=!0,d=p(a);for(var g=0;g<d.length;g++){var v=d[g];if(":"!=v||l){var y=Z(v,Y);l?e.password+=y:e.username+=y}else l=!0}a=""}else if(h==B||"/"==h||"?"==h||"#"==h||"\\"==h&&J(e)){if(s&&""==a)return S;o-=p(a).length+1,a="",i=ge}else a+=h;break;case ge:case ve:if(n&&"file"==e.scheme){i=xe;continue}if(":"!=h||u){if(h==B||"/"==h||"?"==h||"#"==h||"\\"==h&&J(e)){if(J(e)&&""==a)return O;if(n&&""==a&&(Q(e)||null!==e.port))return;if(m=U(e,a))return m;if(a="",i=_e,n)return;continue}"["==h?u=!0:"]"==h&&(u=!1),a+=h}else{if(""==a)return O;if(m=U(e,a))return m;if(a="",i=ye,n==ve)return}break;case ye:if(!I.test(h)){if(h==B||"/"==h||"?"==h||"#"==h||"\\"==h&&J(e)||n){if(""!=a){var b=parseInt(a,10);if(b>65535)return T;e.port=J(e)&&b===$[e.scheme]?null:b,a=""}if(n)return;i=_e;continue}return T}a+=h;break;case be:if(e.scheme="file","/"==h||"\\"==h)i=we;else{if(!r||"file"!=r.scheme){i=Ce;continue}if(h==B)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==h)e.host=r.host,e.path=r.path.slice(),e.query="",i=Se;else{if("#"!=h){ne(f.slice(o).join(""))||(e.host=r.host,e.path=r.path.slice(),re(e)),i=Ce;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",i=ke}}break;case we:if("/"==h||"\\"==h){i=xe;break}r&&"file"==r.scheme&&!ne(f.slice(o).join(""))&&(te(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),i=Ce;continue;case xe:if(h==B||"/"==h||"\\"==h||"?"==h||"#"==h){if(!n&&te(a))i=Ce;else if(""==a){if(e.host="",n)return;i=_e}else{if(m=U(e,a))return m;if("localhost"==e.host&&(e.host=""),n)return;a="",i=_e}continue}a+=h;break;case _e:if(J(e)){if(i=Ce,"/"!=h&&"\\"!=h)continue}else if(n||"?"!=h)if(n||"#"!=h){if(h!=B&&(i=Ce,"/"!=h))continue}else e.fragment="",i=ke;else e.query="",i=Se;break;case Ce:if(h==B||"/"==h||"\\"==h&&J(e)||!n&&("?"==h||"#"==h)){if(oe(a)?(re(e),"/"==h||"\\"==h&&J(e)||e.path.push("")):ie(a)?"/"==h||"\\"==h&&J(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(a)&&(e.host&&(e.host=""),a=a.charAt(0)+":"),e.path.push(a)),a="","file"==e.scheme&&(h==B||"?"==h||"#"==h))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==h?(e.query="",i=Se):"#"==h&&(e.fragment="",i=ke)}else a+=Z(h,X);break;case Ee:"?"==h?(e.query="",i=Se):"#"==h?(e.fragment="",i=ke):h!=B&&(e.path[0]+=Z(h,q));break;case Se:n||"#"!=h?h!=B&&("'"==h&&J(e)?e.query+="%27":e.query+="#"==h?"%23":Z(h,q)):(e.fragment="",i=ke);break;case ke:h!=B&&(e.fragment+=Z(h,K))}o++}},Te=function e(t){var n=l(this,Te,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(t),a=x(n,{type:"URL"}),s,u;if(void 0!==r)if(r instanceof Te)s=_(r);else if(u=Oe(s={},String(r)))throw TypeError(u);if(u=Oe(a,o,null,s))throw TypeError(u);var c=a.searchParams=new b,f=w(c);f.updateSearchParams(a.query),f.updateURL=function(){a.query=String(c)||null},i||(n.href=Ae.call(n),n.origin=Ie.call(n),n.protocol=Re.call(n),n.username=Pe.call(n),n.password=Me.call(n),n.host=je.call(n),n.hostname=De.call(n),n.port=Le.call(n),n.pathname=Fe.call(n),n.search=ze.call(n),n.searchParams=Be.call(n),n.hash=Ue.call(n))},Ne=Te.prototype,Ae=function(){var e=_(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,l=t+":";return null!==i?(l+="//",Q(e)&&(l+=n+(r?":"+r:"")+"@"),l+=G(i),null!==o&&(l+=":"+o)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Ie=function(){var e=_(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&J(e)?t+"://"+G(e.host)+(null!==n?":"+n:""):"null"},Re=function(){return _(this).scheme+":"},Pe=function(){return _(this).username},Me=function(){return _(this).password},je=function(){var e=_(this),t=e.host,n=e.port;return null===t?"":null===n?G(t):G(t)+":"+n},De=function(){var e=_(this).host;return null===e?"":G(e)},Le=function(){var e=_(this).port;return null===e?"":String(e)},Fe=function(){var e=_(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},ze=function(){var e=_(this).query;return e?"?"+e:""},Be=function(){return _(this).searchParams},Ue=function(){var e=_(this).fragment;return e?"#"+e:""},We=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&s(Ne,{href:We(Ae,function(e){var t=_(this),n=String(e),r=Oe(t,n);if(r)throw TypeError(r);w(t.searchParams).updateSearchParams(t.query)}),origin:We(Ie),protocol:We(Re,function(e){var t=_(this);Oe(t,String(e)+":",ae)}),username:We(Pe,function(e){var t=_(this),n=p(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Z(n[r],Y)}}),password:We(Me,function(e){var t=_(this),n=p(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Z(n[r],Y)}}),host:We(je,function(e){var t=_(this);t.cannotBeABaseURL||Oe(t,String(e),ge)}),hostname:We(De,function(e){var t=_(this);t.cannotBeABaseURL||Oe(t,String(e),ve)}),port:We(Le,function(e){var t=_(this);ee(t)||(""==(e=String(e))?t.port=null:Oe(t,e,ye))}),pathname:We(Fe,function(e){var t=_(this);t.cannotBeABaseURL||(t.path=[],Oe(t,e+"",_e))}),search:We(ze,function(e){var t=_(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Oe(t,e,Se)),w(t.searchParams).updateSearchParams(t.query)}),searchParams:We(Be),hash:We(Ue,function(e){var t=_(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Oe(t,e,ke)):t.fragment=null})}),u(Ne,"toJSON",function e(){return Ae.call(this)},{enumerable:!0}),u(Ne,"toString",function e(){return Ae.call(this)},{enumerable:!0}),y){var Ve=y.createObjectURL,He=y.revokeObjectURL;Ve&&u(Te,"createObjectURL",function e(t){return Ve.apply(y,arguments)}),He&&u(Te,"revokeObjectURL",function e(t){return He.apply(y,arguments)})}m(Te,"URL"),r({global:!0,forced:!o,sham:!i},{URL:Te})},function(e,t,n){"use strict";var r=2147483647,i=36,o=1,a=26,s=38,u=700,l=72,c=128,f="-",p=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",m=35,g=Math.floor,v=String.fromCharCode,y=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},b=function(e){return e+22+75*(e<26)},w=function(e,t,n){var r=0;for(e=n?g(e/700):e>>1,e+=g(e/t);e>455;r+=36)e=g(e/35);return g(r+36*e/(e+38))},x=function(e){var t=[],n=(e=y(e)).length,i=128,o=0,a=72,s,u;for(s=0;s<e.length;s++)(u=e[s])<128&&t.push(v(u));var l=t.length,c=l;for(l&&t.push("-");c<n;){var f=r;for(s=0;s<e.length;s++)(u=e[s])>=i&&u<f&&(f=u);var p=c+1;if(f-i>g((r-o)/p))throw RangeError(d);for(o+=(f-i)*p,i=f,s=0;s<e.length;s++){if((u=e[s])<i&&++o>r)throw RangeError(d);if(u==i){for(var h=o,m=36;;m+=36){var x=m<=a?1:m>=a+26?26:m-a;if(h<x)break;var _=h-x,C=36-x;t.push(v(b(x+_%C))),h=g(_/C)}t.push(v(b(h))),a=w(o,p,c==l),o=0,++c}}++o,++i}return t.join("")};e.exports=function(e){var t=[],n=e.toLowerCase().replace(h,".").split("."),r,i;for(r=0;r<n.length;r++)i=n[r],t.push(p.test(i)?"xn--"+x(i):i);return t.join(".")}},function(e,t,n){var r=n(16),i=n(85);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){"use strict";var r;n(9)({target:"URL",proto:!0,enumerable:!0},{toJSON:function e(){return URL.prototype.toString.call(this)}})},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new N(r||[]);return o._invoke=S(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",m={};function g(){}function v(){}function y(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==t&&n.call(x,o)&&(b=x);var _=y.prototype=g.prototype=Object.create(b);function C(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){function r(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(f).then(function(e){l.value=e,a(l)},function(e){return r("throw",e,a,s)})}s(u.arg)}var i;function o(e,n){function o(){return new t(function(t,i){r(e,n,t,i)})}return i=i?i.then(o,o):o()}this._invoke=o}function S(e,t,n){var r=f;return function i(o,a){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw a;return I()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?d:p,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=d,n.method="throw",n.arg=l.arg)}}}function k(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,k(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=r,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:r,done:!0}}return v.prototype=_.constructor=y,y.constructor=v,v.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},C(E.prototype),E.prototype[a]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},C(_),u(_,s,"Generator"),_[o]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e,t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),m}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2),i=n(207),o=n(453);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var u=!1,l=null,c=!1,f=null,p={onError:function(e){u=!0,l=e}};function h(e,t,n,r,i,o,a,c,f){u=!1,l=null,s.apply(p,arguments)}function d(e,t,n,r,i,o,s,p,d){if(h.apply(this,arguments),u){if(!u)throw Error(a(198));var m=l;u=!1,l=null,c||(c=!0,f=m)}}var m=null,g=null,v=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),d(r,t,void 0,e),e.currentTarget=null}var b=null,w={};function x(){if(b)for(var e in w){var t=w[e],n=b.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!C[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in C[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,u=r;if(E.hasOwnProperty(u))throw Error(a(99,u));E[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&_(l[i],s,u);i=!0}else o.registrationName?(_(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function _(e,t,n){if(S[e])throw Error(a(100,e));S[e]=t,k[e]=t.eventTypes[n].dependencies}var C=[],E={},S={},k={};function O(e){var t=!1,n;for(n in e)if(e.hasOwnProperty(n)){var r=e[n];if(!w.hasOwnProperty(n)||w[n]!==r){if(w[n])throw Error(a(102,n));w[n]=r,t=!0}}t&&x()}var T=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),N=null,A=null,I=null;function R(e){if(e=g(e)){if("function"!=typeof N)throw Error(a(280));var t=e.stateNode;t&&(t=m(t),N(e.stateNode,e.type,t))}}function P(e){A?I?I.push(e):I=[e]:A=e}function M(){if(A){var e=A,t=I;if(I=A=null,R(e),t)for(e=0;e<t.length;e++)R(t[e])}}function j(e,t){return e(t)}function D(e,t,n,r,i){return e(t,n,r,i)}function L(){}var F=j,z=!1,B=!1;function U(){null===A&&null===I||(L(),M())}function W(e,t,n){if(B)return e(t,n);B=!0;try{return F(e,t,n)}finally{B=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H=Object.prototype.hasOwnProperty,G={},q={};function K(e){return!!H.call(q,e)||!H.call(G,e)&&(V.test(e)?q[e]=!0:(G[e]=!0,!1))}function X(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function Y(e,t,n,r){if(null===t||void 0===t||X(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Z(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$[e]=new Z(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$[t]=new Z(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){$[e]=new Z(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$[e]=new Z(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$[e]=new Z(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){$[e]=new Z(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){$[e]=new Z(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){$[e]=new Z(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){$[e]=new Z(e,5,!1,e.toLowerCase(),null,!1)});var J=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(J,Q);$[t]=new Z(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(J,Q);$[t]=new Z(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(J,Q);$[t]=new Z(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){$[e]=new Z(e,1,!1,e.toLowerCase(),null,!1)}),$.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){$[e]=new Z(e,1,!1,e.toLowerCase(),null,!0)});var ee=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function te(e,t,n,r){var i=$.hasOwnProperty(t)?$[t]:null,o;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(Y(t,n,i,r)&&(n=null),r||null===i?K(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}ee.hasOwnProperty("ReactCurrentDispatcher")||(ee.ReactCurrentDispatcher={current:null}),ee.hasOwnProperty("ReactCurrentBatchConfig")||(ee.ReactCurrentBatchConfig={suspense:null});var ne=/^(.*)[\\\/]/,re="function"==typeof Symbol&&Symbol.for,ie=re?Symbol.for("react.element"):60103,oe=re?Symbol.for("react.portal"):60106,ae=re?Symbol.for("react.fragment"):60107,se=re?Symbol.for("react.strict_mode"):60108,ue=re?Symbol.for("react.profiler"):60114,le=re?Symbol.for("react.provider"):60109,ce=re?Symbol.for("react.context"):60110,fe=re?Symbol.for("react.concurrent_mode"):60111,pe=re?Symbol.for("react.forward_ref"):60112,he=re?Symbol.for("react.suspense"):60113,de=re?Symbol.for("react.suspense_list"):60120,me=re?Symbol.for("react.memo"):60115,ge=re?Symbol.for("react.lazy"):60116,ve=re?Symbol.for("react.block"):60121,ye="function"==typeof Symbol&&Symbol.iterator;function be(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ye&&e[ye]||e["@@iterator"])?e:null}function we(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}function xe(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ae:return"Fragment";case oe:return"Portal";case ue:return"Profiler";case se:return"StrictMode";case he:return"Suspense";case de:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ce:return"Context.Consumer";case le:return"Context.Provider";case pe:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case me:return xe(e.type);case ve:return xe(e.render);case ge:if(e=1===e._status?e._result:null)return xe(e)}return null}function _e(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=xe(e.type);n=null,r&&(n=xe(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(ne,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function Ce(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Se(e){var t=Ee(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ke(e){e._valueTracker||(e._valueTracker=Se(e))}function Oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ee(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Te(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ne(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ce(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ae(e,t){null!=(t=t.checked)&&te(e,"checked",t,!1)}function Ie(e,t){Ae(e,t);var n=Ce(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pe(e,t.type,Ce(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Pe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Me(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function je(e,t){return e=i({children:void 0},t),(t=Me(t.children))&&(e.children=t),e}function De(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ce(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Le(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Ce(n)}}function ze(e,t){var n=Ce(t.value),r=Ce(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Be(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ue="http://www.w3.org/1999/xhtml",We="http://www.w3.org/1998/Math/MathML",Ve="http://www.w3.org/2000/svg";function He(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ge(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?He(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var qe,Ke=(Xe=function(e,t){if(e.namespaceURI!==Ve||"innerHTML"in e)e.innerHTML=t;else{for((qe=qe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Xe(e,t,n,r)})}:Xe),Xe;function Ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $e={animationend:Ze("Animation","AnimationEnd"),animationiteration:Ze("Animation","AnimationIteration"),animationstart:Ze("Animation","AnimationStart"),transitionend:Ze("Transition","TransitionEnd")},Je={},Qe={};function et(e){if(Je[e])return Je[e];if(!$e[e])return e;var t=$e[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qe)return Je[e]=t[n];return e}T&&(Qe=document.createElement("div").style,"AnimationEvent"in window||(delete $e.animationend.animation,delete $e.animationiteration.animation,delete $e.animationstart.animation),"TransitionEvent"in window||delete $e.transitionend.transition);var tt=et("animationend"),nt=et("animationiteration"),rt=et("animationstart"),it=et("transitionend"),ot="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),at=new("function"==typeof WeakMap?WeakMap:Map);function st(e){var t=at.get(e);return void 0===t&&(t=new Map,at.set(e,t)),t}function ut(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function lt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ct(e){if(ut(e)!==e)throw Error(a(188))}function ft(e){var t=e.alternate;if(!t){if(null===(t=ut(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ct(i),e;if(o===r)return ct(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function pt(e){if(!(e=ft(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function ht(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function dt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var mt=null;function gt(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function vt(e){if(null!==e&&(mt=ht(mt,e)),e=mt,mt=null,e){if(dt(e,gt),mt)throw Error(a(95));if(c)throw e=f,c=!1,f=null,e}}function yt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function bt(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var wt=[];function xt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>wt.length&&wt.push(e)}function _t(e,t,n,r){if(wt.length){var i=wt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function Ct(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Hn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=yt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<C.length;u++){var l=C[u];l&&(l=l.extractEvents(r,t,o,i,a))&&(s=ht(s,l))}vt(s)}}function Et(e,t,n){if(!n.has(e)){switch(e){case"scroll":sn(t,"scroll",!0);break;case"focus":case"blur":sn(t,"focus",!0),sn(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":bt(e)&&sn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===ot.indexOf(e)&&an(e,t)}n.set(e,null)}}var St,kt,Ot,Tt=!1,Nt=[],At=null,It=null,Rt=null,Pt=new Map,Mt=new Map,jt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Lt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ft(e,t){var n=st(t);Dt.forEach(function(e){Et(e,t,n)}),Lt.forEach(function(e){Et(e,t,n)})}function zt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Bt(e,t){switch(e){case"focus":case"blur":At=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Ut(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=zt(t,n,r,i,o),null!==t&&(null!==(t=Gn(t))&&kt(t)),e):(e.eventSystemFlags|=r,e)}function Wt(e,t,n,r,i){switch(t){case"focus":return At=Ut(At,e,t,n,r,i),!0;case"dragenter":return It=Ut(It,e,t,n,r,i),!0;case"mouseover":return Rt=Ut(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Ut(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Mt.set(o,Ut(Mt.get(o)||null,e,t,n,r,i)),!0}return!1}function Vt(e){var t=Hn(e.target);if(null!==t){var n=ut(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=lt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,function(){Ot(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ht(e){if(null!==e.blockedOn)return!1;var t=fn(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Gn(t);return null!==n&&kt(n),e.blockedOn=t,!1}return!0}function Gt(e,t,n){Ht(e)&&n.delete(t)}function qt(){for(Tt=!1;0<Nt.length;){var e=Nt[0];if(null!==e.blockedOn){null!==(e=Gn(e.blockedOn))&&St(e);break}var t=fn(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Nt.shift()}null!==At&&Ht(At)&&(At=null),null!==It&&Ht(It)&&(It=null),null!==Rt&&Ht(Rt)&&(Rt=null),Pt.forEach(Gt),Mt.forEach(Gt)}function Kt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,qt)))}function Xt(e){function t(t){return Kt(t,e)}if(0<Nt.length){Kt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Kt(At,e),null!==It&&Kt(It,e),null!==Rt&&Kt(Rt,e),Pt.forEach(t),Mt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Vt(n),null===n.blockedOn&&jt.shift()}var Yt={},Zt=new Map,$t=new Map,Jt=["abort","abort",tt,"animationEnd",nt,"animationIteration",rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",it,"transitionEnd","waiting","waiting"];function Qt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},$t.set(r,t),Zt.set(r,o),Yt[i]=o}}Qt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Qt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Qt(Jt,2);for(var en="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),tn=0;tn<en.length;tn++)$t.set(en[tn],0);var nn=o.unstable_UserBlockingPriority,rn=o.unstable_runWithPriority,on=!0;function an(e,t){sn(t,e,!1)}function sn(e,t,n){var r=$t.get(t);switch(void 0===r?2:r){case 0:r=un.bind(null,t,1,e);break;case 1:r=ln.bind(null,t,1,e);break;default:r=cn.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function un(e,t,n,r){z||L();var i=cn,o=z;z=!0;try{D(i,e,t,n,r)}finally{(z=o)||U()}}function ln(e,t,n,r){rn(nn,cn.bind(null,e,t,n,r))}function cn(e,t,n,r){if(on)if(0<Nt.length&&-1<Dt.indexOf(e))e=zt(null,e,t,n,r),Nt.push(e);else{var i=fn(e,t,n,r);if(null===i)Bt(e,r);else if(-1<Dt.indexOf(e))e=zt(i,e,t,n,r),Nt.push(e);else if(!Wt(i,e,t,n,r)){Bt(e,r),e=_t(e,r,null,t);try{W(Ct,e)}finally{xt(e)}}}}function fn(e,t,n,r){if(null!==(n=Hn(n=yt(r)))){var i=ut(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=lt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=_t(e,r,n,t);try{W(Ct,e)}finally{xt(e)}return null}var pn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hn=["Webkit","ms","Moz","O"];function dn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pn.hasOwnProperty(e)&&pn[e]?(""+t).trim():t+"px"}function mn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=dn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pn).forEach(function(e){hn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pn[t]=pn[e]})});var gn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vn(e,t){if(t){if(gn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function yn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bn=Ue;function wn(e,t){var n=st(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=k[t];for(var r=0;r<t.length;r++)Et(t[r],e,n)}function xn(){}function _n(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function En(e,t){var n=Cn(e),r;for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cn(n)}}function Sn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Sn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function kn(){for(var e=window,t=_n();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=_n((e=t.contentWindow).document)}return t}function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Tn="$",Nn="/$",An="$?",In="$!",Rn=null,Pn=null;function Mn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function jn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Dn="function"==typeof setTimeout?setTimeout:void 0,Ln="function"==typeof clearTimeout?clearTimeout:void 0;function Fn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function zn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Tn||n===In||n===An){if(0===t)return e;t--}else n===Nn&&t++}e=e.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),Un="__reactInternalInstance$"+Bn,Wn="__reactEventHandlers$"+Bn,Vn="__reactContainere$"+Bn;function Hn(e){var t=e[Un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vn]||n[Un]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=zn(e);null!==e;){if(n=e[Un])return n;e=zn(e)}return t}n=(e=n).parentNode}return null}function Gn(e){return!(e=e[Un]||e[Vn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function qn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Kn(e){return e[Wn]||null}function Xn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t){var n=e.stateNode;if(!n)return null;var r=m(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Zn(e,t,n){(t=Yn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=ht(n._dispatchListeners,t),n._dispatchInstances=ht(n._dispatchInstances,e))}function $n(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Xn(t);for(t=n.length;0<t--;)Zn(n[t],"captured",e);for(t=0;t<n.length;t++)Zn(n[t],"bubbled",e)}}function Jn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Yn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ht(n._dispatchListeners,t),n._dispatchInstances=ht(n._dispatchInstances,e))}function Qn(e){e&&e.dispatchConfig.registrationName&&Jn(e._targetInst,null,e)}function er(e){dt(e,$n)}var tr=null,nr=null,rr=null;function ir(){if(rr)return rr;var e,t=nr,n=t.length,r,i="value"in tr?tr.value:tr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return rr=i.slice(e,1<r?1-r:void 0)}function or(){return!0}function ar(){return!1}function sr(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?or:ar,this.isPropagationStopped=ar,this}function ur(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function lr(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function cr(e){e.eventPool=[],e.getPooled=ur,e.release=lr}i(sr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){this.isPersistent=or},isPersistent:ar,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ar,this._dispatchInstances=this._dispatchListeners=null}}),sr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},sr.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,cr(n),n},cr(sr);var fr=sr.extend({data:null}),pr=sr.extend({data:null}),hr=[9,13,27,32],dr=T&&"CompositionEvent"in window,mr=null;T&&"documentMode"in document&&(mr=document.documentMode);var gr=T&&"TextEvent"in window&&!mr,vr=T&&(!dr||mr&&8<mr&&11>=mr),yr=String.fromCharCode(32),br={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},wr=!1;function xr(e,t){switch(e){case"keyup":return-1!==hr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function _r(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Cr=!1;function Er(e,t){switch(e){case"compositionend":return _r(t);case"keypress":return 32!==t.which?null:(wr=!0,yr);case"textInput":return(e=t.data)===yr&&wr?null:e;default:return null}}function Sr(e,t){if(Cr)return"compositionend"===e||!dr&&xr(e,t)?(e=ir(),rr=nr=tr=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vr&&"ko"!==t.locale?null:t.data;default:return null}}var kr={eventTypes:br,extractEvents:function(e,t,n,r){var i;if(dr)e:{switch(e){case"compositionstart":var o=br.compositionStart;break e;case"compositionend":o=br.compositionEnd;break e;case"compositionupdate":o=br.compositionUpdate;break e}o=void 0}else Cr?xr(e,n)&&(o=br.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=br.compositionStart);return o?(vr&&"ko"!==n.locale&&(Cr||o!==br.compositionStart?o===br.compositionEnd&&Cr&&(i=ir()):(nr="value"in(tr=r)?tr.value:tr.textContent,Cr=!0)),o=fr.getPooled(o,t,n,r),i?o.data=i:null!==(i=_r(n))&&(o.data=i),er(o),i=o):i=null,(e=gr?Er(e,n):Sr(e,n))?((t=pr.getPooled(br.beforeInput,t,n,r)).data=e,er(t)):t=null,null===i?t:null===t?i:[i,t]}},Or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Or[e.type]:"textarea"===t}var Nr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ar(e,t,n){return(e=sr.getPooled(Nr.change,e,t,n)).type="change",P(n),er(e),e}var Ir=null,Rr=null;function Pr(e){vt(e)}function Mr(e){var t;if(Oe(qn(e)))return e}function jr(e,t){if("change"===e)return t}var Dr=!1;function Lr(){Ir&&(Ir.detachEvent("onpropertychange",Fr),Rr=Ir=null)}function Fr(e){if("value"===e.propertyName&&Mr(Rr))if(e=Ar(Rr,e,yt(e)),z)vt(e);else{z=!0;try{j(Pr,e)}finally{z=!1,U()}}}function zr(e,t,n){"focus"===e?(Lr(),Rr=n,(Ir=t).attachEvent("onpropertychange",Fr)):"blur"===e&&Lr()}function Br(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mr(Rr)}function Ur(e,t){if("click"===e)return Mr(t)}function Wr(e,t){if("input"===e||"change"===e)return Mr(t)}T&&(Dr=bt("input")&&(!document.documentMode||9<document.documentMode));var Vr={eventTypes:Nr,_isInputEventSupported:Dr,extractEvents:function(e,t,n,r){var i=t?qn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=jr;else if(Tr(i))if(Dr)a=Wr;else{a=Br;var s=zr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Ur);if(a&&(a=a(e,t)))return Ar(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Pe(i,"number",i.value)}},Hr=sr.extend({view:null,detail:null}),Gr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Gr[e])&&!!t[e]}function Kr(){return qr}var Xr=0,Yr=0,Zr=!1,$r=!1,Jr=Hr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Kr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Xr;return Xr=e.screenX,Zr?"mousemove"===e.type?e.screenX-t:0:(Zr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Yr;return Yr=e.screenY,$r?"mousemove"===e.type?e.screenY-t:0:($r=!0,0)}}),Qr=Jr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),ei={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ti={eventTypes:ei,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e,s;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Hn(t):null)&&(t!==ut(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var u=Jr,l=ei.mouseLeave,c=ei.mouseEnter,f="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=Qr,l=ei.pointerLeave,c=ei.pointerEnter,f="pointer");if(e=null==a?o:qn(a),o=null==t?o:qn(t),(l=u.getPooled(l,a,n,r)).type=f+"leave",l.target=e,l.relatedTarget=o,(n=u.getPooled(c,t,n,r)).type=f+"enter",n.target=o,n.relatedTarget=e,f=t,(r=a)&&f)e:{for(c=f,a=0,e=u=r;e;e=Xn(e))a++;for(e=0,t=c;t;t=Xn(t))e++;for(;0<a-e;)u=Xn(u),a--;for(;0<e-a;)c=Xn(c),e--;for(;a--;){if(u===c||u===c.alternate)break e;u=Xn(u),c=Xn(c)}u=null}else u=null;for(c=u,u=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)u.push(r),r=Xn(r);for(r=[];f&&f!==c&&(null===(a=f.alternate)||a!==c);)r.push(f),f=Xn(f);for(f=0;f<u.length;f++)Jn(u[f],"bubbled",l);for(f=r.length;0<f--;)Jn(r[f],"captured",n);return 0==(64&i)?[l]:[l,n]}};function ni(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var ri="function"==typeof Object.is?Object.is:ni,ii=Object.prototype.hasOwnProperty;function oi(e,t){if(ri(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ii.call(t,n[r])||!ri(e[n[r]],t[n[r]]))return!1;return!0}var ai=T&&"documentMode"in document&&11>=document.documentMode,si={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ui=null,li=null,ci=null,fi=!1;function pi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return fi||null==ui||ui!==_n(n)?null:("selectionStart"in(n=ui)&&On(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ci&&oi(ci,n)?null:(ci=n,(e=sr.getPooled(si.select,li,e,t)).type="select",e.target=ui,er(e),e))}var hi={eventTypes:si,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=st(i),o=k.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?qn(t):window,e){case"focus":(Tr(i)||"true"===i.contentEditable)&&(ui=i,li=t,ci=null);break;case"blur":ci=li=ui=null;break;case"mousedown":fi=!0;break;case"contextmenu":case"mouseup":case"dragend":return fi=!1,pi(n,r);case"selectionchange":if(ai)break;case"keydown":case"keyup":return pi(n,r)}return null}},di=sr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),mi=sr.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gi=Hr.extend({relatedTarget:null});function vi(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var yi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wi=Hr.extend({key:function(e){if(e.key){var t=yi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=vi(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Kr,charCode:function(e){return"keypress"===e.type?vi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?vi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xi=Jr.extend({dataTransfer:null}),_i=Hr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Kr}),Ci=sr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ei=Jr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Si={eventTypes:Yt,extractEvents:function(e,t,n,r){var i=Zt.get(e);if(!i)return null;switch(e){case"keypress":if(0===vi(n))return null;case"keydown":case"keyup":e=wi;break;case"blur":case"focus":e=gi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=xi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=_i;break;case tt:case nt:case rt:e=di;break;case it:e=Ci;break;case"scroll":e=Hr;break;case"wheel":e=Ei;break;case"copy":case"cut":case"paste":e=mi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Qr;break;default:e=sr}return er(t=e.getPooled(i,t,n,r)),t}},ki;if(b)throw Error(a(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),m=Kn,g=Gn,v=qn,O({SimpleEventPlugin:Si,EnterLeaveEventPlugin:ti,ChangeEventPlugin:Vr,SelectEventPlugin:hi,BeforeInputEventPlugin:kr});var Oi=[],Ti=-1;function Ni(e){0>Ti||(e.current=Oi[Ti],Oi[Ti]=null,Ti--)}function Ai(e,t){Oi[++Ti]=e.current,e.current=t}var Ii={},Ri={current:Ii},Pi={current:!1},Mi=Ii;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ni(Pi),Ni(Ri)}function Fi(e,t,n){if(Ri.current!==Ii)throw Error(a(168));Ai(Ri,t),Ai(Pi,n)}function zi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,xe(t)||"Unknown",o));return i({},n,{},r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Mi=Ri.current,Ai(Ri,e),Ai(Pi,Pi.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=zi(e,t,Mi),r.__reactInternalMemoizedMergedChildContext=e,Ni(Pi),Ni(Ri),Ai(Ri,e)):Ni(Pi),Ai(Pi,n)}var Wi=o.unstable_runWithPriority,Vi=o.unstable_scheduleCallback,Hi=o.unstable_cancelCallback,Gi=o.unstable_requestPaint,qi=o.unstable_now,Ki=o.unstable_getCurrentPriorityLevel,Xi=o.unstable_ImmediatePriority,Yi=o.unstable_UserBlockingPriority,Zi=o.unstable_NormalPriority,$i=o.unstable_LowPriority,Ji=o.unstable_IdlePriority,Qi={},eo=o.unstable_shouldYield,to=void 0!==Gi?Gi:function(){},no=null,ro=null,io=!1,oo=qi(),ao=1e4>oo?qi:function(){return qi()-oo};function so(){switch(Ki()){case Xi:return 99;case Yi:return 98;case Zi:return 97;case $i:return 96;case Ji:return 95;default:throw Error(a(332))}}function uo(e){switch(e){case 99:return Xi;case 98:return Yi;case 97:return Zi;case 96:return $i;case 95:return Ji;default:throw Error(a(332))}}function lo(e,t){return e=uo(e),Wi(e,t)}function co(e,t,n){return e=uo(e),Vi(e,t,n)}function fo(e){return null===no?(no=[e],ro=Vi(Xi,ho)):no.push(e),Qi}function po(){if(null!==ro){var e=ro;ro=null,Hi(e)}ho()}function ho(){if(!io&&null!==no){io=!0;var e=0;try{var t=no;lo(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),no=null}catch(t){throw null!==no&&(no=no.slice(e+1)),Vi(Xi,po),t}finally{io=!1}}}function mo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function go(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var vo={current:null},yo=null,bo=null,wo=null;function xo(){wo=bo=yo=null}function _o(e){var t=vo.current;Ni(vo),e.type._context._currentValue=t}function Co(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Eo(e,t){yo=e,wo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&($a=!0),e.firstContext=null)}function So(e,t){if(wo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(wo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===bo){if(null===yo)throw Error(a(308));bo=t,yo.dependencies={expirationTime:0,firstContext:t,responders:null}}else bo=bo.next=t;return e._currentValue}var ko=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function To(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function No(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function Ao(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Io(e,t){var n=e.alternate;null!==n&&To(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function Ro(e,t,n,r){var o=e.updateQueue;ko=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var l=o.baseState,c=0,f=null,p=null,h=null;if(null!==u)for(var d=u;;){if((s=d.expirationTime)<r){var m={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===h?(p=h=m,f=l):h=h.next=m,s>c&&(c=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),zu(s,d.suspenseConfig);e:{var g=e,v=d;switch(s=t,m=n,v.tag){case 1:if("function"==typeof(g=v.payload)){l=g.call(m,l,s);break e}l=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"==typeof(g=v.payload)?g.call(m,l,s):g)||void 0===s)break e;l=i({},l,s);break e;case 2:ko=!0}}null!==d.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[d]:s.push(d))}if(null===(d=d.next)||d===u){if(null===(s=o.shared.pending))break;d=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===h?f=l:h.next=p,o.baseState=f,o.baseQueue=h,Bu(c),e.expirationTime=c,e.memoizedState=l}}function Po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var Mo=ee.ReactCurrentBatchConfig,jo=(new r.Component).refs;function Do(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Lo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&ut(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Su(),i=Mo.suspense;(i=No(r=ku(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),Ao(e,i),Ou(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Su(),i=Mo.suspense;(i=No(r=ku(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Ao(e,i),Ou(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Su(),r=Mo.suspense;(r=No(n=ku(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),Ao(e,r),Ou(e,n)}};function Fo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!oi(n,r)||!oi(i,o))}function zo(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"==typeof o&&null!==o?o=So(o):(i=Di(t)?Mi:Ri.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Lo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function Uo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=jo,Oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=So(o):(o=Di(t)?Mi:Ri.current,i.context=ji(e,o)),Ro(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Do(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Lo.enqueueReplaceState(i,i.state,null),Ro(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Wo=Array.isArray;function Vo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===jo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ho(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Go(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ul(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Vo(e,t,n),r.return=e,r):((r=ll(n.type,n.key,n.props,null,e.mode,r)).ref=Vo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=pl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=cl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=fl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ie:return(n=ll(t.type,t.key,t.props,null,e.mode,n)).ref=Vo(e,null,t),n.return=e,n;case oe:return(t=pl(t,e.mode,n)).return=e,t}if(Wo(t)||be(t))return(t=cl(t,e.mode,n,null)).return=e,t;Ho(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ie:return n.key===i?n.type===ae?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case oe:return n.key===i?c(e,t,n,r):null}if(Wo(n)||be(n))return null!==i?null:f(e,t,n,r,null);Ho(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ie:return e=e.get(null===r.key?n:r.key)||null,r.type===ae?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case oe:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Wo(r)||be(r))return f(t,e=e.get(n)||null,r,i,null);Ho(t,r)}return null}function m(i,a,s,u){for(var l=null,c=null,f=a,m=a=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=h(i,f,s[m],u);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(i,f),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v,f=g}if(m===s.length)return n(i,f),l;if(null===f){for(;m<s.length;m++)null!==(f=p(i,s[m],u))&&(a=o(f,a,m),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);m<s.length;m++)null!==(g=d(f,i,m,s[m],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?l=g:c.sibling=g,c=g);return e&&f.forEach(function(e){return t(i,e)}),l}function g(i,s,u,l){var c=be(u);if("function"!=typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===f?c=b:f.sibling=b,f=b,m=v}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=p(i,y.value,l))&&(s=o(y,s,g),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=d(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach(function(e){return t(i,e)}),c}return function(e,r,o,u){var l="object"==typeof o&&null!==o&&o.type===ae&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case ie:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===ae){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Vo(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===ae?((r=cl(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=ll(o.type,o.key,o.props,null,e.mode,u)).ref=Vo(e,r,o),u.return=e,e=u)}return s(e);case oe:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=pl(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=fl(o,e.mode,u)).return=e,e=r),s(e);if(Wo(o))return m(e,r,o,u);if(be(o))return g(e,r,o,u);if(c&&Ho(e,o),void 0===o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var qo=Go(!0),Ko=Go(!1),Xo={},Yo={current:Xo},Zo={current:Xo},$o={current:Xo};function Jo(e){if(e===Xo)throw Error(a(174));return e}function Qo(e,t){switch(Ai($o,t),Ai(Zo,e),Ai(Yo,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ge(null,"");break;default:t=Ge(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(Yo),Ai(Yo,t)}function ea(){Ni(Yo),Ni(Zo),Ni($o)}function ta(e){Jo($o.current);var t=Jo(Yo.current),n=Ge(t,e.type);t!==n&&(Ai(Zo,e),Ai(Yo,n))}function na(e){Zo.current===e&&(Ni(Yo),Ni(Zo))}var ra={current:0};function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===An||n.data===In))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function oa(e,t){return{responder:e,props:t}}var aa=ee.ReactCurrentDispatcher,sa=ee.ReactCurrentBatchConfig,ua=0,la=null,ca=null,fa=null,pa=!1;function ha(){throw Error(a(321))}function da(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ri(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,o){if(ua=o,la=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,aa.current=null===e||null===e.memoizedState?Fa:za,e=n(r,i),t.expirationTime===ua){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,fa=ca=null,t.updateQueue=null,aa.current=Ba,e=n(r,i)}while(t.expirationTime===ua)}if(aa.current=La,t=null!==ca&&null!==ca.next,ua=0,fa=ca=la=null,pa=!1,t)throw Error(a(300));return e}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fa?la.memoizedState=fa=e:fa=fa.next=e,fa}function va(){if(null===ca){var e=la.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===fa?la.memoizedState:fa.next;if(null!==t)fa=t,ca=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===fa?la.memoizedState=fa=e:fa=fa.next=e}return fa}function ya(e,t){return"function"==typeof t?t(e):t}function ba(e){var t=va(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ca,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.expirationTime;if(c<ua){var f={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,c>la.expirationTime&&(la.expirationTime=c,Bu(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),zu(c,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,ri(r,t.memoizedState)||($a=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ri(o,t.memoizedState)||($a=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xa(e){var t=ga();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e}).dispatch=Da.bind(null,la,e),[t.memoizedState,e]}function _a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=la.updateQueue)?(t={lastEffect:null},la.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ca(){return va().memoizedState}function Ea(e,t,n,r){var i=ga();la.effectTag|=e,i.memoizedState=_a(1|t,n,void 0,void 0===r?null:r)}function Sa(e,t,n,r){var i=va();r=void 0===r?null:r;var o=void 0;if(null!==ca){var a=ca.memoizedState;if(o=a.destroy,null!==r&&da(r,a.deps))return void _a(t,n,o,r)}la.effectTag|=e,i.memoizedState=_a(1|t,n,o,r)}function ka(e,t){return Ea(516,4,e,t)}function Oa(e,t){return Sa(516,4,e,t)}function Ta(e,t){return Sa(4,2,e,t)}function Na(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Aa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Sa(4,2,Na.bind(null,t,e),n)}function Ia(){}function Ra(e,t){return ga().memoizedState=[e,void 0===t?null:t],e}function Pa(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&da(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ma(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&da(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ja(e,t,n){var r=so();lo(98>r?98:r,function(){e(!0)}),lo(97<r?97:r,function(){var r=sa.suspense;sa.suspense=void 0===t?null:t;try{e(!1),n()}finally{sa.suspense=r}})}function Da(e,t,n){var r=Su(),i=Mo.suspense;i={expirationTime:r=ku(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===la||null!==o&&o===la)pa=!0,i.expirationTime=ua,la.expirationTime=ua;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,ri(s,a))return}catch(e){}Ou(e,r)}}var La={readContext:So,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useResponder:ha,useDeferredValue:ha,useTransition:ha},Fa={readContext:So,useCallback:Ra,useContext:So,useEffect:ka,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ea(4,2,Na.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ea(4,2,e,t)},useMemo:function(e,t){var n=ga();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ga();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Da.bind(null,la,e),[r.memoizedState,e]},useRef:function(e){var t;return e={current:e},ga().memoizedState=e},useState:xa,useDebugValue:Ia,useResponder:oa,useDeferredValue:function(e,t){var n=xa(e),r=n[0],i=n[1];return ka(function(){var n=sa.suspense;sa.suspense=void 0===t?null:t;try{i(e)}finally{sa.suspense=n}},[e,t]),r},useTransition:function(e){var t=xa(!1),n=t[0];return t=t[1],[Ra(ja.bind(null,t,e),[t,e]),n]}},za={readContext:So,useCallback:Pa,useContext:So,useEffect:Oa,useImperativeHandle:Aa,useLayoutEffect:Ta,useMemo:Ma,useReducer:ba,useRef:Ca,useState:function(){return ba(ya)},useDebugValue:Ia,useResponder:oa,useDeferredValue:function(e,t){var n=ba(ya),r=n[0],i=n[1];return Oa(function(){var n=sa.suspense;sa.suspense=void 0===t?null:t;try{i(e)}finally{sa.suspense=n}},[e,t]),r},useTransition:function(e){var t=ba(ya),n=t[0];return t=t[1],[Pa(ja.bind(null,t,e),[t,e]),n]}},Ba={readContext:So,useCallback:Pa,useContext:So,useEffect:Oa,useImperativeHandle:Aa,useLayoutEffect:Ta,useMemo:Ma,useReducer:wa,useRef:Ca,useState:function(){return wa(ya)},useDebugValue:Ia,useResponder:oa,useDeferredValue:function(e,t){var n=wa(ya),r=n[0],i=n[1];return Oa(function(){var n=sa.suspense;sa.suspense=void 0===t?null:t;try{i(e)}finally{sa.suspense=n}},[e,t]),r},useTransition:function(e){var t=wa(ya),n=t[0];return t=t[1],[Pa(ja.bind(null,t,e),[t,e]),n]}},Ua=null,Wa=null,Va=!1;function Ha(e,t){var n=ol(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ga(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function qa(e){if(Va){var t=Wa;if(t){var n=t;if(!Ga(e,t)){if(!(t=Fn(n.nextSibling))||!Ga(e,t))return e.effectTag=-1025&e.effectTag|2,Va=!1,void(Ua=e);Ha(Ua,n)}Ua=e,Wa=Fn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Va=!1,Ua=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Xa(e){if(e!==Ua)return!1;if(!Va)return Ka(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!jn(t,e.memoizedProps))for(t=Wa;t;)Ha(e,t),t=Fn(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Nn){if(0===t){Wa=Fn(e.nextSibling);break e}t--}else n!==Tn&&n!==In&&n!==An||t++}e=e.nextSibling}Wa=null}}else Wa=Ua?Fn(e.stateNode.nextSibling):null;return!0}function Ya(){Wa=Ua=null,Va=!1}var Za=ee.ReactCurrentOwner,$a=!1;function Ja(e,t,n,r){t.child=null===e?Ko(t,null,n,r):qo(t,e.child,n,r)}function Qa(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=ma(e,t,n,r,o,i),null===e||$a?(t.effectTag|=1,Ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),gs(e,t,i))}function es(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||al(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ll(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ts(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:oi)(i,r)&&e.ref===t.ref)?gs(e,t,o):(t.effectTag|=1,(e=ul(a,r)).ref=t.ref,e.return=t,t.child=e)}function ts(e,t,n,r,i,o){return null!==e&&oi(e.memoizedProps,r)&&e.ref===t.ref&&($a=!1,i<o)?(t.expirationTime=e.expirationTime,gs(e,t,o)):rs(e,t,n,r,o)}function ns(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function rs(e,t,n,r,i){var o=Di(n)?Mi:Ri.current;return o=ji(t,o),Eo(t,i),n=ma(e,t,n,r,o,i),null===e||$a?(t.effectTag|=1,Ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),gs(e,t,i))}function is(e,t,n,r,i){if(Di(n)){var o=!0;Bi(t)}else o=!1;if(Eo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),zo(t,n,r),Uo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=So(l):l=ji(t,l=Di(n)?Mi:Ri.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Bo(t,a,r,l),ko=!1;var p=t.memoizedState;a.state=p,Ro(t,r,a,i),u=t.memoizedState,s!==r||p!==u||Pi.current||ko?("function"==typeof c&&(Do(t,n,c,r),u=t.memoizedState),(s=ko||Fo(t,n,s,r,p,u,l))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,To(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:go(t.type,s),u=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=So(l):l=ji(t,l=Di(n)?Mi:Ri.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Bo(t,a,r,l),ko=!1,u=t.memoizedState,a.state=u,Ro(t,r,a,i),p=t.memoizedState,s!==r||u!==p||Pi.current||ko?("function"==typeof c&&(Do(t,n,c,r),p=t.memoizedState),(c=ko||Fo(t,n,s,r,u,p,l))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return os(e,t,n,r,o,i)}function os(e,t,n,r,i,o){ns(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Ui(t,n,!1),gs(e,t,o);r=t.stateNode,Za.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=qo(t,e.child,null,o),t.child=qo(t,null,s,o)):Ja(e,t,s,o),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function as(e){var t=e.stateNode;t.pendingContext?Fi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(e,t.context,!1),Qo(e,t.containerInfo)}var ss={dehydrated:null,retryTime:0},us,ls,cs,fs;function ps(e,t,n){var r=t.mode,i=t.pendingProps,o=ra.current,a=!1,s;if((s=0!=(64&t.effectTag))||(s=0!=(2&o)&&(null===e||null!==e.memoizedState)),s?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Ai(ra,1&o),null===e){if(void 0!==i.fallback&&qa(t),a){if(a=i.fallback,(i=cl(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=cl(a,r,n,null)).return=t,i.sibling=n,t.memoizedState=ss,t.child=i,n}return r=i.children,t.memoizedState=null,t.child=Ko(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,a){if(i=i.fallback,(n=ul(e,e.pendingProps)).return=t,0==(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(r=ul(r,i)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=ss,t.child=n,r}return n=qo(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=i.fallback,(i=cl(null,r,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=cl(a,r,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=ss,t.child=i,n}return t.memoizedState=null,t.child=qo(t,e,i.children,n)}function hs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),Co(e.return,t)}function ds(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function ms(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ja(e,t,r.children,n),0!=(2&(r=ra.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&hs(e,n);else if(19===e.tag)hs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(ra,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ds(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ds(t,!0,n,null,o,t.lastEffect);break;case"together":ds(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function gs(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Bu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=ul(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ul(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function vs(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ys(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Di(t.type)&&Li(),null;case 3:return ea(),Ni(Pi),Ni(Ri),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Xa(t)||(t.effectTag|=4),ls(t),null;case 5:na(t),n=Jo($o.current);var o=t.type;if(null!==e&&null!=t.stateNode)cs(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Jo(Yo.current),Xa(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[Un]=t,r[Wn]=s,o){case"iframe":case"object":case"embed":an("load",r);break;case"video":case"audio":for(e=0;e<ot.length;e++)an(ot[e],r);break;case"source":an("error",r);break;case"img":case"image":case"link":an("error",r),an("load",r);break;case"form":an("reset",r),an("submit",r);break;case"details":an("toggle",r);break;case"input":Ne(r,s),an("invalid",r),wn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},an("invalid",r),wn(n,"onChange");break;case"textarea":Fe(r,s),an("invalid",r),wn(n,"onChange")}for(var u in vn(o,s),e=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"==typeof l?r.textContent!==l&&(e=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(e=["children",""+l]):S.hasOwnProperty(u)&&null!=l&&wn(n,u)}switch(o){case"input":ke(r),Re(r,s,!0);break;case"textarea":ke(r),Be(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=xn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===bn&&(e=He(o)),e===bn?"script"===o?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(o,{is:r.is}):(e=u.createElement(o),"select"===o&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,o),e[Un]=t,e[Wn]=r,us(e,t,!1,!1),t.stateNode=e,u=yn(o,r),o){case"iframe":case"object":case"embed":an("load",e),l=r;break;case"video":case"audio":for(l=0;l<ot.length;l++)an(ot[l],e);l=r;break;case"source":an("error",e),l=r;break;case"img":case"image":case"link":an("error",e),an("load",e),l=r;break;case"form":an("reset",e),an("submit",e),l=r;break;case"details":an("toggle",e),l=r;break;case"input":Ne(e,r),l=Te(e,r),an("invalid",e),wn(n,"onChange");break;case"option":l=je(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),an("invalid",e),wn(n,"onChange");break;case"textarea":Fe(e,r),l=Le(e,r),an("invalid",e),wn(n,"onChange");break;default:l=r}vn(o,l);var c=l;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?mn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Ke(e,f):"children"===s?"string"==typeof f?("textarea"!==o||""!==f)&&Ye(e,f):"number"==typeof f&&Ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=f&&wn(n,s):null!=f&&te(e,s,f,u))}switch(o){case"input":ke(e),Re(e,r,!1);break;case"textarea":ke(e),Be(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Ce(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?De(e,!!r.multiple,n,!1):null!=r.defaultValue&&De(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=xn)}Mn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)fs(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Jo($o.current),Jo(Yo.current),Xa(t)?(n=t.stateNode,r=t.memoizedProps,n[Un]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Un]=t,t.stateNode=n)}return null;case 13:return Ni(ra),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Xa(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&ra.current)?iu===Xs&&(iu=$s):(iu!==Xs&&iu!==$s||(iu=Js),0!==lu&&null!==tu&&(ml(tu,ru),gl(tu,lu)))),(n||r)&&(t.effectTag|=4),null);case 4:return ea(),ls(t),null;case 10:return _o(t),null;case 17:return Di(t.type)&&Li(),null;case 19:if(Ni(ra),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=r.rendering)){if(o)vs(r,!1);else if(iu!==Xs||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=ia(s))){for(t.effectTag|=64,vs(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return Ai(ra,1&ra.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=ia(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),vs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ao()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,vs(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ao()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ao(),n.sibling=null,t=ra.current,Ai(ra,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function bs(e){switch(e.tag){case 1:Di(e.type)&&Li();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(ea(),Ni(Pi),Ni(Ri),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return na(e),null;case 13:return Ni(ra),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return Ni(ra),null;case 4:return ea(),null;case 10:return _o(e),null;default:return null}}function ws(e,t){return{value:e,source:t,stack:_e(t)}}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ls=function(){},cs=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s=t.stateNode,u,l;switch(Jo(Yo.current),e=null,n){case"input":a=Te(s,a),r=Te(s,r),e=[];break;case"option":a=je(s,a),r=je(s,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Le(s,a),r=Le(s,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(s.onclick=xn)}for(u in vn(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u)for(l in s=a[u])s.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(S.hasOwnProperty(u)?e||(e=[]):(e=e||[]).push(u,null));for(u in r){var c=r[u];if(s=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(null!=c||null!=s))if("style"===u)if(s){for(l in s)!s.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&s[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(e=e||[]).push(u,c)):"children"===u?s===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(S.hasOwnProperty(u)?(null!=c&&wn(o,u),e||s===c||(e=[])):(e=e||[]).push(u,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},fs=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var xs="function"==typeof WeakSet?WeakSet:Set;function _s(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=_e(n)),null!==n&&xe(n.type),t=t.value,null!==e&&1===e.tag&&xe(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function Cs(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ju(e,t)}}function Es(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ju(e,t)}else t.current=null}function Ss(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:go(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ks(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Os(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ts(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Os(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:go(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&Po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Mn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Xt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function Ns(e,t,n){switch("function"==typeof nl&&nl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;lo(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){Ju(i,e)}}e=e.next}while(e!==r)})}break;case 1:Es(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&Cs(t,n);break;case 5:Es(t);break;case 4:js(e,t,n)}}function As(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&As(t)}function Is(e){return 5===e.tag||3===e.tag||4===e.tag}function Rs(e){e:{for(var t=e.return;null!==t;){if(Is(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ye(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Is(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?Ps(e,n,t):Ms(e,n,t)}function Ps(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=xn));else if(4!==r&&null!==(e=e.child))for(Ps(e,t,n),e=e.sibling;null!==e;)Ps(e,t,n),e=e.sibling}function Ms(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ms(e,t,n),e=e.sibling;null!==e;)Ms(e,t,n),e=e.sibling}function js(e,t,n){for(var r=t,i=!1,o,s;;){if(!i){i=r.return;e:for(;;){if(null===i)throw Error(a(160));switch(o=i.stateNode,i.tag){case 5:s=!1;break e;case 3:case 4:o=o.containerInfo,s=!0;break e}i=i.return}i=!0}if(5===r.tag||6===r.tag){e:for(var u=e,l=r,c=n,f=l;;)if(Ns(u,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break e;for(;null===f.sibling;){if(null===f.return||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s?(u=o,l=r.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):o.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){o=r.stateNode.containerInfo,s=!0,r.child.return=r,r=r.child;continue}}else if(Ns(e,r,n),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function Ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ks(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Wn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ae(n,r),yn(e,i),t=yn(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?mn(n,u):"dangerouslySetInnerHTML"===s?Ke(n,u):"children"===s?Ye(n,u):te(n,s,u,t)}switch(e){case"input":Ie(n,r);break;case"textarea":ze(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?De(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?De(n,!!r.multiple,r.defaultValue,!0):De(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Xt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,fu=ao()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=dn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void Ls(t);case 19:return void Ls(t);case 17:return}throw Error(a(163))}function Ls(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new xs),t.forEach(function(t){var r=el.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var Fs="function"==typeof WeakMap?WeakMap:Map;function zs(e,t,n){(n=No(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){du||(du=!0,mu=r),_s(e,t)},n}function Bs(e,t,n){(n=No(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return _s(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===gu?gu=new Set([this]):gu.add(this),_s(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Us=Math.ceil,Ws=ee.ReactCurrentDispatcher,Vs=ee.ReactCurrentOwner,Hs=0,Gs=8,qs=16,Ks=32,Xs=0,Ys=1,Zs=2,$s=3,Js=4,Qs=5,eu=Hs,tu=null,nu=null,ru=0,iu=Xs,ou=null,au=1073741823,su=1073741823,uu=null,lu=0,cu=!1,fu=0,pu=500,hu=null,du=!1,mu=null,gu=null,vu=!1,yu=null,bu=90,wu=null,xu=0,_u=null,Cu=0,Eu;function Su(){return(eu&(qs|Ks))!==Hs?1073741821-(ao()/10|0):0!==Cu?Cu:Cu=1073741821-(ao()/10|0)}function ku(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=so();if(0==(4&t))return 99===r?1073741823:1073741822;if((eu&qs)!==Hs)return ru;if(null!==n)e=mo(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=mo(e,150,100);break;case 97:case 96:e=mo(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==tu&&e===ru&&--e,e}function Ou(e,t){if(50<xu)throw xu=0,_u=null,Error(a(185));if(null!==(e=Tu(e,t))){var n=so();1073741823===t?(eu&Gs)!==Hs&&(eu&(qs|Ks))===Hs?Ru(e):(Au(e),eu===Hs&&po()):Au(e),(4&eu)===Hs||98!==n&&99!==n||(null===wu?wu=new Map([[e,t]]):(void 0===(n=wu.get(e))||n>t)&&wu.set(e,t))}}function Tu(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(tu===i&&(Bu(t),iu===Js&&ml(i,ru)),gl(i,t)),i}function Nu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!dl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Au(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=fo(Ru.bind(null,e));else{var t=Nu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Su();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Qi&&Hi(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?fo(Ru.bind(null,e)):co(r,Iu.bind(null,e),{timeout:10*(1073741821-t)-ao()}),e.callbackNode=t}}}function Iu(e,t){if(Cu=0,t)return vl(e,t=Su()),Au(e),null;var n=Nu(e);if(0!==n){if(t=e.callbackNode,(eu&(qs|Ks))!==Hs)throw Error(a(327));if(Yu(),e===tu&&n===ru||Du(e,n),null!==nu){var r=eu;eu|=qs;for(var i=Fu();;)try{Wu();break}catch(t){Lu(e,t)}if(xo(),eu=r,Ws.current=i,iu===Ys)throw t=ou,Du(e,n),ml(e,n),Au(e),t;if(null===nu)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=iu,tu=null,r){case Xs:case Ys:throw Error(a(345));case Zs:vl(e,2<n?2:n);break;case $s:if(ml(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Gu(i)),1073741823===au&&10<(i=fu+pu-ao())){if(cu){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,Du(e,n);break}}if(0!==(o=Nu(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Dn(qu.bind(null,e),i);break}qu(e);break;case Js:if(ml(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Gu(i)),cu&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,Du(e,n);break}if(0!==(i=Nu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==su?r=10*(1073741821-su)-ao():1073741823===au?r=0:(r=10*(1073741821-au)-5e3,n=10*(1073741821-n)-(i=ao()),0>(r=i-r)&&(r=0),n<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Us(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Dn(qu.bind(null,e),r);break}qu(e);break;case Qs:if(1073741823!==au&&null!==uu){o=au;var s=uu;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=ao()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){ml(e,n),e.timeoutHandle=Dn(qu.bind(null,e),r);break}}qu(e);break;default:throw Error(a(329))}if(Au(e),e.callbackNode===t)return Iu.bind(null,e)}}return null}function Ru(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(eu&(qs|Ks))!==Hs)throw Error(a(327));if(Yu(),e===tu&&t===ru||Du(e,t),null!==nu){var n=eu;eu|=qs;for(var r=Fu();;)try{Uu();break}catch(t){Lu(e,t)}if(xo(),eu=n,Ws.current=r,iu===Ys)throw n=ou,Du(e,t),ml(e,t),Au(e),n;if(null!==nu)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,tu=null,qu(e),Au(e)}return null}function Pu(){if(null!==wu){var e=wu;wu=null,e.forEach(function(e,t){vl(t,e),Au(t)}),po()}}function Mu(e,t){var n=eu;eu|=1;try{return e(t)}finally{(eu=n)===Hs&&po()}}function ju(e,t){var n=eu;eu&=-2,eu|=Gs;try{return e(t)}finally{(eu=n)===Hs&&po()}}function Du(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ln(n)),null!==nu)for(n=nu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:ea(),Ni(Pi),Ni(Ri);break;case 5:na(r);break;case 4:ea();break;case 13:case 19:Ni(ra);break;case 10:_o(r)}n=n.return}tu=e,nu=ul(e.current,null),ru=t,iu=Xs,ou=null,su=au=1073741823,uu=null,lu=0,cu=!1}function Lu(e,t){for(;;){try{if(xo(),aa.current=La,pa)for(var n=la.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(ua=0,fa=ca=la=null,pa=!1,null===nu||null===nu.return)return iu=Ys,ou=t,nu=null;e:{var i=e,o=nu.return,a=nu,s=t;if(t=ru,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&ra.current),f=o;do{var p;if(p=13===f.tag){var h=f.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var d=f.memoizedProps;p=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!c)}}if(p){var m=f.updateQueue;if(null===m){var g=new Set;g.add(u),f.updateQueue=g}else m.add(u);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=No(1073741823,null);v.tag=2,Ao(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new Fs,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(a)){s.add(a);var b=Qu.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((xe(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+_e(a))}iu!==Qs&&(iu=Zs),s=ws(s,a),f=o;do{switch(f.tag){case 3:var w;u=s,f.effectTag|=4096,f.expirationTime=t,Io(f,zs(f,u,t));break e;case 1:u=s;var x=f.type,_=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof x.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===gu||!gu.has(_)))){var C;f.effectTag|=4096,f.expirationTime=t,Io(f,Bs(f,u,t));break e}}f=f.return}while(null!==f)}nu=Hu(nu)}catch(e){t=e;continue}break}}function Fu(){var e=Ws.current;return Ws.current=La,null===e?La:e}function zu(e,t){e<au&&2<e&&(au=e),null!==t&&e<su&&2<e&&(su=e,uu=t)}function Bu(e){e>lu&&(lu=e)}function Uu(){for(;null!==nu;)nu=Vu(nu)}function Wu(){for(;null!==nu&&!eo();)nu=Vu(nu)}function Vu(e){var t=Eu(e.alternate,e,ru);return e.memoizedProps=e.pendingProps,null===t&&(t=Hu(e)),Vs.current=null,t}function Hu(e){nu=e;do{var t=nu.alternate;if(e=nu.return,0==(2048&nu.effectTag)){if(t=ys(t,nu,ru),1===ru||1!==nu.childExpirationTime){for(var n=0,r=nu.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}nu.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=nu.firstEffect),null!==nu.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=nu.firstEffect),e.lastEffect=nu.lastEffect),1<nu.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=nu:e.firstEffect=nu,e.lastEffect=nu))}else{if(null!==(t=bs(nu)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=nu.sibling))return t;nu=e}while(null!==nu);return iu===Xs&&(iu=Qs),null}function Gu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function qu(e){var t=so();return lo(99,Ku.bind(null,e,t)),null}function Ku(e,t){do{Yu()}while(null!==yu);if((eu&(qs|Ks))!==Hs)throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Gu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===tu&&(nu=tu=null,ru=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=eu;eu|=Ks,Vs.current=null,Rn=on;var s=kn();if(On(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{u.nodeType,f.nodeType}catch(e){u=null;break e}var p=0,h=-1,d=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==u||0!==c&&3!==v.nodeType||(h=p+c),v!==f||0!==l&&3!==v.nodeType||(d=p+l),3===v.nodeType&&(p+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===u&&++m===c&&(h=p),y===f&&++g===l&&(d=p),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}u=-1===h||-1===d?null:{start:h,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;Pn={activeElementDetached:null,focusedElem:s,selectionRange:u},on=!1,hu=i;do{try{Xu()}catch(e){if(null===hu)throw Error(a(330));Ju(hu,e),hu=hu.nextEffect}}while(null!==hu);hu=i;do{try{for(s=e,u=t;null!==hu;){var w=hu.effectTag;if(16&w&&Ye(hu.stateNode,""),128&w){var x=hu.alternate;if(null!==x){var _=x.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&w){case 2:Rs(hu),hu.effectTag&=-3;break;case 6:Rs(hu),hu.effectTag&=-3,Ds(hu.alternate,hu);break;case 1024:hu.effectTag&=-1025;break;case 1028:hu.effectTag&=-1025,Ds(hu.alternate,hu);break;case 4:Ds(hu.alternate,hu);break;case 8:js(s,c=hu,u),As(c)}hu=hu.nextEffect}}catch(e){if(null===hu)throw Error(a(330));Ju(hu,e),hu=hu.nextEffect}}while(null!==hu);if(_=Pn,x=kn(),w=_.focusedElem,u=_.selectionRange,x!==w&&w&&w.ownerDocument&&Sn(w.ownerDocument.documentElement,w)){null!==u&&On(w)&&(x=u.start,void 0===(_=u.end)&&(_=x),"selectionStart"in w?(w.selectionStart=x,w.selectionEnd=Math.min(_,w.value.length)):(_=(x=w.ownerDocument||document)&&x.defaultView||window).getSelection&&(_=_.getSelection(),c=w.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!_.extend&&s>u&&(c=u,u=s,s=c),c=En(w,s),f=En(w,u),c&&f&&(1!==_.rangeCount||_.anchorNode!==c.node||_.anchorOffset!==c.offset||_.focusNode!==f.node||_.focusOffset!==f.offset)&&((x=x.createRange()).setStart(c.node,c.offset),_.removeAllRanges(),s>u?(_.addRange(x),_.extend(f.node,f.offset)):(x.setEnd(f.node,f.offset),_.addRange(x))))),x=[];for(_=w;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<x.length;w++)(_=x[w]).element.scrollLeft=_.left,_.element.scrollTop=_.top}on=!!Rn,Pn=Rn=null,e.current=n,hu=i;do{try{for(w=e;null!==hu;){var C=hu.effectTag;if(36&C&&Ts(w,hu.alternate,hu),128&C){x=void 0;var E=hu.ref;if(null!==E){var S=hu.stateNode;switch(hu.tag){case 5:x=S;break;default:x=S}"function"==typeof E?E(x):E.current=x}}hu=hu.nextEffect}}catch(e){if(null===hu)throw Error(a(330));Ju(hu,e),hu=hu.nextEffect}}while(null!==hu);hu=null,to(),eu=o}else e.current=n;if(vu)vu=!1,yu=e,bu=t;else for(hu=i;null!==hu;)t=hu.nextEffect,hu.nextEffect=null,hu=t;if(0===(t=e.firstPendingTime)&&(gu=null),1073741823===t?e===_u?xu++:(xu=0,_u=e):xu=0,"function"==typeof tl&&tl(n.stateNode,r),Au(e),du)throw du=!1,e=mu,mu=null,e;return(eu&Gs)!==Hs?null:(po(),null)}function Xu(){for(;null!==hu;){var e=hu.effectTag;0!=(256&e)&&Ss(hu.alternate,hu),0==(512&e)||vu||(vu=!0,co(97,function(){return Yu(),null})),hu=hu.nextEffect}}function Yu(){if(90!==bu){var e=97<bu?97:bu;return bu=90,lo(e,Zu)}}function Zu(){if(null===yu)return!1;var e=yu;if(yu=null,(eu&(qs|Ks))!==Hs)throw Error(a(331));var t=eu;for(eu|=Ks,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ks(5,n),Os(5,n)}}catch(t){if(null===e)throw Error(a(330));Ju(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return eu=t,po(),!0}function $u(e,t,n){Ao(e,t=zs(e,t=ws(n,t),1073741823)),null!==(e=Tu(e,1073741823))&&Au(e)}function Ju(e,t){if(3===e.tag)$u(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){$u(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===gu||!gu.has(r))){Ao(n,e=Bs(n,e=ws(t,e),1073741823)),null!==(n=Tu(n,1073741823))&&Au(n);break}}n=n.return}}function Qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),tu===e&&ru===n?iu===Js||iu===$s&&1073741823===au&&ao()-fu<pu?Du(e,ru):cu=!0:dl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Au(e)))}function el(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=ku(t=Su(),e,null)),null!==(e=Tu(e,t))&&Au(e)}Eu=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Pi.current)$a=!0;else{if(r<n){switch($a=!1,t.tag){case 3:as(t),Ya();break;case 5:if(ta(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Di(t.type)&&Bi(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,Ai(vo,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ps(e,t,n):(Ai(ra,1&ra.current),null!==(t=gs(e,t,n))?t.sibling:null);Ai(ra,1&ra.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return ms(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),Ai(ra,ra.current),!r)return null}return gs(e,t,n)}$a=!1}}else $a=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=ji(t,Ri.current),Eo(t,n),i=ma(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)){var o=!0;Bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&Do(t,r,s,e),i.updater=Lo,t.stateNode=i,i._reactInternalFiber=t,Uo(t,r,e,n),t=os(null,t,r,!0,o,n)}else t.tag=0,Ja(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,we(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=sl(i),e=go(i,e),o){case 0:t=rs(null,t,i,e,n);break e;case 1:t=is(null,t,i,e,n);break e;case 11:t=Qa(null,t,i,e,n);break e;case 14:t=es(null,t,i,go(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,rs(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,is(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:if(as(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,To(e,t),Ro(t,r,null,n),(r=t.memoizedState.element)===i)Ya(),t=gs(e,t,n);else{if((i=t.stateNode.hydrate)&&(Wa=Fn(t.stateNode.containerInfo.firstChild),Ua=t,i=Va=!0),i)for(n=Ko(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ja(e,t,r,n),Ya();t=t.child}return t;case 5:return ta(t),null===e&&qa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,jn(r,i)?s=null:null!==o&&jn(r,o)&&(t.effectTag|=16),ns(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ja(e,t,s,n),t=t.child),t;case 6:return null===e&&qa(t),null;case 13:return ps(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qo(t,null,r,n):Ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Qa(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return Ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(Ai(vo,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=ri(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!Pi.current){t=gs(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===u.tag&&((c=No(n,null)).tag=2,Ao(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),Co(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Eo(t,n),r=r(i=So(i,o.unstable_observedBits)),t.effectTag|=1,Ja(e,t,r,n),t.child;case 14:return o=go(i=t.type,t.pendingProps),es(e,t,i,o=go(i.type,o),r,n);case 15:return ts(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Di(r)?(e=!0,Bi(t)):e=!1,Eo(t,n),zo(t,r,i),Uo(t,r,i,n),os(null,t,r,!0,e,n);case 19:return ms(e,t,n)}throw Error(a(156,t.tag))};var tl=null,nl=null;function rl(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);tl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},nl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}function il(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ol(e,t,n,r){return new il(e,t,n,r)}function al(e){return!(!(e=e.prototype)||!e.isReactComponent)}function sl(e){if("function"==typeof e)return al(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===pe)return 11;if(e===me)return 14}return 2}function ul(e,t){var n=e.alternate;return null===n?((n=ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ll(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)al(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ae:return cl(n.children,i,o,t);case fe:s=8,i|=7;break;case se:s=8,i|=1;break;case ue:return(e=ol(12,n,t,8|i)).elementType=ue,e.type=ue,e.expirationTime=o,e;case he:return(e=ol(13,n,t,i)).type=he,e.elementType=he,e.expirationTime=o,e;case de:return(e=ol(19,n,t,i)).elementType=de,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case le:s=10;break e;case ce:s=9;break e;case pe:s=11;break e;case me:s=14;break e;case ge:s=16,r=null;break e;case ve:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ol(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function cl(e,t,n,r){return(e=ol(7,e,r,t)).expirationTime=n,e}function fl(e,t,n){return(e=ol(6,e,null,t)).expirationTime=n,e}function pl(e,t,n){return(t=ol(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function dl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function ml(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function gl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function vl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function yl(e,t,n,r){var i=t.current,o=Su(),s=Mo.suspense;o=ku(o,i,s);e:if(n){n=n._reactInternalFiber;t:{if(ut(n)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(Di(l)){n=zi(n,l,u);break e}}n=u}else n=Ii;return null===t.context?t.context=n:t.pendingContext=n,(t=No(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Ao(i,t),Ou(i,o),o}function bl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function wl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function xl(e,t){wl(e,t),(e=e.alternate)&&wl(e,t)}function _l(e,t,n){var r=new hl(e,t,n=null!=n&&!0===n.hydrate),i=ol(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,Oo(i),e[Vn]=r.current,n&&0!==t&&Ft(e,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Cl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function El(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new _l(e,0,t?{hydrate:!0}:void 0)}function Sl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=bl(a);s.call(e)}}yl(t,a,e,i)}else{if(o=n._reactRootContainer=El(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=bl(a);u.call(e)}}ju(function(){yl(t,a,e,i)})}return bl(a)}function kl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:oe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ol(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Cl(t))throw Error(a(200));return kl(e,t,null,n)}_l.prototype.render=function(e){yl(e,this._internalRoot,null,null)},_l.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;yl(null,e,null,function(){t[Vn]=null})},St=function(e){if(13===e.tag){var t=mo(Su(),150,100);Ou(e,t),xl(e,t)}},kt=function(e){13===e.tag&&(Ou(e,3),xl(e,3))},Ot=function(e){if(13===e.tag){var t=Su();Ou(e,t=ku(t,e,null)),xl(e,t)}},N=function(e,t,n){switch(t){case"input":if(Ie(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Kn(r);if(!i)throw Error(a(90));Oe(r),Ie(r,i)}}}break;case"textarea":ze(e,n);break;case"select":null!=(t=n.value)&&De(e,!!n.multiple,t,!1)}},j=Mu,D=function(e,t,n,r,i){var o=eu;eu|=4;try{return lo(98,e.bind(null,t,n,r,i))}finally{(eu=o)===Hs&&po()}},L=function(){(eu&(1|qs|Ks))===Hs&&(Pu(),Yu())},F=function(e,t){var n=eu;eu|=2;try{return e(t)}finally{(eu=n)===Hs&&po()}};var Tl={Events:[Gn,qn,Kn,O,E,er,function(e){dt(e,Qn)},P,M,cn,vt,Yu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;rl(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=pt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Hn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tl,t.createPortal=Ol,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=pt(t))?null:e.stateNode},t.flushSync=function(e,t){if((eu&(qs|Ks))!==Hs)throw Error(a(187));var n=eu;eu|=1;try{return lo(99,e.bind(null,t))}finally{eu=n,po()}},t.hydrate=function(e,t,n){if(!Cl(t))throw Error(a(200));return Sl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Cl(t))throw Error(a(200));return Sl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Cl(e))throw Error(a(40));return!!e._reactRootContainer&&(ju(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[Vn]=null})}),!0)},t.unstable_batchedUpdates=Mu,t.unstable_createPortal=function(e,t){return Ol(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Sl(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(207),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function x(){}function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=w.prototype;var C=_.prototype=new x;C.constructor=_,r(C,w.prototype),C.isPureReactComponent=!0;var E={current:null},S=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:E.current}}function T(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}function A(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}var I=/\/+/g,R=[];function P(e,t,n,r){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function j(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case a:s=!0}}if(s)return n(r,e,""===t?"."+L(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l=t+L(i=e[u],u);s+=j(i,l,n,r)}else if(null===e||"object"!=typeof e?l=null:l="function"==typeof(l=g&&e[g]||e["@@iterator"])?l:null,"function"==typeof l)for(e=l.call(e),u=0;!(i=e.next()).done;)s+=j(i=i.value,l=t+L(i,u++),n,r);else if("object"===i)throw n=""+e,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function D(e,t,n){return null==e?0:j(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?A(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function z(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,function(e){return e}):null!=e&&(N(e)&&(e=T(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),D(e,z,t=P(t,o,r,i)),M(t)}var U={current:null};function W(){var e=U.current;if(null===e)throw Error(v(321));return e}var V={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,F,t=P(null,null,t,n)),M(t)},count:function(e){return D(e,function(){return null},null)},toArray:function(e){var t=[];return B(e,t,null,function(e){return e}),t},only:function(e){if(!N(e))throw Error(v(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=l,t.PureComponent=_,t.StrictMode=u,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return W().useCallback(e,t)},t.useContext=function(e,t){return W().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return W().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return W().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return W().useLayoutEffect(e,t)},t.useMemo=function(e,t){return W().useMemo(e,t)},t.useReducer=function(e,t,n){return W().useReducer(e,t,n)},t.useRef=function(e){return W().useRef(e)},t.useState=function(e){return W().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(454)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,l=null,c=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(c,0),e}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(c,0))},i=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,h=window.Date,d=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof p&&"function"==typeof p.now)t.unstable_now=function(){return p.now()};else{var v=h.now();t.unstable_now=function(){return h.now()-v}}var y=!1,b=null,w=-1,x=5,_=0;a=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var C=new MessageChannel,E=C.port2;C.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();_=e+x;try{b(!0,e)?E.postMessage(null):(y=!1,b=null)}catch(e){throw E.postMessage(null),e}}else y=!1},r=function(e){b=e,y||(y=!0,E.postMessage(null))},i=function(e,n){w=d(function(){e(t.unstable_now())},n)},o=function(){m(w),w=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var N=[],A=[],I=1,R=null,P=3,M=!1,j=!1,D=!1;function L(e){for(var t=k(A);null!==t;){if(null===t.callback)O(A);else{if(!(t.startTime<=e))break;O(A),t.sortIndex=t.expirationTime,S(N,t)}t=k(A)}}function F(e){if(D=!1,L(e),!j)if(null!==k(N))j=!0,r(z);else{var t=k(A);null!==t&&i(F,t.startTime-e)}}function z(e,n){j=!1,D&&(D=!1,o()),M=!0;var r=P;try{for(L(n),R=k(N);null!==R&&(!(R.expirationTime>n)||e&&!a());){var s=R.callback;if(null!==s){R.callback=null,P=R.priorityLevel;var u=s(R.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?R.callback=u:R===k(N)&&O(N),L(n)}else O(N);R=k(N)}if(null!==R)var l=!0;else{var c=k(A);null!==c&&i(F,c.startTime-n),l=!1}return l}finally{R=null,P=r,M=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){j||M||(j=!0,r(z))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return k(N)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var u=a.delay;u="number"==typeof u&&0<u?s+u:s,a="number"==typeof a.timeout?a.timeout:B(e)}else a=B(e),u=s;return e={id:I++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,S(A,e),null===k(N)&&e===k(A)&&(D?o():D=!0,i(F,u-s))):(e.sortIndex=a,S(N,e),j||M||(j=!0,r(z))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=k(N);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports={default:n(466),__esModule:!0}},function(e,t,n){n(467),e.exports=n(57).Object.assign},function(e,t,n){var r=n(71);r(r.S+r.F,"Object",{assign:n(469)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(58),i=n(110),o=n(152),a=n(113),s=n(153),u=n(212),l=Object.assign;e.exports=!l||n(90)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function e(t,n){for(var l=s(t),c=arguments.length,f=1,p=o.f,h=a.f;c>f;)for(var d=u(arguments[f++]),m=p?i(d).concat(p(d)):i(d),g=m.length,v=0,y;g>v;)y=m[v++],r&&!h.call(d,y)||(l[y]=d[y]);return l}:l},function(e,t,n){var r=n(74),i=n(471),o=n(472);e.exports=function(e){return function(t,n,a){var s=r(t),u=i(s.length),l=o(a,u),c;if(e&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(148),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(148),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){e.exports={default:n(474),__esModule:!0}},function(e,t,n){n(475),n(481),e.exports=n(157).f("iterator")},function(e,t,n){"use strict";var r=n(476)(!0);n(214)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i,n;return t>=e.length?{value:void 0,done:!0}:(n=r(e,t),this._i+=n.length,{value:n,done:!1})})},function(e,t,n){var r=n(148),i=n(147);e.exports=function(e){return function(t,n){var o=String(i(t)),a=r(n),s=o.length,u,l;return a<0||a>=s?e?"":void 0:(u=o.charCodeAt(a))<55296||u>56319||a+1===s||(l=o.charCodeAt(a+1))<56320||l>57343?e?o.charAt(a):u:e?o.slice(a,a+2):l-56320+(u-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(155),i=n(109),o=n(156),a={};n(72)(a,n(75)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(64),i=n(89),o=n(110);e.exports=n(58)?Object.defineProperties:function e(t,n){i(t);for(var a=o(n),s=a.length,u=0,l;s>u;)r.f(t,l=a[u++],n[l]);return t}},function(e,t,n){var r=n(56).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(65),i=n(153),o=n(149)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){n(482);for(var r=n(56),i=n(72),o=n(154),a=n(75)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],f=c&&c.prototype;f&&!f[a]&&i(f,a,l),o[l]=o.Array}},function(e,t,n){"use strict";var r=n(483),i=n(484),o=n(154),a=n(74);e.exports=n(214)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(486),__esModule:!0}},function(e,t,n){n(487),n(492),n(493),n(494),e.exports=n(57).Symbol},function(e,t,n){"use strict";var r=n(56),i=n(65),o=n(58),a=n(71),s=n(215),u=n(488).KEY,l=n(90),c=n(150),f=n(156),p=n(112),h=n(75),d=n(157),m=n(158),g=n(489),v=n(490),y=n(89),b=n(73),w=n(153),x=n(74),_=n(146),C=n(109),E=n(155),S=n(491),k=n(217),O=n(152),T=n(64),N=n(110),A=k.f,I=T.f,R=S.f,P=r.Symbol,M=r.JSON,j=M&&M.stringify,D="prototype",L=h("_hidden"),F=h("toPrimitive"),z={}.propertyIsEnumerable,B=c("symbol-registry"),U=c("symbols"),W=c("op-symbols"),V=Object.prototype,H="function"==typeof P&&!!O.f,G=r.QObject,q=!G||!G.prototype||!G.prototype.findChild,K=o&&l(function(){return 7!=E(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=A(V,t);r&&delete V[t],I(e,t,n),r&&e!==V&&I(V,t,r)}:I,X=function(e){var t=U[e]=E(P.prototype);return t._k=e,t},Y=H&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},Z=function e(t,n,r){return t===V&&Z(W,n,r),y(t),n=_(n,!0),y(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=E(r,{enumerable:C(0,!1)})):(i(t,L)||I(t,L,C(1,{})),t[L][n]=!0),K(t,n,r)):I(t,n,r)},$=function e(t,n){y(t);for(var r=g(n=x(n)),i=0,o=r.length,a;o>i;)Z(t,a=r[i++],n[a]);return t},J=function e(t,n){return void 0===n?E(t):$(E(t),n)},Q=function e(t){var n=z.call(this,t=_(t,!0));return!(this===V&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},ee=function e(t,n){if(t=x(t),n=_(n,!0),t!==V||!i(U,n)||i(W,n)){var r=A(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},te=function e(t){for(var n=R(x(t)),r=[],o=0,a;n.length>o;)i(U,a=n[o++])||a==L||a==u||r.push(a);return r},ne=function e(t){for(var n=t===V,r=R(n?W:x(t)),o=[],a=0,s;r.length>a;)!i(U,s=r[a++])||n&&!i(V,s)||o.push(U[s]);return o};H||(s((P=function e(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),n=function(e){this===V&&n.call(W,e),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),K(this,t,C(1,e))};return o&&q&&K(V,t,{configurable:!0,set:n}),X(t)}).prototype,"toString",function e(){return this._k}),k.f=ee,T.f=Z,n(216).f=S.f=te,n(113).f=Q,O.f=ne,o&&!n(111)&&s(V,"propertyIsEnumerable",Q,!0),d.f=function(e){return X(h(e))}),a(a.G+a.W+a.F*!H,{Symbol:P});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;re.length>ie;)h(re[ie++]);for(var oe=N(h.store),ae=0;oe.length>ae;)m(oe[ae++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=P(e)},keyFor:function e(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var n in B)if(B[n]===t)return n},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!H,"Object",{create:J,defineProperty:Z,defineProperties:$,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:ne});var se=l(function(){O.f(1)});a(a.S+a.F*se,"Object",{getOwnPropertySymbols:function e(t){return O.f(w(t))}}),M&&a(a.S+a.F*(!H||l(function(){var e=P();return"[null]"!=j([e])||"{}"!=j({a:e})||"{}"!=j(Object(e))})),"JSON",{stringify:function e(t){for(var n=[t],r=1,i,o;arguments.length>r;)n.push(arguments[r++]);if(o=i=n[1],(b(i)||void 0!==t)&&!Y(t))return v(i)||(i=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!Y(t))return t}),n[1]=i,j.apply(M,n)}}),P.prototype[F]||n(72)(P.prototype,F,P.prototype.valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(112)("meta"),i=n(73),o=n(65),a=n(64).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(90)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},p=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},h=function(e){return l&&d.NEED&&u(e)&&!o(e,r)&&c(e),e},d=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:h}},function(e,t,n){var r=n(110),i=n(152),o=n(113);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a=n(e),s=o.f,u=0,l;a.length>u;)s.call(e,l=a[u++])&&t.push(l);return t}},function(e,t,n){var r=n(213);e.exports=Array.isArray||function e(t){return"Array"==r(t)}},function(e,t,n){var r=n(74),i=n(216).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function e(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(e,t){},function(e,t,n){n(158)("asyncIterator")},function(e,t,n){n(158)("observable")},function(e,t,n){e.exports={default:n(496),__esModule:!0}},function(e,t,n){n(497),e.exports=n(57).Object.setPrototypeOf},function(e,t,n){var r=n(71);r(r.S,"Object",{setPrototypeOf:n(498).set})},function(e,t,n){var r=n(73),i=n(89),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(208)(Function.call,n(217).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function e(n,i){return o(n,i),t?n.__proto__=i:r(n,i),n}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(500),__esModule:!0}},function(e,t,n){n(501);var r=n(57).Object;e.exports=function e(t,n){return r.create(t,n)}},function(e,t,n){var r=n(71);r(r.S,"Object",{create:n(155)})},function(e,t,n){"use strict";var r=n(503);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(0)),i=l(n(505)),o=l(n(508)),a=l(n(2)),s=l(n(218)),u=n(219);function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=function e(t,n){return t&&n&&n.split(" ").forEach(function(e){return(0,i.default)(t,e)})},d=function e(t,n){return t&&n&&n.split(" ").forEach(function(e){return(0,o.default)(t,e)})},m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r,i=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),h(e,i),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r,i=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,i),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),h(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n,r=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),h(e,r),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n,r=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,r),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n,r=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),h(e,r),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i,o=r?(r&&n?n+"-":"")+e:n[e],a,s;return{className:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}p(t,e);var n=t.prototype;return n.removeClasses=function e(t,n){var r=this.getClassNames(n),i=r.className,o=r.activeClassName,a=r.doneClassName;i&&d(t,i),o&&d(t,o),a&&d(t,a)},n.reflowAndAddClass=function e(t,n){n&&(t&&t.scrollTop,h(t,n))},n.render=function e(){var t=f({},this.props);return delete t.classNames,a.default.createElement(s.default,f({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(a.default.Component);m.defaultProps={classNames:""},m.propTypes={};var g=m;t.default=g,e.exports=t.default},function(e,t,n){"use strict";var r=n(506);t.__esModule=!0,t.default=o;var i=r(n(507));function o(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}e.exports=t.default},function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n},function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}t.__esModule=!0,t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function e(t,n){t.classList?t.classList.remove(n):"string"==typeof t.className?t.className=r(t.className,n):t.setAttribute("class",r(t.className&&t.className.baseVal||"",n))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(0)),i=s(n(2)),o=n(10),a=s(n(220));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}l(t,e);var n=t.prototype;return n.handleLifecycle=function e(t,n,r){var a,s=this.props.children,u=i.default.Children.toArray(s)[n];u.props[t]&&(a=u.props)[t].apply(a,r),this.props[t]&&this.props[t]((0,o.findDOMNode)(this))},n.render=function e(){var t=this.props,n=t.children,r=t.in,o=u(t,["children","in"]),s=i.default.Children.toArray(n),l=s[0],c=s[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,i.default.createElement(a.default,o,r?i.default.cloneElement(l,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):i.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(i.default.Component);c.propTypes={};var f=c;t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=s,t.getNextChildMapping=u;var r=n(2);function i(e,t){var n=function e(n){return t&&(0,r.isValidElement)(n)?t(n):n},i=Object.create(null);return e&&r.Children.map(e,function(e){return e}).forEach(function(e){i[e.key]=n(e)}),i}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r=Object.create(null),i=[],o;for(var a in e)a in t?i.length&&(r[a]=i,i=[]):i.push(a);var s={};for(var u in t){if(r[u])for(o=0;o<r[u].length;o++){var l=r[u][o];s[r[u][o]]=n(l)}s[u]=n(u)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}function s(e,t){return i(e.children,function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})})}function u(e,t,n){var s=i(e.children),u=o(t,s);return Object.keys(u).forEach(function(i){var o=u[i];if((0,r.isValidElement)(o)){var l=i in t,c=i in s,f=t[i],p=(0,r.isValidElement)(f)&&!f.props.in;!c||l&&!p?c||!l||p?c&&l&&(0,r.isValidElement)(f)&&(u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:f.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):u[i]=(0,r.cloneElement)(o,{in:!1}):u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}}),u}},function(e,t,n){e.exports={default:n(512),__esModule:!0}},function(e,t,n){n(513);var r=n(57).Object;e.exports=function e(t,n,i){return r.defineProperty(t,n,i)}},function(e,t,n){var r=n(71);r(r.S+r.F*!n(58),"Object",{defineProperty:n(64).f})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";e.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp(r,"gi"),o=new RegExp("("+r+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(n),a(r))}function s(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i),n=1;n<t.length;n++)t=(e=a(t,n).join("")).match(i);return e}}function u(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="\ufffd";for(var i=Object.keys(t),a=0;a<i.length;a++){var u=i[a];e=e.replace(new RegExp(u,"g"),t[u])}return e}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return u(e)}}},function(e,t,n){"use strict";e.exports=((e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(39),i=n(221),o=n(529),a=n(159);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(a);u.Axios=o,u.create=function e(t){return s(r.merge(a,t))},u.Cancel=n(225),u.CancelToken=n(542),u.isCancel=n(224),u.all=function e(t){return Promise.all(t)},u.spread=n(543),e.exports=u,e.exports.default=u},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function e(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(e,t,n){"use strict";var r=n(159),i=n(39),o=n(537),a=n(538);function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function e(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var n=[a,void 0],o=Promise.resolve(t);for(this.interceptors.request.forEach(function e(t){n.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function e(t){n.push(t.fulfilled,t.rejected)});n.length;)o=o.then(n.shift(),n.shift());return o},i.forEach(["delete","get","head","options"],function e(t){s.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function e(t){s.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),e.exports=s},function(e,t,n){"use strict";var r=n(39);e.exports=function e(t,n){r.forEach(t,function e(r,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(t[n]=r,delete t[i])})}},function(e,t,n){"use strict";var r=n(223);e.exports=function e(t,n,i){var o=i.config.validateStatus;i.status&&o&&!o(i.status)?n(r("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},function(e,t,n){"use strict";e.exports=function e(t,n,r,i,o){return t.config=n,r&&(t.code=r),t.request=i,t.response=o,t}},function(e,t,n){"use strict";var r=n(39);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function e(t,n,o){if(!n)return t;var a;if(o)a=o(n);else if(r.isURLSearchParams(n))a=n.toString();else{var s=[];r.forEach(n,function e(t,n){null!==t&&void 0!==t&&(r.isArray(t)?n+="[]":t=[t],r.forEach(t,function e(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(n)+"="+i(t))}))}),a=s.join("&")}return a&&(t+=(-1===t.indexOf("?")?"?":"&")+a),t}},function(e,t,n){"use strict";var r=n(39),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function e(t){var n={},o,a,s;return t?(r.forEach(t.split("\n"),function e(t){if(s=t.indexOf(":"),o=r.trim(t.substr(0,s)).toLowerCase(),a=r.trim(t.substr(s+1)),o){if(n[o]&&i.indexOf(o)>=0)return;n[o]="set-cookie"===o?(n[o]?n[o]:[]).concat([a]):n[o]?n[o]+", "+a:a}}),n):n}},function(e,t,n){"use strict";var r=n(39);e.exports=r.isStandardBrowserEnv()?function e(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return i=o(window.location.href),function e(t){var n=r.isString(t)?o(t):t;return n.protocol===i.protocol&&n.host===i.host}}():function e(){return!0}},function(e,t,n){"use strict";var r=n(39);e.exports=r.isStandardBrowserEnv()?function e(){return{write:function e(t,n,i,o,a,s){var u=[];u.push(t+"="+encodeURIComponent(n)),r.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(a)&&u.push("domain="+a),!0===s&&u.push("secure"),document.cookie=u.join("; ")},read:function e(t){var n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function e(t){this.write(t,"",Date.now()-864e5)}}}():{write:function e(){},read:function e(){return null},remove:function e(){}}},function(e,t,n){"use strict";var r=n(39);function i(){this.handlers=[]}i.prototype.use=function e(t,n){return this.handlers.push({fulfilled:t,rejected:n}),this.handlers.length-1},i.prototype.eject=function e(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function e(t){r.forEach(this.handlers,function e(n){null!==n&&t(n)})},e.exports=i},function(e,t,n){"use strict";var r=n(39),i=n(539),o=n(224),a=n(159),s=n(540),u=n(541);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function e(t){var n;return l(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function e(n){delete t.headers[n]}),(t.adapter||a.adapter)(t).then(function e(n){return l(t),n.data=i(n.data,n.headers,t.transformResponse),n},function e(n){return o(n)||(l(t),n&&n.response&&(n.response.data=i(n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)})}},function(e,t,n){"use strict";var r=n(39);e.exports=function e(t,n,i){return r.forEach(i,function e(r){t=r(t,n)}),t}},function(e,t,n){"use strict";e.exports=function e(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(e,t,n){"use strict";e.exports=function e(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}},function(e,t,n){"use strict";var r=n(225);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function e(n){t=n});var n=this;e(function e(i){n.reason||(n.reason=new r(i),t(n.reason))})}i.prototype.throwIfRequested=function e(){if(this.reason)throw this.reason},i.source=function e(){var t,n;return{token:new i(function e(n){t=n}),cancel:t}},e.exports=i},function(e,t,n){"use strict";e.exports=function e(t){return function e(n){return t.apply(null,n)}}},function(e,t,n){},function(e,t,n){"use strict";var r=n(546);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i,o=a(n(226));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=30,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.radius,r=void 0===n?u:n,i=t.enabled,a=void 0===i||i,l=t.initialPoint,c=void 0===l?{x:0,y:0}:l;s(this,e),this.radius=r,this._isEnabled=a,this.pointer=new o.default(c.x,c.y),this.brush=new o.default(c.x,c.y),this.angle=0,this.distance=0,this._hasMoved=!1}return r(e,[{key:"enable",value:function e(){this._isEnabled=!0}},{key:"disable",value:function e(){this._isEnabled=!1}},{key:"isEnabled",value:function e(){return this._isEnabled}},{key:"setRadius",value:function e(t){this.radius=t}},{key:"getRadius",value:function e(){return this.radius}},{key:"getBrushCoordinates",value:function e(){return this.brush.toObject()}},{key:"getPointerCoordinates",value:function e(){return this.pointer.toObject()}},{key:"getBrush",value:function e(){return this.brush}},{key:"getPointer",value:function e(){return this.pointer}},{key:"getAngle",value:function e(){return this.angle}},{key:"getDistance",value:function e(){return this.distance}},{key:"brushHasMoved",value:function e(){return this._hasMoved}},{key:"update",value:function e(t){var n,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).both,i=void 0!==r&&r;return this._hasMoved=!1,!(this.pointer.equalsTo(t)&&!i)&&(this.pointer.update(t),i?(this._hasMoved=!0,this.brush.update(t),!0):(this._isEnabled?(this.distance=this.pointer.getDistanceTo(this.brush),this.angle=this.pointer.getAngleTo(this.brush),this.distance>this.radius&&(this.brush.moveByAngle(this.angle,this.distance-this.radius),this._hasMoved=!0)):(this.distance=0,this.angle=0,this.brush.update(t),this._hasMoved=!0),!0))}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i,o=a(n(228));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=1e-6,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.segments,r=void 0===n?50:n,i=t.iterationLimit,a=void 0===i?100:i;s(this,e),this.p1=new o.default,this.p2=new o.default,this.segments=r,this.iterationLimit=a}return r(e,[{key:"drawToCanvas",value:function e(t,n,r,i){this.p1.update(n),this.p2.update(r);var o=this.p1.x>this.p2.x,a=o?this.p2:this.p1,s=o?this.p1:this.p2,u,l=[],c=!0,f;if(a.getDistanceTo(s)<i)if(s.x-a.x>.01){var p=s.x-a.x,h=s.y-a.y,d=-this.getCatenaryParameter(p,h,i,this.iterationLimit),m=.5*(d*Math.log((i+h)/(i-h))-p),g=d*Math.cosh(m/d),v=a.x-m,y=a.y-g;l=this.getCurve(d,a,s,v,y,this.segments),c=!1}else{var b=.5*(a.x+s.x),w=.5*(a.y+s.y+i);l=[[a.x,a.y],[b,w],[s.x,s.y]]}else l=[[a.x,a.y],[s.x,s.y]];return c?this.drawLine(l,t):this.drawCurve(l,t),l}},{key:"getCatenaryParameter",value:function e(t,n,r,i){for(var o=Math.sqrt(r*r-n*n)/t,a=Math.acosh(o)+1,s=-1,u=0;Math.abs(a-s)>1e-6&&u<i;)s=a,a-=(Math.sinh(a)-o*a)/(Math.cosh(a)-o),u++;return t/(2*a)}},{key:"getCurve",value:function e(t,n,r,i,o,a){for(var s=[n.x,t*Math.cosh((n.x-i)/t)+o],u=r.x-n.x,l=a-1,c=0;c<l;c++){var f=n.x+u*(c+.5)/l,p=t*Math.cosh((f-i)/t)+o;s.push(f,p)}return s.push(r.x,t*Math.cosh((r.x-i)/t)+o),s}},{key:"drawLine",value:function e(t,n){n.moveTo(t[0][0],t[0][1]),n.lineTo(t[1][0],t[1][1])}},{key:"drawCurve",value:function e(t,n){var r=.5*t.length-1,i=t[2],o=t[3],a=[];n.moveTo(t[0],t[1]);for(var s=2;s<r;s++){var u=t[2*s],l=t[2*s+1],c=.5*(u+i),f=.5*(l+o);a.push([i,o,c,f]),n.quadraticCurveTo(i,o,c,f),i=u,o=l}return r=t.length,n.quadraticCurveTo(t[r-4],t[r-3],t[r-2],t[r-1]),a}}]),e}();t.default=l},function(e,t,n){"use strict";t.byteLength=c,t.toByteArray=p,t.fromByteArray=m;for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("="),r;return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function f(e,t,n){return 3*(t+n)/4-n}function p(e){var t,n=l(e),r=n[0],a=n[1],s=new o(f(e,r,a)),u=0,c=a>0?r-4:r,p;for(p=0;p<c;p+=4)t=i[e.charCodeAt(p)]<<18|i[e.charCodeAt(p+1)]<<12|i[e.charCodeAt(p+2)]<<6|i[e.charCodeAt(p+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===a&&(t=i[e.charCodeAt(p)]<<2|i[e.charCodeAt(p+1)]>>4,s[u++]=255&t),1===a&&(t=i[e.charCodeAt(p)]<<10|i[e.charCodeAt(p+1)]<<4|i[e.charCodeAt(p+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s}function h(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function d(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(h(r));return i.join("")}function m(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=16383)o.push(d(e,s,s+16383>u?u:s+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,p=n?-1:1,h=e[t+f];for(f+=p,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=d,a/=256,l-=8);e[n+h-d]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function t(){e._onTimeout&&e._onTimeout()},t))},n(553),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(44))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r=1,i={},o=!1,a=e.document,s,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?h():d()?m():e.MessageChannel?g():a&&"onreadystatechange"in a.createElement("script")?v():y(),u.setImmediate=l,u.clearImmediate=c}function l(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return i[r]=o,s(r),r++}function c(e){delete i[e]}function f(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function p(e){if(o)setTimeout(p,0,e);else{var t=i[e];if(t){o=!0;try{f(t)}finally{c(e),o=!1}}}}function h(){s=function(e){t.nextTick(function(){p(e)})}}function d(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function m(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&p(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}function g(){var e=new MessageChannel;e.port1.onmessage=function(e){var t;p(e.data)},s=function(t){e.port2.postMessage(t)}}function v(){var e=a.documentElement;s=function(t){var n=a.createElement("script");n.onreadystatechange=function(){p(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function y(){s=function(e){setTimeout(p,0,e)}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(44),n(108))},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r;(r=function(e){"use strict";e.defineMode("javascript",function(t,n){var r=t.indentUnit,i=n.statementIndent,o=n.jsonld,a=n.json||o,s=n.typescript,u=n.wordCharacters||/[\w$\xa1-\uffff]/,l=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),c=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,p,h;function d(e){for(var t=!1,n,r=!1;null!=(n=e.next());){if(!t){if("/"==n&&!r)return;"["==n?r=!0:r&&"]"==n&&(r=!1)}t=!t&&"\\"==n}}function m(e,t,n){return p=e,h=n,t}function g(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=v(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return m("number","number");if("."==n&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&e.eat(">"))return m("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return m("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),m("number","number");if("/"==n)return e.eat("*")?(t.tokenize=y,y(e,t)):e.eat("/")?(e.skipToEnd(),m("comment","comment")):et(e,t,1)?(d(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==n)return t.tokenize=b,b(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),m("meta","meta");if("#"==n&&e.eatWhile(u))return m("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),m("comment","comment");if(c.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?m("."):m("operator","operator",e.current());if(u.test(n)){e.eatWhile(u);var r=e.current();if("."!=t.lastType){if(l.propertyIsEnumerable(r)){var i=l[r];return m(i.type,i.style,r)}if("async"==r&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",r)}return m("variable","variable",r)}}function v(e){return function(t,n){var r=!1,i;if(o&&"@"==t.peek()&&t.match(f))return n.tokenize=g,m("jsonld-keyword","meta");for(;null!=(i=t.next())&&(i!=e||r);)r=!r&&"\\"==i;return r||(n.tokenize=g),m("string","string")}}function y(e,t){for(var n=!1,r;r=e.next();){if("/"==r&&n){t.tokenize=g;break}n="*"==r}return m("comment","comment")}function b(e,t){for(var n=!1,r;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=g;break}n=!n&&"\\"==r}return m("quasi","string-2",e.current())}var w="([{}])";function x(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(s){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var l=e.string.charAt(a),c=w.indexOf(l);if(c>=0&&c<3){if(!i){++a;break}if(0==--i){"("==l&&(o=!0);break}}else if(c>=3&&c<6)++i;else if(u.test(l))o=!0;else if(/["'\/`]/.test(l))for(;;--a){if(0==a)return;var f;if(e.string.charAt(a-1)==l&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(o&&!i){++a;break}}o&&!i&&(t.fatArrowAt=a)}}var _={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function C(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function E(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function S(e,t,n,r,i){var o=e.cc;for(k.state=e,k.stream=i,k.marked=null,k.cc=o,k.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s;if((o.length?o.pop():a?H:W)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return k.marked?k.marked:"variable"==n&&E(e,r)?"variable-2":t}}}var k={state:null,column:null,marked:null,cc:null};function O(){for(var e=arguments.length-1;e>=0;e--)k.cc.push(arguments[e])}function T(){return O.apply(null,arguments),!0}function N(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function A(e){var t=k.state;if(k.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=I(e,t.context);if(null!=r)return void(t.context=r)}else if(!N(e,t.localVars))return void(t.localVars=new M(e,t.localVars));n.globalVars&&!N(e,t.globalVars)&&(t.globalVars=new M(e,t.globalVars))}function I(e,t){if(t){if(t.block){var n=I(e,t.prev);return n?n==t.prev?t:new P(n,t.vars,!0):null}return N(e,t.vars)?t:new P(t.prev,new M(e,t.vars),!1)}return null}function R(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function P(e,t,n){this.prev=e,this.vars=t,this.block=n}function M(e,t){this.name=e,this.next=t}var j=new M("this",new M("arguments",null));function D(){k.state.context=new P(k.state.context,k.state.localVars,!1),k.state.localVars=j}function L(){k.state.context=new P(k.state.context,k.state.localVars,!0),k.state.localVars=null}function F(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}function z(e,t){var n=function(){var n=k.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new C(r,k.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function B(){var e=k.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function U(e){function t(n){return n==e?T():";"==e||"}"==n||")"==n||"]"==n?O():T(t)}return t}function W(e,t){return"var"==e?T(z("vardef",t),Ee,U(";"),B):"keyword a"==e?T(z("form"),q,W,B):"keyword b"==e?T(z("form"),W,B):"keyword d"==e?k.stream.match(/^\s*$/,!1)?T():T(z("stat"),X,U(";"),B):"debugger"==e?T(U(";")):"{"==e?T(z("}"),L,fe,B,F):";"==e?T():"if"==e?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==B&&k.state.cc.pop()(),T(z("form"),q,W,B,Ae)):"function"==e?T(Me):"for"==e?T(z("form"),Ie,W,B):"class"==e||s&&"interface"==t?(k.marked="keyword",T(z("form","class"==e?e:t),ze,B)):"variable"==e?s&&"declare"==t?(k.marked="keyword",T(W)):s&&("module"==t||"enum"==t||"type"==t)&&k.stream.match(/^\s*\w/,!1)?(k.marked="keyword","enum"==t?T($e):"type"==t?T(De,U("operator"),ge,U(";")):T(z("form"),Se,U("{"),z("}"),fe,B,B)):s&&"namespace"==t?(k.marked="keyword",T(z("form"),H,W,B)):s&&"abstract"==t?(k.marked="keyword",T(W)):T(z("stat"),ie):"switch"==e?T(z("form"),q,U("{"),z("}","switch"),L,fe,B,B,F):"case"==e?T(H,U(":")):"default"==e?T(U(":")):"catch"==e?T(z("form"),D,V,W,B,F):"export"==e?T(z("stat"),Ve,B):"import"==e?T(z("stat"),Ge,B):"async"==e?T(W):"@"==t?T(H,W):O(z("stat"),H,U(";"),B)}function V(e){if("("==e)return T(Le,U(")"))}function H(e,t){return K(e,t,!1)}function G(e,t){return K(e,t,!0)}function q(e){return"("!=e?O():T(z(")"),X,U(")"),B)}function K(e,t,n){if(k.state.fatArrowAt==k.stream.start){var r=n?ee:Q;if("("==e)return T(D,z(")"),le(Le,")"),B,U("=>"),r,F);if("variable"==e)return O(D,Se,U("=>"),r,F)}var i=n?Z:Y;return _.hasOwnProperty(e)?T(i):"function"==e?T(Me,i):"class"==e||s&&"interface"==t?(k.marked="keyword",T(z("form"),Fe,B)):"keyword c"==e||"async"==e?T(n?G:H):"("==e?T(z(")"),X,U(")"),B,i):"operator"==e||"spread"==e?T(n?G:H):"["==e?T(z("]"),Ze,B,i):"{"==e?ce(ae,"}",null,i):"quasi"==e?O($,i):"new"==e?T(te(n)):"import"==e?T(H):T()}function X(e){return e.match(/[;\}\)\],]/)?O():O(H)}function Y(e,t){return","==e?T(X):Z(e,t,!1)}function Z(e,t,n){var r=0==n?Y:Z,i=0==n?H:G;return"=>"==e?T(D,n?ee:Q,F):"operator"==e?/\+\+|--/.test(t)||s&&"!"==t?T(r):s&&"<"==t&&k.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?T(z(">"),le(ge,">"),B,r):"?"==t?T(H,U(":"),i):T(i):"quasi"==e?O($,r):";"!=e?"("==e?ce(G,")","call",r):"."==e?T(oe,r):"["==e?T(z("]"),X,U("]"),B,r):s&&"as"==t?(k.marked="keyword",T(ge,r)):"regexp"==e?(k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),T(i)):void 0:void 0}function $(e,t){return"quasi"!=e?O():"${"!=t.slice(t.length-2)?T($):T(H,J)}function J(e){if("}"==e)return k.marked="string-2",k.state.tokenize=b,T($)}function Q(e){return x(k.stream,k.state),O("{"==e?W:H)}function ee(e){return x(k.stream,k.state),O("{"==e?W:G)}function te(e){return function(t){return"."==t?T(e?re:ne):"variable"==t&&s?T(xe,e?Z:Y):O(e?G:H)}}function ne(e,t){if("target"==t)return k.marked="keyword",T(Y)}function re(e,t){if("target"==t)return k.marked="keyword",T(Z)}function ie(e){return":"==e?T(B,W):O(Y,U(";"),B)}function oe(e){if("variable"==e)return k.marked="property",T()}function ae(e,t){if("async"==e)return k.marked="property",T(ae);if("variable"==e||"keyword"==k.style){return k.marked="property","get"==t||"set"==t?T(se):(s&&k.state.fatArrowAt==k.stream.start&&(n=k.stream.match(/^\s*:\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+n[0].length),T(ue));var n}else{if("number"==e||"string"==e)return k.marked=o?"property":k.style+" property",T(ue);if("jsonld-keyword"==e)return T(ue);if(s&&R(t))return k.marked="keyword",T(ae);if("["==e)return T(H,pe,U("]"),ue);if("spread"==e)return T(G,ue);if("*"==t)return k.marked="keyword",T(ae);if(":"==e)return O(ue)}}function se(e){return"variable"!=e?O(ue):(k.marked="property",T(Me))}function ue(e){return":"==e?T(G):"("==e?O(Me):void 0}function le(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=k.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),T(function(n,r){return n==t||r==t?O():O(e)},r)}return i==t||o==t?T():n&&n.indexOf(";")>-1?O(e):T(U(t))}return function(n,i){return n==t||i==t?T():O(e,r)}}function ce(e,t,n){for(var r=3;r<arguments.length;r++)k.cc.push(arguments[r]);return T(z(t,n),le(e,t),B)}function fe(e){return"}"==e?T():O(W,fe)}function pe(e,t){if(s){if(":"==e)return T(ge);if("?"==t)return T(pe)}}function he(e,t){if(s&&(":"==e||"in"==t))return T(ge)}function de(e){if(s&&":"==e)return k.stream.match(/^\s*\w+\s+is\b/,!1)?T(H,me,ge):T(ge)}function me(e,t){if("is"==t)return k.marked="keyword",T()}function ge(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(k.marked="keyword",T("typeof"==t?G:ge)):"variable"==e||"void"==t?(k.marked="type",T(we)):"|"==t||"&"==t?T(ge):"string"==e||"number"==e||"atom"==e?T(we):"["==e?T(z("]"),le(ge,"]",","),B,we):"{"==e?T(z("}"),le(ye,"}",",;"),B,we):"("==e?T(le(be,")"),ve,we):"<"==e?T(le(ge,">"),ge):void 0}function ve(e){if("=>"==e)return T(ge)}function ye(e,t){return"variable"==e||"keyword"==k.style?(k.marked="property",T(ye)):"?"==t||"number"==e||"string"==e?T(ye):":"==e?T(ge):"["==e?T(U("variable"),he,U("]"),ye):"("==e?O(je,ye):void 0}function be(e,t){return"variable"==e&&k.stream.match(/^\s*[?:]/,!1)||"?"==t?T(be):":"==e?T(ge):"spread"==e?T(be):O(ge)}function we(e,t){return"<"==t?T(z(">"),le(ge,">"),B,we):"|"==t||"."==e||"&"==t?T(ge):"["==e?T(ge,U("]"),we):"extends"==t||"implements"==t?(k.marked="keyword",T(ge)):"?"==t?T(ge,U(":"),ge):void 0}function xe(e,t){if("<"==t)return T(z(">"),le(ge,">"),B,we)}function _e(){return O(ge,Ce)}function Ce(e,t){if("="==t)return T(ge)}function Ee(e,t){return"enum"==t?(k.marked="keyword",T($e)):O(Se,pe,Te,Ne)}function Se(e,t){return s&&R(t)?(k.marked="keyword",T(Se)):"variable"==e?(A(t),T()):"spread"==e?T(Se):"["==e?ce(Oe,"]"):"{"==e?ce(ke,"}"):void 0}function ke(e,t){return"variable"!=e||k.stream.match(/^\s*:/,!1)?("variable"==e&&(k.marked="property"),"spread"==e?T(Se):"}"==e?O():"["==e?T(H,U("]"),U(":"),ke):T(U(":"),Se,Te)):(A(t),T(Te))}function Oe(){return O(Se,Te)}function Te(e,t){if("="==t)return T(G)}function Ne(e){if(","==e)return T(Ee)}function Ae(e,t){if("keyword b"==e&&"else"==t)return T(z("form","else"),W,B)}function Ie(e,t){return"await"==t?T(Ie):"("==e?T(z(")"),Re,B):void 0}function Re(e){return"var"==e?T(Ee,Pe):"variable"==e?T(Pe):O(Pe)}function Pe(e,t){return")"==e?T():";"==e?T(Pe):"in"==t||"of"==t?(k.marked="keyword",T(H,Pe)):O(H,Pe)}function Me(e,t){return"*"==t?(k.marked="keyword",T(Me)):"variable"==e?(A(t),T(Me)):"("==e?T(D,z(")"),le(Le,")"),B,de,W,F):s&&"<"==t?T(z(">"),le(_e,">"),B,Me):void 0}function je(e,t){return"*"==t?(k.marked="keyword",T(je)):"variable"==e?(A(t),T(je)):"("==e?T(D,z(")"),le(Le,")"),B,de,F):s&&"<"==t?T(z(">"),le(_e,">"),B,je):void 0}function De(e,t){return"keyword"==e||"variable"==e?(k.marked="type",T(De)):"<"==t?T(z(">"),le(_e,">"),B):void 0}function Le(e,t){return"@"==t&&T(H,Le),"spread"==e?T(Le):s&&R(t)?(k.marked="keyword",T(Le)):s&&"this"==e?T(pe,Te):O(Se,pe,Te)}function Fe(e,t){return"variable"==e?ze(e,t):Be(e,t)}function ze(e,t){if("variable"==e)return A(t),T(Be)}function Be(e,t){return"<"==t?T(z(">"),le(_e,">"),B,Be):"extends"==t||"implements"==t||s&&","==e?("implements"==t&&(k.marked="keyword"),T(s?ge:H,Be)):"{"==e?T(z("}"),Ue,B):void 0}function Ue(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||s&&R(t))&&k.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(k.marked="keyword",T(Ue)):"variable"==e||"keyword"==k.style?(k.marked="property",T(We,Ue)):"number"==e||"string"==e?T(We,Ue):"["==e?T(H,pe,U("]"),We,Ue):"*"==t?(k.marked="keyword",T(Ue)):s&&"("==e?O(je,Ue):";"==e||","==e?T(Ue):"}"==e?T():"@"==t?T(H,Ue):void 0}function We(e,t){if("?"==t)return T(We);if(":"==e)return T(ge,Te);if("="==t)return T(G);var n=k.state.lexical.prev,r;return O(n&&"interface"==n.info?je:Me)}function Ve(e,t){return"*"==t?(k.marked="keyword",T(Ye,U(";"))):"default"==t?(k.marked="keyword",T(H,U(";"))):"{"==e?T(le(He,"}"),Ye,U(";")):O(W)}function He(e,t){return"as"==t?(k.marked="keyword",T(U("variable"))):"variable"==e?O(G,He):void 0}function Ge(e){return"string"==e?T():"("==e?O(H):O(qe,Ke,Ye)}function qe(e,t){return"{"==e?ce(qe,"}"):("variable"==e&&A(t),"*"==t&&(k.marked="keyword"),T(Xe))}function Ke(e){if(","==e)return T(qe,Ke)}function Xe(e,t){if("as"==t)return k.marked="keyword",T(qe)}function Ye(e,t){if("from"==t)return k.marked="keyword",T(H)}function Ze(e){return"]"==e?T():O(le(G,"]"))}function $e(){return O(z("form"),Se,U("{"),z("}"),le(Je,"}"),B,B)}function Je(){return O(Se,Te)}function Qe(e,t){return"operator"==e.lastType||","==e.lastType||c.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function et(e,t,n){return t.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return F.lex=!0,B.lex=!0,{startState:function(e){var t={tokenize:g,lastType:"sof",cc:[],lexical:new C((e||0)-r,0,"block",!1),localVars:n.localVars,context:n.localVars&&new P(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),x(e,t)),t.tokenize!=y&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==p?n:(t.lastType="operator"!=p||"++"!=h&&"--"!=h?p:"incdec",S(t,n,p,h,e))},indent:function(t,o){if(t.tokenize==y)return e.Pass;if(t.tokenize!=g)return 0;var a=o&&o.charAt(0),s=t.lexical,u;if(!/^\s*else\b/.test(o))for(var l=t.cc.length-1;l>=0;--l){var c=t.cc[l];if(c==B)s=s.prev;else if(c!=Ae)break}for(;("stat"==s.type||"form"==s.type)&&("}"==a||(u=t.cc[t.cc.length-1])&&(u==Y||u==Z)&&!/^[,\.=+\-*:?[\(]/.test(o));)s=s.prev;i&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var f=s.type,p=a==f;return"vardef"==f?s.indented+("operator"==t.lastType||","==t.lastType?s.info.length+1:0):"form"==f&&"{"==a?s.indented:"form"==f?s.indented+r:"stat"==f?s.indented+(Qe(t,o)?i||r:0):"switch"!=s.info||p||0==n.doubleIndentSwitch?s.align?s.column+(p?0:1):s.indented+(p?0:r):s.indented+(/^(?:case|default)\b/.test(o)?r:2*r)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:a?null:"/*",blockCommentEnd:a?null:"*/",blockCommentContinue:a?null:" * ",lineComment:a?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:a?"json":"javascript",jsonldMode:o,jsonMode:a,expressionAllowed:et,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=H&&t!=G||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})(n(229))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){var n=Object.prototype.hasOwnProperty;function r(e,t){for(var r in e)if(n.call(e,r))return e[r]===t[r];return!1}function i(e,t){if(!e&&!t||e===t)return!0;if(!e!=!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}function o(e,t){var r,a=0,s=0;for(r in e)if(n.call(e,r)){switch(r){case"transform":if(!i(e[r],t[r]))return!1;break;case"shadowOffset":if(!o(e[r],t[r]))return!1;break;default:if(e[r]!==t[r])return!1}a++}for(r in t)n.call(t,r)&&s++;return a===s}function a(e,t){if(!e&&!t||e===t)return!0;if(!e!=!t)return!1;switch(typeof e){case"object":if(e instanceof Array){for(var n=0;n<e.length;n++)if(!a(e[n],t[n]))return!1;return e.length===t.length}return o(e,t);case"number":default:return e===t}}e.exports=a},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case p:case a:case u:case s:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case g:case l:return e;default:return t}}case o:return t}}}function C(e){return _(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=v,t.Memo=g,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.isAsyncMode=function(e){return C(e)||_(e)===f},t.isConcurrentMode=C,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===u},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===u||e===s||e===d||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===w||e.$$typeof===x||e.$$typeof===y)},t.typeOf=_},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"ieVersion",function(){return Po}),n.d(r,"isProduction",function(){return Mo}),n.d(r,"default",function(){return jo});var i={};n.r(i),n.d(i,"deprecated",function(){return Do}),n.d(i,"warning",function(){return Lo});var o={};n.r(o),n.d(o,"typeOf",function(){return Fo}),n.d(o,"isArrayLike",function(){return zo}),n.d(o,"isPromise",function(){return Bo}),n.d(o,"isPlainObject",function(){return Uo}),n.d(o,"shallowEqual",function(){return Wo}),n.d(o,"each",function(){return Vo}),n.d(o,"pickOthers",function(){return Go}),n.d(o,"pickAttrsWith",function(){return qo}),n.d(o,"isNil",function(){return Ko}),n.d(o,"deepMerge",function(){return Xo}),n.d(o,"isFunctionComponent",function(){return Yo}),n.d(o,"isClassComponent",function(){return Zo}),n.d(o,"isReactFragment",function(){return $o});var a={};n.r(a),n.d(a,"camelcase",function(){return Jo}),n.d(a,"hyphenate",function(){return Qo}),n.d(a,"template",function(){return ea});var s={};n.r(s),n.d(s,"hasDOM",function(){return ta}),n.d(s,"hasClass",function(){return na}),n.d(s,"addClass",function(){return ra}),n.d(s,"removeClass",function(){return ia}),n.d(s,"toggleClass",function(){return oa}),n.d(s,"matches",function(){return aa}),n.d(s,"getStyle",function(){return pa}),n.d(s,"setStyle",function(){return ha}),n.d(s,"scrollbar",function(){return da}),n.d(s,"getOffset",function(){return ma}),n.d(s,"getPixels",function(){return ga}),n.d(s,"getClosest",function(){return va}),n.d(s,"getMatches",function(){return ya});var u={};n.r(u),n.d(u,"off",function(){return ba}),n.d(u,"on",function(){return wa}),n.d(u,"once",function(){return xa});var l={};n.r(l),n.d(l,"noop",function(){return _a}),n.d(l,"prevent",function(){return Ca}),n.d(l,"makeChain",function(){return Ea}),n.d(l,"bindCtx",function(){return Sa}),n.d(l,"promiseCall",function(){return ka});var c={};n.r(c),n.d(c,"animation",function(){return Ia}),n.d(c,"transition",function(){return Ra}),n.d(c,"flex",function(){return Pa});var f={};n.r(f),n.d(f,"getFocusNodeList",function(){return La}),n.d(f,"saveLastFocusNode",function(){return za}),n.d(f,"clearLastFocusNode",function(){return Ba}),n.d(f,"backLastFocusNode",function(){return Ua}),n.d(f,"limitTabRange",function(){return Wa});var p={};n.r(p),n.d(p,"randomId",function(){return Ga}),n.d(p,"escapeForId",function(){return qa});var h=n(241),d=n(242),m=n(243),g=n(244),v=n(245),y=n(246),b=n(247),w=n(248),x=n(249),_=n(250),C=n(251),E=n(252),S=n(253),k=n(254),O=n(255),T=n(256),N=n(257),A=n(258),I=n(259),R=n(260),P=n(261),M=n(262),j=n(263),D=n(264),L=n(265),F=n(266),z=n(267),B=n(95),U=n(268),W=n(269),V=n(270),H=n(271),G=n(272),q=n(273),K=n(274),X=n(275),Y=n(276),Z=n(277),$=n(278),J=n(279),Q=n(280),ee=n(281),te=n(282),ne=n(284),re=n(285),ie=n(286),oe=n(287),ae=n(289),se=n(290),ue=n(292),le=n(293),ce=n(294),fe=n(295),pe=n(296),he=n(297),de=n(298),me=n(299),ge=n(300),ve=n(301),ye=n(302),be=n(303),we=n(305),xe=n(306),_e=n(307),Ce=n(308),Ee=n(309),Se=n(310),ke=n(311),Oe=n(312),Te=n(313),Ne=n(314),Ae=n(315),Ie=n(316),Re=n(317),Pe=n(319),Me=n(320),je=n(321),De=n(322),Le=n(323),Fe=n(324),ze=n(325),Be=n(326),Ue=n(327),We=n(328),Ve=n(329),He=n(330),Ge=n(331),qe=n(332),Ke=n(333),Xe=n(334),Ye=n(335),Ze=n(336),$e=n(337),Je=n(338),Qe=n(339),et=n(340),tt=n(341),nt=n(342),rt=n(343),it=n(344),ot=n(345),at=n(346),st=n(347),ut=n(348),lt=n(350),ct=n(351),ft=n(352),pt=n(353),ht=n(356),dt=n(357),mt=n(358),gt=n(360),vt=n(361),yt=n(362),bt=n(363),wt=n(364),xt=n(365),_t=n(366),Ct=n(367),Et=n(368),St=n(369),kt=n(370),Ot=n(371),Tt=n(198),Nt=n(372),At=n(373),It=n(374),Rt=n(375),Pt=n(376),Mt=n(377),jt=n(378),Dt=n(199),Lt=n(379),Ft=n(380),zt=n(381),Bt=n(382),Ut=n(383),Wt=n(384),Vt=n(385),Ht=n(386),Gt=n(387),qt=n(388),Kt=n(389),Xt=n(390),Yt=n(391),Zt=n(392),$t=n(393),Jt=n(394),Qt=n(395),en=n(396),tn=n(397),nn=n(398),rn=n(399),on=n(400),an=n(401),sn=n(402),un=n(403),ln=n(404),cn=n(406),fn=n(407),pn=n(408),hn=n(409),dn=n(410),mn=n(411),gn=n(412),vn=n(413),yn=n(414),bn=n(415),wn=n(416),xn=n(417),_n=n(418),Cn=n(419),En=n(420),Sn=n(421),kn=n(422),On=n(423),Tn=n(424),Nn=n(425),An=n(426),In=n(427),Rn=n(428),Pn=n(429),Mn=n(430),jn=n(431),Dn=n(432),Ln=n(433),Fn=n(434),zn=n(435),Bn=n(436),Un=n(437),Wn=n(438),Vn=n(439),Hn=n(440),Gn=n(441),qn=n(442),Kn=n(443),Xn=n(444),Yn=n(445),Zn=n(446),$n=n(449),Jn=n(206),Qn=n(450),er=n(10),tr=n.n(er),nr=n(455),rr=n(36),ir=n(2),or=n.n(ir),ar=n(23),sr=n.n(ar);function ur(){return(ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lr(e){return"/"===e.charAt(0)}function cr(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function fr(e,t){void 0===t&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&lr(e),o=t&&lr(t),a=i||o,s;if(e&&lr(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";if(r.length){var u=r[r.length-1];s="."===u||".."===u||""===u}else s=!1;for(var l=0,c=r.length;c>=0;c--){var f=r[c];"."===f?cr(r,c):".."===f?(cr(r,c),l++):l&&(cr(r,c),l--)}if(!a)for(;l--;l)r.unshift("..");!a||""===r[0]||r[0]&&lr(r[0])||r.unshift("");var p=r.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p}var pr=fr;function hr(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function dr(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return dr(e,t[n])});if("object"==typeof e||"object"==typeof t){var n=hr(e),r=hr(t);return n!==e||r!==t?dr(n,r):Object.keys(Object.assign({},e,t)).every(function(n){return dr(e[n],t[n])})}return!1}var mr=dr,gr=!0,vr="Invariant failed";function yr(e,t){if(!e){if(gr)throw new Error(vr);throw new Error(vr+": "+(t||""))}}var br=yr;function wr(e){return"/"===e.charAt(0)?e:"/"+e}function xr(e){return"/"===e.charAt(0)?e.substr(1):e}function _r(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function Cr(e,t){return _r(e,t)?e.substr(t.length):e}function Er(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Sr(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function kr(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Or(e,t,n,r){var i;"string"==typeof e?(i=Sr(e)).state=t:(void 0===(i=ur({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=pr(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Tr(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&mr(e.state,t.state)}function Nr(){var e=null;function t(t){return e=t,function(){e===t&&(e=null)}}function n(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)}var r=[];function i(e){var t=!0;function n(){t&&e.apply(void 0,arguments)}return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:o}}var Ar=!("undefined"==typeof window||!window.document||!window.document.createElement);function Ir(e,t){t(window.confirm(e))}function Rr(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function Pr(){return-1===window.navigator.userAgent.indexOf("Trident")}function Mr(){return-1===window.navigator.userAgent.indexOf("Firefox")}function jr(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}var Dr="popstate",Lr="hashchange";function Fr(){try{return window.history.state||{}}catch(e){return{}}}function zr(e){void 0===e&&(e={}),Ar||br(!1);var t=window.history,n=Rr(),r=!Pr(),i=e,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,u=void 0===s?Ir:s,l=i.keyLength,c=void 0===l?6:l,f=e.basename?Er(wr(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,i=window.location,o,a,s,u=i.pathname+i.search+i.hash;return f&&(u=Cr(u,f)),Or(u,r,n)}function h(){return Math.random().toString(36).substr(2,c)}var d=Nr();function m(e){ur(M,e),M.length=t.length,d.notifyListeners(M.location,M.action)}function g(e){jr(e)||b(p(e.state))}function v(){b(p(Fr()))}var y=!1;function b(e){if(y)y=!1,m();else{var t="POP";d.confirmTransitionTo(e,"POP",u,function(t){t?m({action:"POP",location:e}):w(e)})}}function w(e){var t=M.location,n=_.indexOf(t.key);-1===n&&(n=0);var r=_.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(y=!0,k(i))}var x=p(Fr()),_=[x.key];function C(e){return f+kr(e)}function E(e,r){var i="PUSH",o=Or(e,r,h(),M.location);d.confirmTransitionTo(o,"PUSH",u,function(e){if(e){var r=C(o),i=o.key,s=o.state;if(n)if(t.pushState({key:i,state:s},null,r),a)window.location.href=r;else{var u=_.indexOf(M.location.key),l=_.slice(0,u+1);l.push(o.key),_=l,m({action:"PUSH",location:o})}else window.location.href=r}})}function S(e,r){var i="REPLACE",o=Or(e,r,h(),M.location);d.confirmTransitionTo(o,i,u,function(e){if(e){var r=C(o),s=o.key,u=o.state;if(n)if(t.replaceState({key:s,state:u},null,r),a)window.location.replace(r);else{var l=_.indexOf(M.location.key);-1!==l&&(_[l]=o.key),m({action:i,location:o})}else window.location.replace(r)}})}function k(e){t.go(e)}function O(){k(-1)}function T(){k(1)}var N=0;function A(e){1===(N+=e)&&1===e?(window.addEventListener(Dr,g),r&&window.addEventListener(Lr,v)):0===N&&(window.removeEventListener(Dr,g),r&&window.removeEventListener(Lr,v))}var I=!1;function R(e){void 0===e&&(e=!1);var t=d.setPrompt(e);return I||(A(1),I=!0),function(){return I&&(I=!1,A(-1)),t()}}function P(e){var t=d.appendListener(e);return A(1),function(){A(-1),t()}}var M={length:t.length,action:"POP",location:x,createHref:C,push:E,replace:S,go:k,goBack:O,goForward:T,block:R,listen:P};return M}var Br="hashchange",Ur={hashbang:{encodePath:function e(t){return"!"===t.charAt(0)?t:"!/"+xr(t)},decodePath:function e(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:xr,decodePath:wr},slash:{encodePath:wr,decodePath:wr}};function Wr(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Vr(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Hr(e){window.location.hash=e}function Gr(e){window.location.replace(Wr(window.location.href)+"#"+e)}function qr(e){void 0===e&&(e={}),Ar||br(!1);var t=window.history,n=Mr(),r=e,i=r.getUserConfirmation,o=void 0===i?Ir:i,a=r.hashType,s=void 0===a?"slash":a,u=e.basename?Er(wr(e.basename)):"",l=Ur[s],c=l.encodePath,f=l.decodePath;function p(){var e=f(Vr());return u&&(e=Cr(e,u)),Or(e)}var h=Nr();function d(e){ur(D,e),D.length=t.length,h.notifyListeners(D.location,D.action)}var m=!1,g=null;function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}function y(){var e=Vr(),t=c(e);if(e!==t)Gr(t);else{var n=p(),r=D.location;if(!m&&v(r,n))return;if(g===kr(n))return;g=null,b(n)}}function b(e){if(m)m=!1,d();else{var t="POP";h.confirmTransitionTo(e,"POP",o,function(t){t?d({action:"POP",location:e}):w(e)})}}function w(e){var t=D.location,n=E.lastIndexOf(kr(t));-1===n&&(n=0);var r=E.lastIndexOf(kr(e));-1===r&&(r=0);var i=n-r;i&&(m=!0,T(i))}var x=Vr(),_=c(x);x!==_&&Gr(_);var C=p(),E=[kr(C)];function S(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=Wr(window.location.href)),n+"#"+c(u+kr(e))}function k(e,t){var n="PUSH",r=Or(e,void 0,void 0,D.location);h.confirmTransitionTo(r,"PUSH",o,function(e){if(e){var t=kr(r),n=c(u+t),i;if(Vr()!==n){g=t,Hr(n);var o=E.lastIndexOf(kr(D.location)),a=E.slice(0,o+1);a.push(t),E=a,d({action:"PUSH",location:r})}else d()}})}function O(e,t){var n="REPLACE",r=Or(e,void 0,void 0,D.location);h.confirmTransitionTo(r,n,o,function(e){if(e){var t=kr(r),i=c(u+t),o;Vr()!==i&&(g=t,Gr(i));var a=E.indexOf(kr(D.location));-1!==a&&(E[a]=t),d({action:n,location:r})}})}function T(e){t.go(e)}function N(){T(-1)}function A(){T(1)}var I=0;function R(e){1===(I+=e)&&1===e?window.addEventListener(Br,y):0===I&&window.removeEventListener(Br,y)}var P=!1;function M(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return P||(R(1),P=!0),function(){return P&&(P=!1,R(-1)),t()}}function j(e){var t=h.appendListener(e);return R(1),function(){R(-1),t()}}var D={length:t.length,action:"POP",location:C,createHref:S,push:k,replace:O,go:T,goBack:N,goForward:A,block:M,listen:j};return D}function Kr(e,t,n){return Math.min(Math.max(e,t),n)}function Xr(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,o=t.initialIndex,a=void 0===o?0:o,s=t.keyLength,u=void 0===s?6:s,l=Nr();function c(e){ur(C,e),C.length=C.entries.length,l.notifyListeners(C.location,C.action)}function f(){return Math.random().toString(36).substr(2,u)}var p=Kr(a,0,i.length-1),h=i.map(function(e){return Or(e,void 0,"string"==typeof e?f():e.key||f())}),d=kr;function m(e,t){var r="PUSH",i=Or(e,t,f(),C.location);l.confirmTransitionTo(i,"PUSH",n,function(e){if(e){var t,n=C.index+1,r=C.entries.slice(0);r.length>n?r.splice(n,r.length-n,i):r.push(i),c({action:"PUSH",location:i,index:n,entries:r})}})}function g(e,t){var r="REPLACE",i=Or(e,t,f(),C.location);l.confirmTransitionTo(i,r,n,function(e){e&&(C.entries[C.index]=i,c({action:r,location:i}))})}function v(e){var t=Kr(C.index+e,0,C.entries.length-1),r="POP",i=C.entries[t];l.confirmTransitionTo(i,"POP",n,function(e){e?c({action:"POP",location:i,index:t}):c()})}function y(){v(-1)}function b(){v(1)}function w(e){var t=C.index+e;return t>=0&&t<C.entries.length}function x(e){return void 0===e&&(e=!1),l.setPrompt(e)}function _(e){return l.appendListener(e)}var C={length:h.length,action:"POP",location:h[p],index:p,entries:h,createHref:d,push:m,replace:g,go:v,goBack:y,goForward:b,canGo:w,block:x,listen:_};return C}var Yr=n(161),Zr=n(162),$r=n.n(Zr),Jr=n(230);function Qr(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}var ei=n(239),ti=n.n(ei),ni,ri=function e(t){var n=Object(Yr.a)();return n.displayName=t,n}("Router-History"),ii,oi=function e(t){var n=Object(Yr.a)();return n.displayName=t,n}("Router"),ai=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}Object(rr.a)(t,e),t.computeRootMatch=function e(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=t.prototype;return n.componentDidMount=function e(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function e(){this.unlisten&&this.unlisten()},n.render=function e(){return or.a.createElement(oi.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},or.a.createElement(ri.Provider,{children:this.props.children||null,value:this.props.history}))},t}(or.a.Component);var si=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Xr(t.props),t}var n;return Object(rr.a)(t,e),t.prototype.render=function e(){return or.a.createElement(ai,{history:this.history,children:this.props.children})},t}(or.a.Component);var ui=function(e){function t(){return e.apply(this,arguments)||this}Object(rr.a)(t,e);var n=t.prototype;return n.componentDidMount=function e(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function e(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function e(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function e(){return null},t}(or.a.Component),li;function ci(e){var t=e.message,n=e.when,r=void 0===n||n;return or.a.createElement(oi.Consumer,null,function(e){if(e||br(!1),!r||e.staticContext)return null;var n=e.history.block;return or.a.createElement(ui,{onMount:function e(r){r.release=n(t)},onUpdate:function e(r,i){i.message!==t&&(r.release(),r.release=n(t))},onUnmount:function e(t){t.release()},message:t})})}var fi={},pi=1e4,hi=0;function di(e){if(fi[e])return fi[e];var t=$r.a.compile(e);return hi<pi&&(fi[e]=t,hi++),t}function mi(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:di(e)(t,{pretty:!0})}function gi(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return or.a.createElement(oi.Consumer,null,function(e){e||br(!1);var r=e.history,o=e.staticContext,a=i?r.push:r.replace,s=Or(t?"string"==typeof n?mi(n,t.params):ur({},n,{pathname:mi(n.pathname,t.params)}):n);return o?(a(s),null):or.a.createElement(ui,{onMount:function e(){a(s)},onUpdate:function e(t,n){var r=Or(n.to);Tr(r,ur({},s,{key:r.key}))||a(s)},to:n})})}var vi={},yi=1e4,bi=0;function wi(e,t){var n=""+t.end+t.strict+t.sensitive,r=vi[n]||(vi[n]={});if(r[e])return r[e];var i=[],o,a={regexp:$r()(e,i,t),keys:i};return bi<yi&&(r[e]=a,bi++),a}function xi(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,l=void 0!==u&&u,c;return[].concat(r).reduce(function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=wi(n,{end:o,strict:s,sensitive:l}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var c=u[0],f=u.slice(1),p=e===c;return o&&!p?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:p,params:a.reduce(function(e,t,n){return e[t.name]=f[n],e},{})}},null)}function _i(e){return 0===or.a.Children.count(e)}function Ci(e,t,n){var r;return e(t)||null}var Ei=function(e){function t(){return e.apply(this,arguments)||this}var n;return Object(rr.a)(t,e),t.prototype.render=function e(){var t=this;return or.a.createElement(oi.Consumer,null,function(e){e||br(!1);var n=t.props.location||e.location,r,i=ur({},e,{location:n,match:t.props.computedMatch?t.props.computedMatch:t.props.path?xi(n.pathname,t.props):e.match}),o=t.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&0===a.length&&(a=null),or.a.createElement(oi.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:s?or.a.createElement(s,i):u?u(i):null:"function"==typeof a?a(i):null)})},t}(or.a.Component);function Si(e){return"/"===e.charAt(0)?e:"/"+e}function ki(e,t){return e?ur({},t,{pathname:Si(e)+t.pathname}):t}function Oi(e,t){if(!e)return t;var n=Si(e);return 0!==t.pathname.indexOf(n)?t:ur({},t,{pathname:t.pathname.substr(n.length)})}function Ti(e){return"string"==typeof e?e:kr(e)}function Ni(e){return function(){br(!1)}}function Ai(){}var Ii=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return Ai},t.handleBlock=function(){return Ai},t}Object(rr.a)(t,e);var n=t.prototype;return n.navigateTo=function e(t,n){var r=this.props,i=r.basename,o=void 0===i?"":i,a=r.context,s=void 0===a?{}:a;s.action=n,s.location=ki(o,Or(t)),s.url=Ti(s.location)},n.render=function e(){var t=this.props,n=t.basename,r=void 0===n?"":n,i=t.context,o=void 0===i?{}:i,a=t.location,s=void 0===a?"/":a,u=Qr(t,["basename","context","location"]),l={createHref:function e(t){return Si(r+Ti(t))},action:"POP",location:Oi(r,Or(s)),push:this.handlePush,replace:this.handleReplace,go:Ni("go"),goBack:Ni("goBack"),goForward:Ni("goForward"),listen:this.handleListen,block:this.handleBlock};return or.a.createElement(ai,ur({},u,{history:l,staticContext:o}))},t}(or.a.Component);var Ri=function(e){function t(){return e.apply(this,arguments)||this}var n;return Object(rr.a)(t,e),t.prototype.render=function e(){var t=this;return or.a.createElement(oi.Consumer,null,function(e){e||br(!1);var n=t.props.location||e.location,r,i;return or.a.Children.forEach(t.props.children,function(t){if(null==i&&or.a.isValidElement(t)){r=t;var o=t.props.path||t.props.from;i=o?xi(n.pathname,ur({},t.props,{path:o})):e.match}}),i?or.a.cloneElement(r,{location:n,computedMatch:i}):null})},t}(or.a.Component);function Pi(e){var t="withRouter("+(e.displayName||e.name)+")",n=function t(n){var r=n.wrappedComponentRef,i=Qr(n,["wrappedComponentRef"]);return or.a.createElement(oi.Consumer,null,function(t){return t||br(!1),or.a.createElement(e,ur({},i,t,{ref:r}))})};return n.displayName=t,n.WrappedComponent=e,ti()(n,e)}var Mi=or.a.useContext,ji,Di,Li,Fi,zi;function Bi(){return Mi(ri)}function Ui(){return Mi(oi).location}function Wi(){var e=Mi(oi).match;return e?e.params:{}}function Vi(e){var t=Ui(),n=Mi(oi).match;return e?xi(t.pathname,e):n}var Hi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=zr(t.props),t}var n;return Object(rr.a)(t,e),t.prototype.render=function e(){return or.a.createElement(ai,{history:this.history,children:this.props.children})},t}(or.a.Component);var Gi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=qr(t.props),t}var n;return Object(rr.a)(t,e),t.prototype.render=function e(){return or.a.createElement(ai,{history:this.history,children:this.props.children})},t}(or.a.Component);var qi=function e(t,n){return"function"==typeof t?t(n):t},Ki=function e(t,n){return"string"==typeof t?Or(t,null,null,n):t},Xi=function e(t){return t},Yi=or.a.forwardRef;function Zi(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}void 0===Yi&&(Yi=Xi);var $i=Yi(function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Qr(e,["innerRef","navigate","onClick"]),a=o.target,s=ur({},o,{onClick:function e(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||a&&"_self"!==a||Zi(t)||(t.preventDefault(),r())}});return s.ref=Xi!==Yi&&t||n,or.a.createElement("a",s)});var Ji=Yi(function(e,t){var n=e.component,r=void 0===n?$i:n,i=e.replace,o=e.to,a=e.innerRef,s=Qr(e,["component","replace","to","innerRef"]);return or.a.createElement(oi.Consumer,null,function(e){e||br(!1);var n=e.history,u=Ki(qi(o,e.location),e.location),l=u?n.createHref(u):"",c=ur({},s,{href:l,navigate:function t(){var r=qi(o,e.location),a;(i?n.replace:n.push)(r)}});return Xi!==Yi?c.ref=t||a:c.innerRef=a,or.a.createElement(r,c)})}),Qi,eo,to=function e(t){return t},no=or.a.forwardRef;function ro(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}void 0===no&&(no=to);var io=no(function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,a=e.activeStyle,s=e.className,u=e.exact,l=e.isActive,c=e.location,f=e.sensitive,p=e.strict,h=e.style,d=e.to,m=e.innerRef,g=Qr(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return or.a.createElement(oi.Consumer,null,function(e){e||br(!1);var n=c||e.location,i=Ki(qi(d,n),n),v=i.pathname,y=v&&v.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=y?xi(n.pathname,{path:y,exact:u,sensitive:f,strict:p}):null,w=!!(l?l(b,n):b),x=w?ro(s,o):s,_=w?ur({},h,{},a):h,C=ur({"aria-current":w&&r||null,className:x,style:_,to:i},g);return to!==no?C.ref=t||m:C.innerRef=m,or.a.createElement(Ji,C)})}),oo,ao=n(231),so=n.n(ao),uo=n(456),lo=n(457),co=n(458),fo=n(459),po=n(460),ho=n(461),mo=n(462),go=n(463),vo=n(3),yo=n.n(vo),bo=n(8),wo=n.n(bo),xo=n(5),_o=n.n(xo),Co=n(4),Eo=n.n(Co),So=n(6),ko=n.n(So),Oo=n(0),To=n.n(Oo),No=n(12),Ao={momentLocale:"zh-cn",Timeline:{expand:"\u5c55\u5f00",fold:"\u6536\u8d77"},Balloon:{close:"\u5173\u95ed"},Card:{expand:"\u5c55\u5f00",fold:"\u6536\u8d77"},Calendar:{today:"\u4eca\u5929",now:"\u6b64\u523b",ok:"\u786e\u5b9a",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",prevYear:"\u4e0a\u4e00\u5e74",nextYear:"\u4e0b\u4e00\u5e74",prevMonth:"\u4e0a\u4e2a\u6708",nextMonth:"\u4e0b\u4e2a\u6708",prevDecade:"\u4e0a\u5341\u5e74",nextDecade:"\u540e\u5341\u5e74",yearSelectAriaLabel:"\u9009\u62e9\u5e74\u4efd",monthSelectAriaLabel:"\u9009\u62e9\u6708\u4efd"},DatePicker:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",datetimePlaceholder:"\u8bf7\u9009\u62e9\u65e5\u671f\u548c\u65f6\u95f4",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",now:"\u6b64\u523b",selectTime:"\u9009\u62e9\u65f6\u95f4",selectDate:"\u9009\u62e9\u65e5\u671f",ok:"\u786e\u5b9a",clear:"\u6e05\u9664",startPlaceholder:"\u8d77\u59cb\u65e5\u671f",endPlaceholder:"\u7ed3\u675f\u65e5\u671f",hour:"\u65f6",minute:"\u5206",second:"\u79d2"},Dialog:{close:"\u5173\u95ed",ok:"\u786e\u8ba4",cancel:"\u53d6\u6d88"},Drawer:{close:"\u5173\u95ed"},Message:{closeAriaLabel:"\u5173\u95ed"},Pagination:{prev:"\u4e0a\u4e00\u9875",next:"\u4e0b\u4e00\u9875",goTo:"\u5230\u7b2c",page:"\u9875",go:"\u786e\u5b9a",total:"\u7b2c{current}\u9875\uff0c\u5171{total}\u9875",labelPrev:"\u4e0a\u4e00\u9875\uff0c\u5f53\u524d\u7b2c{current}\u9875",labelNext:"\u4e0b\u4e00\u9875\uff0c\u5f53\u524d\u7b2c{current}\u9875",inputAriaLabel:"\u8bf7\u8f93\u5165\u8df3\u8f6c\u5230\u7b2c\u51e0\u9875",selectAriaLabel:"\u8bf7\u9009\u62e9\u6bcf\u9875\u663e\u793a\u51e0\u6761",pageSize:"\u6bcf\u9875\u663e\u793a\uff1a"},Input:{clear:"\u6e05\u9664"},Select:{selectPlaceholder:"\u8bf7\u9009\u62e9",autoCompletePlaceholder:"\u8bf7\u8f93\u5165",notFoundContent:"\u65e0\u9009\u9879",maxTagPlaceholder:"\u5df2\u9009\u62e9 {selected}/{total} \u9879",selectAll:"\u5168\u9009"},Table:{empty:"\u6ca1\u6709\u6570\u636e",ok:"\u786e\u8ba4",reset:"\u91cd\u7f6e",asc:"\u5347\u5e8f",desc:"\u964d\u5e8f",expanded:"\u5df2\u5c55\u5f00",folded:"\u5df2\u6298\u53e0",filter:"\u7b5b\u9009",selectAll:"\u5168\u9009"},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",clear:"\u6e05\u9664",hour:"\u65f6",minute:"\u5206",second:"\u79d2"},Transfer:{items:"\u9879",item:"\u9879",moveAll:"\u79fb\u52a8\u5168\u90e8",searchPlaceholder:"\u8bf7\u8f93\u5165",moveToLeft:"\u64a4\u9500\u9009\u4e2d\u5143\u7d20",moveToRight:"\u63d0\u4ea4\u9009\u4e2d\u5143\u7d20"},Upload:{card:{cancel:"\u53d6\u6d88",addPhoto:"\u4e0a\u4f20\u56fe\u7247",download:"\u4e0b\u8f7d",delete:"\u5220\u9664"},drag:{text:"\u70b9\u51fb\u6216\u8005\u62d6\u52a8\u6587\u4ef6\u5230\u865a\u7ebf\u6846\u5185\u4e0a\u4f20",hint:"\u652f\u6301 docx, xls, PDF, rar, zip, PNG, JPG \u7b49\u7c7b\u578b\u7684\u6587\u4ef6"},upload:{delete:"\u5220\u9664"}},Search:{buttonText:"\u641c\u7d22"},Tag:{delete:"\u5220\u9664"},Rating:{description:"\u8bc4\u5206\u9009\u9879"},Switch:{on:"\u5df2\u6253\u5f00",off:"\u5df2\u5173\u95ed"},Tab:{closeAriaLabel:"\u5173\u95ed"}},Io=n(14),Ro=n.n(Io),Po="undefined"!=typeof document?document.documentMode:void 0,Mo=function e(){var t="production",n=!1;try{n=!0}catch(e){}return n},jo={ieVersion:Po,isProduction:Mo};function Do(e,t,n){if(!Mo()&&"undefined"!=typeof console&&console.error)return console.error("Warning: [ "+e+" ] is deprecated at [ "+n+" ], use [ "+t+" ] instead of it.")}function Lo(e){if(!Mo()&&"undefined"!=typeof console&&console.error)return console.error("Warning: "+e)}function Fo(e){return Object.prototype.toString.call(e).replace(/\[object\s|]/g,"")}function zo(e){var t=!!e&&"length"in e&&e.length,n;return"Array"===Fo(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function Bo(e){return!!e&&("object"===(void 0===e?"undefined":Ro()(e))||"function"==typeof e)&&"function"==typeof e.then}function Uo(e){if("Object"!==Fo(e))return!1;var t=e.constructor;if("function"!=typeof t)return!1;var n=t.prototype;return"Object"===Fo(n)&&!!n.hasOwnProperty("isPrototypeOf")}function Wo(e,t,n){if(e===t)return!0;if(!e||!t||(void 0===e?"undefined":Ro()(e))+(void 0===t?"undefined":Ro()(t))!=="objectobject")return!1;var r=Object.keys(e),i=Object.keys(t),o=r.length;if(o!==i.length)return!1;for(var a="function"==typeof n,s=0;s<o;s++){var u=r[s];if(!Object.prototype.hasOwnProperty.call(t,u))return!1;var l=e[u],c=t[u],f=a?n(l,c,u):void 0;if(!1===f||void 0===f&&l!==c)return!1}return!0}function Vo(e,t,n){var r=-1===n,i=e.length,o=void 0,a=r?i-1:0;if(zo(e))for(;a<i&&a>=0&&!1!==(o=t.call(e[a],e[a],a));r?a--:a++);else for(a in e)if(e.hasOwnProperty(a)&&!1===(o=t.call(e[a],e[a],a)))break;return e}var Ho=function e(t,n,r){return r?n.indexOf(t)>-1:t in n};function Go(e,t){var n={},r="Array"===Fo(e);for(var i in t)Ho(i,e,r)||(n[i]=t[i]);return n}function qo(e,t){var n={};for(var r in e)r.match(t)&&(n[r]=e[r]);return n}function Ko(e){return null==e}function Xo(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(Uo(e)||(e={}),Uo(e)&&Uo(i))for(var o in i){var a,s;if(Uo(i[o])&&!or.a.isValidElement(i[o]))e[o]||yo()(e,((a={})[o]={},a)),Uo(e[o])||(e[o]=i[o]),Xo(e[o],i[o]);else yo()(e,((s={})[o]=i[o],s))}return Xo.apply(void 0,[e].concat(n))}function Yo(e){return"Function"===Fo(e)&&e.prototype&&void 0===e.prototype.isReactComponent}function Zo(e){return"Function"===Fo(e)&&e.prototype&&void 0!==e.prototype.isReactComponent}function $o(e){return!Ko(e)&&(e.type?e.type===or.a.Fragment:e===or.a.Fragment)}function Jo(e){return/-/.test(e)?e.toLowerCase().replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}):e||""}function Qo(e){var t=Fo(e);return"String"!==t?(Lo("[ hyphenate(str: string): string ] Expected arguments[0] to be a string but get a "+t+".It will return an empty string without any processing."),""):e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function ea(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Fo(e);return"String"!==n?(Lo("[ template(tpl: string, object: object): string ] Expected arguments[0] to be a string but get a "+n+".It will return an empty string without any processing."),""):e.replace(/\{[a-z]*\}/g,function(e){var n=e.substring(1,e.length-1);return t[n]||""})}var ta="undefined"!=typeof window&&!!window.document&&!!document.createElement;function na(e,t){return!(!ta||!e)&&(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)}function ra(e,t,n){ta&&e&&(e.classList?e.classList.add(t):!0!==n&&na(e,t)||(e.className+=" "+t))}function ia(e,t,n){ta&&e&&(e.classList?e.classList.remove(t):(!0===n||na(e,t))&&(e.className=e.className.replace(t,"").replace(/\s+/g," ").trim()))}function oa(e,t){if(!ta||!e)return!1;if(e.classList)return e.classList.toggle(t);var n=na(e,t);return n?ia(e,t,!0):ra(e,t,!0),!n}var aa=function(){var e=null;if(ta){var t=document.body||document.head;e=t.matches?"matches":t.webkitMatchesSelector?"webkitMatchesSelector":t.msMatchesSelector?"msMatchesSelector":t.mozMatchesSelector?"mozMatchesSelector":null}return function(t,n){return!(!ta||!t)&&(!!e&&t[e](n))}}();function sa(e){return e&&1===e.nodeType?window.getComputedStyle(e,null):{}}var ua=/margin|padding|width|height|max|min|offset|size|top/i,la={left:1,top:1,right:1,bottom:1};function ca(e,t,n){if(t=t.toLowerCase(),"auto"===n){if("height"===t)return e.offsetHeight||0;if("width"===t)return e.offsetWidth||0}return t in la||(la[t]=ua.test(t)),la[t]?parseFloat(n)||0:n}var fa={cssFloat:1,styleFloat:1,float:1};function pa(e,t){if(!ta||!e)return null;var n=sa(e);return 1===arguments.length?n:ca(e,t=fa[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,n.getPropertyValue(Qo(t))||e.style[Jo(t)])}function ha(e,t,n){if(!ta||!e)return!1;"object"===(void 0===t?"undefined":Ro()(t))&&2===arguments.length?Vo(t,function(t,n){return ha(e,n,t)}):(t=fa[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,"number"==typeof n&&ua.test(t)&&(n+="px"),e.style[Jo(t)]=n)}function da(){var e=document.createElement("div");ha(e,{position:"absolute",width:"100px",height:"100px",overflow:"scroll",top:"-9999px"}),document.body&&document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:n}}function ma(e){var t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}}function ga(e){var t=document.defaultView;if("number"==typeof+e&&!isNaN(+e))return+e;if("string"==typeof e){var n=/(\d+)px/,r=/(\d+)vh/;if(Array.isArray(e.match(n)))return+e.match(n)[1]||0;if(Array.isArray(e.match(r))){var i=t.innerHeight/100;return+e.match(r)[1]*i||0}}return 0}function va(e,t){if(!ta||!e)return null;if(Element.prototype.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(ya(e,t))return e;e=e.parentElement}while(null!==e);return null}function ya(e,t){return ta&&e?Element.prototype.matches?e.matches(t):Element.prototype.msMatchesSelector?e.msMatchesSelector(t):Element.prototype.webkitMatchesSelector?e.webkitMatchesSelector(t):null:null}function ba(e,t,n,r){e.removeEventListener&&e.removeEventListener(t,n,r||!1)}function wa(e,t,n,r){return e.addEventListener&&e.addEventListener(t,n,r||!1),{off:function i(){return ba(e,t,n,r)}}}function xa(e,t,n,r){return wa(e,t,function i(){for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];n.apply(this,a),ba(e,t,i,r)},r)}var _a=function e(){},Ca=function e(){return!1};function Ea(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length?t[0]:function e(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o=0,a=t.length;o<a;o++)t[o]&&t[o].apply&&t[o].apply(this,r)}}function Sa(e,t,n){"string"==typeof t&&(t=[t]),n=n||e,t.forEach(function(t){n[t]=n[t].bind(e)})}function ka(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_a;return Bo(e)?e.then(function(e){return t(e),e}).catch(function(e){n(e)}):!1!==e?t(e):n(e)}var Oa,Ta={WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionend"};function Na(e){if(!ta)return!1;var t=document.createElement("div"),n=!1;return Vo(e,function(e,r){if(void 0!==t.style[r])return n={end:e},!1}),n}function Aa(e){if(!ta)return!1;var t=document.createElement("div"),n=!1;return Vo(e,function(e,r){return Vo(e,function(e){try{t.style[r]=e,n=n||t.style[r]===e}catch(e){}return!n}),!n}),n}var Ia=Na({WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",animation:"animationend"}),Ra=Na(Ta),Pa=Aa({display:["flex","-webkit-flex","-moz-flex","-ms-flexbox"]}),Ma={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PAGE_UP:33,PAGE_DOWN:34,ESCAPE:27,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,CONTROL:17,OPTION:18,CMD:91,COMMAND:91,DELETE:8};function ja(e){for(;e&&e!==document.body&&e!==document.documentElement;){if("none"===e.style.display||"hidden"===e.style.visibility)return!1;e=e.parentNode}return!0}function Da(e){var t=e.nodeName.toLowerCase(),n=parseInt(e.getAttribute("tabindex"),10),r=!isNaN(n)&&n>-1;return!!ja(e)&&("input"===t?!e.disabled&&"hidden"!==e.type:["select","textarea","button"].indexOf(t)>-1?!e.disabled:"a"===t&&e.getAttribute("href")||r)}function La(e){var t=[],n;return Vo(e.querySelectorAll("*"),function(e){if(Da(e)){var n=e.getAttribute("data-auto-focus")?"unshift":"push";t[n](e)}}),Da(e)&&t.unshift(e),t}var Fa=null;function za(){Fa=document.activeElement}function Ba(){Fa=null}function Ua(){if(Fa)try{Fa.focus()}catch(e){}}function Wa(e,t){if(t.keyCode===Ma.TAB){var n=La(e),r=n.length-1,i=n.indexOf(document.activeElement);if(i>-1){var o=i+(t.shiftKey?-1:1);o<0&&(o=r),o>r&&(o=0),n[o].focus(),t.preventDefault()}}}var Va=Date.now(),Ha;function Ga(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e6,n=Math.ceil(Math.random()*t);return e?qa(e)+"-"+n:n.toString(10)}function qa(e){return e?("object"===(void 0===e?"undefined":Ro()(e))?e=JSON.stringify(e):"string"!=typeof e&&(e=String(e)),e.replace(/['"]/gm,"").replace(/[\s'"]/gm,"-")):""}var Ka=s,Xa=r,Ya=u,Za=l,$a=i,Ja=o,Qa=a,es=c,ts=f,ns=function(e){return(e=e||"")+(Va++).toString(36)},rs=Ma,is=p,os=function e(t){var n=void 0;return void 0===t||null===t?{}:n="boolean"==typeof t?{open:t}:yo()({open:!0},t)};function as(e,t,n){var r=e.prefix,i=e.locale,o=e.pure,a=e.rtl,s=e.device,u=e.popupContainer,l=e.errorBoundary,c=t.nextPrefix,f=t.nextLocale,p=t.nextPure,h=t.nextWarning,d=t.nextRtl,m=t.nextDevice,g=t.nextPopupContainer,v=t.nextErrorBoundary,y=r||c,b=void 0;f&&(b=f[n])&&(b.momentLocale=f.momentLocale);var w=void 0;i?w=Ja.deepMerge({},Ao[n],b,i):b&&(w=Ja.deepMerge({},Ao[n],b));var x="boolean"==typeof o?o:p,_="boolean"==typeof a?a:d,C=yo()({},os(v),os(l));return"open"in C||(C.open=!1),{prefix:y,locale:w,pure:x,rtl:_,warning:h,device:s||m||void 0,popupContainer:u||g,errorBoundary:C}}var ss=n(232),us=n.n(ss),ls,cs;function fs(){return""}fs.propTypes={error:To.a.object,errorInfo:To.a.object};var ps=(cs=ls=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return r.state={error:null,errorInfo:null},r}return ko()(t,e),t.prototype.componentDidCatch=function e(t,n){this.setState({error:t,errorInfo:n});var r=this.props.afterCatch;"afterCatch"in this.props&&"function"==typeof r&&this.props.afterCatch(t,n)},t.prototype.render=function e(){var t=this.props.fallbackUI,n=void 0===t?fs:t;return this.state.errorInfo?or.a.createElement(n,{error:this.state.error,errorInfo:this.state.errorInfo}):this.props.children},t}(or.a.Component),ls.propTypes={children:To.a.element,afterCatch:To.a.func,fallbackUI:To.a.func},cs);ps.displayName="ErrorBoundary";var hs=Ja.shallowEqual;function ds(e){return e.displayName||e.name||"Component"}var ms=void 0,gs="zh-cn",vs={},ys=void 0;function bs(e){ms=e,e&&(vs=e[gs],"boolean"!=typeof ys&&(ys=vs&&vs.rtl))}function ws(e){ms&&(gs=e,vs=ms[e],"boolean"!=typeof ys&&(ys=vs&&vs.rtl))}function xs(e){vs=yo()({},ms?ms[gs]:{},e),"boolean"!=typeof ys&&(ys=vs&&vs.rtl)}function _s(e){ys="rtl"===e}function Cs(){return vs}function Es(){return gs}function Ss(){return ys}function ks(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ja.isClassComponent(e)&&void 0===e.prototype.shouldComponentUpdate&&(e.prototype.shouldComponentUpdate=function e(t,n){return!this.props.pure||(!hs(this.props,t)||!hs(this.state,n))});var i=(n=t=function(t){function n(e,r){_o()(this,n);var i=Eo()(this,t.call(this,e,r));return i._getInstance=i._getInstance.bind(i),i._deprecated=i._deprecated.bind(i),i}return ko()(n,t),n.prototype._getInstance=function e(t){var n=this;this._instance=t,this._instance&&r.exportNames&&r.exportNames.forEach(function(e){var t=n._instance[e];n[e]="function"==typeof t?t.bind(n._instance):t})},n.prototype._deprecated=function e(){!1!==this.context.nextWarning&&$a.deprecated.apply($a,arguments)},n.prototype.getInstance=function e(){return this._instance},n.prototype.render=function t(){var n=this.props,i=n.prefix,o=n.locale,a=n.pure,s=n.rtl,u=n.device,l=n.popupContainer,c=n.errorBoundary,f=wo()(n,["prefix","locale","pure","rtl","device","popupContainer","errorBoundary"]),p=this.context,h=p.nextPrefix,d=p.nextLocale,m=void 0===d?{}:d,g=p.nextPure,v=p.nextRtl,y=p.nextDevice,b=p.nextPopupContainer,w=p.nextErrorBoundary,x=r.componentName||ds(e),_=as({prefix:i,locale:o,pure:a,device:u,popupContainer:l,rtl:s,errorBoundary:c},{nextPrefix:h,nextLocale:yo()({},vs,m),nextPure:g,nextDevice:y,nextPopupContainer:b,nextRtl:"boolean"==typeof v?v:!0===ys||void 0,nextErrorBoundary:w},x),C=["prefix","locale","pure","rtl","device","popupContainer"].reduce(function(e,t){return void 0!==_[t]&&(e[t]=_[t]),e},{});"pure"in C&&C.pure&&$a.warning("pure of ConfigProvider is deprecated, use Function Component or React.PureComponent");var E=r.transform?r.transform(f,this._deprecated):f,S=or.a.createElement(e,yo()({},E,C,{ref:Ja.isClassComponent(e)?this._getInstance:null})),k=_.errorBoundary,O=k.open,T=wo()(k,["open"]);return O?or.a.createElement(ps,T,S):S},n}(or.a.Component),t.propTypes=yo()({},e.propTypes||{},{prefix:To.a.string,locale:To.a.object,pure:To.a.bool,rtl:To.a.bool,device:To.a.oneOf(["tablet","desktop","phone"]),popupContainer:To.a.any,errorBoundary:To.a.oneOfType([To.a.bool,To.a.object])}),t.contextTypes=yo()({},e.contextTypes||{},{nextPrefix:To.a.string,nextLocale:To.a.object,nextPure:To.a.bool,nextRtl:To.a.bool,nextWarning:To.a.bool,nextDevice:To.a.oneOf(["tablet","desktop","phone"]),nextPopupContainer:To.a.any,nextErrorBoundary:To.a.oneOfType([To.a.bool,To.a.object])}),n);return i.displayName="ConfigedComponent",i.displayName="Config("+ds(e)+")",us()(i,e),i}var Os=function e(t,n){var r={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=t[i],a;r[n(i,o)]=o}return r},Ts=function e(t){return t.replace(/^(next)([A-Z])/,function(e,t,n){return n.toLowerCase()})},Ns=function e(t){return Os(t,Ts)},As=function e(t,n){var r=t.children;return"function"==typeof r?r(Ns(n)):null};As.propTypes={children:To.a.func},As.contextTypes={nextPrefix:To.a.string,nextLocale:To.a.object,nextPure:To.a.bool,newRtl:To.a.bool,nextWarning:To.a.bool,nextDevice:To.a.oneOf(["tablet","desktop","phone"]),nextPopupContainer:To.a.any};var Is=As,Rs,Ps,Ms,js,Ds=new(function(){function e(){_o()(this,e),this._root=null,this._store=new Map}return e.prototype.empty=function e(){return 0===this._store.size},e.prototype.has=function e(t){return this._store.has(t)},e.prototype.get=function e(t,n){var r=this.has(t)?this._store.get(t):this.root();return void 0===r||null===r?n:r},e.prototype.add=function e(t,n){this.empty()&&(this._root=t),this._store.set(t,n)},e.prototype.update=function e(t,n){this.has(t)&&this._store.set(t,n)},e.prototype.remove=function e(t){if(this._store.delete(t),t===this._root){var n,r=this._store.keys().next().value;this._root=r}},e.prototype.root=function e(){return this._store.get(this._root)},e}()),Ls=function e(t){var r=void 0;try{r=n(!function e(){var t=new Error("Cannot find module 'moment'");throw t.code="MODULE_NOT_FOUND",t}())}catch(e){}r&&t&&r.locale(t.momentLocale)},Fs=(js=Ms=function(e){function t(){_o()(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Eo()(this,e.call.apply(e,[this].concat(r)));return Ds.add(o,yo()({},Ds.get(o,{}),o.getChildContext())),Ls(o.props.locale),o.state={locale:o.props.locale},o}return ko()(t,e),t.prototype.getChildContext=function e(){var t=this.props,n=t.prefix,r=t.locale,i=t.pure,o=t.warning,a=t.rtl,s=t.device,u=t.popupContainer,l=t.errorBoundary,c=this.context,f=c.nextPrefix,p=c.nextLocale,h=c.nextPure,d=c.nextRtl,m=c.nextWarning,g=c.nextDevice,v=c.nextPopupContainer,y=c.nextErrorBoundary;return{nextPrefix:n||f,nextLocale:r||p,nextPure:"boolean"==typeof i?i:h,nextRtl:"boolean"==typeof a?a:d,nextWarning:"boolean"==typeof o?o:m,nextDevice:s||g,nextPopupContainer:u||v,nextErrorBoundary:l||y}},t.getDerivedStateFromProps=function e(t,n){return t.locale!==n.locale?(Ls(t.locale),{locale:t.locale}):null},t.prototype.componentDidUpdate=function e(){Ds.add(this,yo()({},Ds.get(this,{}),this.getChildContext()))},t.prototype.componentWillUnmount=function e(){Ds.remove(this)},t.prototype.render=function e(){return ir.Children.only(this.props.children)},t}(ir.Component),Ms.propTypes={prefix:To.a.string,locale:To.a.object,errorBoundary:To.a.oneOfType([To.a.bool,To.a.object]),pure:To.a.bool,warning:To.a.bool,rtl:To.a.bool,device:To.a.oneOf(["tablet","desktop","phone"]),children:To.a.any,popupContainer:To.a.any},Ms.defaultProps={warning:!0,errorBoundary:!1},Ms.contextTypes={nextPrefix:To.a.string,nextLocale:To.a.object,nextPure:To.a.bool,nextRtl:To.a.bool,nextWarning:To.a.bool,nextDevice:To.a.oneOf(["tablet","desktop","phone"]),nextPopupContainer:To.a.any,nextErrorBoundary:To.a.oneOfType([To.a.bool,To.a.object])},Ms.childContextTypes={nextPrefix:To.a.string,nextLocale:To.a.object,nextPure:To.a.bool,nextRtl:To.a.bool,nextWarning:To.a.bool,nextDevice:To.a.oneOf(["tablet","desktop","phone"]),nextPopupContainer:To.a.any,nextErrorBoundary:To.a.oneOfType([To.a.bool,To.a.object])},Ms.config=function(e,t){return ks(e,t)},Ms.getContextProps=function(e,t){return as(e,Ds.root()||{},t)},Ms.initLocales=bs,Ms.setLanguage=ws,Ms.setLocale=xs,Ms.setDirection=_s,Ms.getLanguage=Es,Ms.getLocale=Cs,Ms.getDirection=Ss,Ms.Consumer=Is,Ms.ErrorBoundary=ps,Ms.getContext=function(){var e=Ds.root()||{},t,n,r,i,o,a,s,u;return{prefix:e.nextPrefix,locale:e.nextLocale,pure:e.nextPure,rtl:e.nextRtl,warning:e.nextWarning,device:e.nextDevice,popupContainer:e.nextPopupContainer,errorBoundary:e.nextErrorBoundary}},js);Fs.displayName="ConfigProvider";var zs=Object(No.polyfill)(Fs),Bs=n(7),Us=n.n(Bs),Ws=n(116),Vs,Hs,Gs=function e(){},qs=Ya.on,Ks=Ya.off,Xs=Ka.addClass,Ys=Ka.removeClass,Zs=["-webkit-","-moz-","-o-","ms-",""];function $s(e,t){for(var n=window.getComputedStyle(e),r="",i=0;i<Zs.length&&!(r=n.getPropertyValue(Zs[i]+t));i++);return r}var Js=(Hs=Vs=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return Za.bindCtx(r,["handleEnter","handleEntering","handleEntered","handleExit","handleExiting","handleExited","addEndListener"]),r.endListeners={transitionend:[],animationend:[]},r.timeoutMap={},r}return ko()(t,e),t.prototype.componentWillUnmount=function e(){var t=this;Object.keys(this.endListeners).forEach(function(e){t.endListeners[e].forEach(function(n){Ks(t.node,e,n)})}),this.endListeners={transitionend:[],animationend:[]}},t.prototype.generateEndListener=function e(t,n,r,i){var o=this;return function e(a){if(a&&a.target===t){o.timeoutMap[i]&&(clearTimeout(o.timeoutMap[i]),delete o.timeoutMap[i]),n(),Ks(t,r,e);var s=o.endListeners[r],u=s.indexOf(e);u>-1&&s.splice(u,1)}}},t.prototype.addEndListener=function e(t,n){var r=this;if(es.transition||es.animation){var i=ns();if(this.node=t,es.transition){var o=this.generateEndListener(t,n,"transitionend",i);qs(t,"transitionend",o),this.endListeners.transitionend.push(o)}if(es.animation){var a=this.generateEndListener(t,n,"animationend",i);qs(t,"animationend",a),this.endListeners.animationend.push(a)}setTimeout(function(){var e=parseFloat($s(t,"transition-delay"))||0,o=parseFloat($s(t,"transition-duration"))||0,a=parseFloat($s(t,"animation-delay"))||0,s=parseFloat($s(t,"animation-duration"))||0,u=Math.max(o+e,s+a);u&&(r.timeoutMap[i]=setTimeout(function(){n()},1e3*u+200))},15)}else n()},t.prototype.removeEndtListener=function e(){this.transitionOff&&this.transitionOff(),this.animationOff&&this.animationOff()},t.prototype.removeClassNames=function e(t,n){Object.keys(n).forEach(function(e){Ys(t,n[e])})},t.prototype.handleEnter=function e(t,n){var r=this.props.names,i,o;r&&(this.removeClassNames(t,r),Xs(t,r[n?"appear":"enter"]));(n?this.props.onAppear:this.props.onEnter)(t)},t.prototype.handleEntering=function e(t,n){var r=this;setTimeout(function(){var e=r.props.names,i,o;e&&Xs(t,e[n?"appearActive":"enterActive"]);(n?r.props.onAppearing:r.props.onEntering)(t)},10)},t.prototype.handleEntered=function e(t,n){var r=this.props.names,i,o;r&&(n?[r.appear,r.appearActive]:[r.enter,r.enterActive]).forEach(function(e){Ys(t,e)});(n?this.props.onAppeared:this.props.onEntered)(t)},t.prototype.handleExit=function e(t){var n=this.props.names;n&&(this.removeClassNames(t,n),Xs(t,n.leave)),this.props.onExit(t)},t.prototype.handleExiting=function e(t){var n=this;setTimeout(function(){var e=n.props.names;e&&Xs(t,e.leaveActive),n.props.onExiting(t)},10)},t.prototype.handleExited=function e(t){var n=this.props.names;n&&[n.leave,n.leaveActive].forEach(function(e){Ys(t,e)}),this.props.onExited(t)},t.prototype.render=function e(){var t=this.props,n=t.names,r=t.onAppear,i=t.onAppeared,o=t.onAppearing,a=t.onEnter,s=t.onEntering,u=t.onEntered,l=t.onExit,c=t.onExiting,f=t.onExited,p=wo()(t,["names","onAppear","onAppeared","onAppearing","onEnter","onEntering","onEntered","onExit","onExiting","onExited"]);return or.a.createElement(Ws.Transition,yo()({},p,{onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered,onExit:this.handleExit,onExiting:this.handleExiting,onExited:this.handleExited,addEndListener:this.addEndListener}))},t}(ir.Component),Vs.propTypes={names:To.a.oneOfType([To.a.string,To.a.object]),onAppear:To.a.func,onAppearing:To.a.func,onAppeared:To.a.func,onEnter:To.a.func,onEntering:To.a.func,onEntered:To.a.func,onExit:To.a.func,onExiting:To.a.func,onExited:To.a.func},Vs.defaultProps={onAppear:Gs,onAppearing:Gs,onAppeared:Gs,onEnter:Gs,onEntering:Gs,onEntered:Gs,onExit:Gs,onExiting:Gs,onExited:Gs},Hs),Qs,eu;Js.displayName="AnimateChild";var tu=function e(){},nu=function e(t){var n;return or.a.Children.toArray(t.children)[0]||null},ru=(eu=Qs=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.normalizeNames=function e(t){return"string"==typeof t?{appear:t+"-appear",appearActive:t+"-appear-active",enter:t+"-enter",enterActive:t+"-enter-active",leave:t+"-leave",leaveActive:t+"-leave-active"}:"object"===(void 0===t?"undefined":Ro()(t))?{appear:t.appear,appearActive:t.appear+"-active",enter:""+t.enter,enterActive:t.enter+"-active",leave:""+t.leave,leaveActive:t.leave+"-active"}:void 0},t.prototype.render=function e(){var t=this,n=this.props,r=n.animation,i=n.children,o=n.animationAppear,a=n.singleMode,s=n.component,u=n.beforeAppear,l=n.onAppear,c=n.afterAppear,f=n.beforeEnter,p=n.onEnter,h=n.afterEnter,d=n.beforeLeave,m=n.onLeave,g=n.afterLeave,v=wo()(n,["animation","children","animationAppear","singleMode","component","beforeAppear","onAppear","afterAppear","beforeEnter","onEnter","afterEnter","beforeLeave","onLeave","afterLeave"]),y=ir.Children.map(i,function(e){return or.a.createElement(Js,{key:e.key,names:t.normalizeNames(r),onAppear:u,onAppearing:l,onAppeared:c,onEnter:f,onEntering:p,onEntered:h,onExit:d,onExiting:m,onExited:g},e)});return or.a.createElement(Ws.TransitionGroup,yo()({appear:o,component:a?nu:s},v),y)},t}(ir.Component),Qs.propTypes={animation:To.a.oneOfType([To.a.string,To.a.object]),animationAppear:To.a.bool,component:To.a.any,singleMode:To.a.bool,children:To.a.oneOfType([To.a.element,To.a.arrayOf(To.a.element)]),beforeAppear:To.a.func,onAppear:To.a.func,afterAppear:To.a.func,beforeEnter:To.a.func,onEnter:To.a.func,afterEnter:To.a.func,beforeLeave:To.a.func,onLeave:To.a.func,afterLeave:To.a.func},Qs.defaultProps={animationAppear:!0,component:"div",singleMode:!0,beforeAppear:tu,onAppear:tu,afterAppear:tu,beforeEnter:tu,onEnter:tu,afterEnter:tu,beforeLeave:tu,onLeave:tu,afterLeave:tu},eu);ru.displayName="Animate";var iu=ru,ou,au,su=function e(){},uu=Ka.getStyle,lu=(au=ou=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return Za.bindCtx(r,["beforeEnter","onEnter","afterEnter","beforeLeave","onLeave","afterLeave"]),r}return ko()(t,e),t.prototype.beforeEnter=function e(t){this.leaving&&this.afterLeave(t),this.cacheCurrentStyle(t),this.cacheComputedStyle(t),this.setCurrentStyleToZero(t),this.props.beforeEnter(t)},t.prototype.onEnter=function e(t){this.setCurrentStyleToComputedStyle(t),this.props.onEnter(t)},t.prototype.afterEnter=function e(t){this.restoreCurrentStyle(t),this.props.afterEnter(t)},t.prototype.beforeLeave=function e(t){this.leaving=!0,this.cacheCurrentStyle(t),this.cacheComputedStyle(t),this.setCurrentStyleToComputedStyle(t),this.props.beforeLeave(t)},t.prototype.onLeave=function e(t){this.setCurrentStyleToZero(t),this.props.onLeave(t)},t.prototype.afterLeave=function e(t){this.leaving=!1,this.restoreCurrentStyle(t),this.props.afterLeave(t)},t.prototype.cacheCurrentStyle=function e(t){this.styleBorderTopWidth=t.style.borderTopWidth,this.stylePaddingTop=t.style.paddingTop,this.styleHeight=t.style.height,this.stylePaddingBottom=t.style.paddingBottom,this.styleBorderBottomWidth=t.style.borderBottomWidth},t.prototype.cacheComputedStyle=function e(t){this.borderTopWidth=uu(t,"borderTopWidth"),this.paddingTop=uu(t,"paddingTop"),this.height=t.offsetHeight,this.paddingBottom=uu(t,"paddingBottom"),this.borderBottomWidth=uu(t,"borderBottomWidth")},t.prototype.setCurrentStyleToZero=function e(t){t.style.borderTopWidth="0px",t.style.paddingTop="0px",t.style.height="0px",t.style.paddingBottom="0px",t.style.borderBottomWidth="0px"},t.prototype.setCurrentStyleToComputedStyle=function e(t){t.style.borderTopWidth=this.borderTopWidth+"px",t.style.paddingTop=this.paddingTop+"px",t.style.height=this.height+"px",t.style.paddingBottom=this.paddingBottom+"px",t.style.borderBottomWidth=this.borderBottomWidth+"px"},t.prototype.restoreCurrentStyle=function e(t){t.style.borderTopWidth=this.styleBorderTopWidth,t.style.paddingTop=this.stylePaddingTop,t.style.height=this.styleHeight,t.style.paddingBottom=this.stylePaddingBottom,t.style.borderBottomWidth=this.styleBorderBottomWidth},t.prototype.render=function e(){var t=this.props,n=t.animation,r=wo()(t,["animation"]),i=n||"expand";return or.a.createElement(iu,yo()({},r,{animation:i,beforeEnter:this.beforeEnter,onEnter:this.onEnter,afterEnter:this.afterEnter,beforeLeave:this.beforeLeave,onLeave:this.onLeave,afterLeave:this.afterLeave}))},t}(ir.Component),ou.propTypes={animation:To.a.oneOfType([To.a.string,To.a.object]),beforeEnter:To.a.func,onEnter:To.a.func,afterEnter:To.a.func,beforeLeave:To.a.func,onLeave:To.a.func,afterLeave:To.a.func},ou.defaultProps={beforeEnter:su,onEnter:su,afterEnter:su,beforeLeave:su,onLeave:su,afterLeave:su},au);lu.displayName="Expand",iu.Expand=lu;var cu=iu,fu=new Set,pu,hu;function du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scriptUrl,n=e.extraCommonProps,r=void 0===n?{}:n,i=fu.has(t);if(document.querySelector('script[data-namespace="'+t+'"]')&&(i=!0),"undefined"!=typeof document&&"undefined"!=typeof window&&"function"==typeof document.createElement&&"string"==typeof t&&t.length&&!i){var o=document.createElement("script");o.setAttribute("src",t),o.setAttribute("data-namespace",t),fu.add(t),document.body.appendChild(o)}var a=function e(t){var n,i=t.type,o=t.size,a=t.children,s=t.className,u=t.prefix,l=void 0===u?"next-":u,c=wo()(t,["type","size","children","className","prefix"]),f=null;t.type&&(f=or.a.createElement("use",{xlinkHref:"#"+i})),a&&(f=a);var p=Us()(((n={})[l+"icon-remote"]=!0,n),s);return or.a.createElement(gu,{size:o},or.a.createElement("svg",yo()({className:p,focusable:!1},c,r),f))};return a.displayName="Iconfont",zs.config(a)}var mu=(hu=pu=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.type,a=r.size,s=r.className,u=r.rtl,l=r.style,c=r.children,f=Ja.pickOthers(yo()({},t.propTypes),this.props),p=Us()(((n={})[i+"icon"]=!0,n[i+"icon-"+o]=!!o,n[""+i+a]=!!a&&"string"==typeof a,n[s]=!!s,n));u&&-1!==["arrow-left","arrow-right","arrow-double-left","arrow-double-right","switch","sorting","descending","ascending"].indexOf(o)&&(f.dir="rtl");var h="number"==typeof a?{width:a,height:a,lineHeight:a+"px",fontSize:a}:{};return or.a.createElement("i",yo()({},f,{style:yo()({},h,l),className:p}),c)},t}(ir.Component),pu.propTypes=yo()({},zs.propTypes,{type:To.a.string,children:To.a.node,size:To.a.oneOfType([To.a.oneOf(["xxs","xs","small","medium","large","xl","xxl","xxxl","inherit"]),To.a.number]),className:To.a.string,style:To.a.object}),pu.defaultProps={prefix:"next-",size:"medium"},pu._typeMark="icon",hu);mu.displayName="Icon",mu.createFromIconfontCN=du;var gu=zs.config(mu),vu,yu,bu=Za.bindCtx,wu=Ja.pickOthers,xu=(yu=vu=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return bu(r,["handleClick","handleKeyDown"]),r}return ko()(t,e),t.prototype.componentDidMount=function e(){this.itemNode=Object(er.findDOMNode)(this);var t=this.props,n=t.parentMode,r=t.root,i=t.menu;if(i)this.menuNode=Object(er.findDOMNode)(i);else if("popup"===n)this.menuNode=this.itemNode.parentNode;else{this.menuNode=Object(er.findDOMNode)(r);var o=r.props,a=o.prefix,s=o.header,u=o.footer;(s||u)&&(this.menuNode=this.menuNode.querySelector("."+a+"menu-content"))}this.setFocus()},t.prototype.componentDidUpdate=function e(){this.setFocus()},t.prototype.focusable=function e(){var t=this.props,n=t.root,r=t.type,i=t.disabled,e=n.props.focusable;return e&&("submenu"===r||!i)},t.prototype.getFocused=function e(){var t=this.props,n=t._key,r,i;return t.root.state.focusedKey===n},t.prototype.setFocus=function e(){var t;if(this.getFocused()&&(this.focusable()&&this.itemNode.focus({preventScroll:!0}),this.menuNode&&this.menuNode.scrollHeight>this.menuNode.clientHeight)){var n=this.menuNode.clientHeight+this.menuNode.scrollTop,r=this.itemNode.offsetTop+this.itemNode.offsetHeight;r>n?this.menuNode.scrollTop=r-this.menuNode.clientHeight:this.itemNode.offsetTop<this.menuNode.scrollTop&&(this.menuNode.scrollTop=this.itemNode.offsetTop)}},t.prototype.handleClick=function e(t){t.stopPropagation();var n=this.props,r=n._key,i=n.root,o;n.disabled?t.preventDefault():(i.handleItemClick(r,this,t),this.props.onClick&&this.props.onClick(t))},t.prototype.handleKeyDown=function e(t){var n=this.props,r=n._key,i=n.root,o=n.type;if(this.focusable())switch(i.handleItemKeyDown(r,o,this,t),t.keyCode){case rs.ENTER:"submenu"!==o&&this.handleClick(t)}this.props.onKeyDown&&this.props.onKeyDown(t)},t.prototype.getTitle=function e(t){if("string"==typeof t)return t},t.prototype.render=function e(){var n,r=this.props,i=r.inlineLevel,o=r.root,a=r.replaceClassName,s=r.groupIndent,u=r.component,l=r.disabled,c=r.className,f=r.children,p=r.needIndent,h=r.parentMode,d=r._key,m=wu(Object.keys(t.propTypes),this.props),g=o.props,v=g.prefix,y=g.focusable,b=g.inlineIndent,w=g.itemClassName,x=g.rtl,_=this.getFocused(),C=a?c:Us()(((n={})[v+"menu-item"]=!0,n[v+"disabled"]=l,n[v+"focused"]=!y&&_,n[w]=!!w,n[c]=!!c,n));if(l&&(m["aria-disabled"]=!0,m["aria-hidden"]=!0),m.tabIndex=o.state.tabbableKey===d?"0":"-1","inline"===h&&i>1&&b>0&&p){var E,S=x?"paddingRight":"paddingLeft";m.style=yo()({},m.style||{},((E={})[S]=i*b-.4*(s||0)*b+"px",E))}var k=u,O="menuitem";return"selectMode"in o.props&&(O="option"),or.a.createElement(k,yo()({role:O,title:this.getTitle(f)},m,{className:C,onClick:this.handleClick,onKeyDown:this.handleKeyDown}),or.a.createElement("div",{className:v+"menu-item-inner"},f))},t}(ir.Component),vu.propTypes={_key:To.a.string,level:To.a.number,inlineLevel:To.a.number,groupIndent:To.a.number,root:To.a.object,menu:To.a.any,parent:To.a.object,parentMode:To.a.oneOf(["inline","popup"]),type:To.a.oneOf(["submenu","item"]),component:To.a.string,disabled:To.a.bool,className:To.a.string,onClick:To.a.func,onKeyDown:To.a.func,needIndent:To.a.bool,replaceClassName:To.a.bool},vu.defaultProps={component:"li",groupIndent:0,replaceClassName:!1,needIndent:!0},yu),_u,Cu;xu.displayName="Item";var Eu=Za.bindCtx,Su=Ja.pickOthers,ku=(Cu=_u=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return Eu(r,["handleKeyDown","handleClick"]),r}return ko()(t,e),t.prototype.getSelected=function e(){var t=this.props,n=t._key,r=t.root,i=t.selected,o=r.props.selectMode,a=r.state.selectedKeys;return i||!!o&&a.indexOf(n)>-1},t.prototype.handleSelect=function e(t){var n=this.props,r=n._key,i=n.root,o=n.onSelect;o?o(!this.getSelected(),this,t):i.handleSelect(r,!this.getSelected(),this)},t.prototype.handleKeyDown=function e(t){t.keyCode!==rs.SPACE||this.props.disabled||this.handleSelect(t),this.props.onKeyDown&&this.props.onKeyDown(t)},t.prototype.handleClick=function e(t){this.handleSelect(t),this.props.onClick&&this.props.onClick(t)},t.prototype.renderSelectedIcon=function e(t){var n,r=this.props,i=r.root,o=r.inlineIndent,a=r.needIndent,s=r.hasSelectedIcon,u=r.isSelectIconRight,l=r.type,c=i.props,f=c.prefix,p=c.hasSelectedIcon,h=c.isSelectIconRight,d=c.icons,m=d.select;!Object(ir.isValidElement)(d.select)&&d.select&&(m=or.a.createElement("span",null,d.select));var g=Us()(((n={})[f+"menu-icon-selected"]=!0,n[f+"menu-symbol-icon-selected"]=!m,n[f+"menu-icon-right"]=("isSelectIconRight"in this.props?u:h)&&"submenu"!==l,n));return("hasSelectedIcon"in this.props?s:p)&&t?or.a.cloneElement(m||or.a.createElement(gu,{type:"select"}),{style:a&&o>0?{left:o+"px"}:null,className:g}):null},t.prototype.render=function e(){var n,r=this.props,i=r._key,o=r.root,a=r.className,s=r.disabled,u=r.helper,l=r.children,c=r.needIndent,f=o.props.prefix,p=Su(Object.keys(t.propTypes),this.props),h=this.getSelected(),d=yo()({_key:i,root:o,disabled:s,type:"item",className:Us()((n={},n[f+"selected"]=h,n[a]=!!a,n)),onKeyDown:this.handleKeyDown,onClick:s?this.props.onClick:this.handleClick,needIndent:c},p);"title"in d||"string"!=typeof l||(d.title=l);var m={};return"selectMode"in o.props&&(m["aria-selected"]=h),or.a.createElement(xu,d,this.renderSelectedIcon(h),or.a.createElement("span",yo()({className:f+"menu-item-text"},m),l),u?or.a.createElement("div",{className:f+"menu-item-helper"},u):null)},t}(ir.Component),_u.menuChildType="item",_u.propTypes={_key:To.a.string,root:To.a.object,selected:To.a.bool,onSelect:To.a.func,inlineIndent:To.a.number,disabled:To.a.bool,helper:To.a.node,children:To.a.node,className:To.a.string,onKeyDown:To.a.func,onClick:To.a.func,needIndent:To.a.bool,hasSelectedIcon:To.a.bool,isSelectIconRight:To.a.bool,icons:To.a.object},_u.defaultProps={disabled:!1,needIndent:!0,icons:{}},Cu);ku.displayName="SelectableItem";var Ou,Tu={allOverlays:[],addOverlay:function e(t){this.removeOverlay(t),this.allOverlays.unshift(t)},isCurrentOverlay:function e(t){return t&&this.allOverlays[0]===t},removeOverlay:function e(t){var n=this.allOverlays.indexOf(t);n>-1&&this.allOverlays.splice(n,1)}},Nu,Au;function Iu(e,t){if(!e)return null;if("string"==typeof e)return document.getElementById(e);if("function"==typeof e)try{e=e(t)}catch(t){e=null}if(!e)return null;try{return Object(er.findDOMNode)(e)}catch(t){return e}}var Ru=Za.makeChain,Pu=function e(t){var n=Iu(t.target);return Iu(t.container,n)},Mu=(Au=Nu=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return r.saveChildRef=function(e){r.child=e},r.state={containerNode:null},r}return ko()(t,e),t.getDerivedStateFromProps=function e(t){return{containerNode:Pu(t)}},t.prototype.componentDidMount=function e(){this.setState({containerNode:Pu(this.props)})},t.prototype.getChildNode=function e(){try{return Object(er.findDOMNode)(this.child)}catch(e){return null}},t.prototype.render=function e(){var t=this.state.containerNode;if(!t)return null;var n=this.props.children,r=n?ir.Children.only(n):null;if(!r)return null;if("string"==typeof r.ref)throw new Error("Can not set ref by string in Gateway, use function instead.");return r=or.a.cloneElement(r,{ref:Ru(this.saveChildRef,r.ref)}),Object(er.createPortal)(r,t)},t}(ir.Component),Nu.propTypes={children:To.a.node,container:To.a.any,target:To.a.any},Nu.defaultProps={container:function e(){return document.body}},Au);Mu.displayName="Gateway";var ju=Object(No.polyfill)(Mu),Du,Lu,Fu,zu="viewport",Bu=function e(){return window.pageXOffset||document.documentElement.scrollLeft},Uu=function e(){return window.pageYOffset||document.documentElement.scrollTop};function Wu(e,t){var n=0,r=0,i=0,o=0,a=e.offsetHeight,s=e.offsetWidth;do{isNaN(e.offsetTop)||(n+=e.offsetTop),isNaN(e.offsetLeft)||(r+=e.offsetLeft),e&&e.offsetParent&&(isNaN(e.offsetParent.scrollLeft)||e.offsetParent===document.body||(o+=e.offsetParent.scrollLeft),isNaN(e.offsetParent.scrollTop)||e.offsetParent===document.body||(i+=e.offsetParent.scrollTop)),e=e.offsetParent}while(null!==e&&e!==t);var u=!t||t===document.body;return{top:n-i-(u?document.documentElement.scrollTop||document.body.scrollTop:0),left:r-o-(u?document.documentElement.scrollLeft||document.body.scrollLeft:0),height:a,width:s}}function Vu(e){if(!e||e===document.body)return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};var t=e.getBoundingClientRect(),n,r;return{width:t.width,height:t.height}}var Hu=function e(t){var n=t.container,r=t.autoFit,i,o=Iu(n,t.baseElement);if(o||(o=document.body),!r)return o;for(;"static"===Ka.getStyle(o,"position");){if(!o||o===document.body)return document.body;o=o.parentNode}return o},Gu=(Lu=Du=function(){function e(t){_o()(this,e),Fu.call(this),this.pinElement=t.pinElement,this.baseElement=t.baseElement,this.pinFollowBaseElementWhenFixed=t.pinFollowBaseElementWhenFixed,this.container=Hu(t),this.autoFit=t.autoFit||!1,this.align=t.align||"tl tl",this.offset=t.offset||[0,0],this.needAdjust=t.needAdjust||!1,this.isRtl=t.isRtl||!1}return e.prototype.setPosition=function e(){var t=this.pinElement,n=this.baseElement,r=this.pinFollowBaseElementWhenFixed,i=this._getExpectedAlign(),o=void 0,a=void 0,s=void 0;if(t!==zu){"fixed"!==Ka.getStyle(t,"position")?(Ka.setStyle(t,"position","absolute"),o=!1):o=!0,a=n!==zu&&"fixed"===Ka.getStyle(n,"position");for(var u=0;u<i.length;u++){var l=i[u],c=this._normalizePosition(t,l.split(" ")[0],o),f=this._normalizePosition(n,l.split(" ")[1],o&&!r),p=this._getParentOffset(t),h=this._getParentScrollOffset(t),d=o&&a?this._getLeftTop(n):f.offset(o&&r),m=d.top+f.y-p.top-c.y+h.top,g=d.left+f.x-p.left-c.x+h.left;if(this._setPinElementPostion(t,{left:g,top:m},this.offset),s||(s={left:g,top:m}),this._isInViewport(t,l))return l}var v=this._makeElementInViewport(t,s.left,"Left",o),y=this._makeElementInViewport(t,s.top,"Top",o);return this._setPinElementPostion(t,{left:v,top:y},this._calPinOffset(i[0])),i[0]}},e.prototype._getParentOffset=function e(t){var n=t.offsetParent||document.documentElement,r=void 0;return(r=n===document.body&&"static"===Ka.getStyle(n,"position")?{top:0,left:0}:this._getElementOffset(n)).top+=parseFloat(Ka.getStyle(n,"border-top-width"),10),r.left+=parseFloat(Ka.getStyle(n,"border-left-width"),10),r.offsetParent=n,r},e.prototype._makeElementInViewport=function e(t,n,r,i){var o=n,a=document.documentElement,s=t.offsetParent||document.documentElement;return o<0&&(i?o=0:s===document.body&&"static"===Ka.getStyle(s,"position")&&(o=Math.max(a["scroll"+r],document.body["scroll"+r]))),o},e.prototype._normalizePosition=function e(t,n,r){var i=this._normalizeElement(t,r);return this._normalizeXY(i,n),i},e.prototype._normalizeXY=function e(t,n){var r=n.split("")[1],i=n.split("")[0];return t.x=this._xyConverter(r,t,"width"),t.y=this._xyConverter(i,t,"height"),t},e.prototype._xyConverter=function e(t,n,r){var i=t.replace(/t|l/gi,"0%").replace(/c/gi,"50%").replace(/b|r/gi,"100%").replace(/(\d+)%/gi,function(e,t){return n.size()[r]*(t/100)});return parseFloat(i,10)||0},e.prototype._getLeftTop=function e(t){return{left:parseFloat(Ka.getStyle(t,"left"))||0,top:parseFloat(Ka.getStyle(t,"top"))||0}},e.prototype._normalizeElement=function e(t,n){var r=this,i={element:t,x:0,y:0},o=t===zu,a=document.documentElement;return i.offset=function(e){return n?{left:0,top:0}:o?{left:Bu(),top:Uu()}:r._getElementOffset(t,e)},i.size=function(){return o?{width:a.clientWidth,height:a.clientHeight}:{width:t.offsetWidth,height:t.offsetHeight}},i},e.prototype._getElementOffset=function e(t,n){var r=t.getBoundingClientRect(),i=document.documentElement,o=document.body,a=i.clientLeft||o.clientLeft||0,s=i.clientTop||o.clientTop||0;return{left:r.left+(n?0:Bu())-a,top:r.top+(n?0:Uu())-s}},e.prototype._getExpectedAlign=function e(){var t=this.isRtl?this._replaceAlignDir(this.align,/l|r/g,{l:"r",r:"l"}):this.align,n=[t];return this.needAdjust&&(/t|b/g.test(t)&&n.push(this._replaceAlignDir(t,/t|b/g,{t:"b",b:"t"})),/l|r/g.test(t)&&n.push(this._replaceAlignDir(t,/l|r/g,{l:"r",r:"l"})),/c/g.test(t)&&(n.push(this._replaceAlignDir(t,/c(?= |$)/g,{c:"l"})),n.push(this._replaceAlignDir(t,/c(?= |$)/g,{c:"r"}))),n.push(this._replaceAlignDir(t,/l|r|t|b/g,{l:"r",r:"l",t:"b",b:"t"}))),n},e.prototype._replaceAlignDir=function e(t,n,r){return t.replace(n,function(e){return r[e]})},e.prototype._isRightAligned=function e(t){var n=t.split(" "),r=n[0],i=n[1];return"r"===r[1]&&r[1]===i[1]},e.prototype._isBottomAligned=function e(t){var n=t.split(" "),r=n[0],i=n[1];return"b"===r[0]&&r[0]===i[0]},e.prototype._isInViewport=function e(t,n){var r=Vu(this.container),i=Wu(t,this.container),o=this._isRightAligned(n)?r.width:r.width-1,a=this._isBottomAligned(n)?r.height:r.height-1;return this.autoFit?i.top>=0&&i.top+t.offsetHeight<=a:i.left>=0&&i.left+t.offsetWidth<=o&&i.top>=0&&i.top+t.offsetHeight<=a},e.prototype._setPinElementPostion=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],i=n.top,o=n.left;if(this.isRtl){var a,s,u,l,c,f=Wu(this._getParentOffset(t).offsetParent).width-(o+Wu(t).width);Ka.setStyle(t,{left:"auto",right:f+r[0]+"px",top:i+r[1]+"px"})}else Ka.setStyle(t,{left:o+r[0]+"px",top:i+r[1]+"px"})},e}(),Du.VIEWPORT=zu,Du.place=function(e){return new Gu(e).setPosition()},Fu=function e(){var t=this;this._calPinOffset=function(e){var n=[].concat(t.offset);if(t.autoFit&&e&&t.container&&t.container!==document.body){var r=Wu(t.baseElement,t.container),i=Wu(t.pinElement,t.container),o=Vu(t.container),a=e.split(" ")[0],s=a.charAt(1),u=a.charAt(0);(i.top<0||i.top+i.height>o.height)&&(n[1]=-r.top-("t"===u?r.height:0))}return n},this._getParentScrollOffset=function(e){var t=0,n=0;return e&&e.offsetParent&&e.offsetParent!==document.body&&(isNaN(e.offsetParent.scrollTop)||(t+=e.offsetParent.scrollTop),isNaN(e.offsetParent.scrollLeft)||(n+=e.offsetParent.scrollLeft)),{top:t,left:n}}},Lu),qu,Ku,Xu=Za.noop,Yu=Za.bindCtx,Zu=Ka.getStyle,$u=Gu.place,Ju=(Ku=qu=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return Yu(r,["handleResize"]),r}return ko()(t,e),t.prototype.componentDidMount=function e(){this.setPosition(),this.props.needListenResize&&Ya.on(window,"resize",this.handleResize)},t.prototype.componentDidUpdate=function e(t){var n=this.props;("align"in n&&n.align!==t.align||n.shouldUpdatePosition)&&(this.shouldUpdatePosition=!0),this.shouldUpdatePosition&&(this.setPosition(),this.shouldUpdatePosition=!1)},t.prototype.componentWillUnmount=function e(){this.props.needListenResize&&Ya.off(window,"resize",this.handleResize),clearTimeout(this.resizeTimeout)},t.prototype.setPosition=function e(){var t=this.props,n=t.align,r=t.offset,i=t.beforePosition,o=t.onPosition,a=t.needAdjust,s=t.container,u=t.rtl,l=t.pinFollowBaseElementWhenFixed,c=t.autoFit;i();var f=this.getContentNode(),p=this.getTargetNode();if(f&&p){var h=$u({pinElement:f,baseElement:p,pinFollowBaseElementWhenFixed:l,align:n,offset:r,autoFit:c,container:s,needAdjust:a,isRtl:u}),d=Zu(f,"top"),m=Zu(f,"left");o({align:h.split(" "),top:d,left:m},f)}},t.prototype.getContentNode=function e(){try{return Object(er.findDOMNode)(this)}catch(e){return null}},t.prototype.getTargetNode=function e(){var t=this.props.target;return t===Gu.VIEWPORT?Gu.VIEWPORT:Iu(t,this.props)},t.prototype.handleResize=function e(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.setPosition()},200)},t.prototype.render=function e(){return ir.Children.only(this.props.children)},t}(ir.Component),qu.VIEWPORT=Gu.VIEWPORT,qu.propTypes={children:To.a.node,target:To.a.any,container:To.a.any,align:To.a.oneOfType([To.a.string,To.a.bool]),offset:To.a.array,beforePosition:To.a.func,onPosition:To.a.func,needAdjust:To.a.bool,autoFit:To.a.bool,needListenResize:To.a.bool,shouldUpdatePosition:To.a.bool,rtl:To.a.bool,pinFollowBaseElementWhenFixed:To.a.bool},qu.defaultProps={align:"tl bl",offset:[0,0],beforePosition:Xu,onPosition:Xu,needAdjust:!0,autoFit:!1,needListenResize:!0,shouldUpdatePosition:!1,rtl:!1},Ku),Qu,el;Ju.displayName="Position";var tl=ts.saveLastFocusNode,nl=ts.getFocusNodeList,rl=ts.backLastFocusNode,il=Za.makeChain,ol=Za.noop,al=Za.bindCtx,sl=function e(t){try{var n=window.getComputedStyle(t,"::-webkit-scrollbar");return!n||"none"!==n.getPropertyValue("display")}catch(e){}return!0},ul=function e(){var t=document.documentElement;return t.scrollHeight>t.clientHeight&&Ka.scrollbar().width>0&&sl(document.documentElement)&&sl(document.body)},ll=["-webkit-","-moz-","-o-","ms-",""],cl=function e(t,n){for(var r=window.getComputedStyle(t),i="",o=0;o<ll.length&&!(i=r.getPropertyValue(ll[o]+n));o++);return i},fl=[],pl=void 0,hl=void 0,dl=(el=Qu=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return r.saveContentRef=function(e){r.contentRef=e},r.saveGatewayRef=function(e){r.gatewayRef=e},r.lastAlign=n.align,al(r,["handlePosition","handleAnimateEnd","handleDocumentKeyDown","handleDocumentClick","handleMaskClick","beforeOpen","beforeClose"]),r.state={visible:!1,status:"none",animation:r.getAnimation(n),beforeOpen:r.beforeOpen,beforeClose:r.beforeClose},r.timeoutMap={},r}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){var r=!n.visible&&t.visible,i=n.visible&&!t.visible;r?(n.beforeOpen(),t.beforeOpen()):i&&(n.beforeClose(),t.beforeClose());var o={};return(t.animation||!1===t.animation)&&(o.animation=t.animation),!1!==t.animation&&es.animation?r?(o.visible=!0,o.status="mounting"):i&&(o.status="leaving"):"visible"in t&&t.visible!==n.visible&&(o.visible=t.visible),o},t.prototype.componentDidMount=function e(){this.state.visible&&(this.doAnimation(!0,!1),this._isMounted=!0),this.addDocumentEvents(),Tu.addOverlay(this)},t.prototype.componentDidUpdate=function e(t){!this._isMounted&&this.props.visible&&(this._isMounted=!0),this.props.align!==t.align&&(this.lastAlign=t.align);var n=!t.visible&&this.props.visible,r=t.visible&&!this.props.visible;(n||r)&&this.doAnimation(n,r)},t.prototype.componentWillUnmount=function e(){this._isDestroyed=!0,this._isMounted=!1,Tu.removeOverlay(this),this.removeDocumentEvents(),this.focusTimeout&&clearTimeout(this.focusTimeout),this._animation&&(this._animation.off(),this._animation=null),this.beforeClose()},t.prototype.doAnimation=function e(t,n){var r=this;if(this.state.animation&&es.animation)t?this.onEntering():n&&this.onLeaving(),this.addAnimationEvents();else{var i=this.getWrapperNode();t?setTimeout(function(){r.props.onOpen(),r.props.afterOpen(),Ka.addClass(i,"opened"),Tu.addOverlay(r)}):n&&(this.props.onClose(),this.props.afterClose(),Ka.removeClass(i,"opened"),Tu.removeOverlay(this)),this.setFocusNode()}},t.prototype.getAnimation=function e(t){return!1!==t.animation&&(t.animation?t.animation:this.getAnimationByAlign(t.align))},t.prototype.getAnimationByAlign=function e(t){switch(t[0]){case"t":return{in:"expandInDown",out:"expandOutUp"};case"b":return{in:"expandInUp",out:"expandOutDown"};default:return{in:"expandInDown",out:"expandOutUp"}}},t.prototype.addAnimationEvents=function e(){var t=this;setTimeout(function(){var e=t.getContentNode();if(e){var n=ns();t._animation=Ya.on(e,es.animation.end,t.handleAnimateEnd.bind(t,n));var r,i,o=(parseFloat(cl(e,"animation-delay"))||0)+(parseFloat(cl(e,"animation-duration"))||0);o&&(t.timeoutMap[n]=setTimeout(function(){t.handleAnimateEnd(n)},1e3*o+200))}})},t.prototype.handlePosition=function e(t){var n=t.align.join(" "),r;"animation"in this.props||!this.props.needAdjust||this.lastAlign===n||this.setState({animation:this.getAnimationByAlign(n)}),"mounting"===this.state.status&&this.setState({status:"entering"}),this.lastAlign=n},t.prototype.handleAnimateEnd=function e(t){this.timeoutMap[t]&&clearTimeout(this.timeoutMap[t]),delete this.timeoutMap[t],this._animation&&(this._animation.off(),this._animation=null),this._isMounted&&("leaving"===this.state.status?(this.setState({visible:!1,status:"none"}),this.onLeaved()):"entering"===this.state.status&&(this.setState({status:"none"}),this.onEntered()))},t.prototype.onEntering=function e(){var t=this;this._isDestroyed||setTimeout(function(){var e=t.getWrapperNode();Ka.addClass(e,"opened"),t.props.onOpen()})},t.prototype.onLeaving=function e(){var t=this.getWrapperNode();Ka.removeClass(t,"opened"),this.props.onClose()},t.prototype.onEntered=function e(){Tu.addOverlay(this),this.setFocusNode(),this.props.afterOpen()},t.prototype.onLeaved=function e(){Tu.removeOverlay(this),this.setFocusNode(),this.props.afterClose()},t.prototype.beforeOpen=function e(){if(this.props.disableScroll){if(0===fl.length){var t={overflow:"hidden"},n=document.body;pl=n.style.overflow,ul()&&(hl=n.style.paddingRight,t.paddingRight=Ka.getStyle(n,"paddingRight")+Ka.scrollbar().width+"px"),Ka.setStyle(n,t)}fl.push(this)}},t.prototype.beforeClose=function e(){if(this.props.disableScroll){var t=fl.indexOf(this);if(t>-1){if(1===fl.length){var n={overflow:pl};ul()&&(n.paddingRight=hl),Ka.setStyle(document.body,n),pl=void 0,hl=void 0}fl.splice(t,1)}}},t.prototype.setFocusNode=function e(){var t=this;this.props.autoFocus&&(this.state.visible&&!this._hasFocused?(tl(),this.focusTimeout=setTimeout(function(){var e=t.getContentNode();if(e){var n=nl(e);n.length&&n[0].focus(),t._hasFocused=!0}},100)):!this.state.visible&&this._hasFocused&&(rl(),this._hasFocused=!1))},t.prototype.getContent=function e(){return this.contentRef},t.prototype.getContentNode=function e(){try{return Object(er.findDOMNode)(this.contentRef)}catch(e){return null}},t.prototype.getWrapperNode=function e(){return this.gatewayRef?this.gatewayRef.getChildNode():null},t.prototype.addDocumentEvents=function e(){this.props.canCloseByEsc&&(this._keydownEvents=Ya.on(document,"keydown",this.handleDocumentKeyDown)),this.props.canCloseByOutSideClick&&(this._clickEvents=Ya.on(document,"click",this.handleDocumentClick),this._touchEvents=Ya.on(document,"touchend",this.handleDocumentClick))},t.prototype.removeDocumentEvents=function e(){this._keydownEvents&&(this._keydownEvents.off(),this._keydownEvents=null),this._clickEvents&&(this._clickEvents.off(),this._clickEvents=null),this._touchEvents&&(this._touchEvents.off(),this._touchEvents=null)},t.prototype.handleDocumentKeyDown=function e(t){this.state.visible&&t.keyCode===rs.ESC&&Tu.isCurrentOverlay(this)&&this.props.onRequestClose("keyboard",t)},t.prototype.isInShadowDOM=function e(t){return!!t.getRootNode&&11===t.getRootNode().nodeType},t.prototype.getEventPath=function e(t){return t.path||t.composedPath&&t.composedPath()||this.composedPath(t.target)},t.prototype.composedPath=function e(t){for(var n=[];t;){if(n.push(t),"HTML"===t.tagName)return n.push(document),n.push(window),n;t=t.parentElement}},t.prototype.matchInShadowDOM=function e(t,n){if(this.isInShadowDOM(t)){var r=this.getEventPath(n);return t===r[0]||t.contains(r[0])}return!1},t.prototype.handleDocumentClick=function e(t){var n=this;if(this.state.visible){var r=this.props.safeNode,i=Array.isArray(r)?[].concat(r):[r];i.unshift(function(){return n.getWrapperNode()});for(var o=0;o<i.length;o++){var a=Iu(i[o],this.props);if(a&&(a===t.target||a.contains(t.target)||this.matchInShadowDOM(a,t)||t.target!==document&&!document.documentElement.contains(t.target)))return}this.props.onRequestClose("docClick",t)}},t.prototype.handleMaskClick=function e(t){this.props.canCloseByMask&&this.props.onRequestClose("maskClick",t)},t.prototype.getInstance=function e(){return this},t.prototype.render=function e(){var t=this.props,n=t.prefix,r=t.className,i=t.style,o=t.children,a=t.target,s=t.align,u=t.offset,l=t.container,c=t.hasMask,f=t.needAdjust,p=t.autoFit,h=t.beforePosition,d=t.onPosition,m=t.wrapperStyle,g=t.rtl,v=t.shouldUpdatePosition,y=t.cache,b=t.wrapperClassName,w=t.onMaskMouseEnter,x=t.onMaskMouseLeave,_=t.maskClass,C=t.isChildrenInMask,E=t.pinFollowBaseElementWhenFixed,S=this.state,k=S.visible,O=S.status,T=S.animation,N=k||y&&this._isMounted?o:null;if(N){var A,I,R=ir.Children.only(N);"function"!=typeof R.type||R.type.prototype instanceof ir.Component||(R=or.a.createElement("div",{role:"none"},R));var P=Us()(((A={})[n+"overlay-inner"]=!0,A[T.in]="entering"===O||"mounting"===O,A[T.out]="leaving"===O,A[R.props.className]=!!R.props.className,A[r]=!!r,A));if("string"==typeof R.ref)throw new Error("Can not set ref by string in Overlay, use function instead.");if(N=or.a.cloneElement(R,{className:P,style:yo()({},R.props.style,i),ref:il(this.saveContentRef,R.ref),"aria-hidden":!k&&y&&this._isMounted,onClick:this.props.onClick}),s){var M="leaving"!==O&&v;N=or.a.createElement(Ju,{children:N,target:a,align:s,offset:u,autoFit:p,container:l,needAdjust:f,pinFollowBaseElementWhenFixed:E,beforePosition:h,onPosition:il(this.handlePosition,d),shouldUpdatePosition:M,rtl:g})}var j=Us()([n+"overlay-wrapper",b]),D=yo()({},{display:k?"":"none"},m),L=Us()(((I={})[n+"overlay-backdrop"]=!0,I[_]=!!_,I));N=or.a.createElement("div",{className:j,style:D,dir:g?"rtl":void 0},c?or.a.createElement("div",{className:L,onClick:this.handleMaskClick,onMouseEnter:w,onMouseLeave:x,dir:g?"rtl":void 0},C&&N):null,!C&&N)}return or.a.createElement(ju,yo()({container:l,target:a,children:N},{ref:this.saveGatewayRef}))},t}(ir.Component),Qu.propTypes={prefix:To.a.string,pure:To.a.bool,rtl:To.a.bool,className:To.a.string,style:To.a.object,children:To.a.any,visible:To.a.bool,onRequestClose:To.a.func,target:To.a.any,align:To.a.oneOfType([To.a.string,To.a.bool]),offset:To.a.array,container:To.a.any,hasMask:To.a.bool,canCloseByEsc:To.a.bool,canCloseByOutSideClick:To.a.bool,canCloseByMask:To.a.bool,beforeOpen:To.a.func,onOpen:To.a.func,afterOpen:To.a.func,beforeClose:To.a.func,onClose:To.a.func,afterClose:To.a.func,beforePosition:To.a.func,onPosition:To.a.func,shouldUpdatePosition:To.a.bool,autoFocus:To.a.bool,needAdjust:To.a.bool,disableScroll:To.a.bool,cache:To.a.bool,safeNode:To.a.any,wrapperClassName:To.a.string,wrapperStyle:To.a.object,animation:To.a.oneOfType([To.a.object,To.a.bool]),onMaskMouseEnter:To.a.func,onMaskMouseLeave:To.a.func,onClick:To.a.func,maskClass:To.a.string,isChildrenInMask:To.a.bool,pinFollowBaseElementWhenFixed:To.a.bool},Qu.defaultProps={prefix:"next-",pure:!1,visible:!1,onRequestClose:ol,target:Ju.VIEWPORT,align:"tl bl",offset:[0,0],hasMask:!1,canCloseByEsc:!0,canCloseByOutSideClick:!0,canCloseByMask:!0,beforeOpen:ol,onOpen:ol,afterOpen:ol,beforeClose:ol,onClose:ol,afterClose:ol,beforePosition:ol,onPosition:ol,onMaskMouseEnter:ol,onMaskMouseLeave:ol,shouldUpdatePosition:!1,autoFocus:!1,needAdjust:!0,disableScroll:!1,cache:!1,isChildrenInMask:!1,onClick:function e(t){return t.stopPropagation()},maskClass:""},el);dl.displayName="Overlay";var ml=Object(No.polyfill)(dl),gl,vl,yl=Za.noop,bl=Za.makeChain,wl=Za.bindCtx,xl=(vl=gl=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return r.state={visible:void 0===n.visible?n.defaultVisible:n.visible},wl(r,["handleTriggerClick","handleTriggerKeyDown","handleTriggerMouseEnter","handleTriggerMouseLeave","handleTriggerFocus","handleTriggerBlur","handleContentMouseEnter","handleContentMouseLeave","handleContentMouseDown","handleRequestClose","handleMaskMouseEnter","handleMaskMouseLeave"]),r}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){return"visible"in t?yo()({},n,{visible:t.visible}):null},t.prototype.componentWillUnmount=function e(){var t=this;["_timer","_hideTimer","_showTimer"].forEach(function(e){t[e]&&clearTimeout(t[e])})},t.prototype.handleVisibleChange=function e(t,n,r){"visible"in this.props||this.setState({visible:t}),this.props.onVisibleChange(t,n,r)},t.prototype.handleTriggerClick=function e(t){this.state.visible&&!this.props.canCloseByTrigger||this.handleVisibleChange(!this.state.visible,"fromTrigger",t)},t.prototype.handleTriggerKeyDown=function e(t){var n=this.props.triggerClickKeycode,r;(Array.isArray(n)?n:[n]).includes(t.keyCode)&&(t.preventDefault(),this.handleTriggerClick(t))},t.prototype.handleTriggerMouseEnter=function e(t){var n=this;this._mouseNotFirstOnMask=!1,this._hideTimer&&(clearTimeout(this._hideTimer),this._hideTimer=null),this._showTimer&&(clearTimeout(this._showTimer),this._showTimer=null),this.state.visible||(this._showTimer=setTimeout(function(){n.handleVisibleChange(!0,"fromTrigger",t)},this.props.delay))},t.prototype.handleTriggerMouseLeave=function e(t,n){var r=this;this._showTimer&&(clearTimeout(this._showTimer),this._showTimer=null),this.state.visible&&(this._hideTimer=setTimeout(function(){r.handleVisibleChange(!1,n||"fromTrigger",t)},this.props.delay))},t.prototype.handleTriggerFocus=function e(t){this.handleVisibleChange(!0,"fromTrigger",t)},t.prototype.handleTriggerBlur=function e(t){this._isForwardContent||this.handleVisibleChange(!1,"fromTrigger",t),this._isForwardContent=!1},t.prototype.handleContentMouseDown=function e(){this._isForwardContent=!0},t.prototype.handleContentMouseEnter=function e(){clearTimeout(this._hideTimer)},t.prototype.handleContentMouseLeave=function e(t){this.handleTriggerMouseLeave(t,"fromContent")},t.prototype.handleMaskMouseEnter=function e(){this._mouseNotFirstOnMask||(clearTimeout(this._hideTimer),this._hideTimer=null,this._mouseNotFirstOnMask=!1)},t.prototype.handleMaskMouseLeave=function e(){this._mouseNotFirstOnMask=!0},t.prototype.handleRequestClose=function e(t,n){this.handleVisibleChange(!1,t,n)},t.prototype.renderTrigger=function e(){var t=this,n=this.props,r=n.trigger,i=n.disabled,o={key:"trigger","aria-haspopup":!0,"aria-expanded":this.state.visible};if(this.state.visible||(o["aria-describedby"]=void 0),!i){var a=this.props.triggerType,s=Array.isArray(a)?a:[a],u=r&&r.props||{},l=u.onClick,c=u.onKeyDown,f=u.onMouseEnter,p=u.onMouseLeave,h=u.onFocus,d=u.onBlur;s.forEach(function(e){switch(e){case"click":o.onClick=bl(t.handleTriggerClick,l),o.onKeyDown=bl(t.handleTriggerKeyDown,c);break;case"hover":o.onMouseEnter=bl(t.handleTriggerMouseEnter,f),o.onMouseLeave=bl(t.handleTriggerMouseLeave,p);break;case"focus":o.onFocus=bl(t.handleTriggerFocus,h),o.onBlur=bl(t.handleTriggerBlur,d)}})}return r&&or.a.cloneElement(r,o)},t.prototype.renderContent=function e(){var t=this,n=this.props,r=n.children,i=n.triggerType,o=Array.isArray(i)?i:[i],a=ir.Children.only(r),s=a.props,u=s.onMouseDown,l=s.onMouseEnter,c=s.onMouseLeave,f={key:"portal"};return o.forEach(function(e){switch(e){case"focus":f.onMouseDown=bl(t.handleContentMouseDown,u);break;case"hover":f.onMouseEnter=bl(t.handleContentMouseEnter,l),f.onMouseLeave=bl(t.handleContentMouseLeave,c)}}),or.a.cloneElement(a,f)},t.prototype.renderPortal=function e(){var t=this,n=this.props,r=n.target,i=n.safeNode,o=n.followTrigger,a=n.triggerType,s=n.hasMask,u=n.wrapperStyle,l=wo()(n,["target","safeNode","followTrigger","triggerType","hasMask","wrapperStyle"]),c=this.props.container,f=function e(){return Object(er.findDOMNode)(t)},p=Array.isArray(i)?[].concat(i):[i];p.unshift(f);var h=u||{};return o&&(c=function e(t){return t&&t.parentNode||t},h.position="relative"),"hover"===a&&s&&(l.onMaskMouseEnter=this.handleMaskMouseEnter,l.onMaskMouseLeave=this.handleMaskMouseLeave),or.a.createElement(ml,yo()({},l,{key:"overlay",ref:function e(n){return t.overlay=n},visible:this.state.visible,target:r||f,container:c,safeNode:p,wrapperStyle:h,triggerType:a,hasMask:s,onRequestClose:this.handleRequestClose}),this.renderContent())},t.prototype.render=function e(){return[this.renderTrigger(),this.renderPortal()]},t}(ir.Component),gl.propTypes={children:To.a.node,trigger:To.a.element,triggerType:To.a.oneOfType([To.a.string,To.a.array]),triggerClickKeycode:To.a.oneOfType([To.a.number,To.a.array]),visible:To.a.bool,defaultVisible:To.a.bool,onVisibleChange:To.a.func,disabled:To.a.bool,autoFit:To.a.bool,delay:To.a.number,canCloseByTrigger:To.a.bool,target:To.a.any,safeNode:To.a.any,followTrigger:To.a.bool,container:To.a.any,hasMask:To.a.bool,wrapperStyle:To.a.object,rtl:To.a.bool},gl.defaultProps={triggerType:"hover",triggerClickKeycode:[rs.SPACE,rs.ENTER],defaultVisible:!1,onVisibleChange:yl,disabled:!1,autoFit:!1,delay:200,canCloseByTrigger:!0,followTrigger:!1,container:function e(){return document.body},rtl:!1},vl);xl.displayName="Popup";var _l=Object(No.polyfill)(xl);ml.Gateway=ju,ml.Position=Ju,ml.Popup=zs.config(_l,{exportNames:["overlay"]});var Cl=zs.config(ml,{exportNames:["getContent","getContentNode"]}),El=function e(t){var n=t&&"function"==typeof t.getBoundingClientRect&&t.getBoundingClientRect().width;return n&&(n=+n.toFixed(6)),n||0},Sl=function e(t){return t?Array.isArray(t)?t:[t]:[]},kl=function e(t,n){var r=t.split("-").slice(0,-1),i=n.split("-").slice(0,-1);return r.length===i.length&&r.every(function(e,t){return e===i[t]})},Ol=function e(t,n){var r=t.split("-"),i=n.split("-");return r.length>i.length&&i.every(function(e,t){return e===r[t]})},Tl=function e(t,n,r){var i=r[n],o=i.type,a=i.disabled;return kl(t,n)&&("item"===o&&!a||"submenu"===o)},Nl=function e(t,n){var r=Object.keys(n).find(function(e){return Tl(t+"-0",e,n)});return r?n[r].key:null},Al=function e(t){var n=t.selectMode,r=t.selectedKeys,i=t._k2n,o=t._key;if(!i)return!1;var a=(i[o]&&i[o].pos)+"-";return!!n&&r.some(function(e){return i[e]&&0===i[e].pos.indexOf(a)})},Il,Rl,Pl=Za.bindCtx,Ml=Ka.setStyle,jl=Cl.Popup,Dl=(Rl=Il=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return Pl(r,["handleOpen","handlePopupOpen","handlePopupClose","getPopup"]),r}return ko()(t,e),t.prototype.getPopup=function e(t){this.popup=t},t.prototype.getOpen=function e(){var t=this.props,n=t._key,r,i;return t.root.state.openKeys.indexOf(n)>-1},t.prototype.getPopupProps=function e(){var t=this.props.root.props.popupProps;return"function"==typeof t&&(t=t(this.props)),t},t.prototype.handleOpen=function e(t,n,r){var i=this.props,o=i._key,a;i.root.handleOpen(o,t,n,r);var s=this.popupProps;s.onVisibleChange&&s.onVisibleChange(t,n,r)},t.prototype.handlePopupOpen=function e(){var t=this.props,n=t.root,r=t.level,i=t.align,o=t.autoWidth,a=n.props,s=a.popupAutoWidth,u=a.popupAlign,l=a.direction,c=i||u,f="autoWidth"in this.props?o:s,p=Object(er.findDOMNode)(this),h=p.parentNode;if(this.popupNode=this.popup.getInstance().overlay.getInstance().getContentNode(),n.popupNodes.push(this.popupNode),f){var d="hoz"===l&&1===r?p:h;d.offsetWidth>this.popupNode.offsetWidth&&Ml(this.popupNode,"width",d.offsetWidth+"px")}"outside"!==c||"hoz"===l&&1===r||(Ml(this.popupNode,"height",h.offsetHeight+"px"),Ml(this.popupNode,"overflow-y","scroll"));var m=this.popupProps;m.onOpen&&m.onOpen()},t.prototype.handlePopupClose=function e(){var t,n=this.props.root.popupNodes,r=n.indexOf(this.popupNode);r>-1&&n.splice(r,1);var i=this.popupProps;i.onClose&&i.onClose()},t.prototype.renderItem=function e(t,n,r){var i,o=this.props,a=o._key,s=o.root,u=o.level,l=o.inlineLevel,c=o.label,f=o.className,p=s.props,h=p.prefix,d=p.selectMode,m=t?ku:xu,g=this.getOpen(),v=s.state,y=v.selectedKeys,b=v._k2n,w=Al({_key:a,_k2n:b,selectMode:d,selectedKeys:y}),x={"aria-haspopup":!0,"aria-expanded":g,_key:a,root:s,level:u,inlineLevel:l,type:"submenu"};return x.className=Us()(((i={})[h+"opened"]=g,i[h+"child-selected"]=w,i[f]=!!f,i)),or.a.createElement(m,yo()({},x,r),or.a.createElement("span",{className:h+"menu-item-text"},c),n)},t.prototype.renderPopup=function e(t,n,r,i){var o=this,a=this.props,s=a.root,u=a.level,l=a.selectable,c=s.props.direction;this.popupProps=this.getPopupProps();var f=this.getOpen();return"hoz"===c&&1===u&&l&&(r.target=function(){return Object(er.findDOMNode)(o)}),or.a.createElement(jl,yo()({ref:this.getPopup},r,this.popupProps,{canCloseByEsc:!1,trigger:t,triggerType:n,visible:f,pinFollowBaseElementWhenFixed:!0,onVisibleChange:this.handleOpen,onOpen:this.handlePopupOpen,onClose:this.handlePopupClose}),i)},t.prototype.render=function e(){var n=this,r=this.props,i=r.root,o=r.level,a=r.hasSubMenu,s=r.selectable,u=r.children,l=r.triggerType,c=r.align,f=r.noIcon,p=r.rtl,h=Ja.pickOthers(Object.keys(t.propTypes),this.props),d=i.props,m=d.prefix,g=d.selectMode,v=d.direction,y=d.popupAlign,b=d.triggerType,w=c||y,x=l||(a?b:"hover"),_=Array.isArray(u)?u[0]:u,C=g&&s,E=C&&"click"===x,S=this.getOpen(),k={},O=void 0,T;"hoz"===v&&1===o?(k.align="tl bl",k.offset=[0,0],O={type:"arrow-down",className:Us()((T={},T[m+"menu-hoz-icon-arrow"]=!0,T[m+"open"]=S,T))}):("outside"===w?(k.target=function(){return Object(er.findDOMNode)(i)},k.align="tl tr",k.offset=p?[-2,0]:[2,0]):(E&&(k.target=function(){return Object(er.findDOMNode)(n)}),k.align="tl tr",k.offset=p?[2,-8]:[-2,-8]),O={type:"arrow-right",className:m+"menu-icon-arrow "+m+"menu-symbol-popupfold"});var N=or.a.createElement(gu,O),A=E?N:this.renderItem(C,f?null:N,h),I=this.renderPopup(A,x,k,_);return E?this.renderItem(C,I,h):I},t}(ir.Component),Il.menuChildType="submenu",Il.propTypes={_key:To.a.string,root:To.a.object,level:To.a.number,hasSubMenu:To.a.bool,noIcon:To.a.bool,rtl:To.a.bool,selectable:To.a.bool,label:To.a.node,children:To.a.node,className:To.a.string,triggerType:To.a.oneOf(["click","hover"]),align:To.a.oneOf(["outside","follow"]),autoWidth:To.a.bool},Il.defaultProps={selectable:!1,noIcon:!1},Rl),Ll,Fl;Dl.displayName="PopupItem";var zl=cu.Expand,Bl=Za.bindCtx,Ul=(Fl=Ll=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return Bl(r,["handleMouseEnter","handleMouseLeave","handleClick","handleOpen","afterLeave"]),r}return ko()(t,e),t.prototype.componentDidMount=function e(){this.itemNode=Object(er.findDOMNode)(this)},t.prototype.afterLeave=function e(){var t=this.props,n=t.focused,r,i;t.root.props.focusable&&n&&this.itemNode.focus()},t.prototype.getOpen=function e(){var t=this.props,n=t._key,r,i;return t.root.state.openKeys.indexOf(n)>-1},t.prototype.handleMouseEnter=function e(t){this.handleOpen(!0),this.props.onMouseEnter&&this.props.onMouseEnter(t)},t.prototype.handleMouseLeave=function e(t){this.handleOpen(!1),this.props.onMouseLeave&&this.props.onMouseLeave(t)},t.prototype.handleClick=function e(t){var n=this.props,r=n.root,i=n.selectable,o;r.props.selectMode&&i&&t.stopPropagation();var a=this.getOpen();this.handleOpen(!a)},t.prototype.handleOpen=function e(t,n,r){var i=this.props,o=i._key,a;i.root.handleOpen(o,t,n,r)},t.prototype.passParentToChildren=function e(t){var n=this,r=this.props,i=r.mode,o=r.root;return ir.Children.map(t,function(e){return"function"!=typeof e&&"object"!==(void 0===e?"undefined":Ro()(e))?e:Object(ir.cloneElement)(e,{parent:n,parentMode:i||o.props.mode})})},t.prototype.renderInline=function e(){var n,r,i,o,a=this.props,s=a._key,u=a.level,l=a.inlineLevel,c=a.root,f=a.className,p=a.selectable,h=a.label,d=a.children,m=a.noIcon,g=a.subMenuContentClassName,v=a.triggerType,y=a.parentMode,b=c.props,w=b.prefix,x=b.selectMode,_=b.triggerType,C=b.inlineArrowDirection,E=b.expandAnimation,S=b.rtl,k=v||_,O=this.getOpen(),T=c.state,N=T.selectedKeys,A=T._k2n,I=Al({_key:s,_k2n:A,selectMode:x,selectedKeys:N}),R=Ja.pickOthers(Object.keys(t.propTypes),this.props),P={className:Us()((n={},n[w+"menu-sub-menu-wrapper"]=!0,n[f]=!!f,n))},M={"aria-expanded":O,_key:s,level:u,role:"listitem",inlineLevel:l,root:c,type:"submenu",component:"div",parentMode:y,className:Us()((r={},r[w+"opened"]=O,r[w+"child-selected"]=I,r))};"string"==typeof h&&(M.title=h);var j={type:"right"===C?"arrow-right":"arrow-down",className:Us()((i={},i[w+"menu-icon-arrow"]=!0,i[w+"menu-icon-arrow-down"]="down"===C,i[w+"menu-icon-arrow-right"]="right"===C,i[w+"open"]=O,i))},D=!!x&&p,L=D?ku:xu;"hover"===k?(P.onMouseEnter=this.handleMouseEnter,P.onMouseLeave=this.handleMouseLeave):D?j.onClick=this.handleClick:M.onClick=this.handleClick;var F=Us()(((o={})[w+"menu-sub-menu"]=!0,o[g]=!!g,o)),z="menu",B="menuitem";"selectMode"in c.props&&(z="listbox",B="option");var U=O?or.a.createElement("ul",{role:z,dir:S?"rtl":void 0,className:F},this.passParentToChildren(d)):null;return or.a.createElement("li",yo()({role:B},R,P),or.a.createElement(L,M,or.a.createElement("span",{className:w+"menu-item-text"},h),m?null:or.a.createElement(gu,j)),E?or.a.createElement(zl,{animationAppear:!1,afterLeave:this.afterLeave},U):U)},t.prototype.renderPopup=function e(){var t,n=this.props,r=n.children,i=n.subMenuContentClassName,o=n.noIcon,a=wo()(n,["children","subMenuContentClassName","noIcon"]),s,u=this.props.root.props,l=u.prefix,c=u.popupClassName,f=u.popupStyle,p=u.rtl,h=Us()(((t={})[l+"menu"]=!0,t[l+"ver"]=!0,t[c]=!!c,t[i]=!!i,t));return a.rtl=p,or.a.createElement(Dl,yo()({},a,{noIcon:o,hasSubMenu:!0}),or.a.createElement("ul",{role:"menu",dir:p?"rtl":void 0,className:h,style:f},this.passParentToChildren(r)))},t.prototype.render=function e(){var t=this.props,n=t.mode,r=t.root,i;return"popup"===(n||r.props.mode)?this.renderPopup():this.renderInline()},t}(ir.Component),Ll.menuChildType="submenu",Ll.propTypes={_key:To.a.string,root:To.a.object,level:To.a.number,inlineLevel:To.a.number,groupIndent:To.a.number,noIcon:To.a.bool,label:To.a.node,selectable:To.a.bool,mode:To.a.oneOf(["inline","popup"]),children:To.a.node,onMouseEnter:To.a.func,onMouseLeave:To.a.func,subMenuContentClassName:To.a.string,triggerType:To.a.oneOf(["click","hover"]),align:To.a.oneOf(["outside","follow"]),parentMode:To.a.oneOf(["inline","popup"]),parent:To.a.any},Ll.defaultProps={groupIndent:0,noIcon:!1,selectable:!1},Fl),Wl,Vl,Hl;Ul.displayName="SubMenu";var Gl=Za.bindCtx,ql=Ja.pickOthers,Kl=Ja.isNil,Xl=function e(){},Yl="menuitem-overflowed",Zl=function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments[3],a=Us()(((r={})[i+"menu-more"]=!0,r)),s={};if(n?(s.visibility="hidden",s.display="inline-block"):t&&0===t.length&&(s.display="none",s.visibility="unset"),o&&"function"==typeof o){var u=o(t),l=Us()(a,u.props&&u.props.className);return or.a.isValidElement(u)?or.a.cloneElement(u,{style:s,className:l}):u}return or.a.createElement(Ul,{label:"\xb7\xb7\xb7",noIcon:!0,className:a,style:s},t)},$l=function e(t){var n=t.children,r=t.lastVisibleIndex,i=t.prefix,o=t.renderMore,a=[];return n.forEach(function(e,t){var s=[];t>r&&(e=or.a.cloneElement(e,{key:"more-"+t,style:{display:"none"},className:(e.className||"")+" menuitem-overflowed"})),t===r+1&&(s=n.slice(r+1).map(function(e,n){return or.a.cloneElement(e,{key:"more-"+t+"-"+n})}),a.push(Zl(s,!1,i,o))),a.push(e)}),a.push(Zl([],!0,i,o)),a},Jl=function e(t){var n=t.children,r=t.root,i=t.lastVisibleIndex,o=t.hozInLine,a=t.prefix,s=t.renderMore,u={},l={},c,f,p;return{newChildren:function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{index:0},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=[];return ir.Children.map(t,function(t){if(t&&("function"==typeof t.type||"object"===Ro()(t.type))&&"menuChildType"in t.type){var s=void 0,c=void 0,f={root:r};if(["item","submenu","group"].indexOf(t.type.menuChildType)>-1){c=n+"-"+i.index++;var p="string"==typeof t.key?t.key:c;if(a.indexOf(p)>-1)return;a.push(p);var h=c.split("-").length-1;u[p]=l[c]={key:p,pos:c,mode:t.props.mode,type:t.type.menuChildType,disabled:t.props.disabled,label:t.props.label||t.props.children},f.level=h,f.inlineLevel=o,f._key=p,f.groupIndent="group"===t.type.menuChildType?1:0}var d="popup"===(t.props.mode||f.root.props.mode)?1:o+1;switch(t.type.menuChildType){case"submenu":s=Object(ir.cloneElement)(t,f,e(t.props.children,c,void 0,d));break;case"group":s=Object(ir.cloneElement)(t,f,e(t.props.children,n,i,f.level));break;case"item":case"divider":s=Object(ir.cloneElement)(t,f);break;default:s=t}return s}return t})}(o?$l({children:n,lastVisibleIndex:i,prefix:a,renderMore:s}):n,"0"),_k2n:u,_p2n:l}},Ql=(Vl=Wl=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));Hl.call(r);var i=r.props,o=i.prefix,a=i.children,s=i.selectedKeys,u=i.defaultSelectedKeys,l=i.focusedKey,c=i.focusable,f=i.autoFocus,p=i.hozInLine,h=i.renderMore;r.state={lastVisibleIndex:void 0};var d=Jl({root:r,hozInLine:p,prefix:o,children:a,renderMore:h}),m=d.newChildren,g=d._k2n,v=d._p2n,y=c?Nl("0",v):void 0;return r.state={root:r,lastVisibleIndex:void 0,newChildren:m,_k2n:g,_p2n:v,tabbableKey:y,openKeys:r.getInitOpenKeys(n,g,v),selectedKeys:Sl(s||u),focusedKey:Kl(r.props.focusedKey)?c&&f?y:null:l},Gl(r,["handleOpen","handleSelect","handleItemClick","handleItemKeyDown","onBlur","adjustChildrenWidth"]),r.popupNodes=[],r}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){var r={};"openKeys"in t&&(r.openKeys=Sl(t.openKeys)),"selectedKeys"in t&&(r.selectedKeys=Sl(t.selectedKeys)),"focusedKey"in t&&(r.focusedKey=t.focusedKey);var i=t.hozInLine,o=t.children,a=t.prefix,s=t.renderMore,u=Jl({root:n.root,hozInLine:i,lastVisibleIndex:n.lastVisibleIndex,prefix:a,children:o,renderMore:s}),l=u.newChildren,c=u._k2n,f=u._p2n;return r.newChildren=l,r._k2n=c,r._p2n=f,t.focusable&&(n.tabbableKey in c?n.focusedKey&&(r.tabbableKey=n.focusedKey):r.tabbableKey=Nl("0",f)),r},t.prototype.componentDidMount=function e(){this.menuNode=Object(er.findDOMNode)(this),this.adjustChildrenWidth(),this.props.hozInLine&&Ya.on(window,"resize",this.adjustChildrenWidth)},t.prototype.componentDidUpdate=function e(t,n){n.lastVisibleIndex!==this.state.lastVisibleIndex&&this.adjustChildrenWidth()},t.prototype.componentWillUnmount=function e(){Ya.off(window,"resize",this.adjustChildrenWidth)},t.prototype.adjustChildrenWidth=function e(){var t=this.props,n=t.direction,r=t.prefix,i=t.header,o=t.footer,a=t.hozInLine;if("hoz"===n&&a&&(this.menuNode||this.menuContent)){var s=[],u=void 0;if(i||o?(s=this.menuContent.children,u=El(this.menuNode)-El(this.menuHeader)-El(this.menuFooter)):(s=this.menuNode.children,u=El(this.menuNode)),!(s.length<2)){var l=0,c=-1,f="",p=[].slice.call(s).filter(function(e){return e.className.split(" ").indexOf(r+"menu-more")<0||(f=e,!1)}),h=p.filter(function(e){return e.className.split(" ").indexOf("menuitem-overflowed")>=0});h.forEach(function(e){Ka.setStyle(e,"display","inline-block")}),Ka.setStyle(f,"display","inline-block");var d=El(f);this.menuItemSizes=p.map(function(e){return El(e)});var m=this.menuItemSizes.length;h.forEach(function(e){Ka.setStyle(e,"display","none")}),this.menuItemSizes.forEach(function(e,t){l+=e,(t>=m-1&&l<=u||l+d<=u)&&c++}),c>=m-1&&Ka.setStyle(f,"display","none"),this.setState(yo()({lastVisibleIndex:c},this.getUpdateChildren()))}}},t.prototype.onBlur=function e(t){this.setState({focusedKey:void 0}),this.props.onBlur&&this.props.onBlur(t)},t.prototype.getInitOpenKeys=function e(t,n,r){var i=void 0,o=t.openKeys,a=t.defaultOpenKeys,s=t.defaultOpenAll,u=t.mode,l=t.openMode;return i=o||(s&&"inline"===u&&"multiple"===l?Object.keys(n).filter(function(e){return"submenu"===n[e].type}):a),Sl(i)},t.prototype.handleOpen=function e(t,n,r,i){var o=void 0,a=this.props,s=a.mode,u=a.openMode,l=this.state,c=l.openKeys,f=l._k2n,p=c.indexOf(t);n&&-1===p?"inline"===s?"single"===u?(o=c.filter(function(e){return f[e]&&!kl(f[t].pos,f[e].pos)})).push(t):o=c.concat(t):(o=c.filter(function(e){return f[e]&&Ol(f[t].pos,f[e].pos)})).push(t):!n&&p>-1&&("inline"===s?o=[].concat(c.slice(0,p),c.slice(p+1)):"docClick"===r?this.popupNodes.concat(this.menuNode).some(function(e){return e.contains(i.target)})||(o=[]):o=c.filter(function(e){return e!==t&&f[e]&&!Ol(f[e].pos,f[t].pos)})),o&&(Kl(this.props.openKeys)&&this.setState(yo()({openKeys:o},this.getUpdateChildren())),this.props.onOpen(o,{key:t,open:n}))},t.prototype.getPath=function e(t,n,r){for(var i=[],o=[],a,s=n[t].pos.split("-"),u=1;u<s.length-1;u++){var l,c,f=r[s.slice(0,u+1).join("-")];i.push(f.key),o.push(f.label)}return{keyPath:i,labelPath:o}},t.prototype.handleSelect=function e(t,n,r){var i=this.state,o=i._k2n,a=i._p2n,s,u=o[t].pos.split("-").length-1;if(!(this.props.shallowSelect&&u>1)){var l=void 0,c=this.props.selectMode,f=this.state.selectedKeys,p=f.indexOf(t);n&&-1===p?"single"===c?l=[t]:"multiple"===c&&(l=f.concat(t)):!n&&p>-1&&"multiple"===c&&(l=[].concat(f.slice(0,p),f.slice(p+1))),l&&(Kl(this.props.selectedKeys)&&this.setState({selectedKeys:l}),this.props.onSelect(l,r,yo()({key:t,select:n,label:o[t].label},this.getPath(t,o,a))))}},t.prototype.handleItemClick=function e(t,n,r){var i=this.state._k2n;this.props.focusable&&(Kl(this.props.focusedKey)&&this.setState({focusedKey:t}),this.props.onItemFocus(t,n,r)),"item"===n.props.type&&("popup"===n.props.parentMode&&this.state.openKeys.length&&(Kl(this.props.openKeys)&&this.setState({openKeys:[]}),this.props.onOpen([],{key:this.state.openKeys.sort(function(e,t){return i[t].pos.split("-").length-i[e].pos.split("-").length})[0],open:!1})),this.props.onItemClick(t,n,r))},t.prototype.getAvailableKey=function e(t,n){var r=this.state._p2n,i=Object.keys(r).filter(function(e){return Tl(t,e,r)});if(i.length>1){var o=i.indexOf(t),a=void 0;return a=n?0===o?i.length-1:o-1:o===i.length-1?0:o+1,r[i[a]].key}return null},t.prototype.getParentKey=function e(t){return this.state._p2n[t.slice(0,t.length-2)].key},t.prototype.handleItemKeyDown=function e(t,n,r,i){[rs.UP,rs.DOWN,rs.RIGHT,rs.LEFT,rs.ENTER,rs.ESC,rs.SPACE].indexOf(i.keyCode)>-1&&(i.preventDefault(),i.stopPropagation());var o=this.state.focusedKey,a=this.state,s=a._p2n,u=a._k2n,l=this.props.direction,c=u[t].pos,f=c.split("-").length-1;switch(i.keyCode){case rs.UP:var p=this.getAvailableKey(c,!0);p&&(o=p);break;case rs.DOWN:var h=void 0;"hoz"===l&&1===f&&"submenu"===n?(this.handleOpen(t,!0),h=Nl(c,s)):h=this.getAvailableKey(c,!1),h&&(o=h);break;case rs.RIGHT:var d=void 0;"hoz"===l&&1===f?d=this.getAvailableKey(c,!1):"submenu"===n&&(this.handleOpen(t,!0),d=Nl(c,s)),d&&(o=d);break;case rs.ENTER:if("submenu"===n){this.handleOpen(t,!0);var m=Nl(c,s);m&&(o=m)}break;case rs.LEFT:if("hoz"===l&&1===f){var g=this.getAvailableKey(c,!0);g&&(o=g)}else if(f>1){var v=this.getParentKey(c);this.handleOpen(v,!1),o=v}break;case rs.ESC:if(f>1){var y=this.getParentKey(c);this.handleOpen(y,!1),o=y}break;case rs.TAB:o=null}o!==this.state.focusedKey&&(Kl(this.props.focusedKey)&&this.setState({focusedKey:o}),this.props.onItemKeyDown(o,r,i),this.props.onItemFocus(o,i))},t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.className,a=r.direction,s=r.hozAlign,u=r.header,l=r.footer,c=r.embeddable,f=r.selectMode,p=r.hozInLine,h=r.rtl,d=r.flatenContent,m=this.state.newChildren,g=ql(Object.keys(t.propTypes),this.props),v=Us()(((n={})[i+"menu"]=!0,n[i+"ver"]="ver"===a,n[i+"hoz"]="hoz"===a,n[i+"menu-embeddable"]=c,n[i+"menu-nowrap"]=p,n[o]=!!o,n)),y="hoz"===a?"menubar":"menu",b=void 0;"selectMode"in this.props&&(y="listbox",b=!("multiple"!==f));var w=u?or.a.createElement("li",{className:i+"menu-header",ref:this.menuHeaderRef},u):null,x=d||!u&&!l?m:or.a.createElement("ul",{className:i+"menu-content",ref:this.menuContentRef},m),_=l?or.a.createElement("li",{className:i+"menu-footer",ref:this.menuFooterRef},l):null,C="right"===s&&!!u;return h&&(g.dir="rtl"),or.a.createElement("ul",yo()({role:y,onBlur:this.onBlur,className:v,onKeyDown:this.handleEnter,"aria-multiselectable":b},g),w,C?or.a.createElement("div",{className:i+"menu-hoz-right"},x,_):null,C?null:x,C?null:_)},t}(ir.Component),Wl.isNextMenu=!0,Wl.propTypes=yo()({},zs.propTypes,{prefix:To.a.string,pure:To.a.bool,rtl:To.a.bool,className:To.a.string,children:To.a.node,onItemClick:To.a.func,openKeys:To.a.oneOfType([To.a.string,To.a.array]),defaultOpenKeys:To.a.oneOfType([To.a.string,To.a.array]),defaultOpenAll:To.a.bool,onOpen:To.a.func,mode:To.a.oneOf(["inline","popup"]),triggerType:To.a.oneOf(["click","hover"]),openMode:To.a.oneOf(["single","multiple"]),inlineIndent:To.a.number,inlineArrowDirection:To.a.oneOf(["down","right"]),popupAutoWidth:To.a.bool,popupAlign:To.a.oneOf(["follow","outside"]),popupProps:To.a.oneOfType([To.a.object,To.a.func]),popupClassName:To.a.string,popupStyle:To.a.object,selectedKeys:To.a.oneOfType([To.a.string,To.a.array]),defaultSelectedKeys:To.a.oneOfType([To.a.string,To.a.array]),onSelect:To.a.func,selectMode:To.a.oneOf(["single","multiple"]),shallowSelect:To.a.bool,hasSelectedIcon:To.a.bool,labelToggleChecked:To.a.bool,isSelectIconRight:To.a.bool,direction:To.a.oneOf(["ver","hoz"]),hozAlign:To.a.oneOf(["left","right"]),hozInLine:To.a.bool,renderMore:To.a.func,header:To.a.node,footer:To.a.node,autoFocus:To.a.bool,focusedKey:To.a.string,focusable:To.a.bool,onItemFocus:To.a.func,onBlur:To.a.func,embeddable:To.a.bool,onItemKeyDown:To.a.func,expandAnimation:To.a.bool,itemClassName:To.a.string,icons:To.a.object,flatenContent:To.a.bool}),Wl.defaultProps={prefix:"next-",pure:!1,defaultOpenKeys:[],defaultOpenAll:!1,onOpen:Xl,mode:"inline",triggerType:"click",openMode:"multiple",inlineIndent:20,inlineArrowDirection:"down",popupAutoWidth:!1,popupAlign:"follow",popupProps:{},defaultSelectedKeys:[],onSelect:Xl,shallowSelect:!1,hasSelectedIcon:!0,isSelectIconRight:!1,labelToggleChecked:!0,direction:"ver",hozAlign:"left",hozInLine:!1,autoFocus:!1,focusable:!0,embeddable:!1,onItemFocus:Xl,onItemKeyDown:Xl,onItemClick:Xl,expandAnimation:!0,icons:{}},Hl=function e(){var t=this;this.getUpdateChildren=function(){var e=t.state,n=e.root,r=e.lastVisibleIndex,i=t.props,o=i.prefix,a=i.hozInLine,s=i.children,u=i.renderMore;return Jl({root:n,hozInLine:a,lastVisibleIndex:r,prefix:o,children:s,renderMore:u})},this.menuContentRef=function(e){t.menuContent=e},this.menuHeaderRef=function(e){t.menuHeader=e},this.menuFooterRef=function(e){t.menuFooter=e}},Vl);Ql.displayName="Menu";var ec=Object(No.polyfill)(Ql),tc=n(117),nc=n.n(tc),rc=Za.makeChain,ic=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return r.state={},["_onUIFocus","_onUIBlur"].forEach(function(e){r[e]=r[e].bind(r)}),r}return ko()(t,e),t.prototype.getStateElement=function e(t){var n=this.props,r=n.onFocus,i=n.onBlur;return or.a.cloneElement(t,{onFocus:rc(this._onUIFocus,r),onBlur:rc(this._onUIBlur,i)})},t.prototype.getStateClassName=function e(){var t=this.state.focused;return Us()({focused:t})},t.prototype.resetUIState=function e(){this.setState({focused:!1})},t.prototype._onUIFocus=function e(){this.setState({focused:!0})},t.prototype._onUIBlur=function e(){this.setState({focused:!1})},t}(ir.Component);ic.displayName="UIState";var oc=ic,ac,sc;function uc(e){var t,n;return n=t=function(t){function n(){return _o()(this,n),Eo()(this,t.apply(this,arguments))}return ko()(n,t),n.prototype.render=function t(){return or.a.createElement(e,yo()({},this.props,{context:this.context}))},n}(or.a.Component),t.displayName="Checkbox",t.contextTypes={onChange:To.a.func,__group__:To.a.bool,selectedValue:To.a.array,disabled:To.a.bool,prefix:To.a.string},n}var lc=Za.noop;function cc(e,t){return e.indexOf(t)>-1}var fc=(sc=ac=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n)),i=n.context,o=void 0,a=void 0;return o="checked"in n?n.checked:n.defaultChecked,a="indeterminate"in n?n.indeterminate:n.defaultIndeterminate,i.__group__&&(o=cc(i.selectedValue,n.value)),r.state={checked:o,indeterminate:a},r.onChange=r.onChange.bind(r),r}return ko()(t,e),t.getDerivedStateFromProps=function e(t){var n=t.context,r={};return n.__group__?"selectedValue"in n&&(r.checked=cc(n.selectedValue,t.value)):"checked"in t&&(r.checked=t.checked),"indeterminate"in t&&(r.indeterminate=t.indeterminate),r},t.prototype.shouldComponentUpdate=function e(t,n,r){var i=Ja.shallowEqual;return!i(this.props,t)||!i(this.state,n)||!i(this.context,r)},t.prototype.onChange=function e(t){var n=this.props,r=n.context,i=n.value,o=t.target.checked;this.disabled||(r.__group__?r.onChange(i,t):("checked"in this.props||this.setState({checked:o}),"indeterminate"in this.props||this.setState({indeterminate:!1}),this.props.onChange(o,t)))},t.prototype.render=function e(){var n,r,i=this.props,o=i.id,a=i.className,s=i.children,u=i.style,l=i.label,c=i.onMouseEnter,f=i.onMouseLeave,p=i.rtl,h=i.isPreview,d=i.renderPreview,m=i.context,g=i.value,v=i.name,y=wo()(i,["id","className","children","style","label","onMouseEnter","onMouseLeave","rtl","isPreview","renderPreview","context","value","name"]),b=!!this.state.checked,w=this.disabled,x=!!this.state.indeterminate,_=m.prefix||this.props.prefix,C=Ja.pickOthers(t.propTypes,y),E=Ja.pickAttrsWith(C,"data-");y.title&&(E.title=y.title);var S=or.a.createElement("input",yo()({},Ja.pickOthers(t.propTypes,y),{id:o,value:g,name:v,disabled:w,checked:b,type:"checkbox",onChange:this.onChange,"aria-checked":x?"mixed":b,className:_+"checkbox-input"}));w||(S=this.getStateElement(S));var k=Us()(((n={})[_+"checkbox-wrapper"]=!0,n[a]=!!a,n.checked=b,n.disabled=w,n.indeterminate=x,n[this.getStateClassName()]=!0,n)),O=_+"checkbox-label",T=x?"semi-select":"select";if(h){var N=Us()(a,_+"form-preview");return"renderPreview"in this.props?or.a.createElement("div",yo()({id:o,dir:p?"rtl":void 0},E,{className:N}),d(b,this.props)):or.a.createElement("p",yo()({id:o,dir:p?"rtl":void 0},E,{className:N}),b&&(s||l||this.state.value))}var A=Us()(((r={zoomIn:x})[_+"checkbox-semi-select-icon"]=x,r[_+"checkbox-select-icon"]=!x,r));return or.a.createElement("label",yo()({},E,{className:k,style:u,dir:p?"rtl":void 0,onMouseEnter:c,onMouseLeave:f}),or.a.createElement("span",{className:_+"checkbox"},or.a.createElement("span",{className:_+"checkbox-inner"},or.a.createElement(gu,{type:T,size:"xs",className:A})),S),[l,s].map(function(e,t){return-1===[void 0,null].indexOf(e)?or.a.createElement("span",{key:t,className:O},e):null}))},nc()(t,[{key:"disabled",get:function e(){var t=this.props,n=t.context;return t.disabled||"disabled"in n&&n.disabled}}]),t}(oc),ac.displayName="Checkbox",ac.propTypes=yo()({},zs.propTypes,{prefix:To.a.string,rtl:To.a.bool,className:To.a.string,id:To.a.string,style:To.a.object,checked:To.a.bool,defaultChecked:To.a.bool,disabled:To.a.bool,label:To.a.node,indeterminate:To.a.bool,defaultIndeterminate:To.a.bool,onChange:To.a.func,onMouseEnter:To.a.func,onMouseLeave:To.a.func,value:To.a.oneOfType([To.a.string,To.a.number]),name:To.a.string,isPreview:To.a.bool,renderPreview:To.a.func}),ac.defaultProps={defaultChecked:!1,defaultIndeterminate:!1,onChange:lc,onMouseEnter:lc,onMouseLeave:lc,prefix:"next-",isPreview:!1},sc),pc=zs.config(uc(Object(No.polyfill)(fc))),hc,dc,mc=Ja.pickOthers,gc=(dc=hc=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n)),i=[];return"value"in n?i=n.value:"defaultValue"in n&&(i=n.defaultValue),Array.isArray(i)||(i=null===i||void 0===i?[]:[i]),r.state={value:[].concat(i)},r.onChange=r.onChange.bind(r),r}return ko()(t,e),t.prototype.getChildContext=function e(){return{__group__:!0,onChange:this.onChange,selectedValue:this.state.value,disabled:this.props.disabled}},t.getDerivedStateFromProps=function e(t){if("value"in t){var n=t.value;return Array.isArray(n)||(n=null===n||void 0===n?[]:[n]),{value:n}}return null},t.prototype.onChange=function e(t,n){var r=this.state.value,i=r.indexOf(t),o=[].concat(r);-1===i?o.push(t):o.splice(i,1),"value"in this.props||this.setState({value:o}),this.props.onChange(o,n)},t.prototype.render=function e(){var n=this,r,i=this.props,o=i.className,a=i.style,s=i.prefix,u=i.disabled,l=i.itemDirection,c=i.rtl,f=i.isPreview,p=i.renderPreview,h=mc(t.propTypes,this.props),d=void 0,m=[];if(d=this.props.children?or.a.Children.map(this.props.children,function(e){return or.a.isValidElement(e)?(n.state.value&&n.state.value.indexOf(e.props.value)>-1&&m.push({label:e.props.children,value:e.props.value}),or.a.cloneElement(e,void 0===e.props.rtl?{rtl:c}:null)):e;var t}):this.props.dataSource.map(function(e,t){var r=e;"object"!==(void 0===e?"undefined":Ro()(e))&&(r={label:e,value:e,disabled:u});var i=n.state.value&&n.state.value.indexOf(r.value)>-1;return i&&m.push({label:r.label,value:r.value}),or.a.createElement(pc,{key:t,value:r.value,checked:i,rtl:c,disabled:u||r.disabled,label:r.label})}),f){var g=Us()(o,s+"form-preview");return"renderPreview"in this.props?or.a.createElement("div",yo()({},h,{dir:c?"rtl":void 0,className:g}),p(m,this.props)):or.a.createElement("p",yo()({},h,{dir:c?"rtl":void 0,className:g}),m.map(function(e){return e.label}).join(", "))}var v=Us()(((r={})[s+"checkbox-group"]=!0,r[s+"checkbox-group-"+l]=!0,r[o]=!!o,r.disabled=u,r));return or.a.createElement("span",yo()({dir:c?"rtl":void 0},h,{className:v,style:a}),d)},t}(ir.Component),hc.propTypes={prefix:To.a.string,rtl:To.a.bool,className:To.a.string,style:To.a.object,disabled:To.a.bool,dataSource:To.a.oneOfType([To.a.arrayOf(To.a.string),To.a.arrayOf(To.a.object)]),value:To.a.oneOfType([To.a.array,To.a.string,To.a.number]),defaultValue:To.a.oneOfType([To.a.array,To.a.string,To.a.number]),children:To.a.arrayOf(To.a.element),onChange:To.a.func,itemDirection:To.a.oneOf(["hoz","ver"]),isPreview:To.a.bool,renderPreview:To.a.func},hc.defaultProps={dataSource:[],onChange:function e(){},prefix:"next-",itemDirection:"hoz",isPreview:!1},hc.childContextTypes={onChange:To.a.func,__group__:To.a.bool,selectedValue:To.a.array,disabled:To.a.bool},dc);gc.displayName="CheckboxGroup";var vc=zs.config(Object(No.polyfill)(gc));pc.Group=vc;var yc=pc,bc,wc;function xc(e){var t,n;return n=t=function(t){function n(){return _o()(this,n),Eo()(this,t.apply(this,arguments))}return ko()(n,t),n.prototype.render=function t(){return or.a.createElement(e,yo()({},this.props,{context:this.context}))},n}(or.a.Component),t.displayName="Radio",t.contextTypes={onChange:To.a.func,__group__:To.a.bool,isButton:To.a.bool,selectedValue:To.a.oneOfType([To.a.string,To.a.number,To.a.bool]),disabled:To.a.bool},n}var _c=Za.makeChain,Cc=Za.noop,Ec=(wc=bc=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n)),i=n.context,o=void 0;return o=i.__group__?i.selectedValue===n.value:"checked"in n?n.checked:n.defaultChecked,r.state={checked:o},r.onChange=r.onChange.bind(r),r}return ko()(t,e),t.getDerivedStateFromProps=function e(t){var n=t.context;return n.__group__&&"selectedValue"in n?{checked:n.selectedValue===t.value}:"checked"in t?{checked:t.checked}:null},t.prototype.shouldComponentUpdate=function e(t,n,r){var i=Ja.shallowEqual;return!i(this.props,t)||!i(this.state,n)||!i(this.context,r)},t.prototype.componentDidUpdate=function e(){this.disabled&&this.resetUIState()},t.prototype.onChange=function e(t){var n=t.target.checked,r=this.props,i=r.context,o=r.value;i.__group__?i.onChange(o,t):this.state.checked!==n&&("checked"in this.props||this.setState({checked:n}),this.props.onChange(n,t))},t.prototype.render=function e(){var n,r,i,o=this.props,a=o.id,s=o.className,u=o.children,l=o.style,c=o.label,f=o.onMouseEnter,p=o.onMouseLeave,h=o.tabIndex,d=o.rtl,m=o.name,g=o.isPreview,v=o.renderPreview,y=o.value,b=o.context,w=wo()(o,["id","className","children","style","label","onMouseEnter","onMouseLeave","tabIndex","rtl","name","isPreview","renderPreview","value","context"]),x=!!this.state.checked,_=this.disabled,C=b.isButton,E=b.prefix||this.props.prefix,S=Ja.pickOthers(t.propTypes,w),k=Ja.pickAttrsWith(S,"data-");if(g){var O=Us()(s,E+"form-preview");return"renderPreview"in this.props?or.a.createElement("div",yo()({id:a,dir:d?"rtl":"ltr"},S,{className:O}),v(x,this.props)):or.a.createElement("p",yo()({id:a,dir:d?"rtl":"ltr"},S,{className:O}),x&&(u||c||y))}var T=or.a.createElement("input",yo()({},Ja.pickOthers(k,S),{name:m,id:a,tabIndex:h,disabled:_,checked:x,type:"radio",onChange:this.onChange,"aria-checked":x,className:E+"radio-input"}));_||(T=this.getStateElement(T));var N=Us()(((n={})[E+"radio"]=!0,n.checked=x,n.disabled=_,n[this.getStateClassName()]=!0,n)),A=Us()(((r={})[E+"radio-inner"]=!0,r.press=x,r.unpress=!x,r)),I=Us()(((i={})[E+"radio-wrapper"]=!0,i[s]=!!s,i.checked=x,i.disabled=_,i[this.getStateClassName()]=!0,i)),R=E+"radio-label",P=C?or.a.createElement("span",{className:E+"radio-single-input"},T):or.a.createElement("span",{className:N},or.a.createElement("span",{className:A}),T);return or.a.createElement("label",yo()({},k,{dir:d?"rtl":"ltr",style:l,"aria-checked":x,"aria-disabled":_,className:I,onMouseEnter:_?f:_c(this._onUIMouseEnter,f),onMouseLeave:_?p:_c(this._onUIMouseLeave,p)}),P,[u,c].map(function(e,t){return void 0!==e?or.a.createElement("span",{key:t,className:R},e):null}))},nc()(t,[{key:"disabled",get:function e(){var t=this.props,n=t.context,r;return t.disabled||n.__group__&&"disabled"in n&&n.disabled}}]),t}(oc),bc.displayName="Radio",bc.propTypes=yo()({},zs.propTypes,{className:To.a.string,id:To.a.string,style:To.a.object,checked:To.a.bool,defaultChecked:To.a.bool,label:To.a.node,onChange:To.a.func,onMouseEnter:To.a.func,onMouseLeave:To.a.func,disabled:To.a.bool,value:To.a.oneOfType([To.a.string,To.a.number,To.a.bool]),name:To.a.string,isPreview:To.a.bool,renderPreview:To.a.func}),bc.defaultProps={onChange:Cc,onMouseLeave:Cc,onMouseEnter:Cc,tabIndex:0,prefix:"next-",isPreview:!1},bc.contextTypes={onChange:To.a.func,__group__:To.a.bool,isButton:To.a.bool,selectedValue:To.a.oneOfType([To.a.string,To.a.number,To.a.bool]),disabled:To.a.bool},wc),Sc=zs.config(xc(Object(No.polyfill)(Ec))),kc,Oc,Tc=Ja.pickOthers,Nc=(Oc=kc=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n)),i="";return"value"in n?i=n.value:"defaultValue"in n&&(i=n.defaultValue),r.state={value:i},r.onChange=r.onChange.bind(r),r}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){return"value"in t&&t.value!==n.value?{value:t.value}:null},t.prototype.getChildContext=function e(){var t=this.props.disabled;return{__group__:!0,isButton:"button"===this.props.shape,onChange:this.onChange,selectedValue:this.state.value,disabled:t}},t.prototype.onChange=function e(t,n){"value"in this.props||this.setState({value:t}),t!==this.state.value&&this.props.onChange(t,n)},t.prototype.render=function e(){var n=this,r,i=this.props,o=i.rtl,a=i.className,s=i.disabled,u=i.shape,l=i.size,c=i.style,f=i.prefix,p=i.itemDirection,h=i.component,d=i.isPreview,m=i.renderPreview,g=Tc(Object.keys(t.propTypes),this.props);o&&(g.dir="rtl");var v=void 0,y={};if(v=this.props.children?or.a.Children.map(this.props.children,function(e,t){if(!or.a.isValidElement(e))return e;var r=n.state.value===e.props.value;r&&(y.label=e.props.children,y.value=e.props.value);var i=0===t&&!n.state.value||r?0:-1,a=void 0===e.props.rtl?o:e.props.rtl;return e.type&&"Config(Radio)"===e.type.displayName?or.a.cloneElement(e,{checked:r,tabIndex:i,rtl:a}):or.a.cloneElement(e,{checked:r,rtl:a})}):this.props.dataSource.map(function(e,t){var r=e;"object"!==(void 0===e?"undefined":Ro()(e))&&(r={label:e,value:e,disabled:s});var i=n.state.value===r.value;return i&&(y.label=r.label,y.value=r.value),or.a.createElement(Sc,{key:t,tabIndex:0===t&&!n.state.value||i?0:-1,value:r.value,checked:i,label:r.label,disabled:s||r.disabled})}),d){var b=Us()(a,f+"form-preview");return"renderPreview"in this.props?or.a.createElement("div",yo()({},g,{className:b}),m(y,this.props)):or.a.createElement("p",yo()({},g,{className:b}),y.label)}var w="button"===u,x=Us()(((r={})[f+"radio-group"]=!0,r[f+"radio-group-"+p]=!w,r[f+"radio-button"]=w,r[f+"radio-button-"+l]=w,r[a]=!!a,r.disabled=s,r)),_=h;return or.a.createElement(_,yo()({},g,{"aria-disabled":s,role:"radiogroup",className:x,style:c}),v)},t}(ir.Component),kc.propTypes=yo()({},zs.propTypes,{prefix:To.a.string,className:To.a.string,style:To.a.object,name:To.a.string,value:To.a.oneOfType([To.a.string,To.a.number,To.a.bool]),defaultValue:To.a.oneOfType([To.a.string,To.a.number,To.a.bool]),component:To.a.oneOfType([To.a.string,To.a.func]),onChange:To.a.func,disabled:To.a.bool,shape:To.a.oneOf(["normal","button"]),size:To.a.oneOf(["large","medium","small"]),dataSource:To.a.oneOfType([To.a.arrayOf(To.a.string),To.a.arrayOf(To.a.object)]),children:To.a.oneOfType([To.a.arrayOf(To.a.element),To.a.element]),itemDirection:To.a.oneOf(["hoz","ver"]),isPreview:To.a.bool,renderPreview:To.a.func}),kc.defaultProps={dataSource:[],size:"medium",onChange:function e(){},prefix:"next-",component:"div",itemDirection:"hoz",isPreview:!1},kc.childContextTypes={onChange:To.a.func,__group__:To.a.bool,isButton:To.a.bool,selectedValue:To.a.oneOfType([To.a.string,To.a.number,To.a.bool]),disabled:To.a.bool},Oc);Nc.displayName="RadioGroup";var Ac=zs.config(Object(No.polyfill)(Nc));Sc.Group=Ac;var Ic=Sc,Rc,Pc,Mc={},jc=Za.bindCtx,Dc=Ja.pickOthers,Lc=(Pc=Rc=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return jc(r,["stopPropagation","handleKeyDown","handleClick"]),r.id=is.escapeForId("checkable-item-"+(n.id||n._key)),r}return ko()(t,e),t.prototype.stopPropagation=function e(t){t.stopPropagation()},t.prototype.handleCheck=function e(t){var n=this.props,r=n.checkType,i=n.checked,o=n.onChange;"radio"===r&&i||o(!i,t)},t.prototype.handleKeyDown=function e(t){t.keyCode!==rs.SPACE||this.props.checkDisabled||this.handleCheck(t),this.props.onKeyDown&&this.props.onKeyDown(t)},t.prototype.handleClick=function e(t){this.handleCheck(t),this.props.onClick&&this.props.onClick(t)},t.prototype.renderCheck=function e(){var t=this.props,n=t.root,r=t.checked,i=t.indeterminate,o=t.disabled,a=t.checkType,s=t.checkDisabled,u=t.onChange,l=n.props.labelToggleChecked,c="radio"===a?Ic:yc,f={tabIndex:"-1",checked:r,disabled:o||s};return"checkbox"===a&&(f.indeterminate=i),l||(f.onChange=u,f.onClick=this.stopPropagation),or.a.createElement(c,yo()({"aria-labelledby":this.id},f))},t.prototype.render=function e(){var n=this.props,r=n._key,i=n.root,o=n.checked,a=n.disabled,s=n.onClick,u=n.helper,l=n.children,c=i.props,f=c.prefix,p=c.labelToggleChecked,h=Dc(Object.keys(t.propTypes),this.props),d=yo()({_key:r,root:i,disabled:a,type:"item",onClick:s,onKeyDown:this.handleKeyDown},h);p&&!a&&(d.onClick=this.handleClick);var m=void 0;return"string"==typeof l&&(m=l),or.a.createElement(xu,yo()({"aria-checked":o,title:m},d),this.renderCheck(),or.a.createElement("span",{className:f+"menu-item-text",id:this.id},l),u?or.a.createElement("div",{className:f+"menu-item-helper"},u):null)},t}(ir.Component),Rc.propTypes={_key:To.a.string,root:To.a.object,disabled:To.a.bool,inlineIndent:To.a.number,checked:To.a.bool,indeterminate:To.a.bool,onChange:To.a.func,checkType:To.a.oneOf(["checkbox","radio"]),checkDisabled:To.a.bool,helper:To.a.node,children:To.a.node,onKeyDown:To.a.func,onClick:To.a.func,id:To.a.string},Rc.defaultProps={disabled:!1,checked:!1,indeterminate:!1,checkType:"checkbox",checkDisabled:!1,onChange:Mc},Pc),Fc,zc;Lc.displayName="CheckableItem";var Bc=(zc=Fc=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t=this.props,n=t.checkboxDisabled,r=wo()(t,["checkboxDisabled"]);return or.a.createElement(Lc,yo()({role:"menuitemcheckbox",checkType:"checkbox",checkDisabled:n},r))},t}(ir.Component),Fc.menuChildType="item",Fc.propTypes={checked:To.a.bool,indeterminate:To.a.bool,disabled:To.a.bool,onChange:To.a.func,helper:To.a.node,children:To.a.node,checkboxDisabled:To.a.bool},Fc.defaultProps={checked:!1,indeterminate:!1,disabled:!1,onChange:function e(){},checkboxDisabled:!1},zc),Uc,Wc;Bc.displayName="CheckboxItem";var Vc=(Wc=Uc=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){return or.a.createElement(Lc,yo()({role:"menuitemradio",checkType:"radio"},this.props))},t}(ir.Component),Uc.menuChildType="item",Uc.propTypes={checked:To.a.bool,disabled:To.a.bool,onChange:To.a.func,helper:To.a.node,children:To.a.node},Uc.defaultProps={checked:!1,disabled:!1,onChange:function e(){}},Wc),Hc,Gc;Vc.displayName="RadioItem";var qc=(Gc=Hc=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.root,i=n.className,o=n.label,a=n.children,s=n.parentMode,u=wo()(n,["root","className","label","children","parentMode"]),l=r.props.prefix,c=Us()(((t={})[l+"menu-group-label"]=!0,t[i]=!!i,t)),f=a.map(function(e){var t;if("function"!=typeof e&&"object"!==(void 0===e?"undefined":Ro()(e)))return e;var n=e.props.className,r=Us()(((t={})[l+"menu-group-item"]=!0,t[n]=!!n,t));return Object(ir.cloneElement)(e,{parentMode:s,className:r})});return[or.a.createElement(xu,yo()({key:"menu-group-label",className:c,replaceClassName:!0,root:r,parentMode:s},u),o)].concat(f)},t}(ir.Component),Hc.menuChildType="group",Hc.propTypes={root:To.a.object,className:To.a.string,label:To.a.node,children:To.a.node,parentMode:To.a.oneOf(["inline","popup"])},Gc),Kc,Xc;qc.displayName="Group";var Yc=(Xc=Kc=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.root,i=n.className,o=wo()(n,["root","className"]),a=r.props.prefix,s=Us()(((t={})[a+"menu-divider"]=!0,t[i]=!!i,t));return or.a.createElement("li",yo()({role:"separator",className:s},o))},t}(ir.Component),Kc.menuChildType="divider",Kc.propTypes={root:To.a.object,className:To.a.string},Xc),Zc,$c;Yc.displayName="Divider";var Jc=Za.bindCtx,Qc=zs.getContextProps,ef=zs.config(ec),tf=void 0,nf=($c=Zc=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return r.state={visible:!0},Jc(r,["handleOverlayClose","handleOverlayOpen","handleItemClick","getOverlay"]),r}return ko()(t,e),t.prototype.getOverlay=function e(t){this.overlay=t},t.prototype.close=function e(){this.setState({visible:!1}),tf=null},t.prototype.handleOverlayClose=function e(t,n){var r;if(!("docClick"===t&&this.popupNodes.some(function(e){return e.contains(n.target)}))){this.close();var i=this.props.overlayProps;if(i&&i.onRequestClose){for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];i.onRequestClose.apply(i,[t,n].concat(a))}}},t.prototype.handleOverlayOpen=function e(){this.popupNodes=this.overlay.getInstance().getContent().getInstance().popupNodes;var t=this.props.overlayProps;t&&t.onOpen&&t.onOpen()},t.prototype.handleItemClick=function e(){var t;this.close(),this.props.onItemClick&&(t=this.props).onItemClick.apply(t,arguments)},t.prototype.render=function e(){var t,n,r=this.props,i=r.className,o=r.popupClassName,a=r.target,s=r.align,u=r.offset,l=r.afterClose,c=r.overlayProps,f=void 0===c?{}:c,p=wo()(r,["className","popupClassName","target","align","offset","afterClose","overlayProps"]),h=Qc(this.props),d=h.prefix,m=this.state.visible,g=yo()({},h,f,{target:a,align:s,offset:u,afterClose:l,visible:m,onRequestClose:this.handleOverlayClose,onOpen:this.handleOverlayOpen,ref:this.getOverlay}),v=yo()({},h,{triggerType:"hover"},p,{className:Us()((t={},t[d+"context"]=!0,t[i]=!!i,t)),popupClassName:Us()((n={},n[d+"context"]=!0,n[o]=!!o,n)),onItemClick:this.handleItemClick});return g.rtl=!1,or.a.createElement(Cl,g,or.a.createElement(ef,v))},t}(ir.Component),Zc.propTypes={className:To.a.string,popupClassName:To.a.string,target:To.a.any,align:To.a.string,offset:To.a.array,overlayProps:To.a.object,afterClose:To.a.func,mode:To.a.oneOf(["inline","popup"]),onOpen:To.a.func,onItemClick:To.a.func},Zc.defaultProps={prefix:"next-",align:"tl tl",mode:"popup"},$c);function rf(e){tf&&tf.destroy();var t=e.afterClose,n=wo()(e,["afterClose"]),r=document.createElement("div");document.body.appendChild(r);var i=function e(){Object(er.unmountComponentAtNode)(r),document.body.removeChild(r),t&&t()},o=zs.getContext(),a=void 0;return Object(er.render)(or.a.createElement(zs,o,or.a.createElement(nf,yo()({ref:function e(t){a=t},afterClose:i},n))),r),tf={destroy:function e(){a&&a.close()}}}nf.displayName="ContextMenu",ec.SubMenu=Ul,ec.Item=ku,ec.CheckboxItem=Bc,ec.RadioItem=Vc,ec.PopupItem=Dl,ec.Group=qc,ec.Divider=Yc,ec.create=rf;var of=function e(t,n){if("indentSize"in t){n("indentSize","inlineIndent","Menu");var r=t,i=r.indentSize,o=wo()(r,["indentSize"]);t=yo()({inlineIndent:i},o)}if("onDeselect"in t&&(n("onDeselect","onSelect","Menu"),t.onDeselect)){var a=t,s=a.onDeselect,u=a.onSelect,l=wo()(a,["onDeselect","onSelect"]),c=function e(t,n,r){r.select||s(r.key),u&&u(t,n,r)};t=yo()({onSelect:c},l)}return t},af=zs.config(ec,{transform:of}),sf,uf,lf=(uf=sf=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return r.getMenuRef=r.getMenuRef.bind(r),r}return ko()(t,e),t.prototype.getChildContext=function e(){var t=this.props,n=t.prefix,r=t.direction,i=t.mode,o=t.iconOnly,a=t.hasTooltip,s=t.hasArrow,u=this.context.isCollapse;return{prefix:n,mode:"hoz"===r?"popup":i,iconOnly:"iconOnly"in this.props?o:u,hasTooltip:a,hasArrow:s}},t.prototype.getMenuRef=function e(t){this.menu=t},t.prototype.render=function e(){var t,n,r=this.props,i=r.prefix,o=r.className,a=r.style,s=r.children,u=r.type,l=r.direction,c=r.activeDirection,f=r.mode,p=r.triggerType,h=r.inlineIndent,d=r.openMode,m=r.popupAlign,g=r.popupClassName,v=r.iconOnly,y=r.hasArrow,b=r.hasTooltip,w=r.embeddable,x=r.popupProps,_=r.rtl,C=wo()(r,["prefix","className","style","children","type","direction","activeDirection","mode","triggerType","inlineIndent","openMode","popupAlign","popupClassName","iconOnly","hasArrow","hasTooltip","embeddable","popupProps","rtl"]),E=this.context.isCollapse,S="iconOnly"in this.props?v:E,k=c;!k||("hoz"!==l||"left"!==k&&"right"!==k)&&("ver"!==l||"top"!==k&&"bottom"!==k)||(k=null),S||void 0!==k||(k="hoz"===l?"bottom":"line"===u?"right":"left");var O=Us()(((t={})[i+"nav"]=!0,t[""+i+u]=u,t[i+"active"]=k,t[""+i+k]=k,t[i+"icon-only"]=S,t[i+"no-arrow"]=!y,t[i+"nav-embeddable"]=w,t[o]=!!o,t)),T=S?yo()({},a,{width:"58px"}):a,N={prefix:i,direction:l,openMode:d,triggerType:p,mode:"hoz"===l?"popup":f,popupAlign:"hoz"===l?"follow":m,inlineIndent:S?0:h,hasSelectedIcon:!1,popupAutoWidth:!0,selectMode:"single",itemClassName:i+"nav-item",popupClassName:Us()((n={},n[O.replace(i+"icon-only","").replace(i+"nav-embeddable","")]="popup"===f,n[i+"icon-only"]=S&&"inline"===f,n[g]=!!g,n)),popupProps:function e(t){return yo()({offset:"hoz"===l&&1===t.level?[0,2]:[-2,0]},x)}};return or.a.createElement(af,yo()({className:O,style:T},N,C,{ref:this.getMenuRef}),s)},t}(ir.Component),sf.propTypes={prefix:To.a.string,pure:To.a.bool,rtl:To.a.bool,className:To.a.string,style:To.a.object,children:To.a.node,type:To.a.oneOf(["normal","primary","secondary","line"]),direction:To.a.oneOf(["hoz","ver"]),hozAlign:To.a.oneOf(["left","right"]),activeDirection:To.a.oneOf([null,"top","bottom","left","right"]),mode:To.a.oneOf(["inline","popup"]),triggerType:To.a.oneOf(["click","hover"]),inlineIndent:To.a.number,defaultOpenAll:To.a.bool,openMode:To.a.oneOf(["single","multiple"]),selectedKeys:To.a.oneOfType([To.a.string,To.a.array]),defaultSelectedKeys:To.a.oneOfType([To.a.string,To.a.array]),onSelect:To.a.func,popupAlign:To.a.oneOf(["follow","outside"]),popupClassName:To.a.string,iconOnly:To.a.bool,hasArrow:To.a.bool,hasTooltip:To.a.bool,header:To.a.node,footer:To.a.node,embeddable:To.a.bool,popupProps:To.a.object},sf.defaultProps={prefix:"next-",pure:!1,type:"normal",direction:"ver",hozAlign:"left",mode:"inline",triggerType:"click",inlineIndent:20,defaultOpenAll:!1,openMode:"multiple",defaultSelectedKeys:[],popupAlign:"follow",hasTooltip:!1,embeddable:!1,hasArrow:!0,popupProps:{}},sf.childContextTypes={prefix:To.a.string,mode:To.a.string,iconOnly:To.a.bool,hasTooltip:To.a.bool,hasArrow:To.a.bool},sf.contextTypes={isCollapse:To.a.bool},uf);lf.displayName="Nav";var cf=zs.config(lf),ff={t:{align:"bc tc",rtlAlign:"bc tc",arrow:"bottom",trOrigin:"bottom",rtlTrOrigin:"bottom",offset:[0,-12]},r:{align:"cl cr",rtlAlign:"cr cl",arrow:"left",trOrigin:"left",rtlTrOrigin:"right",offset:[12,0]},b:{align:"tc bc",rtlAlign:"tc bc",arrow:"top",trOrigin:"top",rtlTrOrigin:"top",offset:[0,12]},l:{align:"cr cl",rtlAlign:"cl cr",arrow:"right",trOrigin:"right",rtlTrOrigin:"left",offset:[-12,0]},tl:{align:"br tc",rtlAlign:"bl tc",arrow:"bottom-right",trOrigin:"bottom right",rtlTrOrigin:"bottom left",offset:[20,-12]},tr:{align:"bl tc",rtlAlign:"br tc",arrow:"bottom-left",trOrigin:"bottom left",rtlTrOrigin:"bottom right",offset:[-20,-12]},rt:{align:"bl cr",rtlAlign:"br cl",arrow:"left-bottom",trOrigin:"bottom left",rtlTrOrigin:"bottom right",offset:[12,20]},rb:{align:"tl cr",rtlAlign:"tr cl",arrow:"left-top",trOrigin:"top left",rtlTrOrigin:"top right",offset:[12,-20]},bl:{align:"tr bc",rtlAlign:"tl bc",arrow:"top-right",trOrigin:"top right",rtlTrOrigin:"top left",offset:[20,12]},br:{align:"tl bc",rtlAlign:"tr bc",arrow:"top-left",trOrigin:"top left",rtlTrOrigin:"top right",offset:[-20,12]},lt:{align:"br cl",rtlAlign:"bl cr",arrow:"right-bottom",trOrigin:"bottom right",rtlTrOrigin:"bottom left",offset:[-12,20]},lb:{align:"tr cl",rtlAlign:"tl cr",arrow:"right-top",trOrigin:"top right",rtlTrOrigin:"top left",offset:[-12,-20]}},pf={t:{align:"bc tc",rtlAlign:"bc tc",arrow:"bottom",trOrigin:"bottom",rtlTrOrigin:"bottom",offset:[0,-12]},r:{align:"cl cr",rtlAlign:"cr cl",arrow:"left",trOrigin:"left",rtlTrOrigin:"right",offset:[12,0]},b:{align:"tc bc",rtlAlign:"tc bc",arrow:"top",trOrigin:"top",rtlTrOrigin:"top",offset:[0,12]},l:{align:"cr cl",rtlAlign:"cl cr",arrow:"right",trOrigin:"right",rtlTrOrigin:"left",offset:[-12,0]},tl:{align:"bl tl",rtlAlign:"br tr",arrow:"bottom-left",trOrigin:"bottom left",rtlTrOrigin:"bottom right",offset:[0,-12]},tr:{align:"br tr",rtlAlign:"bl tl",arrow:"bottom-right",trOrigin:"bottom right",rtlTrOrigin:"bottom left",offset:[0,-12]},rt:{align:"tl tr",rtlAlign:"tr tl",arrow:"left-top",trOrigin:"top left",rtlTrOrigin:"top right",offset:[12,0]},rb:{align:"bl br",rtlAlign:"br bl",arrow:"left-bottom",trOrigin:"bottom left",rtlTrOrigin:"bottom right",offset:[12,0]},bl:{align:"tl bl",rtlAlign:"tr br",arrow:"top-left",trOrigin:"top left",rtlTrOrigin:"top right",offset:[0,12]},br:{align:"tr br",rtlAlign:"tl bl",arrow:"top-right",trOrigin:"top right",rtlTrOrigin:"top left",offset:[0,12]},lt:{align:"tr tl",rtlAlign:"tl tr",arrow:"right-top",trOrigin:"top right",rtlTrOrigin:"top left",offset:[-12,0]},lb:{align:"br bl",rtlAlign:"bl br",arrow:"right-bottom",trOrigin:"bottom right",rtlTrOrigin:"bottom left",offset:[-12,0]}},hf,df,mf=Za.noop,gf=(df=hf=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.closable,a=r.className,s=r.style,u=r.isTooltip,l=r.align,c=r.type,f=r.onClose,p=r.alignEdge,h=r.children,d=r.rtl,m=r.locale,g=wo()(r,["prefix","closable","className","style","isTooltip","align","type","onClose","alignEdge","children","rtl","locale"]),v=p?pf:ff,y=i;y+=u?"balloon-tooltip":"balloon";var b=Us()(((n={})[""+y]=!0,n[y+"-"+c]=c,n[y+"-medium"]=!0,n[y+"-"+v[l].arrow]=v[l],n[y+"-closable"]=o,n[a]=a,n));return or.a.createElement("div",yo()({role:"tooltip","aria-live":"polite",dir:d?"rtl":void 0,className:b,style:s},Ja.pickOthers(Object.keys(t.propTypes),g)),h,o?or.a.createElement("a",{role:"button","aria-label":m.close,tabIndex:"0",className:y+"-close",onClick:f},or.a.createElement(gu,{type:"close",size:"small"})):null)},t}(or.a.Component),hf.contextTypes={prefix:To.a.string},hf.propTypes={prefix:To.a.string,rtl:To.a.bool,closable:To.a.bool,children:To.a.any,className:To.a.string,alignEdge:To.a.bool,onClose:To.a.func,style:To.a.any,align:To.a.string,type:To.a.string,isTooltip:To.a.bool,locale:To.a.object,pure:To.a.bool},hf.defaultProps={prefix:"next-",closable:!0,onClose:mf,locale:Ao.Balloon,align:"b",type:"normal",alignEdge:!1,pure:!1},df);gf.displayName="BalloonInner";var vf=gf,yf,bf;function wf(e){if("Config(Button)"===e.type.displayName&&e.props.disabled){var t=e.props.style&&e.props.style.display?e.props.style.display:"inline-block",n=or.a.cloneElement(e,{style:yo()({},e.props.style,{pointerEvents:"none"})});return or.a.createElement("span",{style:{display:t,cursor:"not-allowed"}},n)}return e}var xf=Za.noop,_f=Cl.Popup,Cf=["t","r","b","l","tl","tr","bl","br","lt","lb","rt","rb"],Ef=ff,Sf=(bf=yf=function(e){function t(n,r){_o()(this,t);var i=Eo()(this,e.call(this,n,r));return i.state={align:Cf.includes(n.align)?n.align:"b",visible:"visible"in n?n.visible:n.defaultVisible},i._onClose=i._onClose.bind(i),i._onPosition=i._onPosition.bind(i),i._onVisibleChange=i._onVisibleChange.bind(i),i}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){var r={};return"visible"in t&&(r.visible=t.visible),!n.innerAlign&&"align"in t&&Cf.includes(t.align)&&(r.align=t.align,r.innerAlign=!1),r},t.prototype._onVisibleChange=function e(t,n){"visible"in this.props||this.setState({visible:t}),this.props.onVisibleChange(t,n),t||this.props.onClose()},t.prototype._onClose=function e(t){this._onVisibleChange(!1,"closeClick"),t.preventDefault()},t.prototype._onPosition=function e(t){var n=this.props.rtl;Ef=this.props.alignEdge?pf:ff;var r=t.align.join(" "),i=void 0,o="align";for(var a in n&&(o="rtlAlign"),Ef)if(Ef[a][o]===r){i=a;break}(i=i||this.state.align)!==this.state.align&&this.setState({align:i,innerAlign:!0})},t.prototype.render=function e(){var n=this.props,r=n.id,i=n.type,o=n.prefix,a=n.className,s=n.alignEdge,u=n.trigger,l=n.triggerType,c=n.children,f=n.closable,p=n.shouldUpdatePosition,h=n.delay,d=n.needAdjust,m=n.safeId,g=n.autoFocus,v=n.safeNode,y=n.onClick,b=n.onHover,w=n.animation,x=n.offset,_=n.style,C=n.container,E=n.popupContainer,S=n.cache,k=n.popupStyle,O=n.popupClassName,T=n.popupProps,N=n.followTrigger,A=n.rtl,I=wo()(n,["id","type","prefix","className","alignEdge","trigger","triggerType","children","closable","shouldUpdatePosition","delay","needAdjust","safeId","autoFocus","safeNode","onClick","onHover","animation","offset","style","container","popupContainer","cache","popupStyle","popupClassName","popupProps","followTrigger","rtl"]);C&&$a.deprecated("container","popupContainer","Balloon");var R=this.state.align;Ef=s?pf:ff;var P=this.context.prefix||o,M="trOrigin";A&&(M="rtlTrOrigin");var j=[Ef[R].offset[0]+x[0],Ef[R].offset[1]+x[1]],D=Ef[R][M],L=yo()({transformOrigin:D},_),F=or.a.createElement(vf,yo()({},Ja.pickOthers(Object.keys(t.propTypes),I),{id:r,prefix:P,closable:f,onClose:this._onClose,className:a,style:L,align:R,type:i,rtl:A,alignEdge:s}),c),z={};z["aria-describedby"]=r,z.tabIndex="0";var B=r?or.a.cloneElement(u,z):u,U=wf(or.a.isValidElement(B)?B:or.a.createElement("span",null,B));return or.a.createElement(_f,yo()({},T,{followTrigger:N,trigger:U,cache:S,safeId:m,triggerType:l,align:Ef[R].align,offset:j,visible:this.state.visible,onPosition:this._onPosition,onClick:y,onHover:b,afterClose:this.props.afterClose,onVisibleChange:this._onVisibleChange,shouldUpdatePosition:p,needAdjust:d,animation:w,delay:h,autoFocus:"focus"!==l&&g,safeNode:v,container:E||C,className:O,style:k,rtl:A}),F)},t}(or.a.Component),yf.contextTypes={prefix:To.a.string},yf.propTypes={prefix:To.a.string,pure:To.a.bool,rtl:To.a.bool,className:To.a.string,style:To.a.object,children:To.a.any,size:To.a.string,type:To.a.oneOf(["normal","primary"]),visible:To.a.bool,defaultVisible:To.a.bool,onVisibleChange:To.a.func,alignEdge:To.a.bool,closable:To.a.bool,align:To.a.oneOf(Cf),offset:To.a.array,trigger:To.a.any,triggerType:To.a.oneOfType([To.a.string,To.a.array]),onClick:To.a.func,onClose:To.a.func,onHover:To.a.func,needAdjust:To.a.bool,delay:To.a.number,afterClose:To.a.func,shouldUpdatePosition:To.a.bool,autoFocus:To.a.bool,safeNode:To.a.string,safeId:To.a.string,animation:To.a.oneOfType([To.a.object,To.a.bool]),cache:To.a.bool,popupContainer:To.a.any,container:To.a.any,popupStyle:To.a.object,popupClassName:To.a.string,popupProps:To.a.object,followTrigger:To.a.bool,id:To.a.string},yf.defaultProps={prefix:"next-",pure:!1,type:"normal",closable:!0,defaultVisible:!1,size:"medium",alignEdge:!1,align:"b",offset:[0,0],trigger:or.a.createElement("span",null),onClose:xf,afterClose:xf,onVisibleChange:xf,needAdjust:!1,triggerType:"hover",safeNode:void 0,safeId:null,autoFocus:!0,animation:{in:"zoomIn",out:"zoomOut"},cache:!1,popupStyle:{},popupClassName:"",popupProps:{}},bf);Sf.displayName="Balloon";var kf=Object(No.polyfill)(Sf),Of,Tf,Nf=Cl.Popup,Af=ff,If=(Tf=Of=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t=this.props,n=t.id,r=t.className,i=t.align,o=t.style,a=t.prefix,s=t.trigger,u=t.children,l=t.popupContainer,c=t.popupProps,f=t.popupClassName,p=t.popupStyle,h=t.followTrigger,d=t.triggerType,m=t.autoFocus,g=t.alignEdge,v=t.rtl,y=t.delay,b=wo()(t,["id","className","align","style","prefix","trigger","children","popupContainer","popupProps","popupClassName","popupStyle","followTrigger","triggerType","autoFocus","alignEdge","rtl","delay"]),w="trOrigin";v&&(b.rtl=!0,w="rtlTrOrigin");var x=(Af=g?pf:ff)[i][w],_=Af[i].offset,C=yo()({transformOrigin:x},o),E=or.a.createElement(vf,yo()({},b,{id:n,prefix:a,closable:!1,isTooltip:!0,className:r,style:C,align:i,rtl:v,alignEdge:g}),u),S={};S["aria-describedby"]=n,S.tabIndex="0";var k=d;"hover"===d&&n&&(k=["focus","hover"]);var O=n?or.a.cloneElement(s,S):s,T=wf(or.a.isValidElement(O)?O:or.a.createElement("span",null,O));return or.a.createElement(Nf,yo()({role:"tooltip",container:l,followTrigger:h,trigger:T,triggerType:k,align:Af[i].align,offset:_,delay:y,className:f,style:p,rtl:v,autoFocus:"focus"!==d&&m,shouldUpdatePosition:!0,needAdjust:!1},c),E)},t}(or.a.Component),Of.propTypes={prefix:To.a.string,className:To.a.string,style:To.a.object,children:To.a.any,align:To.a.oneOf(["t","r","b","l","tl","tr","bl","br","lt","lb","rt","rb"]),trigger:To.a.any,triggerType:To.a.oneOfType([To.a.string,To.a.array]),popupStyle:To.a.object,popupClassName:To.a.string,popupProps:To.a.object,pure:To.a.bool,popupContainer:To.a.any,followTrigger:To.a.bool,id:To.a.string,delay:To.a.number},Of.defaultProps={triggerType:"hover",prefix:"next-",align:"b",delay:0,trigger:or.a.createElement("span",null)},Tf);If.displayName="Tooltip",kf.Tooltip=zs.config(If,{transform:function e(t,n){if("text"in t){n("text","children","Tooltip");var r=t,i=r.text,o=wo()(r,["text"]);t=yo()({children:i},o)}return t}}),kf.Inner=vf;var Rf,Pf,Mf,jf=zs.config(kf,{transform:function e(t,n){if(t.alignment){n("alignment","alignEdge","Balloon");var r=t,i=r.alignment,o=wo()(r,["alignment"]);t=yo()({alignEdge:"edge"===i},o)}if(t.onCloseClick){n("onCloseClick",'onVisibleChange(visible, [type = "closeClick"])',"Balloon");var a=t,s=a.onCloseClick,u=a.onVisibleChange,l=wo()(a,["onCloseClick","onVisibleChange"]),c=function e(t,n){"closeClick"===n&&s(),u&&u(t,n)};t=yo()({onVisibleChange:c},l)}return t}}).Tooltip,Df=(Mf=Pf=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t=this.context,n=t.prefix,r=t.iconOnly,i=t.hasTooltip,o=this.props,a=o.icon,s=o.children,u=wo()(o,["icon","children"]),l="string"==typeof a?or.a.createElement(gu,{className:n+"nav-icon",type:a}):a,c=void 0;"string"==typeof s&&(c=s);var f=or.a.createElement(af.Item,yo()({title:c},u),l,s);return r&&i&&"popup"!==u.parentMode?or.a.createElement(jf,{align:"r",trigger:f},s):f},t}(ir.Component),Pf.menuChildType="item",Pf.propTypes={icon:To.a.oneOfType([To.a.string,To.a.node]),children:To.a.node,parentMode:To.a.oneOf(["inline","popup"])},Pf.contextTypes={prefix:To.a.string,iconOnly:To.a.bool,hasTooltip:To.a.bool},Mf);Df.displayName="Item";var Lf=Df,Ff,zf,Bf=(zf=Ff=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t,n=this.context,r=n.prefix,i=n.iconOnly,o=this.props,a=o.className,s=o.children,u=o.label,l=wo()(o,["className","children","label"]),c=u;i&&(c=[or.a.createElement("span",{key:"label"},u)]);var f=Us()(((t={})[r+"nav-group-label"]=!0,t[a]=!!a,t));return or.a.createElement(af.Group,yo()({className:f,label:c},l),s)},t}(ir.Component),Ff.menuChildType="group",Ff.propTypes={className:To.a.string,label:To.a.node,children:To.a.node},Ff.contextTypes={prefix:To.a.string,iconOnly:To.a.bool},zf);Bf.displayName="Group";var Uf=Bf,Wf,Vf,Hf=(Vf=Wf=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t,n=this.context,r=n.prefix,i=n.iconOnly,o=n.hasArrow,a=n.mode,s=this.props,u=s.className,l=s.icon,c=s.label,f=s.children,p=s.level,h=wo()(s,["className","icon","label","children","level"]),d=Us()(((t={})[r+"nav-sub-nav-item"]=!0,t[u]=!!u,t)),m="string"==typeof l?or.a.createElement(gu,{className:r+"nav-icon",type:l}):l;i&&o&&("inline"===a||1===p&&"popup"===a)&&(m=or.a.createElement(gu,{className:r+"nav-icon-only-arrow",type:"popup"===a?"arrow-right":"arrow-down"}));var g=[m?Object(ir.cloneElement)(m,{key:"icon"}):null,or.a.createElement("span",{key:"label"},c)],v=void 0;return"string"==typeof c&&(v=c),or.a.createElement(af.SubMenu,yo()({className:d,label:g,level:p,title:v},h),f)},t}(ir.Component),Wf.menuChildType="submenu",Wf.propTypes={className:To.a.string,icon:To.a.oneOfType([To.a.string,To.a.node]),label:To.a.node,selectable:To.a.bool,children:To.a.node},Wf.defaultProps={selectable:!1},Wf.contextTypes={prefix:To.a.string,mode:To.a.string,iconOnly:To.a.bool,hasArrow:To.a.bool},Vf);Hf.displayName="SubNav";var Gf=Hf,qf,Kf,Xf=(Kf=qf=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t,n=this.context,r=n.prefix,i=n.iconOnly,o=n.hasArrow,a=this.props,s=a.className,u=a.icon,l=a.label,c=a.children,f=wo()(a,["className","icon","label","children"]),p=Us()(((t={})[r+"nav-popup-item"]=!0,t[s]=!!s,t)),h="string"==typeof u?or.a.createElement(gu,{className:r+"nav-icon",type:u}):u;i&&o&&(h=or.a.createElement(gu,{className:r+"nav-icon-only-arrow",type:"arrow-right"}));var d=[h?Object(ir.cloneElement)(h,{key:"icon"}):null,or.a.createElement("span",{key:"label"},l)];return or.a.createElement(af.PopupItem,yo()({className:p,label:d},f),c)},t}(ir.Component),qf.menuChildType="submenu",qf.propTypes={className:To.a.string,icon:To.a.oneOfType([To.a.string,To.a.node]),label:To.a.node,children:To.a.node},qf.contextTypes={prefix:To.a.string,iconOnly:To.a.bool,hasArrow:To.a.bool},Kf);Xf.displayName="PopupItem";var Yf=Xf;cf.Item=Lf,cf.Group=Uf,cf.SubNav=Gf,cf.PopupItem=Yf,cf.Divider=af.Divider;var Zf=cf,$f=n(464);function Jf(e){"@babel/helpers - typeof";return(Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tp(e,t,n){return t&&ep(e.prototype,t),n&&ep(e,n),e}function np(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rp(e,t)}function rp(e,t){return(rp=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ip(e){return function(){var t=up(e),n;if(sp()){var r=up(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return op(this,n)}}function op(e,t){return!t||"object"!==Jf(t)&&"function"!=typeof t?ap(e):t}function ap(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function up(e){return(up=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var lp=Zf.Item,cp=or.a.createElement("a",{href:"/index.html",style:{color:"#000"}},or.a.createElement("span",{className:"header"},"PipBoard")),fp=function(e){np(n,e);var t=ip(n);function n(){var e;Qf(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).select=function(e){location.href="/index.html#/".concat(e[0])},e}return tp(n,[{key:"render",value:function e(){return or.a.createElement("div",{className:"dashboard"},or.a.createElement(Zf,{className:"basic-nav",onSelect:this.select,direction:"hoz",hozAlign:"left",activeDirection:"top",type:"normal",header:cp,selectedKeys:[location.hash.replace(/#\//,"")||"home"],triggerType:"hover"},or.a.createElement(lp,{key:"pipeline"},"Pipelines"),or.a.createElement(lp,{key:"jobs"},"Jobs")),this.props.children)}}]),n}(ir.Component),pp=n(514),hp=function e(t){location.href=t};function dp(e){var t=e.items;return or.a.createElement("div",{className:"card-wrapper"},t.map(function(e){return or.a.createElement("div",{className:"card-item",onClick:function t(){hp(e.url)}},or.a.createElement("img",{className:"card-img",src:e.cover,alt:""}),or.a.createElement("h5",{className:"card-title"},e.title),or.a.createElement("p",{className:"card-desc"},e.description))}))}var mp=n(515),gp=[{title:"MNIST Handwritten Digit Recognition",cover:"https://img.alicdn.com/tfs/TB1GtzSy.T1gK0jSZFrXXcNCXXa-480-360.jpg",description:"We have trained a neural network to recognize handwritten digits. You can have a try to give your own handwritten digit",url:"/index.html#/tutorial/mnist"},{title:"Image Classification for Front-end Assets",cover:"https://gw.alicdn.com/tfs/TB1yujRgUY1gK0jSZFMXXaWcVXa-524-410.png",description:"Use CNN trained by Pipcook to try understand the meaning of image assets used in Taobao App",url:"/index.html#/tutorial/assets-classification"}];function vp(){return or.a.createElement("div",{className:"tutorial"},or.a.createElement(dp,{items:gp}))}var yp=n(516),bp,wp;function xp(e){return{large:"small",medium:"xs",small:"xs"}[e]}var _p=(wp=bp=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.onMouseUp=function(e){r.button.blur(),r.props.onMouseUp&&r.props.onMouseUp(e)},r.buttonRefHandler=function(e){r.button=e},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.className,a=r.type,s=r.size,u=r.htmlType,l=r.loading,c=r.text,f=r.warning,p=r.ghost,h=r.component,d=r.iconSize,m=r.icons,g=r.disabled,v=r.onClick,y=r.children,b=r.rtl,w=wo()(r,["prefix","className","type","size","htmlType","loading","text","warning","ghost","component","iconSize","icons","disabled","onClick","children","rtl"]),x=["light","dark"].indexOf(p)>=0?p:"dark",_=((n={})[i+"btn"]=!0,n[""+i+s]=s,n[i+"btn-"+a]=a&&!p,n[i+"btn-text"]=c,n[i+"btn-warning"]=f,n[i+"btn-loading"]=l,n[i+"btn-ghost"]=p,n[i+"btn-"+x]=p,n[o]=o,n),C=null;if(m&&m.loading&&Object(ir.isValidElement)(m.loading)){var E;l&&(delete _[i+"btn-loading"],_[i+"btn-custom-loading"]=!0);var S=d||xp(s);C=or.a.cloneElement(m.loading,{className:Us()((E={},E[i+"btn-custom-loading-icon"]=!0,E.show=l,E)),size:S})}var k=ir.Children.count(y),O=ir.Children.map(y,function(e,t){if(e&&"function"==typeof e.type&&"icon"===e.type._typeMark){var n,r=Us()(((n={})[i+"btn-icon"]=!d,n[i+"icon-first"]=k>1&&0===t,n[i+"icon-last"]=k>1&&t===k-1,n[i+"icon-alone"]=1===k,n[e.props.className]=!!e.props.className,n));return"size"in e.props&&$a.warning('The size of Icon will not take effect, when Icon is the [direct child element] of Button(<Button><Icon size="'+e.props.size+'" /></Button>), use <Button iconSize="'+e.props.size+'"> or <Button><div><Icon size="'+e.props.size+'" /></div></Button> instead of.'),or.a.cloneElement(e,{className:r,size:d||xp(s)})}return Object(ir.isValidElement)(e)?e:or.a.createElement("span",{className:i+"btn-helper"},e)}),T=h,N=yo()({},Ja.pickOthers(Object.keys(t.propTypes),w),{type:u,disabled:g,onClick:v,className:Us()(_)});return"button"!==T&&(delete N.type,N.disabled&&(delete N.onClick,N.href&&delete N.href)),or.a.createElement(T,yo()({},N,{dir:b?"rtl":void 0,onMouseUp:this.onMouseUp,ref:this.buttonRefHandler}),C,O)},t}(ir.Component),bp.propTypes=yo()({},zs.propTypes,{prefix:To.a.string,rtl:To.a.bool,type:To.a.oneOf(["primary","secondary","normal"]),size:To.a.oneOf(["small","medium","large"]),icons:To.a.shape({loading:To.a.node}),iconSize:To.a.oneOfType([To.a.oneOf(["xxs","xs","small","medium","large","xl","xxl","xxxl","inherit"]),To.a.number]),htmlType:To.a.oneOf(["submit","reset","button"]),component:To.a.oneOf(["button","a","div","span"]),loading:To.a.bool,ghost:To.a.oneOf([!0,!1,"light","dark"]),text:To.a.bool,warning:To.a.bool,disabled:To.a.bool,onClick:To.a.func,className:To.a.string,onMouseUp:To.a.func,children:To.a.node}),bp.defaultProps={prefix:"next-",type:"normal",size:"medium",icons:{},htmlType:"button",component:"button",loading:!1,ghost:!1,text:!1,warning:!1,disabled:!1,onClick:function e(){}},wp),Cp,Ep;_p.displayName="Button";var Sp=(Ep=Cp=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.className,o=n.size,a=n.children,s=n.rtl,u=wo()(n,["prefix","className","size","children","rtl"]),l=Us()(((t={})[r+"btn-group"]=!0,t[i]=i,t)),c=ir.Children.map(a,function(e){if(e)return or.a.cloneElement(e,{size:o})});return s&&(u.dir="rtl"),or.a.createElement("div",yo()({},u,{className:l}),c)},t}(ir.Component),Cp.propTypes=yo()({},zs.propTypes,{rtl:To.a.bool,prefix:To.a.string,size:To.a.string,className:To.a.string,children:To.a.node}),Cp.defaultProps={prefix:"next-",size:"medium"},Ep);Sp.displayName="ButtonGroup";var kp=zs.config(Sp);_p.Group=kp;var Op=zs.config(_p,{transform:function e(t,n){if("shape"in t){n("shape","text | warning | ghost","Button");var r=t,i=r.shape,o=r.type,a=wo()(r,["shape","type"]),s=o;("light"===o||"dark"===o||"secondary"===o&&"warning"===i)&&(s="normal");var u=void 0;"ghost"===i&&(u={primary:"dark",secondary:"dark",normal:"light",dark:"dark",light:"light"}[o||_p.defaultProps.type]);var l="text"===i,c="warning"===i;t=yo()({type:s,ghost:u,text:l,warning:c},a)}return t}}),Tp=n(233),Np=n.n(Tp),Ap=n(234),Ip=n.n(Ap),Rp=n(520),Pp,Mp,jp=function e(){},Dp=(Mp=Pp=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.state={visible:void 0===r.props.visible?r.props.defaultVisible:r.props.visible},r.onClose=function(){"visible"in r.props||r.setState({visible:!1}),r.props.onClose(!1)},i=n,Eo()(r,i)}return ko()(t,e),t.getDerivedStateFromProps=function e(t){return"visible"in t?{visible:t.visible}:{}},t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.pure,a=r.className,s=r.style,u=r.type,l=r.shape,c=r.size,f=r.title,p=r.children,h=r.defaultVisible,d=r.visible,m=r.iconType,g=r.closeable,v=r.onClose,y=r.afterClose,b=r.animation,w=r.rtl,x=r.locale,_=yo()({},Ja.pickOthers(Object.keys(t.propTypes),this.props)),C=this.state.visible,E=i+"message",S=Us()(((n={})[E]=!0,n[i+"message-"+u]=u,n[""+i+l]=l,n[""+i+c]=c,n[i+"title-content"]=!!f,n[i+"only-content"]=!f&&!!p,n[a]=a,n)),k=C?or.a.createElement("div",yo()({role:"alert",style:s},_,{className:S,dir:w?"rtl":void 0}),g?or.a.createElement("a",{role:"button","aria-label":x.closeAriaLabel,className:E+"-close",onClick:this.onClose},or.a.createElement(gu,{type:"close"})):null,or.a.createElement(gu,{className:E+"-symbol "+(!m&&E+"-symbol-icon"),type:m}),f?or.a.createElement("div",{className:E+"-title"},f):null,p?or.a.createElement("div",{className:E+"-content"},p):null):null;return b?or.a.createElement(cu.Expand,{animationAppear:!1,afterLeave:y},k):k},t}(ir.Component),Pp.propTypes={prefix:To.a.string,pure:To.a.bool,className:To.a.string,style:To.a.object,type:To.a.oneOf(["success","warning","error","notice","help","loading"]),shape:To.a.oneOf(["inline","addon","toast"]),size:To.a.oneOf(["medium","large"]),title:To.a.node,children:To.a.node,defaultVisible:To.a.bool,visible:To.a.bool,iconType:To.a.string,closeable:To.a.bool,onClose:To.a.func,afterClose:To.a.func,animation:To.a.bool,locale:To.a.object,rtl:To.a.bool},Pp.defaultProps={prefix:"next-",pure:!1,type:"success",shape:"inline",size:"medium",defaultVisible:!0,closeable:!1,onClose:jp,afterClose:jp,animation:!0,locale:Ao.Message},Mp);Dp.displayName="Message";var Lp=zs.config(Object(No.polyfill)(Dp)),Fp,zp,Bp=zs.config,Up=void 0,Wp={},Vp=(zp=Fp=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.state={visible:!0},r.handleClose=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.setState({visible:!1}),e||r.props.onClose&&r.props.onClose()},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.componentWillUnmount=function e(){var t=this.props.timeoutId;if(t in Wp){var n=Wp[t];clearTimeout(n),delete Wp[t]}},t.prototype.render=function e(){var t=this.props,n=t.prefix,r=t.type,i=t.title,o=t.content,a=t.align,s=t.offset,u=t.hasMask,l=t.afterClose,c=t.animation,f=t.overlayProps,p=t.timeoutId,h=t.className,d=t.style,m=wo()(t,["prefix","type","title","content","align","offset","hasMask","afterClose","animation","overlayProps","timeoutId","className","style"]),g=this.state.visible;return or.a.createElement(Cl,yo()({},f,{prefix:n,animation:c,visible:g,align:a,offset:s,hasMask:u,afterClose:l}),or.a.createElement(Lp,yo()({},m,{prefix:n,visible:!0,type:r,shape:"toast",title:i,style:d,className:n+"message-wrapper "+h,onClose:this.handleClose}),o))},t}(or.a.Component),Fp.contextTypes={prefix:To.a.string},Fp.propTypes={prefix:To.a.string,type:To.a.string,title:To.a.node,content:To.a.node,align:To.a.string,offset:To.a.array,hasMask:To.a.bool,afterClose:To.a.func,animation:To.a.oneOfType([To.a.object,To.a.bool]),overlayProps:To.a.object,onClose:To.a.func,timeoutId:To.a.string,style:To.a.object,className:To.a.string},Fp.defaultProps={prefix:"next-",align:"tc tc",offset:[0,30],hasMask:!1,animation:{in:"pulse",out:"zoomOut"},style:{},className:""},zp);Vp.displayName="Mask";var Hp=Bp(Vp),Gp=function e(t){var n=t.duration,r=t.afterClose,i=wo()(t,["duration","afterClose"]),o=document.createElement("div");document.body.appendChild(o);var a=function e(){tr.a.unmountComponentAtNode(o),document.body.removeChild(o),r&&r()},s=zs.getContext(),u=void 0,l=void 0,c=!1,f=function e(){var t=u&&u.getInstance();t&&t.handleClose(!0),c=!0};return tr.a.render(or.a.createElement(zs,s,or.a.createElement(Hp,yo()({afterClose:a},i,{ref:function e(t){l=t}}))),o,function(){(u=l)&&c&&f()}),{component:u,destroy:f}};function qp(e,t){var n={};return"string"==typeof e||or.a.isValidElement(e)?n.title=e:Kp(e)&&(n=yo()({},e)),"number"!=typeof n.duration&&(n.duration=3e3),t&&(n.type=t),n}function Kp(e){return"[object Object]"==={}.toString.call(e)}function Xp(e,t){Yp(),e=qp(e,t);var n=ns();if(Up=Gp(yo()({},e,{timeoutId:n})),e.duration>0){var r=setTimeout(Yp,e.duration);Wp[n]=r}}function Yp(){Up&&(Up.destroy(),Up=null)}function Zp(e){Xp(e)}function $p(){Yp()}function Jp(e){Xp(e,"success")}function Qp(e){Xp(e,"warning")}function eh(e){Xp(e,"error")}function th(e){Xp(e,"help")}function nh(e){Xp(e,"loading")}function rh(e){Xp(e,"notice")}var ih=Zp,oh=$p,ah=Jp,sh=Qp,uh=eh,lh=th,ch=nh,fh=rh;Lp.show=ih,Lp.success=ah,Lp.warning=sh,Lp.error=uh,Lp.notice=fh,Lp.help=lh,Lp.loading=ch,Lp.hide=oh;var ph=zs.config(Lp,{componentName:"Message"});function hh(e){ph.success(e)}function dh(e){ph.show({type:"error",title:"error",content:e,hasMask:!0})}function mh(e){ph.show({type:"warning",title:"warning",content:e,hasMask:!0})}function gh(e){ph.show({type:"loading",title:"loading",content:e,hasMask:!0,duration:0})}function vh(){ph.hide()}var yh=n(521),bh,wh,xh=Za.makeChain,_h=Ja.pickOthers,Ch=function e(){},Eh=(wh=bh=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.getNode=function e(t,n){this[t]=n},t.prototype.renderHeader=function e(){var t=this.props,n=t.prefix,r=t.title;return r?(this.titleId=ns("dialog-title-"),or.a.createElement("div",{className:n+"dialog-header",id:this.titleId,ref:this.getNode.bind(this,"headerNode"),role:"heading","aria-level":"1"},r)):null},t.prototype.renderBody=function e(){var t=this.props,n=t.prefix,r=t.children;return r?or.a.createElement("div",{className:n+"dialog-body",ref:this.getNode.bind(this,"bodyNode")},r):null},t.prototype.renderFooter=function e(){var t,n=this,r=this.props,i=r.prefix,o=r.footer,a=r.footerAlign,s=r.footerActions,u=r.locale,l=r.height;if(!1===o)return null;var c=Us()(((t={})[i+"dialog-footer"]=!0,t[i+"align-"+a]=!0,t[i+"dialog-footer-fixed-height"]=!!l,t)),f=!0!==o&&o?o:s.map(function(e){var t=n.props[e+"Props"],r=yo()({},t,{prefix:i,className:Us()(i+"dialog-btn",t.className),onClick:xh(n.props["on"+(e[0].toUpperCase()+e.slice(1))],t.onClick),children:t.children||u[e]});return"ok"===e&&(r.type="primary"),or.a.createElement(Op,yo()({key:e},r))});return or.a.createElement("div",{className:c,ref:this.getNode.bind(this,"footerNode")},f)},t.prototype.renderCloseLink=function e(){var t=this.props,n=t.prefix,r=t.closeable,i=t.onClose,o=t.locale;return r?or.a.createElement("a",{role:"button","aria-label":o.close,className:n+"dialog-close",onClick:i},or.a.createElement(gu,{className:n+"dialog-close-icon",type:"close"})):null},t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.className,a=r.closeable,s=r.title,u=r.role,l=r.rtl,c=r.height,f=_h(Object.keys(t.propTypes),this.props),p=Us()(((n={})[i+"dialog"]=!0,n[i+"closeable"]=a,n[o]=!!o,n)),h=this.renderHeader(),d=this.renderBody(),m=this.renderFooter(),g=this.renderCloseLink(),v={role:u,"aria-modal":"true"};return s&&(v["aria-labelledby"]=this.titleId),f.style=yo()({},f.style,{height:c}),or.a.createElement("div",yo()({},v,{className:p},f,{dir:l?"rtl":void 0}),h,d,m,g)},t}(ir.Component),bh.propTypes={prefix:To.a.string,className:To.a.string,title:To.a.node,children:To.a.node,footer:To.a.oneOfType([To.a.bool,To.a.node]),footerAlign:To.a.oneOf(["left","center","right"]),footerActions:To.a.array,onOk:To.a.func,onCancel:To.a.func,okProps:To.a.object,cancelProps:To.a.object,closeable:To.a.bool,onClose:To.a.func,locale:To.a.object,role:To.a.string,rtl:To.a.bool,height:To.a.string},bh.defaultProps={prefix:"next-",footerAlign:"right",footerActions:["ok","cancel"],onOk:Ch,onCancel:Ch,okProps:{},cancelProps:{},closeable:!0,onClose:Ch,locale:Ao.Dialog,role:"dialog"},wh),Sh,kh;Eh.displayName="Inner";var Oh=function e(){},Th=ts.limitTabRange,Nh=Za.bindCtx,Ah=Ja.pickOthers,Ih=Ka.getStyle,Rh=Ka.setStyle;function Ph(e,t){var n=Ih(e,"boxSizing");return Xa.ieVersion&&-1!==["width","height"].indexOf(t)&&"border-box"===n?parseFloat(e.getBoundingClientRect()[t].toFixed(1)):Ih(e,t)}var Mh=(kh=Sh=function(e){function t(n,r){_o()(this,t);var i=Eo()(this,e.call(this,n,r));return Nh(i,["onKeyDown","beforePosition","adjustPosition","getOverlayRef"]),i}return ko()(t,e),t.prototype.componentDidMount=function e(){Ya.on(document,"keydown",this.onKeyDown),this.useCSSToPosition()||this.adjustPosition()},t.prototype.componentWillUnmount=function e(){Ya.off(document,"keydown",this.onKeyDown)},t.prototype.useCSSToPosition=function e(){var t=this.props,n=t.align,r=t.isFullScreen;return"cc cc"===n&&r},t.prototype.onKeyDown=function e(t){var n=this.getInnerNode();n&&Th(n,t)},t.prototype.beforePosition=function e(){if(this.props.visible&&this.overlay){var t=this.getInner();if(t){var n=this.getInnerNode();this._lastDialogHeight!==Ph(n,"height")&&this.revertSize(t.bodyNode)}}},t.prototype.adjustPosition=function e(){if(this.props.visible&&this.overlay){var t=this.getInner();if(t){var n=this.getInnerNode(),r=Ih(n,"top"),i=this.props.minMargin;r<i&&(r=i,Rh(n,"top",i+"px"));var o=Ph(n,"height"),a=window.innerHeight||document.documentElement.clientHeight;a<o+2*r-1||this.props.height?this.adjustSize(t,n,Math.min(o,a-2*r)):this.revertSize(t.bodyNode),this._lastDialogHeight=o}}},t.prototype.adjustSize=function e(t,n,r){var i=t.headerNode,o=t.bodyNode,a,s=[i,t.footerNode].map(function(e){return e?Ph(e,"height"):0}),u,l,c,f=r-s[0]-s[1]-["padding-top","padding-bottom"].reduce(function(e,t){return e+Ih(n,t)},0);f<0&&(f=1),o&&(this.dialogBodyStyleMaxHeight=o.style.maxHeight,this.dialogBodyStyleOverflowY=o.style.overflowY,Rh(o,{"max-height":f+"px","overflow-y":"auto"}))},t.prototype.revertSize=function e(t){Rh(t,{"max-height":this.dialogBodyStyleMaxHeight,"overflow-y":this.dialogBodyStyleOverflowY})},t.prototype.mapcloseableToConfig=function e(t){return["esc","close","mask"].reduce(function(e,n){var r=n.charAt(0).toUpperCase()+n.substr(1),i="boolean"==typeof t?t:t.split(",").indexOf(n)>-1;return"esc"===n||"mask"===n?e["canCloseBy"+r]=i:e["canCloseBy"+r+"Click"]=i,e},{})},t.prototype.getOverlayRef=function e(t){this.overlay=t},t.prototype.getInner=function e(){return this.overlay.getInstance().getContent()},t.prototype.getInnerNode=function e(){return this.overlay.getInstance().getContentNode()},t.prototype.renderInner=function e(n){var r=this.props,i=r.prefix,o=r.className,a=r.title,s=r.children,u=r.footer,l=r.footerAlign,c=r.footerActions,f=r.onOk,p=r.onCancel,h=r.okProps,d=r.cancelProps,m=r.onClose,g=r.locale,v=r.visible,y=r.rtl,b=r.height,w=Ah(Object.keys(t.propTypes),this.props);return or.a.createElement(Eh,yo()({prefix:i,className:o,title:a,footer:u,footerAlign:l,footerActions:c,onOk:v?f:Oh,onCancel:v?p:Oh,okProps:h,cancelProps:d,locale:g,closeable:n,rtl:y,onClose:m.bind(this,"closeClick"),height:b},w),s)},t.prototype.render=function e(){var t=this.props,n=t.prefix,r=t.visible,i=t.hasMask,o=t.animation,a=t.autoFocus,s=t.closeable,u=t.onClose,l=t.afterClose,c=t.shouldUpdatePosition,f=t.align,p=t.popupContainer,h=t.overlayProps,d=t.rtl,m=this.useCSSToPosition(),g=this.mapcloseableToConfig(s),v=g.canCloseByCloseClick,y=wo()(g,["canCloseByCloseClick"]),b=yo()({disableScroll:!0,container:p},h,{prefix:n,visible:r,animation:o,hasMask:i,autoFocus:a,afterClose:l},y,{canCloseByOutSideClick:!1,align:!m&&f,onRequestClose:u,needAdjust:!1,ref:this.getOverlayRef,rtl:d,maskClass:m?n+"dialog-container":"",isChildrenInMask:m&&i});m||(b.beforePosition=this.beforePosition,b.onPosition=this.adjustPosition,b.shouldUpdatePosition=c);var w=this.renderInner(v);return or.a.createElement(Cl,b,m&&!i?or.a.createElement("div",{className:n+"dialog-container",dir:d?"rtl":void 0},w):w)},t}(ir.Component),Sh.propTypes={prefix:To.a.string,pure:To.a.bool,rtl:To.a.bool,className:To.a.string,visible:To.a.bool,title:To.a.node,children:To.a.node,footer:To.a.oneOfType([To.a.bool,To.a.node]),footerAlign:To.a.oneOf(["left","center","right"]),footerActions:To.a.array,onOk:To.a.func,onCancel:To.a.func,okProps:To.a.object,cancelProps:To.a.object,closeable:To.a.oneOfType([To.a.string,To.a.bool]),onClose:To.a.func,afterClose:To.a.func,hasMask:To.a.bool,animation:To.a.oneOfType([To.a.object,To.a.bool]),autoFocus:To.a.bool,align:To.a.oneOfType([To.a.string,To.a.bool]),isFullScreen:To.a.bool,shouldUpdatePosition:To.a.bool,minMargin:To.a.number,overlayProps:To.a.object,locale:To.a.object,height:To.a.string,popupContainer:To.a.any},Sh.defaultProps={prefix:"next-",pure:!1,visible:!1,footerAlign:"right",footerActions:["ok","cancel"],onOk:Oh,onCancel:Oh,okProps:{},cancelProps:{},closeable:"esc,close",onClose:Oh,afterClose:Oh,hasMask:!0,animation:{in:"fadeInDown",out:"fadeOutUp"},autoFocus:!1,align:"cc cc",isFullScreen:!1,shouldUpdatePosition:!1,minMargin:40,overlayProps:{},locale:Ao.Dialog},kh),jh,Dh;Mh.displayName="Dialog";var Lh=zs.config(Mh),Fh=function e(){},zh={alert:"warning",confirm:"help"},Bh=function e(t){var n=t.type,r=t.messageProps,i=void 0===r?{}:r,o=t.title,a=t.rtl,s=t.prefix,u=void 0===s?"next-":s,l=t.content;return or.a.createElement(ph,yo()({size:"large",shape:"addon",type:zh[n]},i,{title:o,rtl:a,className:Us()(u+"dialog-message",i.className)}),l)},Uh=(Dh=jh=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.state={visible:!0,loading:!1},r.close=function(){r.setState({visible:!1})},r.loading=function(e){r.setState({loading:e})},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.wrapper=function e(t,n){var r=this;return function(){var e=t.apply(void 0,arguments);if(e&&e.then)r.loading(!0),e.then(function(e){if(r.loading(!1),!1!==e)return n()}).catch(function(e){throw r.loading(!1),e});else if(!1!==e)return n()}},t.prototype.render=function e(){var t=this.props,n=t.prefix,r=t.type,i=t.title,o=t.content,a=t.messageProps,s=t.footerActions,u=t.onOk,l=t.onCancel,c=t.onClose,f=t.okProps,p=t.needWrapper,h=t.rtl,d=t.className,m=wo()(t,["prefix","type","title","content","messageProps","footerActions","onOk","onCancel","onClose","okProps","needWrapper","rtl","className"]),g=p&&r?null:i,v=p&&r?or.a.createElement(Bh,{type:r,messageProps:a,title:i,rtl:h,prefix:n,content:o}):o,y=s||("alert"===r?["ok"]:"confirm"===r?["ok","cancel"]:void 0),b=this.wrapper(u,this.close),w=this.wrapper(l,this.close),x=this.wrapper(c,this.close),_=this.state,C=_.visible,E=_.loading;f.loading=E;var S=Us()(n+"dialog-quick",d);return or.a.createElement(Lh,yo()({prefix:n,role:"alertdialog"},m,{visible:C,title:g,rtl:h,footerActions:y,onOk:this.state.loading?Fh:b,onCancel:w,onClose:x,okProps:f,className:S}),v)},t}(ir.Component),jh.propTypes={prefix:To.a.string,pure:To.a.bool,rtl:To.a.bool,type:To.a.oneOf(["alert","confirm"]),title:To.a.node,content:To.a.node,messageProps:To.a.object,footerActions:To.a.array,onOk:To.a.func,onCancel:To.a.func,onClose:To.a.func,okProps:To.a.object,locale:To.a.object,needWrapper:To.a.bool,className:To.a.string},jh.defaultProps={prefix:"next-",pure:!1,messageProps:{},onOk:Fh,onCancel:Fh,onClose:Fh,okProps:{},locale:Ao.Dialog,needWrapper:!0},Dh);Uh.displayName="Modal";var Wh=zs.config(Uh,{componentName:"Dialog"}),Vh=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=document.createElement("div"),r=function e(){t.afterClose&&t.afterClose(),tr.a.unmountComponentAtNode(n),n.parentNode.removeChild(n)};document.body.appendChild(n);var i=zs.getContext(),o=void 0,a=void 0;return tr.a.render(or.a.createElement(zs,i,or.a.createElement(Wh,yo()({},t,{afterClose:r,ref:function e(t){a=t}}))),n,function(){o=a}),{hide:function e(){var t=o&&o.getInstance();t&&t.close()}}},Hh=function e(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.type=t,Vh(e)}},Gh=Hh("alert"),qh=Hh("confirm");function Kh(e,t){if("closable"in e){t("closable","closeable","Dialog");var n=e,r=n.closable,i=wo()(n,["closable"]);e=yo()({closeable:r},i)}var o;return["target","offset","beforeOpen","onOpen","afterOpen","beforePosition","onPosition","cache","safeNode","wrapperClassName","container"].forEach(function(n){if(n in e){var r;t(n,"overlayProps."+n,"Dialog");var i=e,o=i.overlayProps,a=wo()(i,["overlayProps"]),s=yo()(((r={})[n]=e[n],r),o||{});delete a[n],e=yo()({overlayProps:s},a)}}),e}Mh.Inner=Eh,Mh.show=function(e){var t,n;return!1!==zs.getContextProps(e,"Dialog").warning&&(e=Kh(e,$a.deprecated)),Vh(e)},Mh.alert=function(e){var t,n;return!1!==zs.getContextProps(e,"Dialog").warning&&(e=Kh(e,$a.deprecated)),Gh(e)},Mh.confirm=function(e){var t,n;return!1!==zs.getContextProps(e,"Dialog").warning&&(e=Kh(e,$a.deprecated)),qh(e)};var Xh=zs.config(Mh,{transform:function e(t,n){return Kh(t,n)}}),Yh=n(522),Zh,$h,Jh=Za.noop,Qh=Za.bindCtx,ed=/blue|green|orange|red|turquoise|yellow/,td=($h=Zh=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return r.onKeyDown=function(e){var t=r.props,n=t.closable,i=t.closeArea,o=t.onClick,a=t.disabled;e.keyCode!==rs.SPACE||a||(e.preventDefault(),e.stopPropagation(),n?r.handleClose(i):"function"==typeof o&&o(e))},r.state={visible:!0},Qh(r,["handleBodyClick","handleTailClick","handleAnimationInit","handleAnimationEnd","renderTailNode"]),r}return ko()(t,e),t.prototype.componentWillUnmount=function e(){this.__destroyed=!0},t.prototype.handleClose=function e(t){var n=this,r=this.props,i=r.animation,o=r.onClose,a=es.animation&&i,s;!1===o(t,this.tagNode)||this.__destroyed||this.setState({visible:!1},function(){!a&&n.props.afterClose(n.tagNode)})},t.prototype.handleBodyClick=function e(t){var n=this.props,r=n.closable,i=n.closeArea,o=n.onClick;if(r&&"tag"===i&&this.handleClose("tag"),"function"==typeof o)return o(t)},t.prototype.handleTailClick=function e(t){t&&t.preventDefault(),t&&t.stopPropagation(),this.handleClose("tail")},t.prototype.handleAnimationInit=function e(t){this.props.afterAppear(t)},t.prototype.handleAnimationEnd=function e(t){this.props.afterClose(t)},t.prototype.renderAnimatedTag=function e(t,n){return or.a.createElement(cu,{animation:n,afterAppear:this.handleAnimationInit,afterLeave:this.handleAnimationEnd},t)},t.prototype.renderTailNode=function e(){var t=this.props,n=t.prefix,r=t.closable,i=t.locale;return r?or.a.createElement("span",{className:n+"tag-close-btn",onClick:this.handleTailClick,role:"button","aria-label":i.delete},or.a.createElement(gu,{type:"close"})):null},t.prototype.isPresetColor=function e(){var t=this.props.color;return!!t&&ed.test(t)},t.prototype.getTagStyle=function e(){var t=this.props,n=t.color,r=void 0===n?"":n,i=t.style,o=this.isPresetColor(),a={backgroundColor:r,borderColor:r,color:"#fff"};return yo()({},r&&!o?a:null,i)},t.prototype.render=function e(){var n,r=this,i=this.props,o=i.prefix,a=i.type,s=i.size,u=i.color,l=i._shape,c=i.closable,f=i.closeArea,p=i.className,h=i.children,d=i.animation,m=i.disabled,g=i.rtl,v=this.state.visible,y=this.isPresetColor(),b=Ja.pickOthers(t.propTypes,this.props),w=b.style,x=wo()(b,["style"]),_=c?"closable":l,C=Us()([o+"tag",o+"tag-"+_,o+"tag-"+s],((n={})[o+"tag-level-"+a]=!u,n[o+"tag-closable"]=c,n[o+"tag-body-pointer"]=c&&"tag"===f,n[o+"tag-"+u]=u&&y&&"primary"===a,n[o+"tag-"+u+"-inverse"]=u&&y&&"normal"===a,n),p),E=this.renderTailNode(),S=v?or.a.createElement("div",yo()({className:C,onClick:this.handleBodyClick,onKeyDown:this.onKeyDown,tabIndex:m?"":"0",role:"button","aria-disabled":m,disabled:m,dir:g?"rtl":void 0,ref:function e(t){return r.tagNode=t},style:this.getTagStyle()},x),or.a.createElement("span",{className:o+"tag-body"},h),E):null;return d&&es.animation?this.renderAnimatedTag(S,o+"tag-zoom"):S},t}(ir.Component),Zh.propTypes={prefix:To.a.string,type:To.a.oneOf(["normal","primary"]),size:To.a.oneOf(["small","medium","large"]),color:To.a.string,animation:To.a.bool,closeArea:To.a.oneOf(["tag","tail"]),closable:To.a.bool,onClose:To.a.func,afterClose:To.a.func,afterAppear:To.a.func,className:To.a.any,children:To.a.node,onClick:To.a.func,_shape:To.a.oneOf(["default","closable","checkable"]),disabled:To.a.bool,rtl:To.a.bool,locale:To.a.object},Zh.defaultProps={prefix:"next-",type:"normal",size:"medium",closeArea:"tail",animation:!1,onClose:Jh,afterClose:Jh,afterAppear:Jh,onClick:Jh,_shape:"default",disabled:!1,rtl:!1,locale:Ao.Tag},$h);td.displayName="Tag";var nd=zs.config(td),rd,id,od=(id=rd=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t=this.props,n=t.className,r=t.prefix,i=t.children,o=t.rtl,a=wo()(t,["className","prefix","children","rtl"]),s=Us()((r||"next-")+"tag-group",n);return or.a.createElement("div",yo()({className:s,dir:o?"rtl":void 0},a),i)},t}(ir.Component),rd.propTypes={prefix:To.a.string,className:To.a.any,children:To.a.node,rtl:To.a.bool},rd.defaultProps={prefix:"next-",rtl:!1},id);od.displayName="Group";var ad=od,sd,ud,ld=Za.noop,cd=Za.bindCtx,fd=(ud=sd=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return r.state={checked:"checked"in n?n.checked:n.defaultChecked||!1},cd(r,["handleClick"]),r}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){return void 0!==t.checked&&t.checked!==n.checked?{checked:t.checked}:null},t.prototype.handleClick=function e(t){if(t&&t.preventDefault(),this.props.disabled)return!1;var n=this.state.checked;this.setState({checked:!n}),this.props.onChange(!n,t)},t.prototype.render=function e(){var t=["checked","defaultChecked","onChange","className","_shape","closable"],n=Ja.pickOthers(t,this.props),r="checked"in this.props?this.props.checked:this.state.checked,i=Us()(this.props.className,{checked:r});return or.a.createElement(nd,yo()({},n,{role:"checkbox",_shape:"checkable","aria-checked":r,className:i,onClick:this.handleClick}))},t}(ir.Component),sd.propTypes={checked:To.a.bool,defaultChecked:To.a.bool,onChange:To.a.func,disabled:To.a.bool,className:To.a.any},sd.defaultProps={onChange:ld},ud);fd.displayName="Selectable";var pd=Object(No.polyfill)(fd),hd,dd,md=(dd=hd=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t=this.props,n=t.disabled,r=t.className,i=t.closeArea,o=t.onClose,a=t.afterClose,s=t.onClick,u=t.type,l=t.size,c=t.children,f=t.rtl,p=wo()(t,["disabled","className","closeArea","onClose","afterClose","onClick","type","size","children","rtl"]);return or.a.createElement(nd,yo()({},p,{rtl:f,disabled:n,className:r,closeArea:i,onClose:o,afterClose:a,onClick:s,type:u,size:l,closable:!0}),c)},t}(ir.Component),hd.propTypes={disabled:To.a.bool,className:To.a.any,closeArea:To.a.oneOf(["tag","tail"]),onClose:To.a.func,afterClose:To.a.func,onClick:To.a.func,type:To.a.oneOf(["normal","primary"]),size:To.a.oneOf(["small","medium","large"]),children:To.a.any,rtl:To.a.bool},hd.defaultProps={disabled:!1,type:"normal"},dd);md.displayName="Closeable";var gd=md,vd=zs.config(nd,{transfrom:function e(t,n){var r=t.shape,i=t.type;return"selectable"===r&&n("shape=selectable","Tag.Selectable","Tag"),"deletable"===r&&n("shape=deletable","Tag.Closeable","Tag"),"link"===r&&n("shape=link",'<Tag><a href="x">x</a></Tag>',"Tag"),"readonly"!==r&&"interactive"!==r||$a.warning("Warning: [ shape="+r+" ] is deprecated at [ Tag ]"),"secondary"===i&&$a.warning("Warning: [ type=secondary ] is deprecated at [ Tag ]"),["count","marked","value","onChange"].forEach(function(e){e in t&&$a.warning("Warning: [ "+e+" ] is deprecated at [ Tag ]")}),("selected"in t||"defaultSelected"in t)&&$a.warning("Warning: [ selected|defaultSelected  ] is deprecated at [ Tag ], use [ checked|defaultChecked ] at [ Tag.Selectable ] instead of it"),"closed"in t&&$a.warning("Warning: [ closed  ] is deprecated at [ Tag ], use [ onClose ] at [ Tag.Closeable ] instead of it"),"onSelect"in t&&n("onSelect","<Tag.Selectable onChange/>","Tag"),"afterClose"in t&&$a.warning("Warning: [ afterClose  ] is deprecated at [ Tag ], use [ afterClose ] at [ Tag.Closeable ] instead of it"),t}});vd.Group=zs.config(ad),vd.Selectable=zs.config(pd),vd.Closable=zs.config(gd),vd.Closeable=vd.Closable;var yd=vd,bd,wd,xd,_d,Cd,Ed,Sd,kd=["dataCollect","dataAccess","dataProcess","modelLoad","modelDefine","modelTrain","modelEvaluate"],Od=["INIT","RUNNING","SUCCESS","FAIL"],Td=[{name:"ID",width:50,cell:function e(t,n,r){return or.a.createElement("a",{href:"/index.html#/pipeline/info?pipelineId=".concat(r.id)},r.id.replace(/-/g,"").slice(0,12))}},{name:"Dataset",width:100,cell:function e(t,n,r){return or.a.createElement(yd,{size:"small",type:"normal"},r.dataCollect)}},{name:"Model",width:100,cell:function e(t,n,r){return or.a.createElement(yd,{size:"small",type:"normal"},r.modelDefine)}},{name:"Jobs",cell:function e(t,n,r){return or.a.createElement("span",null,r.jobs.length)},width:30},{name:"Created At",field:"createdAt",width:50,sortable:!0}],Nd=[{name:"ID",width:50,cell:function e(t,n,r){return or.a.createElement("a",{href:"/index.html#/pipeline/info?pipelineId=".concat(r.pipelineId,"&jobId=").concat(r.id)},r.id.replace(/-/g,"").slice(0,12))}},{name:"Status",width:50,cell:function e(t,n,r){var i={INIT:"yellow",RUNNING:"yellow",SUCCESS:"green",FAIL:"red"};return or.a.createElement(yd,{size:"small",color:i[r.status]},r.status)}},{name:"Evaluation",width:100,cell:function e(t,n,r){var i=null,o;if(!r.evaluateMap)return or.a.createElement("span",null,"no result");if((null===(o=i=JSON.parse(r.evaluateMap))||void 0===o?void 0:o.pass)&&(i.pass=void 0),r.evaluatePass||r.evaluateMap){var a=JSON.stringify(i,null,2),s=function e(){Xh.show({title:"evaluation",content:a})};return or.a.createElement(Op,{size:"small",onClick:s},a.slice(0,40))}return or.a.createElement(yd,{size:"small",color:"red"},r.error)}},{name:"Pipeline",width:50,cell:function e(t,n,r){return or.a.createElement("a",{href:"/index.html#/pipeline/info?pipelineId=".concat(r.pipelineId)},r.id.replace(/-/g,"").slice(0,12))}},{name:"End Time",width:100,field:"endTime"},{name:"Model",width:40,cell:function e(t,n,r){var i=function e(){location.href="/job/".concat(r.id,"/output.tar.gz")};return or.a.createElement(Op,{size:"small",disabled:"SUCCESS"!==r.status,onClick:i},"Download")}}],Ad,Id=["./packages/plugins/data-collect/csv-data-collect","./packages/plugins/data-collect/image-classification-data-collect","./packages/plugins/data-collect/mnist-data-collect","./packages/plugins/data-collect/object-detection-coco-data-collect","./packages/plugins/data-collect/object-detection-pascolvoc-data-collect"],Rd=["./packages/plugins/data-access/coco-data-access","./packages/plugins/data-access/csv-data-access","./packages/plugins/data-access/pascalvoc-data-access"],Pd=["./packages/plugins/data-process/image-data-process"],Md=["./packages/plugins/model-define/bayesian-model-define","./packages/plugins/model-define/detectron-fasterrcnn-model-define","./packages/plugins/model-define/tensorflow-resnet-model-define","./packages/plugins/model-define/tfjs-mobilenet-model-define","./packages/plugins/model-define/tfjs-simplecnn-model-define"],jd=["./packages/plugins/model-train/bayesian-model-train","./packages/plugins/model-train/image-classification-tensorflow-model-train","./packages/plugins/model-train/image-classification-tfjs-model-train","./packages/plugins/model-train/object-detection-detectron-model-train"],Dd=["./packages/plugins/model-evaluate/bayesian-model-evaluate","./packages/plugins/model-evaluate/image-classification-tensorflow-model-evaluate","./packages/plugins/model-evaluate/image-classification-tfjs-model-evaluate","./packages/plugins/model-evaluate/object-detection-detectron-model-evaluate"],Ld={dataCollect:["@pipcook/plugins-csv-data-collect","@pipcook/plugins-image-classification-data-collect","@pipcook/plugins-mnist-data-collect","@pipcook/plugins-object-detection-coco-data-collect","@pipcook/plugins-object-detection-pascalvoc-data-collect"],dataAccess:["@pipcook/plugins-coco-data-access","@pipcook/plugins-csv-data-access","@pipcook/plugins-pascalvoc-data-access"],dataProcess:["@pipcook/plugins-tensorflow-image-classification-process","@pipcook/plugins-tfjs-image-classification-process"],modelDefine:["@pipcook/plugins-bayesian-model-define","@pipcook/plugins-detectron-fasterrcnn-model-define","@pipcook/plugins-tensorflow-resnet-model-define","@pipcook/plugins-tfjs-mobilenet-model-define","@pipcook/plugins-tfjs-simplecnn-model-define"],modelTrain:["@pipcook/plugins-bayesian-model-train","@pipcook/plugins-image-classification-tensorflow-model-train","@pipcook/plugins-image-classification-tfjs-model-train","@pipcook/plugins-object-detection-detectron-model-train"],modelEvaluate:["@pipcook/plugins-bayesian-model-evaluate","@pipcook/plugins-image-classification-tensorflow-model-evaluate","@pipcook/plugins-image-classification-tfjs-model-evaluate","@pipcook/plugins-object-detection-detectron-model-evaluate"]},Fd=n(523),zd=n(524),Bd,Ud,Wd=(Ud=Bd=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.saveRef=function(e){r.inputRef=e},i=n,Eo()(r,i)}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){if("value"in t&&t.value!==n.value){var r=t.value;return{value:void 0===r||null===r?"":r}}return null},t.prototype.ieHack=function e(t){return t},t.prototype.onChange=function e(t){"stopPropagation"in t?t.stopPropagation():"cancelBubble"in t&&t.cancelBubble();var n=t.target.value;this.props.trim&&(n=n.trim()),n=this.ieHack(n),"value"in this.props||this.setState({value:n}),n&&"number"===this.props.htmlType&&(n=Number(n)),this.props.onChange(n,t)},t.prototype.onKeyDown=function e(t){var n=t.target.value,r=this.props.maxLength,i=r>0&&n?this.getValueLength(n):0,o={};this.props.trim&&32===t.keyCode&&(o.beTrimed=!0),r>0&&(i>r+1||(i===r||i===r+1)&&8!==t.keyCode&&46!==t.keyCode)&&(o.overMaxLength=!0),this.props.onKeyDown(t,o)},t.prototype.onFocus=function e(t){this.setState({focus:!0}),this.props.onFocus(t)},t.prototype.onBlur=function e(t){this.setState({focus:!1}),this.props.onBlur(t)},t.prototype.renderLength=function e(){var t,n=this.props,r=n.maxLength,i=n.hasLimitHint,o=n.prefix,a=n.rtl,s=r>0&&this.state.value?this.getValueLength(this.state.value):0,u=Us()(((t={})[o+"input-len"]=!0,t[o+"error"]=s>r,t)),l=a?r+"/"+s:s+"/"+r;return r&&i?or.a.createElement("span",{className:u},l):null},t.prototype.renderControl=function e(){var t=this.renderLength();return t?or.a.createElement("span",{className:this.props.prefix+"input-control"},t):null},t.prototype.getClass=function e(){var t,n=this.props,r=n.disabled,i=n.state,o=n.prefix;return Us()(((t={})[o+"input"]=!0,t[o+"disabled"]=!!r,t[o+"error"]="error"===i,t[o+"warning"]="warning"===i,t[o+"focus"]=this.state.focus,t))},t.prototype.getProps=function e(){var t=this.props,n=t.placeholder,r=t.inputStyle,i=t.disabled,o=t.readOnly,a=t.cutString,s=t.maxLength,u,l={style:r,placeholder:n,disabled:i,readOnly:o,name:t.name,maxLength:a?s:void 0,value:this.state.value,onChange:this.onChange.bind(this),onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this)};return i&&(l["aria-disabled"]=i),l},t.prototype.getInputNode=function e(){return this.inputRef},t.prototype.focus=function e(t,n){this.inputRef.focus(),"number"==typeof t&&(this.inputRef.selectionStart=t),"number"==typeof n&&(this.inputRef.selectionEnd=n)},t}(or.a.Component),Bd.propTypes=yo()({},zs.propTypes,{value:To.a.oneOfType([To.a.string,To.a.number]),defaultValue:To.a.oneOfType([To.a.string,To.a.number]),onChange:To.a.func,onKeyDown:To.a.func,disabled:To.a.bool,maxLength:To.a.number,hasLimitHint:To.a.bool,cutString:To.a.bool,readOnly:To.a.bool,trim:To.a.bool,placeholder:To.a.string,onFocus:To.a.func,onBlur:To.a.func,getValueLength:To.a.func,inputStyle:To.a.object,className:To.a.string,style:To.a.object,htmlType:To.a.string,name:To.a.string,rtl:To.a.bool,state:To.a.oneOf(["error","loading","success","warning"]),locale:To.a.object,isPreview:To.a.bool,renderPreview:To.a.func,size:To.a.oneOf(["small","medium","large"])}),Bd.defaultProps={disabled:!1,prefix:"next-",size:"medium",maxLength:null,hasLimitHint:!1,cutString:!0,readOnly:!1,isPreview:!1,trim:!1,onFocus:Za.noop,onBlur:Za.noop,onChange:Za.noop,onKeyDown:Za.noop,getValueLength:Za.noop,locale:Ao.Input},Ud);Wd.displayName="Base";var Vd=Object(No.polyfill)(Wd),Hd,Gd,qd=(Gd=Hd=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t,n,r,i=this.props,o=i.className,a=i.style,s=i.children,u=i.prefix,l=i.addonBefore,c=i.addonAfter,f=i.addonBeforeClassName,p=i.addonAfterClassName,h=i.rtl,d=wo()(i,["className","style","children","prefix","addonBefore","addonAfter","addonBeforeClassName","addonAfterClassName","rtl"]),m=Us()(((t={})[u+"input-group"]=!0,t[o]=!!o,t)),g=u+"input-group-addon",v=Us()(g,((n={})[u+"before"]=!0,n[f]=f,n)),y=Us()(g,((r={})[u+"after"]=!0,r[p]=p,r)),b=l?or.a.createElement("span",{className:v},l):null,w=c?or.a.createElement("span",{className:y},c):null;return or.a.createElement("span",yo()({},d,{dir:h?"rtl":void 0,className:m,style:a}),b,s,w)},t}(or.a.Component),Hd.propTypes={prefix:To.a.string,className:To.a.string,style:To.a.object,children:To.a.node,addonBefore:To.a.node,addonBeforeClassName:To.a.string,addonAfter:To.a.node,addonAfterClassName:To.a.string,rtl:To.a.bool},Hd.defaultProps={prefix:"next-"},Gd);qd.displayName="Group";var Kd=zs.config(qd),Xd,Yd;function Zd(e){e.preventDefault()}var $d=(Yd=Xd=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));r.handleKeyDown=function(e){13===e.keyCode&&r.props.onPressEnter(e),r.onKeyDown(e)},r.handleKeyDownFromClear=function(e){13===e.keyCode&&r.onClear(e)};var i=void 0;return i="value"in n?n.value:n.defaultValue,r.state={value:void 0===i?"":i},r}return ko()(t,e),t.prototype.getValueLength=function e(t){var n=""+t,r=this.props.getValueLength(n);return"number"!=typeof r&&(r=n.length),r},t.prototype.renderControl=function e(){var t=this.props,n=t.hasClear,r=t.readOnly,i=t.state,o=t.prefix,a=t.hint,s=t.extra,u=t.locale,l=this.renderLength(),c=null;"success"===i?c=or.a.createElement(gu,{type:"success-filling",className:o+"input-success-icon"}):"loading"===i?c=or.a.createElement(gu,{type:"loading",className:o+"input-loading-icon"}):"warning"===i&&(c=or.a.createElement(gu,{type:"warning",className:o+"input-warning-icon"}));var f=null,p=n&&!r&&!!(""+this.state.value);if(a||p){var h=null;h=a?"string"==typeof a?or.a.createElement(gu,{type:a,className:o+"input-hint"}):Object(ir.isValidElement)(a)?Object(ir.cloneElement)(a,{className:Us()(a.props.className,o+"input-hint")}):a:or.a.createElement(gu,{type:"delete-filling",role:"button",tabIndex:"0",className:o+"input-hint "+o+"input-clear-icon","aria-label":u.clear,onClick:this.onClear.bind(this),onMouseDown:Zd,onKeyDown:this.handleKeyDownFromClear}),f=or.a.createElement("span",{className:o+"input-hint-wrap"},n&&a?or.a.createElement(gu,{type:"delete-filling",role:"button",tabIndex:"0",className:o+"input-clear "+o+"input-clear-icon","aria-label":u.clear,onClick:this.onClear.bind(this),onMouseDown:Zd,onKeyDown:this.handleKeyDownFromClear}):null,h)}return"loading"===i&&(f=null),f||l||c||s?or.a.createElement("span",{className:o+"input-control"},f,l,c,s):null},t.prototype.renderLabel=function e(){var t=this.props,n=t.label,r=t.prefix,i=t.id;return n?or.a.createElement("label",{className:r+"input-label",htmlFor:i},n):null},t.prototype.renderInner=function e(t,n){return t?or.a.createElement("span",{className:n},t):null},t.prototype.onClear=function e(t){this.props.disabled||("value"in this.props||this.setState({value:""}),this.props.onChange("",t,"clear"),this.focus())},t.prototype.render=function e(){var n,r,i,o,a,s,u,l=this.props,c=l.size,f=l.htmlType,p=l.htmlSize,h=l.autoComplete,d=l.autoFocus,m=l.disabled,g=l.style,v=l.innerBefore,y=l.innerAfter,b=l.innerBeforeClassName,w=l.innerAfterClassName,x=l.className,_=l.hasBorder,C=l.prefix,E=l.isPreview,S=l.renderPreview,k=l.addonBefore,O=l.addonAfter,T=l.addonTextBefore,N=l.addonTextAfter,A=l.inputRender,I=l.rtl,R=k||O||T||N,P=Us()(this.getClass(),((n={})[""+C+c]=!0,n[C+"hidden"]="hidden"===this.props.htmlType,n[C+"noborder"]=!_||"file"===this.props.htmlType,n[C+"input-group-auto-width"]=R,n[x]=!!x&&!R,n)),M=C+"input-inner",j=Us()(((r={})[M]=!0,r[C+"before"]=!0,r[b]=b,r)),D=Us()(((i={})[M]=!0,i[C+"after"]=!0,i[w]=w,i)),L=Us()(((o={})[C+"form-preview"]=!0,o[x]=!!x,o)),F=this.getProps(),z=Ja.pickAttrsWith(this.props,"data-"),B=Ja.pickOthers(yo()({},z,t.propTypes),this.props);if(E){var U=F.value,W=this.props.label;return"function"==typeof S?or.a.createElement("div",yo()({},B,{className:L}),S(U,this.props)):or.a.createElement("div",yo()({},B,{className:L}),k||T,W,v,U,y,O||N)}var V=or.a.createElement("input",yo()({},B,F,{height:"100%",type:f,size:p,autoFocus:d,autoComplete:h,onKeyDown:this.handleKeyDown,ref:this.saveRef})),H=or.a.createElement("span",yo()({},z,{dir:I?"rtl":void 0,className:P,style:R?void 0:g}),this.renderLabel(),this.renderInner(v,j),A(V),this.renderInner(y,D),this.renderControl()),G=Us()(((a={})[C+"input-group-text"]=!0,a[""+C+c]=!!c,a[C+"disabled"]=m,a)),q=Us()(((s={})[G]=T,s)),K=Us()(((u={})[G]=N,u));return R?or.a.createElement(Kd,yo()({},z,{className:x,style:g,addonBefore:k||T,addonBeforeClassName:q,addonAfter:O||N,addonAfterClassName:K}),H):H},t}(Vd),Xd.getDerivedStateFromProps=Vd.getDerivedStateFromProps,Xd.propTypes=yo()({},Vd.propTypes,{label:To.a.node,hasClear:To.a.bool,hasBorder:To.a.bool,state:To.a.oneOf(["error","loading","success","warning"]),onPressEnter:To.a.func,onClear:To.a.func,htmlType:To.a.string,htmlSize:To.a.string,hint:To.a.oneOfType([To.a.string,To.a.node]),innerBefore:To.a.node,innerAfter:To.a.node,addonBefore:To.a.node,addonAfter:To.a.node,addonTextBefore:To.a.node,addonTextAfter:To.a.node,autoComplete:To.a.string,autoFocus:To.a.bool,inputRender:To.a.func,extra:To.a.node,innerBeforeClassName:To.a.string,innerAfterClassName:To.a.string,isPreview:To.a.bool,renderPreview:To.a.func}),Xd.defaultProps=yo()({},Vd.defaultProps,{autoComplete:"off",hasBorder:!0,isPreview:!1,onPressEnter:Za.noop,inputRender:function e(t){return t}}),Yd),Jd,Qd;function em(e){e.preventDefault()}var tm=(Qd=Jd=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.state={hint:"eye",htmlType:"password"},r.toggleEye=function(e){e.preventDefault();var t="eye-close"===r.state.hint;r.setState({hint:t?"eye":"eye-close",htmlType:t||!r.props.showToggle?"password":"text"})},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.render=function e(){var t=this.props,n=t.showToggle,r=wo()(t,["showToggle"]),i=this.state,o=i.hint,a=i.htmlType,s=n?or.a.createElement(gu,{type:o,onClick:this.toggleEye,onMouseDown:em}):null;return or.a.createElement($d,yo()({},r,{extra:s,htmlType:a}))},t}($d),Jd.getDerivedStateFromProps=$d.getDerivedStateFromProps,Jd.propTypes=yo()({},$d.propTypes,{showToggle:To.a.bool}),Jd.defaultProps=yo()({},$d.defaultProps,{showToggle:!0}),Qd),nm,rm,im;function om(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function am(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}var sm=!("undefined"==typeof navigator||!navigator||!navigator.userAgent)&&navigator.userAgent.match(/^((?!chrome|android|windows).)*safari/i),um={visibility:"hidden",position:"absolute",zIndex:"-1000",top:"-1000px",overflowY:"hidden",left:0,right:0},lm=(rm=nm=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));im.call(r);var i=void 0;return i="value"in n?n.value:n.defaultValue,r.state={value:void 0===i?"":i},r}return ko()(t,e),t.prototype.componentDidMount=function e(){var t=this.props.autoHeight;t&&("object"===(void 0===t?"undefined":Ro()(t))?this.setState(this._getMinMaxHeight(t,this.state.value)):this.setState({height:this._getHeight(this.state.value),overflowY:"hidden"}))},t.prototype.componentDidUpdate=function e(t){this.props.autoHeight&&this.props.value!==t.value&&this._resizeTextArea(this.props.value)},t.prototype._getMinMaxHeight=function e(t,n){var r=t.minRows,i=t.maxRows,o=tr.a.findDOMNode(this.helpRef);o.setAttribute("rows",r);var a=o.clientHeight;o.setAttribute("rows",i);var s=o.clientHeight;o.setAttribute("rows","1");var u=this._getHeight(n);return{minHeight:a,maxHeight:s,height:u,overflowY:u<=s?"hidden":void 0}},t.prototype._getHeight=function e(t){var n=tr.a.findDOMNode(this.helpRef);return n.value=t,n.scrollHeight},t.prototype.ieHack=function e(t){if(9===Xa.ieVersion&&this.props.maxLength){var n=parseInt(this.props.maxLength),r;this.getValueLength(t,!0)>n&&this.props.cutString&&(t=(t=(t=t.replace(/\n/g,"\n\n")).substr(0,n)).replace(/\n\n/g,"\n"))}return this.props.autoHeight&&this._resizeTextArea(t),t},t.prototype.getValueLength=function e(t){var n=this.props,r=n.maxLength,i=n.cutString,o=""+t,a=this.props.getValueLength(o);return"number"!=typeof a&&(a=o.length),(Xa.ieVersion||sm)&&(a=a+o.split("\n").length-1)>r&&i&&(a=r),a},t.prototype.saveTextAreaRef=function e(t){this.inputRef=t},t.prototype.saveHelpRef=function e(t){this.helpRef=t},t.prototype.render=function e(){var n,r,i=this.props,o=i.rows,a=i.style,s=i.className,u=i.autoHeight,l=i.isPreview,c=i.renderPreview,f=i.prefix,p=i.rtl,h=i.hasBorder,d=i.size,m=Us()(this.getClass(),((n={})[""+f+d]="large"===d||!1,n[f+"input-textarea"]=!0,n[f+"noborder"]=!h,n[s]=!!s,n)),g=this.getProps(),v=Ja.pickAttrsWith(this.props,"data-"),y=Ja.pickOthers(yo()({},v,t.propTypes),this.props),b=yo()({},g.style,{height:this.state.height,minHeight:this.state.minHeight,maxHeight:this.state.maxHeight,overflowY:this.state.overflowY}),w=Us()(((r={})[f+"input-textarea"]=!0,r[f+"form-preview"]=!0,r[s]=!!s,r)),x=u?yo()({},a,{position:"relative"}):a;if(l){var _=g.value;return"renderPreview"in this.props?or.a.createElement("div",yo()({},y,{className:w}),c(_,this.props)):or.a.createElement("div",yo()({},y,{className:w}),_.split("\n").map(function(e,t){return or.a.createElement("p",{key:"p-"+t},e)}))}return or.a.createElement("span",yo()({className:m,style:x,dir:p?"rtl":void 0},v),or.a.createElement("textarea",yo()({},y,g,{"data-real":!0,rows:o,style:b,ref:this.saveRef.bind(this),onKeyDown:this.onKeyDown.bind(this)})),u?or.a.createElement("textarea",{"data-fake":!0,ref:this.saveHelpRef.bind(this),style:yo()({},g.style,um),rows:"1"}):null,this.renderControl())},t}(Vd),nm.getDerivedStateFromProps=Vd.getDerivedStateFromProps,nm.propTypes=yo()({},Vd.propTypes,{hasBorder:To.a.bool,state:To.a.oneOf(["error","warning"]),autoHeight:To.a.oneOfType([To.a.bool,To.a.object]),rows:To.a.number,isPreview:To.a.bool,renderPreview:To.a.func}),nm.defaultProps=yo()({},Vd.defaultProps,{hasBorder:!0,isPreview:!1,rows:4,autoHeight:!1}),im=function e(){var t=this;this._resizeTextArea=function(e){t.nextFrameActionId&&am(t.nextFrameActionId),t.nextFrameActionId=om(function(){var n=t._getHeight(e),r=t.state.maxHeight?t.state.maxHeight:1/0;t.setState({height:t._getHeight(e),overflowY:n<=r?"hidden":void 0})})}},rm);$d.Password=zs.config(tm,{exportNames:["getInputNode","focus"]}),$d.TextArea=zs.config(lm,{exportNames:["getInputNode","focus"]}),$d.Group=Kd;var cm=zs.config($d,{exportNames:["getInputNode","focus"]});function fm(e){return!e||"single"===e}function pm(e){return null===e||void 0===e}function hm(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function dm(e,t){var n=hm(""+e),r=new RegExp("("+n+")","ig");return r.test(""+t.value)||r.test(""+t.label)}function mm(e,t){var n=[];return e.forEach(function(e){if(e.children){var r=mm(e.children,t);n.push(yo()({},e,{children:r}))}else{var i=t(e);i&&n.push(i)}}),n}function gm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return ir.Children.forEach(e,function(e,r){if(e){var i=e.type,o=e.props,a={deep:t},s=!1,u=!1;if(("function"==typeof i&&"next_select_option"===i._typeMark||"option"===i)&&(s=!0),("function"==typeof i&&"next_select_option_group"===i._typeMark||"optgroup"===i)&&(u=!0),s||u){if(s){var l="string"==typeof o.children;a.value="value"in o?o.value:"key"in o?o.key:l?o.children:""+r,a.label=o.label||o.children||""+a.value,"title"in o&&(a.title=o.title),!0===o.disabled&&(a.disabled=!0),yo()(a,o["data-extra"]||{})}else u&&t<1&&(a.label=o.label||"Group",a.children=gm(o.children,t+1));n.push(a)}}}),n}function vm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];return e.forEach(function(e,i){if(/string|boolean|number/.test(void 0===e?"undefined":Ro()(e))&&(e={label:""+e,value:e}),!e.__isAddon){var o={deep:t};if(Array.isArray(e.children)&&t<1&&n)o.label=e.label||e.value||"Group "+i,o.children=vm(e.children,t+1);else{var a=e,s=a.value,u=a.label,l=a.disabled,c=a.title,f=wo()(a,["value","label","disabled","title"]);o.value=pm(s)?""+i:s,o.label=u||""+o.value,"title"in e&&(o.title=c),!0===l&&(o.disabled=!0),yo()(o,f)}r.push(o)}}),r}function ym(e){var t=[];return e.forEach(function(e){Array.isArray(e.children)?t.push.apply(t,ym(e.children)):t.push(e)}),t}function bm(e,t,n,r){if(!Array.isArray(e))return[];if(void 0===t||null===t)return[].concat(e);var i=!0,o=mm(e,function(e){return t===""+e.value&&(i=!1),n(t,e)&&!e.__isAddon&&e});return r&&t&&i&&o.unshift({value:t,label:t,__isAddon:!0}),o}function wm(e,t){var n=void 0;return n="object"===(void 0===e?"undefined":Ro()(e))&&e.hasOwnProperty("value")?e:t[""+e]||{value:e,label:e}}function xm(e,t,n){if(pm(e))return{};var r=[],i=[],o={},a=yo()({},t,n);if(Array.isArray(e))return e.forEach(function(e){var t=wm(e,a);i.push(t),o[""+t.value]=t,r.push(t.value)}),{value:r,valueDS:i,mapValueDS:o};var s,u=wm(e,a);return{value:u.value,valueDS:u,mapValueDS:(s={},s[""+u.value]=u,s)}}function _m(e){var t=void 0;return""+(t="object"===(void 0===e?"undefined":Ro()(e))&&e.hasOwnProperty("value")?e.value:e)}var Cm,Em=function(){function e(t){_o()(this,e),this.options=yo()({filter:dm,key:void 0,addonKey:!1,filterLocal:!0,showDataSourceChildren:!0},t),this.dataSource=[],this.menuDataSource=[],this.mapDataSource={},this.enabledDataSource=[],this.flattenDataSource=[]}return e.prototype.setOptions=function e(t){yo()(this.options,t)},e.prototype.updateByDS=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.dataSource=n?gm(t):vm(t,0,this.options.showDataSourceChildren),this.updateAll()},e.prototype.updateByKey=function e(t){return t===this.options.key?this.getMenuDS():(this.options.key=t,this.updateAll())},e.prototype.getOriginDS=function e(){return this.dataSource},e.prototype.getMenuDS=function e(){return this.menuDataSource},e.prototype.getFlattenDS=function e(){return this.flattenDataSource},e.prototype.getEnableDS=function e(){return this.enabledDataSource},e.prototype.getMapDS=function e(){return this.mapDataSource},e.prototype.updateAll=function e(){var t=this,n=this.options,r=n.key,i=n.filter,o=n.filterLocal,a=n.showDataSourceChildren;return this.menuDataSource=bm(this.dataSource,o?r:"",i,this.options.addonKey),this.flattenDataSource=a?ym(this.menuDataSource):this.menuDataSource,this.mapDataSource={},this.flattenDataSource.forEach(function(e){t.mapDataSource[""+e.value]=e}),this.enabledDataSource=this.flattenDataSource.filter(function(e){return!e.disabled}),this.menuDataSource},e}(),Sm,km,Om=function e(){},Tm=40,Nm=function e(t,n){for(var r in n)if(t[r]!==n[r])return!1;return!0},Am=function e(t){var n=t.clientLeft||0;do{n+=t.offsetTop||0,t=t.offsetParent}while(t);return n},Im=function e(t,n,r){var i=r.children,o=r.minSize,a=i&&i.length;return(n=Math.max(n,o))>a&&(n=a),{from:t=t?Math.max(Math.min(t,a-n),0):0,size:n}},Rm=(km=Sm=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n)),i=n.jumpIndex,o=Im(i,0,n),a=o.from,s=o.size;return r.state={from:a,size:s},r.cache={},r.scrollTo=r.scrollTo.bind(r),r.cachedScroll=null,r.unstable=!1,r.updateCounter=0,r}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){var r=n.from,i=n.size;return Im(r,i,t)},t.prototype.componentDidMount=function e(){var t=this.props.jumpIndex;this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),Ya.on(window,"resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,t))},t.prototype.componentDidUpdate=function e(t){var n=this,r=t.jumpIndex,i=this.props.jumpIndex;r!==i&&this.updateFrame(this.scrollTo.bind(this,i)),this.unstable||(++this.updateCounter>40&&(this.unstable=!0),this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){n.updateCounter=0,delete n.updateCounterTimeoutId},0)),this.updateFrame())},t.prototype.componentWillUnmount=function e(){Ya.off(window,"resize",this.updateFrameAndClearCache),Ya.off(this.scrollParent,"scroll",this.updateFrameAndClearCache),Ya.off(this.scrollParent,"mousewheel",Om)},t.prototype.maybeSetState=function e(t,n){if(Nm(this.state,t))return n();this.setState(t,n)},t.prototype.getEl=function e(){return this.el||this.items||{}},t.prototype.getScrollParent=function e(){var t=this.getEl();switch(t=t.parentElement,window.getComputedStyle(t).overflowY){case"auto":case"scroll":case"overlay":case"visible":return t}return window},t.prototype.getScroll=function e(){var t=this.scrollParent,n="scrollTop",r=t===window?document.body.scrollTop||document.documentElement.scrollTop:t.scrollTop,i=this.getScrollSize()-this.getViewportSize(),o=Math.max(0,Math.min(r,i)),a=this.getEl();return this.cachedScroll=Am(t)+o-Am(a),this.cachedScroll},t.prototype.setScroll=function e(t){var n=this.scrollParent;if(t+=Am(this.getEl()),n===window)return window.scrollTo(0,t);t-=Am(this.scrollParent),n.scrollTop=t},t.prototype.getViewportSize=function e(){var t=this.scrollParent;return t===window?window.innerHeight:t.clientHeight},t.prototype.getScrollSize=function e(){var t=this.scrollParent,n=document,r=n.body,i=n.documentElement,o="scrollHeight";return t===window?Math.max(r[o],i[o]):t[o]},t.prototype.getStartAndEnd=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,n,r=this.getScroll(),i,o;return{start:Math.max(0,r-t),end:r+this.getViewportSize()+t}},t.prototype.updateFrameAndClearCache=function e(t){return this.cachedScroll=null,this.updateFrame(t)},t.prototype.updateFrame=function e(t){return this.updateScrollParent(),"function"!=typeof t&&(t=Om),this.updateVariableFrame(t)},t.prototype.updateScrollParent=function e(){var t=this.scrollParent;this.scrollParent=this.getScrollParent(),t!==this.scrollParent&&(t&&(Ya.off(t,"scroll",this.updateFrameAndClearCache),Ya.off(t,"mousewheel",Om)),Ya.on(this.scrollParent,"scroll",this.updateFrameAndClearCache),Ya.on(this.scrollParent,"mousewheel",Om))},t.prototype.updateVariableFrame=function e(t){this.props.itemSizeGetter||this.cacheSizes();for(var n=this.getStartAndEnd(),r=n.start,i=n.end,o=this.props,a=o.pageSize,s,u=o.children.length,l=0,c=0,f=0,p=u-1;c<p;){var h=this.getSizeOf(c);if(null===h||void 0===h||l+h>r)break;l+=h,++c}for(var d=u-c;f<d&&l<i;){var m=this.getSizeOf(c+f);if(null===m||void 0===m){f=Math.min(f+a,d);break}l+=m,++f}this.maybeSetState({from:c,size:f},t)},t.prototype.getSpaceBefore=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return 0;if(null!==n[t]&&void 0!==n[t])return n[t]||0;for(var r=t;r>0&&(null===n[r]||void 0===n[r]);)r--;for(var i=n[r]||0,o=r;o<t;++o){n[o]=i;var a=this.getSizeOf(o);if(null===a||void 0===a)break;i+=a}return n[t]=i,n[t]||0},t.prototype.cacheSizes=function e(){var t=this.cache,n=this.state.from,r=this.items,i=r.children,o=r.props,a,s=i||(void 0===o?{}:o).children||[];try{for(var u=0,l=s.length;u<l;++u){var c,f=Object(er.findDOMNode)(this.items).children[u].offsetHeight;f>0&&(t[n+u]=f)}}catch(e){}},t.prototype.getSizeOf=function e(t){var n=this,r=this.cache,i=this.props,o=i.itemSizeGetter,a=i.jumpIndex;if(t in r)return r[t];if(o)return o(t);var s=Object.keys(this.cache).map(function(e){return n.cache[e]}).pop();return!this.defaultItemHeight&&a>-1&&s&&(this.defaultItemHeight=s),this.defaultItemHeight?this.defaultItemHeight:void 0},t.prototype.scrollTo=function e(t){this.setScroll(this.getSpaceBefore(t))},t.prototype.renderMenuItems=function e(){for(var t=this,n=this.props,r=n.children,i=n.itemsRenderer,o=this.state,a=o.from,s=o.size,u=[],l=0;l<s;++l)u.push(r[a+l]);return i(u,function(e){return t.items=e,t.items})},t.prototype.render=function e(){var t,n=this,r=this.props,i=r.children,o=void 0===i?[]:i,a=r.prefix,s=r.className,u=o.length,l=this.state.from,c=this.renderMenuItems(),f={position:"relative"},p={},h=this.getSpaceBefore(u,p);h&&(f.height=h);var d,m="translate(0px, "+this.getSpaceBefore(l,p)+"px)",g={msTransform:m,WebkitTransform:m,transform:m},v=Us()(((t={})[a+"virtual-list-wrapper"]=!0,t[s]=!!s,t));return or.a.createElement("div",{className:v,style:f,ref:function e(t){return n.el=t,n.el}},or.a.createElement("div",{style:g},c))},t}(ir.Component),Sm.displayName="VirtualList",Sm.propTypes={prefix:To.a.string,children:To.a.any,minSize:To.a.number,pageSize:To.a.number,itemsRenderer:To.a.func,threshold:To.a.number,itemSizeGetter:To.a.func,jumpIndex:To.a.number,className:To.a.string},Sm.defaultProps={prefix:"next-",itemsRenderer:function e(t,n){return or.a.createElement("ul",{ref:n},t)},minSize:1,pageSize:10,jumpIndex:0,threshold:100},km);Rm.displayName="VirtualList";var Pm=Object(No.polyfill)(Rm),Mm=zs.config(Pm),jm,Dm,Lm=Cl.Popup,Fm=af.Item,zm=af.Group,Bm=Za.noop,Um=Za.bindCtx,Wm=Za.makeChain;function Vm(e){e.preventDefault()}var Hm=(Dm=jm=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return r.saveSelectRef=function(e){r.selectDOM=Object(er.findDOMNode)(e)},r.saveInputRef=function(e){e&&e.getInstance()&&(r.inputRef=e.getInstance())},r.savePopupRef=function(e){r.popupRef=e,r.props.popupProps&&"function"==typeof r.props.popupProps.ref&&r.props.popupProps.ref(e)},r.dataStore=new Em({filter:n.filter,filterLocal:n.filterLocal,showDataSourceChildren:n.showDataSourceChildren}),r.state={dataStore:r.dataStore,value:"value"in n?n.value:n.defaultValue,visible:"visible"in n?n.visible:n.defaultVisible,dataSource:r.setDataSource(r.props),width:100,highlightKey:"highlightKey"in n?n.highlightKey:n.defaultHighlightKey,srReader:""},Um(r,["handleMenuBodyClick","handleVisibleChange","focusInput","beforeOpen","beforeClose","afterClose","handleResize"]),r}return ko()(t,e),t.prototype.componentDidMount=function e(){var t=this;setTimeout(function(){return t.syncWidth()},0),Ya.on(window,"resize",this.handleResize)},t.prototype.componentDidUpdate=function e(t,n){t.label===this.props.label&&n.value===this.state.value||this.syncWidth()},t.prototype.componentWillUnmount=function e(){Ya.off(window,"resize",this.handleResize),clearTimeout(this.resizeTimeout)},t.prototype.syncWidth=function e(){var t=this,n=this.props,r=n.popupStyle,i=n.popupProps;if(!(r&&"width"in r||i&&i.style&&"width"in i.style)){var o=Ka.getStyle(this.selectDOM,"width");o&&this.width!==o&&(this.width=o,this.popupRef&&this.shouldAutoWidth()&&setTimeout(function(){t.popupRef&&t.popupRef.getInstance().overlay&&Ka.setStyle(t.popupRef.getInstance().overlay.getInstance().getContentNode(),"width",t.width)},0))}},t.prototype.handleResize=function e(){var t=this;clearTimeout(this.resizeTimeout),this.state.visible&&(this.resizeTimeout=setTimeout(function(){t.syncWidth()},200))},t.prototype.setDataSource=function e(t){var n=t.dataSource,r=t.children;return ir.Children.count(r)?this.dataStore.updateByDS(r,!0):Array.isArray(n)?this.dataStore.updateByDS(n,!1):[]},t.prototype.setVisible=function e(t,n){this.props.disabled||this.state.visible===t||("visible"in this.props||this.setState({visible:t}),this.props.onVisibleChange(t,n))},t.prototype.setFirstHightLightKeyForMenu=function e(){if(this.props.autoHighlightFirstItem&&this.dataStore.getMenuDS().length&&this.dataStore.getEnableDS().length){var t=""+this.dataStore.getEnableDS()[0].value;this.setState({highlightKey:t}),this.props.onToggleHighlightItem(t,"autoFirstItem")}},t.prototype.handleChange=function e(t){var n;"value"in this.props||this.setState({value:t});for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(n=this.props).onChange.apply(n,[t].concat(i))},t.prototype.handleMenuBodyClick=function e(t){this.focusInput(t)},t.prototype.toggleHighlightItem=function e(t){if(this.state.visible){var n=this.dataStore.getEnableDS().length;if(!n)return!1;var r=this.state.highlightKey,i=-1;null!==r&&this.dataStore.getEnableDS().some(function(e,t){return""+e.value===r&&(i=t),i>-1}),(i+=t)<0&&(i=n-1),i>=n&&(i=0);var o=this.dataStore.getEnableDS()[i];return r=o?""+o.value:null,this.setState({highlightKey:r,srReader:o.label}),this.scrollMenuIntoView(),o}this.setVisible(!0,"enter")},t.prototype.scrollMenuIntoView=function e(){var t=this,n=this.props.prefix;clearTimeout(this.highlightTimer),this.highlightTimer=setTimeout(function(){try{var e,r=Object(er.findDOMNode)(t.menuRef).querySelector("."+n+"select-menu-item."+n+"focused");r&&r.scrollIntoViewIfNeeded()}catch(e){}})},t.prototype.renderMenuHeader=function e(){var t=this.props.menuProps;return t&&"header"in t?t.header:null},t.prototype.handleSelect=function e(){},t.prototype.renderMenu=function e(){var t,n=this,r=this.props,i=r.prefix,o=r.mode,a=r.locale,s=r.notFoundContent,u=r.useVirtual,l=r.menuProps,c=this.state,f=c.dataSource,p=c.highlightKey,h=this.state.value,d=void 0;d=pm(h)||0===h.length||this.isAutoComplete?[]:fm(o)?[_m(h)]:[].concat(h).map(function(e){return _m(e)});var m=this.renderMenuItem(f),g=Us()(((t={})[i+"select-menu"]=!0,t[i+"select-menu-empty"]=!m||!m.length,t));m&&m.length||(m=or.a.createElement("span",{className:i+"select-menu-empty-content"},s||a.notFoundContent));var v=yo()({},l,{children:m,role:"listbox",selectedKeys:d,focusedKey:p,focusable:!1,selectMode:fm(o)?"single":"multiple",onSelect:this.handleMenuSelect,onItemClick:this.handleItemClick,header:this.renderMenuHeader(),onClick:this.handleMenuBodyClick,onMouseDown:Vm,className:g}),y=this.shouldAutoWidth()?{width:this.width}:{minWidth:this.width};return u&&m.length?or.a.createElement("div",{className:i+"select-menu-wrapper",style:yo()({position:"relative"},y)},or.a.createElement(Mm,{itemsRenderer:function e(t,r){return or.a.createElement(af,yo()({ref:function e(t){r(t),n.menuRef=t},flatenContent:!0},v),t)}},m)):or.a.createElement(af,yo()({},v,{style:y}))},t.prototype.renderMenuItem=function e(t){var n=this,r=this.props,i=r.prefix,o=r.itemRender,a=r.showDataSourceChildren,s=void 0;return s=this.isAutoComplete?this.state.value:this.state.searchValue,t.map(function(e,t){if(!e)return null;if(Array.isArray(e.children)&&a)return or.a.createElement(zm,{key:t,label:e.label},n.renderMenuItem(e.children));var r={role:"option",key:e.value,className:i+"select-menu-item",disabled:e.disabled};return"title"in e&&(r.title=e.title),or.a.createElement(Fm,r,o(e,s))})},t.prototype.focusInput=function e(){this.inputRef.focus()},t.prototype.focus=function e(){var t;(t=this.inputRef).focus.apply(t,arguments)},t.prototype.beforeOpen=function e(){var t=this.state,n=t.value,r=t.highlightKey;"single"!==this.props.mode||n||r||this.setFirstHightLightKeyForMenu(),this.syncWidth()},t.prototype.beforeClose=function e(){},t.prototype.afterClose=function e(){},t.prototype.shouldAutoWidth=function e(){return!this.props.popupComponent&&this.props.autoWidth},t.prototype.render=function e(t){var n,r=t.prefix,i=t.mode,o=t.popupProps,a=t.popupContainer,s=t.popupClassName,u=t.popupStyle,l=t.popupContent,c=t.canCloseByTrigger,f=t.followTrigger,p=t.cache,h=t.popupComponent,d=t.isPreview,m=t.renderPreview,g=t.style,v=t.className,y=Us()(((n={})[r+"select-auto-complete-menu"]=!l&&this.isAutoComplete,n[r+"select-"+i+"-menu"]=!l&&!!i,n),s||o.className);if(d){if(this.isAutoComplete)return or.a.createElement(cm,{style:g,className:v,isPreview:d,renderPreview:m,value:this.state.value});var b=this.valueDataSource.valueDS;if("function"==typeof m){var w,x=Us()(((w={})[r+"form-preview"]=!0,w[v]=!!v,w));return or.a.createElement("div",{style:g,className:x},m(b,this.props))}var _=this.props.fillProps;return"single"===i?or.a.createElement(cm,{style:g,className:v,isPreview:d,value:_?b[_]:b.label}):or.a.createElement(cm,{style:g,className:v,isPreview:d,value:b.map(function(e){return e.label}).join(", ")})}var C=yo()({triggerType:"click",autoFocus:!!this.props.popupAutoFocus,cache:p},o,{beforeOpen:Wm(this.beforeOpen,o.beforeOpen),beforeClose:Wm(this.beforeClose,o.beforeClose),afterClose:Wm(this.afterClose,o.afterClose),canCloseByTrigger:c,followTrigger:f,visible:this.state.visible,onVisibleChange:this.handleVisibleChange,shouldUpdatePosition:!0,container:a||o.container,className:y,style:u||o.style}),E=h||Lm;return or.a.createElement(E,yo()({},C,{trigger:this.renderSelect(),ref:this.savePopupRef}),l?or.a.createElement("div",{className:r+"select-popup-wrap",style:this.shouldAutoWidth()?{width:this.width}:{}},l):this.renderMenu())},t}(or.a.Component),jm.propTypes={prefix:To.a.string,size:To.a.oneOf(["small","medium","large"]),value:To.a.any,defaultValue:To.a.any,placeholder:To.a.string,autoWidth:To.a.bool,label:To.a.node,hasClear:To.a.bool,state:To.a.oneOf(["error","loading"]),readOnly:To.a.bool,disabled:To.a.bool,visible:To.a.bool,defaultVisible:To.a.bool,onVisibleChange:To.a.func,popupContainer:To.a.any,popupClassName:To.a.any,popupStyle:To.a.object,popupProps:To.a.object,followTrigger:To.a.bool,popupContent:To.a.node,menuProps:To.a.object,filterLocal:To.a.bool,filter:To.a.func,defaultHighlightKey:To.a.string,highlightKey:To.a.string,onToggleHighlightItem:To.a.func,autoHighlightFirstItem:To.a.bool,useVirtual:To.a.bool,className:To.a.any,children:To.a.any,dataSource:To.a.array,itemRender:To.a.func,mode:To.a.string,notFoundContent:To.a.node,locale:To.a.object,rtl:To.a.bool,popupComponent:To.a.any,isPreview:To.a.bool,renderPreview:To.a.func,showDataSourceChildren:To.a.bool},jm.defaultProps={prefix:"next-",size:"medium",autoWidth:!0,onChange:Bm,onVisibleChange:Bm,onToggleHighlightItem:Bm,popupProps:{},filterLocal:!0,filter:dm,itemRender:function e(t){return t.label||t.value},locale:Ao.Select,autoHighlightFirstItem:!0,showDataSourceChildren:!0,defaultHighlightKey:null},Dm),Gm,qm;Hm.displayName="Base";var Km=Za.bindCtx,Xm=Za.noop,Ym=9===Xa.ieVersion,Zm=(qm=Gm=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));r.handleWrapClick=function(e){"INPUT"!==e.target.nodeName&&e.preventDefault(),r.focusInput()},r.handleArrowClick=function(e){e.preventDefault(),r.focusInput(),r.state.visible&&r.hasSearch()&&r.setVisible(!1)},r.handleClear=function(e){e.stopPropagation(),r.handleChange(void 0,"clear")},r.valueDataSource={valueDS:[],mapValueDS:{}};var i="searchValue"in n?n.searchValue:"";return r.dataStore.setOptions({key:i,addonKey:"tag"===n.mode}),yo()(r.state,{searchValue:i,dataSource:r.setDataSource(n)}),void 0!==r.state.value&&(r.valueDataSource=xm(r.state.value,r.valueDataSource.mapValueDS,r.dataStore.getMapDS())),Km(r,["handleMenuSelect","handleItemClick","handleSearch","handleSearchKeyDown","handleSelectAll","maxTagPlaceholder"]),r}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){var r={};if("value"in t&&t.value!==n.value&&yo()(r,{value:t.value}),"highlightKey"in t&&t.highlightKey!==n.highlightKey&&yo()(r,{highlightKey:t.highlightKey}),"searchValue"in t&&t.searchValue!==n.searchValue){var i=t.searchValue;yo()(r,{searchValue:void 0===i||null===i?"":i})}return"visible"in t&&t.visible!==n.visible&&yo()(r,{visible:t.visible}),Object.keys(r).length?r:null},t.prototype.componentDidUpdate=function e(t,n){var r=this.props;"searchValue"in r&&this.state.searchValue!==n.searchValue&&this.dataStore.setOptions({key:this.state.searchValue}),r.mode!==t.mode&&this.dataStore.setOptions({addonKey:"tag"===r.mode}),r.mode!==t.mode&&this.dataStore.setOptions({addonKey:"tag"===r.mode}),r.filter!==t.filter&&this.dataStore.setOptions({filter:r.filter}),r.filterLocal!==t.filterLocal&&this.dataStore.setOptions({filterLocal:r.filterLocal}),t.children===r.children&&t.dataSource===r.dataSource||(this.setState({dataSource:this.setDataSource(r)}),r.popupContent||this.setFirstHightLightKeyForMenu()),"value"in r?(this.valueDataSource=xm(r.value,this.valueDataSource.mapValueDS,this.dataStore.getMapDS()),this.updateSelectAllYet(this.valueDataSource.value)):"defaultValue"in r&&r.defaultValue===this.valueDataSource.value&&(r.children!==t.children||r.dataSource!==t.dataSource)&&(this.valueDataSource=xm(r.defaultValue,this.valueDataSource.mapValueDS,this.dataStore.getMapDS())),t.label===this.props.label&&n.value===this.state.value&&r.searchValue===this.state.searchValue||this.syncWidth()},t.prototype.componentDidMount=function t(){Ym&&this.ie9Hack(),e.prototype.componentDidMount.call(this)},t.prototype.ie9Hack=function e(){try{var t=this.selectDOM.currentStyle.width;this.setState({fixWidth:"auto"!==t})}catch(e){}},t.prototype.useDetailValue=function e(){var t=this.props,n=t.popupContent,e=t.useDetailValue,r=t.dataSource;return e||n&&!r},t.prototype.hasSearch=function e(){var t=this.props,n=t.showSearch,r=t.mode;return n||"tag"===r},t.prototype.handleMenuSelect=function e(t,n){var r=this.props,i=r.mode,o=r.readOnly,a=r.disabled,s;return!o&&!a&&("single"===i?this.handleSingleSelect(t[0],"itemClick"):this.handleMultipleSelect(t,"itemClick",n.props&&n.props._key))},t.prototype.handleItemClick=function e(){this.props.popupAutoFocus||this.focusInput()},t.prototype.handleSingleSelect=function e(t,n){var r,i=xm(t,this.props.cacheValue?this.valueDataSource.mapValueDS:{},this.dataStore.getMapDS());if(this.valueDataSource=i,this.setVisible(!1,n),this.useDetailValue())return this.handleChange(i.valueDS,n);this.handleChange(i.value,n,i.valueDS),this.setState({highlightKey:t}),"searchValue"in this.props||!this.state.searchValue||this.handleSearchClear(n)},t.prototype.handleMultipleSelect=function e(t,n,r,i){var o=this,a=xm(t,this.valueDataSource.mapValueDS,this.dataStore.getMapDS()),s=this.props,u=s.cacheValue,l=s.mode,c=s.hiddenSelected;(u||"tag"===l)&&(this.valueDataSource=a),c&&this.setVisible(!1,n),r&&this.state.visible&&this.setState({highlightKey:r}),this.useDetailValue()?this.handleChange(a.valueDS,n):this.handleChange(a.value,n,a.valueDS),this.updateSelectAllYet(a.value),"searchValue"in this.props||!this.state.searchValue||i||setTimeout(function(){o.handleSearchClear(n)})},t.prototype.updateSelectAllYet=function e(t){var n=this;if(this.selectAllYet=!1,this.props.hasSelectAll&&Array.isArray(t)){var r=this.dataStore.getEnableDS().map(function(e){return e.value});r.length<=t.length&&(this.selectAllYet=!0,r.forEach(function(e){-1!==t.indexOf(e)||(n.selectAllYet=!1)}))}},t.prototype.handleSearchValue=function e(t){var n;this.state.searchValue!==t&&(this.props.filterLocal?"searchValue"in this.props||(this.setState({searchValue:t,dataSource:this.dataStore.updateByKey(t)}),this.setFirstHightLightKeyForMenu()):"searchValue"in this.props||this.setState({searchValue:t}))},t.prototype.handleSearch=function e(t){this.handleSearchValue(t),!this.state.visible&&t&&this.setVisible(!0),this.props.onSearch(t)},t.prototype.handleSearchClear=function e(t){this.handleSearchValue(""),this.props.onSearchClear(t)},t.prototype.handleSearchKeyDown=function e(t){var n=this.props,r=n.popupContent,i=n.onKeyDown,o=n.showSearch,a=n.mode,s=n.hasClear,u=n.onToggleHighlightItem,l=n.readOnly,c=n.disabled;if(r)return i(t);var f="search",p=this.hasSearch();switch(t.keyCode){case rs.UP:t.preventDefault(),u(this.toggleHighlightItem(-1,t),"up");break;case rs.DOWN:t.preventDefault(),u(this.toggleHighlightItem(1,t),"down");break;case rs.ENTER:if(t.preventDefault(),l||c)break;this.chooseHighlightItem(f,t);break;case rs.ESC:t.preventDefault(),this.state.visible&&this.setVisible(!1,"keyDown");break;case rs.SPACE:t.stopPropagation(),!p&&t.preventDefault();break;case rs.BACKSPACE:if(l||c)break;if("multiple"===a&&o||"tag"===a){var h=this.valueDataSource.valueDS;h&&h.length&&!h[h.length-1].disabled&&this.handleDeleteTag(t)}else"single"===a&&s&&!this.state.visible&&this.handleClear(t)}i(t)},t.prototype.chooseMultipleItem=function e(t){var n,r=(this.state.value||[]).map(function(e){return _m(e)}),i=!1,o=r.map(function(e){return""+e}).indexOf(t);o>-1?(r.splice(o,1),i=!0):r.push(t),this.handleMultipleSelect(r,"enter",null,i)},t.prototype.chooseHighlightItem=function e(t,n){var r=this.props.mode;if(!this.state.visible)return"tag"===r&&this.state.searchValue&&this.chooseMultipleItem(this.state.searchValue),!1;var i=this.state.highlightKey;null!==i&&this.dataStore.getMenuDS().length&&("single"===r?this.handleSingleSelect(i,"enter"):(this.chooseMultipleItem(i),n&&n.stopPropagation()))},t.prototype.handleTagClose=function e(t){var n;if(this.props.readOnly)return!1;if(this.useDetailValue()){var r=this.state.value.filter(function(e){return t.value!==e.value});this.handleChange(r,"tag")}else{var i=this.state.value.filter(function(e){return t.value!==e});this.handleMultipleSelect(i,"tag")}return this.props.onRemove(t),!1},t.prototype.handleDeleteTag=function e(t){var n=this.state.value,r;if(this.state.searchValue||!n||!n.length)return!1;t.preventDefault();var i=n.slice(0,n.length-1);this.useDetailValue()?this.handleChange(i,"tag"):this.handleMultipleSelect(i,"tag")},t.prototype.handleSelectAll=function e(t){t&&t.preventDefault();var n=void 0;n=this.selectAllYet?[]:this.dataStore.getEnableDS().map(function(e){return e.value}),this.handleMultipleSelect(n,"selectAll")},t.prototype.handleVisibleChange=function e(t,n){this.setVisible(t,n)},t.prototype.afterClose=function e(){this.hasSearch()&&this.handleSearchClear("popupClose")},t.prototype.maxTagPlaceholder=function e(t,n){var r=this.props.locale;return""+Qa.template(r.maxTagPlaceholder,{selected:t.length,total:n.length})},t.prototype.renderValues=function e(){var t=this,n=this.props,r=n.prefix,i=n.mode,o=n.size,a=n.valueRender,s=n.fillProps,u=n.disabled,l=n.maxTagCount,c=n.maxTagPlaceholder,f=n.tagInline,p=n.tagClosable,h=this.state.value;if(pm(h))return null;if(this.useDetailValue()||(h=h===this.valueDataSource.value?this.valueDataSource.valueDS:xm(h,this.valueDataSource.mapValueDS,this.dataStore.getMapDS()).valueDS),"single"===i){if(!h||"object"!==(void 0===h?"undefined":Ro()(h)))return null;var d=s&&s in h?h[s]:a(h);return"number"==typeof d?d.toString():d}if(h){var m=h,g=void 0,v=this.dataStore.getFlattenDS(),y="maxTagPlaceholder"in this.props?c:this.maxTagPlaceholder;void 0!==l&&h.length>l&&!f&&(m=m.slice(0,l),g=or.a.createElement(yd,{key:"_count",type:"primary",size:"large"===o?"medium":"small",animation:!1},y(h,v))),h.length>0&&f&&(g=or.a.createElement("div",{className:r+"select-tag-compact",key:"_count"},y(h,v))),h=m,Array.isArray(h)||(h=[h]);var b=h.map(function(e){if(!e)return null;var n=s?e[s]:a(e);return or.a.createElement(yd,{key:e.value,disabled:u||e.disabled,type:"primary",size:"large"===o?"medium":"small",animation:!1,onClose:t.handleTagClose.bind(t,e),closable:p},n)});return g&&(f?b.unshift(g):b.push(g)),b}return null},t.prototype.hasClear=function e(){var t=this.props,e=t.hasClear,n=t.readOnly,r=t.disabled,i=t.showSearch,o=this.state,a=o.value,s=o.visible;return void 0!==a&&null!==a&&e&&!n&&!r&&!(i&&s)},t.prototype.renderExtraNode=function e(){var t=this.props,n=t.hasArrow,r=t.hasClear,i=t.prefix,o=[];return n&&o.push(or.a.createElement("span",{key:"arrow","aria-hidden":!0,onClick:this.handleArrowClick,className:i+"select-arrow"},or.a.createElement(gu,{type:"arrow-down",className:i+"select-symbol-fold"}))),r&&o.push(or.a.createElement("span",{key:"clear","aria-hidden":!0,onClick:this.handleClear,className:i+"select-clear"},or.a.createElement(gu,{type:"delete-filling"}))),o},t.prototype.renderSelect=function e(){var n,r=this,i=this.props,o=i.prefix,a=i.showSearch,s=i.placeholder,u=i.mode,l=i.size,c=i.className,f=i.style,p=i.readOnly,h=i.disabled,d=i.hasBorder,m=i.label,g=i.locale,v=i.state,y=i.onBlur,b=i.onFocus,w=i.onMouseEnter,x=i.onMouseLeave,_=i.rtl,C=Ja.pickOthers(t.propTypes,this.props),E=Ja.pickAttrsWith(C,"data-"),S=this.state.visible,k="single"===u,O=this.hasSearch(),T=this.renderValues(),N=s||g.selectPlaceholder||g.selectPlaceHolder;T&&T.length&&(N=null),a&&S&&k&&"string"==typeof T&&(N=T);var A=this.renderExtraNode(),I=Us()([o+"select",o+"select-trigger",o+"select-"+u,""+o+l,c],((n={})[o+"active"]=S,n[o+"inactive"]=!S,n[o+"no-search"]=!O,n[o+"has-search"]=O,n[o+"select-in-ie"]=Ym,n[o+"select-in-ie-fixwidth"]=this.state.fixWidth,n[o+"has-clear"]=this.hasClear(),n)),R=this.valueDataSource.valueDS?this.valueDataSource.valueDS.label:"";return or.a.createElement("span",yo()({},E,{className:I,style:f,dir:_?"rtl":void 0,ref:this.saveSelectRef,onClick:this.handleWrapClick,onMouseEnter:w,onMouseLeave:x,onMouseDown:this.handleWrapClick}),or.a.createElement(cm,yo()({"aria-valuetext":R},Ja.pickOthers(E,C),{role:"combobox",tabIndex:0,"aria-expanded":this.state.visible,"aria-disabled":h,state:v,label:m,extra:A,value:this.state.searchValue,size:l,readOnly:!this.hasSearch()||p,disabled:h,placeholder:N,hasBorder:d,hasClear:!1,htmlSize:"1",inputRender:function e(t){return r.renderSearchInput(T,N,t)},onChange:this.handleSearch,onKeyDown:this.handleSearchKeyDown,onFocus:b,onBlur:y,className:o+"select-inner",ref:this.saveInputRef})),or.a.createElement("span",{className:o+"sr-only","aria-live":"polite"},this.state.srReader))},t.prototype.renderSearchInput=function e(t,n,r){var i,o=this.props,a=o.prefix,s=o.mode,u=o.tagInline,l="single"===s,c=this.state.searchValue,f=Us()(((i={})[a+"select-values"]=!0,i[a+"input-text-field"]=!0,i[a+"select-compact"]=!l&&u,i)),p=[l&&t?or.a.createElement("em",{key:"select-value"},t):t],h=or.a.createElement("span",{key:"trigger-search",className:a+"select-trigger-search"},r,or.a.createElement("span",{"aria-hidden":!0},c||n,"\xa0"));return!l&&u?p.unshift(h):p.push(h),or.a.createElement("span",{className:f},p)},t.prototype.renderMenuHeader=function e(){var t,n,r=this.props,i=r.prefix,o=r.hasSelectAll,a=r.mode,s=r.locale,u=r.menuProps;if(u&&"header"in u)return u.header;var l=this.dataStore.getEnableDS().length;if(!o||"single"===a||!l)return null;var c="boolean"==typeof o?s.selectAll:o,f=this.selectAllYet,p=Us()(((t={})[i+"select-all"]=!0,t[i+"selected"]=f,t)),h=Us()(((n={})[i+"select-all-inner"]=!0,n));return or.a.createElement("div",{key:"all",onClick:this.handleSelectAll,className:p,style:{lineHeight:"unset"}},f?or.a.createElement(gu,{className:i+"menu-icon-selected",style:{display:"none"},type:"select"}):null,or.a.createElement("span",{className:h},c))},t.prototype.render=function t(){var n=this.props.mode,r=yo()({},this.props);return this.hasSearch()&&(r.canCloseByTrigger=!1),"single"===n&&(r.cache=!0),e.prototype.render.call(this,r)},t}(Hm),Gm.propTypes=yo()({},Hm.propTypes,{mode:To.a.oneOf(["single","multiple","tag"]),value:To.a.any,defaultValue:To.a.any,onChange:To.a.func,dataSource:To.a.arrayOf(To.a.oneOfType([To.a.shape({value:To.a.any,label:To.a.any,disabled:To.a.bool,children:To.a.array}),To.a.bool,To.a.number,To.a.string])),hasBorder:To.a.bool,hasArrow:To.a.bool,showSearch:To.a.bool,onSearch:To.a.func,onSearchClear:To.a.func,hasSelectAll:To.a.oneOfType([To.a.bool,To.a.string]),fillProps:To.a.string,useDetailValue:To.a.bool,cacheValue:To.a.bool,valueRender:To.a.func,itemRender:To.a.func,notFoundContent:To.a.node,style:To.a.object,searchValue:To.a.string,tagInline:To.a.bool,tagClosable:To.a.bool,maxTagCount:To.a.number,maxTagPlaceholder:To.a.func,hiddenSelected:To.a.bool,onRemove:To.a.func,onFocus:To.a.func,onBlur:To.a.func,onMouseEnter:To.a.func,onMouseLeave:To.a.func,onKeyDown:To.a.func,locale:To.a.object,popupAutoFocus:To.a.bool,showDataSourceChildren:To.a.bool}),Gm.defaultProps=yo()({},Hm.defaultProps,{locale:Ao.Select,mode:"single",showSearch:!1,cacheValue:!0,tagInline:!1,onSearch:Xm,onSearchClear:Xm,hasArrow:!0,onRemove:Xm,valueRender:function e(t){return t.label||t.value},onKeyDown:Xm,onFocus:Xm,onBlur:Xm,onMouseEnter:Xm,onMouseLeave:Xm,popupAutoFocus:!1,tagClosable:!0}),Gm.displayName="Select",qm),$m=Object(No.polyfill)(Zm),Jm,Qm,eg=Za.bindCtx,tg=Za.noop,ng=(Qm=Jm=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return r.handleChange=function(e,t,n){var i=r.props,o=i.disabled,a=i.readOnly,s=i.filterLocal;if(o||a)return!1;var u="string"==typeof t?t:"change";r.isInputing="change"===u,s&&(r.setState({dataSource:r.dataStore.updateByKey(e)}),r.shouldControlPopup(r.props,u),r.setFirstHightLightKeyForMenu()),"value"in r.props||r.setState({value:e}),r.props.onChange(e,u,n),"itemClick"!==u&&"enter"!==u||r.setVisible(!1,u)},r.isAutoComplete=!0,r.isInputing=!1,r.dataStore.setOptions({key:r.state.value}),yo()(r.state,{dataSource:r.setDataSource(n)}),eg(r,["handleTriggerKeyDown","handleMenuSelect","handleItemClick"]),r}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){var r={};return"value"in t&&t.value!==n.value&&yo()(r,{value:t.value}),"visible"in t&&t.visible!==n.visible&&yo()(r,{visible:t.visible}),Object.keys(r).length?r:null},t.prototype.componentDidUpdate=function e(t,n){var r=this.props;"value"in r&&this.dataStore.setOptions({key:r.value}),r.filter!==t.filter&&this.dataStore.setOptions({filter:r.filter}),r.filterLocal!==t.filterLocal&&this.dataStore.setOptions({filterLocal:r.filterLocal}),t.children===r.children&&t.dataSource===r.dataSource||(this.setState({dataSource:this.setDataSource(r)}),!r.filterLocal&&this.isInputing&&this.shouldControlPopup(r,"update"),r.filterLocal||r.popupContent||this.setFirstHightLightKeyForMenu())},t.prototype.shouldControlPopup=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments[1],r;t.popupContent||this.dataStore.getMenuDS().length?this.setVisible(!0,n):this.setVisible(!1,n)},t.prototype.handleMenuSelect=function e(t){var n=t[0],r=this.dataStore.getMapDS();if(n in r){var i=r[n];this.handleSelectEvent(n,i,"itemClick")}},t.prototype.handleItemClick=function e(){this.setVisible(!1,"itemClick")},t.prototype.handleSelectEvent=function e(t,n,r){var i=n&&n[this.props.fillProps]||t;"itemClick"!==r&&"enter"!==r||this.setVisible(!1,r),this.handleChange(i,r,n)},t.prototype.handleVisibleChange=function e(t,n){("visible"in this.props||!t||this.props.popupContent||this.dataStore.getMenuDS().length)&&this.setVisible(t,n)},t.prototype.beforeClose=function e(){this.isInputing=!1},t.prototype.handleTriggerKeyDown=function e(t){var n=this.props,r=n.popupContent,i=n.onToggleHighlightItem,o=n.onKeyDown;if(r)return t.stopPropagation(),o(t);switch(t.keyCode){case rs.UP:t.preventDefault(),i(this.toggleHighlightItem(-1,t),"up");break;case rs.DOWN:t.preventDefault(),i(this.toggleHighlightItem(1,t),"down");break;case rs.ENTER:t.preventDefault(),this.chooseHighlightItem(t);break;case rs.SPACE:t.stopPropagation();break;case rs.ESC:t.preventDefault(),this.state.visible&&this.setVisible(!1,"esc")}o(t)},t.prototype.chooseHighlightItem=function e(){if(!this.state.visible)return!1;var t=this.state.highlightKey,n=this.dataStore.getEnableDS().find(function(e){return t===""+e.value});n&&this.handleSelectEvent(t,n,"enter")},t.prototype.hasClear=function e(){var t=this.props,e=t.hasClear,n=t.readOnly,r=t.disabled,i;return this.state.value&&e&&!n&&!r},t.prototype.renderSelect=function e(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,i=r.placeholder,o=r.size,a=r.prefix,s=r.className,u=r.style,l=r.label,c=r.readOnly,f=r.disabled,p=r.highlightHolder,h=r.locale,d=r.hasClear,m=r.state,g=r.rtl,v=Ja.pickOthers(t.propTypes,r),y=Ja.pickAttrsWith(v,"data-"),b=this.state.value,w=this.state.visible,x=Us()([a+"select",a+"select-auto-complete",a+"size-"+o,s],((n={})[a+"active"]=w,n[a+"disabled"]=f,n)),_=i||h.autoCompletePlaceholder||h.autoCompletePlaceHolder;p&&w&&(_=this.state.highlightKey||_);var C=yo()({},Ja.pickOthers(y,v),{state:m,ref:this.saveInputRef,hasClear:d,value:b,size:o,disabled:f,readOnly:c,placeholder:_,label:l,onChange:this.handleChange,onKeyDown:this.handleTriggerKeyDown});return or.a.createElement("span",yo()({},y,{className:x,style:u,dir:g?"rtl":void 0,ref:this.saveSelectRef,onClick:this.focusInput}),or.a.createElement(cm,yo()({role:"combobox","aria-autocomplete":"list","aria-disabled":f,"aria-expanded":this.state.visible},C)),or.a.createElement("span",{className:a+"sr-only","aria-live":"polite"},this.state.srReader))},t.prototype.render=function t(){var n=this;if(this.hasClear()){var r=this.props.popupProps.safeNode||[],i=Array.isArray(r)?r:[r];i.push(function(){return n.clearNode}),this.props.popupProps.safeNode=i}return e.prototype.render.call(this,yo()({},this.props,{canCloseByTrigger:!1}))},t}(Hm),Jm.propTypes=yo()({},Hm.propTypes,{value:To.a.oneOfType([To.a.string,To.a.number]),defaultValue:To.a.oneOfType([To.a.string,To.a.number]),onChange:To.a.func,dataSource:To.a.arrayOf(To.a.oneOfType([To.a.shape({value:To.a.string,label:To.a.any,disabled:To.a.bool,children:To.a.array}),To.a.string])),fillProps:To.a.string,itemRender:To.a.func,onKeyDown:To.a.func,highlightHolder:To.a.bool,style:To.a.object}),Jm.defaultProps=yo()({},Hm.defaultProps,{onKeyDown:tg,fillProps:"value"}),Qm),rg=Object(No.polyfill)(ng),ig,og,ag=(og=ig=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){return this.props.children},t}(or.a.Component),ig.propTypes={value:To.a.any.isRequired,disabled:To.a.bool,children:To.a.any},ig._typeMark="next_select_option",og),sg,ug;ag.displayName="Option";var lg=(ug=sg=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){return this.props.children},t}(or.a.Component),sg.propTypes={label:To.a.node,children:To.a.any},sg._typeMark="next_select_option_group",ug);function cg(e,t){var n=e.shape,r=e.container,i=e.multiple,o=e.filterBy,a=e.overlay,s=e.safeNode,u=e.noFoundContent,l,c=wo()(e,["shape","container","multiple","filterBy","overlay","safeNode","noFoundContent"]);return"arrow-only"===n&&(t("shape=arrow-only","hasBorder=false","Select"),c.hasBorder=!1),r&&(t("container","popupContainer","Select"),c.popupContainer=r),i&&(t("multiple","mode=multiple","Select"),c.mode="multiple"),o&&(t("filterBy","filter","Select"),c.filter=o),a&&(t("overlay","popupContent","Select"),c.popupContent=a,c.autoWidth=!1),u&&(t("noFoundContent","notFoundContent","Select"),c.notFoundContent=u),s&&(t("safeNode","popupProps={safeNode}","Select"),c.popupProps={safeNode:s}),c}lg.displayName="OptionGroup",$m.AutoComplete=zs.config(rg,{componentName:"Select"}),$m.Option=ag,$m.OptionGroup=lg,$m.Combobox=zs.config($m,{transform:function e(t,n){n("Select.Combobox","<Select showSearch={true}/>","Select");var r=cg(t,n);return t.onInputUpdate&&(r.onSearch=t.onInputUpdate,r.showSearch=!0),r}});var fg=zs.config($m,{transform:cg,exportNames:["focusInput","handleSearchClear"]}),pg=n(525);function hg(e){"@babel/helpers - typeof";return(hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function dg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gg(e,t,n){return t&&mg(e.prototype,t),n&&mg(e,n),e}function vg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yg(e,t)}function yg(e,t){return(yg=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function bg(e){return function(){var t=Cg(e),n;if(_g()){var r=Cg(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return wg(this,n)}}function wg(e,t){return!t||"object"!==hg(t)&&"function"!=typeof t?xg(e):t}function xg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Cg(e){return(Cg=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Eg=fg.Option,Sg=function(e){vg(n,e);var t=bg(n);function n(){var e;dg(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onChange=function(t){var n=e.props,r=n.itemName,i;(0,n.changeSelectPlugin)(r,t)},e}return gg(n,[{key:"render",value:function e(){var t=this.props,n=t.itemName,r=t.plugins,i=t.choices,o=t.currentSelect,a=t.jobId,s=r[n],u=i[n];return s&&(u.includes(s.package)||u.push(s.package)),or.a.createElement("div",{className:"choose-item",style:{backgroundColor:o?"#bdbdbd":"#f2f2f2"}},or.a.createElement("div",{className:"item-name"},n),or.a.createElement("div",{className:"choose-plugin"},or.a.createElement(fg,{value:s&&s.package||"",autoWidth:!1,onChange:this.onChange,disabled:a,hasClear:!0},u.map(function(e){return or.a.createElement(Eg,{value:e,key:e},e)}))))}}]),n}(ir.Component),kg=n(526),Og="click",Tg="hover",Ng,Ag;function Ig(e,t){var n="width";return"left"!==t&&"right"!==t||(n="height"),e?e.getBoundingClientRect()[n]:0}function Rg(e,t){var n="left";return"left"!==t&&"right"!==t||(n="top"),e.getBoundingClientRect()[n]}function Pg(e){return"transform"in e||"webkitTransform"in e||"MozTransform"in e}function Mg(e){var t=[];return or.a.Children.forEach(e,function(e,n){or.a.isValidElement(e)&&t.push(or.a.cloneElement(e,{key:e.key||n,title:e.props.title||e.props.tab}))}),t}var jg={float:"right",zIndex:1},Dg={float:"left",zIndex:1},Lg={dropdown:"arrow-down",prev:"arrow-left",next:"arrow-right"},Fg=Cl.Popup,zg=(Ag=Ng=function(e){function t(n,r){_o()(this,t);var i=Eo()(this,e.call(this,n,r));return i.removeTab=function(e,t){t&&t.stopPropagation(),i.props.onClose(e)},i.onCloseKeyDown=function(e,t){t.keyCode===rs.ENTER&&(t.stopPropagation(),t.preventDefault(),i.props.onClose(e))},i.defaultTabTemplateRender=function(e,t){var n=t.prefix,r=t.title,o=t.closeable,a=i.props.locale,s=o?or.a.createElement(gu,{"aria-label":a.closeAriaLabel,type:"close",tabIndex:"0",onKeyDown:function t(n){return i.onCloseKeyDown(e,n)},onClick:function t(n){return i.removeTab(e,n)},className:n+"tabs-tab-close"}):null;return or.a.createElement("div",{className:i.props.prefix+"tabs-tab-inner"},r,s)},i.scrollToActiveTab=function(){if(i.activeTab&&["slide","dropdown"].includes(i.props.excessMode)){var e=Ig(i.activeTab),t=Ig(i.wrapper),n=Rg(i.activeTab),r=Rg(i.wrapper),o=i.offset;if(n>=r+t||n+e<=r)return void i.setOffset(i.offset+r-n,!0,!0);i.setOffset(o,!0,!0)}},i.onPrevClick=function(){var e=Ig(i.wrapper);i.setOffset(i.offset+e,!0,!1)},i.onNextClick=function(){var e=Ig(i.wrapper);i.setOffset(i.offset-e,!0,!1)},i.onSelectMenuItem=function(e){var t=i.props,n,r;(0,t.onTriggerEvent)(t.triggerType,e[0])},i.onWindowResized=function(){i.updateTimer&&clearTimeout(i.updateTimer),i.updateTimer=setTimeout(function(){i.setSlideBtn(),i.getDropdownItems(i.props)},100)},i.navRefHandler=function(e){i.nav=Object(er.findDOMNode)(e)},i.wrapperRefHandler=function(e){i.wrapper=e},i.navbarRefHandler=function(e){i.navbar=e},i.activeTabRefHandler=function(e){i.activeTab=e},i.prevBtnHandler=function(e){i.prevBtn=Object(er.findDOMNode)(e)},i.nextBtnHandler=function(e){i.nextBtn=Object(er.findDOMNode)(e)},i.state={showBtn:!1,dropdownTabs:[]},i.offset=0,i}return ko()(t,e),t.prototype.componentDidMount=function e(){this.props.animation||this.initialSettings(),Ya.on(window,"resize",this.onWindowResized)},t.prototype.componentDidUpdate=function e(){var t=this;clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(function(){t.scrollToActiveTab()},410),clearTimeout(this.slideTimer),this.slideTimer=setTimeout(function(){t.setSlideBtn()},410)},t.prototype.componentWillUnmount=function e(){Ya.off(window,"resize",this.onWindowResized)},t.prototype.initialSettings=function e(){this.setSlideBtn(),this.getDropdownItems(this.props)},t.prototype.setOffset=function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.props,o=i.tabPosition,a=i.rtl,s=Ig(this.nav,o),u=Ig(this.wrapper),l=(t=(t=t>=0?0:t)<=u-s&&u-s<0?u-s:t)-this.offset;if(this.activeTab&&"slide"===this.props.excessMode&&r){var c=Ig(this.activeTab),f=Rg(this.activeTab)+l,p=Rg(this.wrapper);t=this._adjustTarget({wrapperOffset:p,wrapperWH:u,activeTabWH:c,activeTabOffset:f,rtl:a,target:t})}var h=1;this.nav&&this.nav.offsetWidth&&(h=Ig(this.nav)/this.nav.offsetWidth);var d=t/h,m=isNaN(d)?t:d;if(this.offset!==t){this.offset=t;var g={},v=this.nav.style,y=Pg(v);g="left"===o||"right"===o?y?{value:"translate3d(0, "+m+"px, 0)"}:{name:"top",value:m+"px"}:this.props.rtl?y?{value:"translate3d("+-1*m+"px, 0, 0)"}:{name:"right",value:m+"px"}:y?{value:"translate3d("+m+"px, 0, 0)"}:{name:"left",value:m+"px"},y?yo()(v,{transform:g.value,webkitTransform:g.value,mozTransform:g.value}):v[g.name]=g.value,n&&this.setSlideBtn()}},t.prototype._adjustTarget=function e(t){var n=t.wrapperOffset,r=t.wrapperWH,i=t.activeTabWH,o=t.activeTabOffset,a=t.rtl,s=t.target;return n+r<o+i&&o<n+r?(a?s+=o+i-(n+r):s-=o+i-(n+r)+1,s):n<o+i&&o<n?(a?s-=n-o+1:s+=n-o,s):s},t.prototype._setBtnStyle=function e(t,n){if(this.prevBtn&&this.nextBtn){var r="disabled";this.prevBtn.disabled=!t,this.nextBtn.disabled=!n,t?Ka.removeClass(this.prevBtn,r):Ka.addClass(this.prevBtn,r),n?Ka.removeClass(this.nextBtn,r):Ka.addClass(this.nextBtn,r)}},t.prototype.setSlideBtn=function e(){var t=this.props.tabPosition,n=Ig(this.nav,t),r=Ig(this.wrapper,t),i=r-n,o=void 0,a=void 0;i>=0||n<=r?(o=!1,a=!1,this.setOffset(0,!1)):this.offset<0&&this.offset<=i?(a=!0,o=!1):this.offset>=0?(a=!1,o=!0):(a=!0,o=!0),(a||o)!==this.state.showBtn?this.setState({showBtn:a||o}):this._setBtnStyle(a,o)},t.prototype.getDropdownItems=function e(t){var n=t.excessMode,r=t.tabs;if("dropdown"===n){var i=this.wrapper.offsetWidth,o=this.nav.childNodes,a=void 0,s=0;for(a=0;a<r.length&&!((s+=o[a].offsetWidth)>i);a++);a===r.length?this.setState({dropdownTabs:[]}):this.setState({dropdownTabs:r})}},t.prototype.renderTabList=function e(t){var n=this,r=t.prefix,i=t.tabs,o=t.activeKey,a,s=t.tabRender||this.defaultTabTemplateRender,u=[];return or.a.Children.forEach(i,function(e){var t,i=e.props,a=i.disabled,l=i.className,c=i.onClick,f=i.onMouseEnter,p=i.onMouseLeave,h=i.style,d=o===e.key,m=Us()(((t={})[r+"tabs-tab"]=!0,t.disabled=a,t.active=d,t),l),g={};a||(g={onClick:n.onNavItemClick.bind(n,e.key,c),onMouseEnter:n.onNavItemMouseEnter.bind(n,e.key,f),onMouseLeave:n.onNavItemMouseLeave.bind(n,e.key,p)}),u.push(or.a.createElement("li",yo()({role:"tab",key:e.key,ref:d?n.activeTabRefHandler:null,"aria-hidden":a?"true":"false","aria-selected":d?"true":"false",tabIndex:d?0:-1,className:m,style:h},g),s(e.key,e.props)))}),u},t.prototype.onNavItemClick=function e(t,n,r){if(this.props.onTriggerEvent(Og,t),n)return n(t,r)},t.prototype.onNavItemMouseEnter=function e(t,n,r){if(this.props.onTriggerEvent(Tg,t),n)return n(t,r)},t.prototype.onNavItemMouseLeave=function e(t,n,r){if(n)return n(t,r)},t.prototype.getIcon=function e(t){var n=this.props,r=n.prefix,i=n.icons,o=n.rtl,a=Lg[t],s=or.a.createElement(gu,{type:a,rtl:o,className:r+"tab-icon-"+t});return i[t]&&(s="string"==typeof i[t]?or.a.createElement(gu,{rtl:o,type:i[t]}):i[t]),s},t.prototype.renderDropdownTabs=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!n.length)return null;var r=this.props,i=r.prefix,o=r.activeKey,a=r.triggerType,s=r.popupProps,u=r.rtl,l=this.getIcon("dropdown"),c=or.a.createElement("button",{className:i+"tabs-btn-down"},l);return or.a.createElement(Fg,yo()({rtl:u,triggerType:a,trigger:c,container:function e(t){return t.parentNode},className:i+"tabs-bar-popup"},s),or.a.createElement(af,{rtl:u,selectedKeys:[o],onSelect:this.onSelectMenuItem,selectMode:"single"},n.map(function(e){var n=e.props,r=n.disabled,i=n.onClick,o=n.onMouseEnter,a=n.onMouseLeave,s={};return r||(s={onClick:t.onNavItemClick.bind(t,e.key,i),onMouseEnter:t.onNavItemMouseEnter.bind(t,e.key,o),onMouseLeave:t.onNavItemMouseLeave.bind(t,e.key,a)}),or.a.createElement(af.Item,yo()({key:e.key},s),e.props.title)})))},t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.tabPosition,o=n.excessMode,a=n.extra,s=n.onKeyDown,u=n.animation,l=n.style,c=n.className,f=n.rtl,p=this.state,h=void 0,d=void 0,m=void 0,g=p.showBtn;if("dropdown"===o&&g&&p.dropdownTabs.length)m=this.renderDropdownTabs(p.dropdownTabs),d=null,h=null;else if(g){var v=this.getIcon("prev");d=or.a.createElement("button",{onClick:this.onPrevClick,className:r+"tabs-btn-prev",ref:this.prevBtnHandler},v);var y=this.getIcon("next");h=or.a.createElement("button",{onClick:this.onNextClick,className:r+"tabs-btn-next",ref:this.nextBtnHandler},y),m=null}else h=null,d=null,m=null;var b=Us()(((t={})[r+"tabs-nav-container"]=!0,t[r+"tabs-nav-container-scrolling"]=g,t)),w=r+"tabs-nav",x=this.renderTabList(this.props),_,C=[or.a.createElement("div",{className:b,onKeyDown:s,key:"nav-container"},or.a.createElement("div",{className:r+"tabs-nav-wrap",ref:this.wrapperRefHandler},or.a.createElement("div",{className:r+"tabs-nav-scroll"},u?or.a.createElement(cu,{role:"tablist","aria-multiselectable":!1,component:"ul",className:w,animation:w,singleMode:!1,ref:this.navRefHandler,afterAppear:this.initialSettings.bind(this)},x):or.a.createElement("ul",{role:"tablist",className:w,ref:this.navRefHandler},x))),d,h,m)];if(a){var E={className:r+"tabs-nav-extra",key:"nav-extra"};if("top"===i||"bottom"===i){var S=f?Dg:jg;C.unshift(or.a.createElement("div",yo()({},E,{style:S}),a))}else C.push(or.a.createElement("div",E,a))}var k=Us()(r+"tabs-bar",c);return or.a.createElement("div",{className:k,style:l,ref:this.navbarRefHandler},C)},t}(or.a.Component),Ng.propTypes={prefix:To.a.string,rtl:To.a.bool,animation:To.a.bool,activeKey:To.a.oneOfType([To.a.string,To.a.number]),excessMode:To.a.string,extra:To.a.any,tabs:To.a.oneOfType([To.a.array,To.a.object]),tabPosition:To.a.string,tabRender:To.a.func,triggerType:To.a.string,popupProps:To.a.object,onTriggerEvent:To.a.func,onKeyDown:To.a.func,onClose:To.a.func,style:To.a.object,className:To.a.string,locale:To.a.object,icons:To.a.object},Ag);zg.displayName="Nav";var Bg=zg,Ug,Wg,Vg,Hg=(Wg=Ug=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.activeKey,o=n.lazyLoad,a=n.unmountInactiveTabs,s=n.children,u=n.className,l=wo()(n,["prefix","activeKey","lazyLoad","unmountInactiveTabs","children","className"]),c=[];or.a.Children.forEach(s,function(e){var t=i==e.key;c.push(or.a.cloneElement(e,{prefix:r,active:t,lazyLoad:o,unmountInactiveTabs:a}))});var f=Us()(((t={})[r+"tabs-content"]=!0,t),u);return or.a.createElement("div",yo()({},l,{className:f}),c)},t}(ir.PureComponent),Ug.propTypes={prefix:To.a.string,activeKey:To.a.oneOfType([To.a.string,To.a.number]),lazyLoad:To.a.bool,children:To.a.any},Wg),Gg,qg,Kg=function e(){},Xg=(qg=Gg=function(e){function t(n,r){_o()(this,t);var i=Eo()(this,e.call(this,n,r));return i.handleTriggerEvent=function(e,t){var n=i.props,r=n.triggerType,o=n.onClick,a=n.onChange;r===e&&(o(t),i.setActiveKey(t),i.state.activeKey!==t&&a(t))},i.onNavKeyDown=function(e){var t=e.keyCode,n;if(!i.props.disableKeyboard){t>=rs.LEFT&&t<=rs.DOWN&&e.preventDefault();var r=void 0;t===rs.RIGHT||t===rs.DOWN?(r=i.getNextActiveKey(!0),i.handleTriggerEvent(i.props.triggerType,r)):t!==rs.LEFT&&t!==rs.UP||(r=i.getNextActiveKey(!1),i.handleTriggerEvent(i.props.triggerType,r))}},i.state={activeKey:i.getDefaultActiveKey(n)},i}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){return void 0!==t.activeKey&&n.activeKey!==""+t.activeKey?{activeKey:""+t.activeKey}:{}},t.prototype.getDefaultActiveKey=function e(t){var n=void 0===t.activeKey?t.defaultActiveKey:t.activeKey;return void 0===n&&or.a.Children.forEach(t.children,function(e,t){void 0===n&&or.a.isValidElement(e)&&(e.props.disabled||(n=e.key||t))}),""+n},t.prototype.getNextActiveKey=function e(t){var n=this,r=[];or.a.Children.forEach(this.props.children,function(e){or.a.isValidElement(e)&&(e.props.disabled||(t?r.push(e):r.unshift(e)))});var i=r.length,o=i&&r[0].key;return r.forEach(function(e,t){e.key===n.state.activeKey&&(o=t===i-1?r[0].key:r[t+1].key)}),o},t.prototype.setActiveKey=function e(t){var n;t===this.state.activeKey||"activeKey"in this.props||this.setState({activeKey:t})},t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.animation,a=r.shape,s=r.size,u=r.extra,l=r.excessMode,c=r.tabPosition,f=r.tabRender,p=r.triggerType,h=r.lazyLoad,d=r.unmountInactiveTabs,m=r.popupProps,g=r.navStyle,v=r.navClassName,y=r.contentStyle,b=r.contentClassName,w=r.className,x=r.onClose,_=r.children,C=r.rtl,E=r.device,S=r.locale,k=r.icons,O=wo()(r,["prefix","animation","shape","size","extra","excessMode","tabPosition","tabRender","triggerType","lazyLoad","unmountInactiveTabs","popupProps","navStyle","navClassName","contentStyle","contentClassName","className","onClose","children","rtl","device","locale","icons"]),T=this.state.activeKey,N=Mg(_),A=-1!==["phone","tablet"].indexOf(E),I=c;C&&["left","right"].indexOf(c)>=0&&(I="left"===c?"right":"left");var R=Us()(((n={})[i+"tabs"]=!0,n[i+"tabs-"+a]=a,n[i+"tabs-vertical"]="wrapped"===a&&["left","right"].indexOf(c)>=0,n[i+"tabs-scrollable"]=A,n[i+"tabs-"+I]="wrapped"===a,n[""+(i+s)]=s,n),w),P={prefix:i,rtl:C,animation:o,activeKey:T,excessMode:A?"slide":l,extra:u,tabs:N,tabPosition:c,tabRender:f,triggerType:p,popupProps:m,onClose:x,onTriggerEvent:this.handleTriggerEvent,onKeyDown:this.onNavKeyDown,style:g,className:v,locale:S,icons:k},M={prefix:i,activeKey:T,lazyLoad:h,unmountInactiveTabs:d,style:y,className:b},j=[or.a.createElement(Bg,yo()({key:"tab-nav"},P)),or.a.createElement(Hg,yo()({key:"tab-content"},M),N)];return"bottom"===c&&j.reverse(),or.a.createElement("div",yo()({dir:C?"rtl":void 0,className:R},Ja.pickOthers(t.propTypes,O)),j)},t}(ir.Component),Gg.propTypes={prefix:To.a.string,rtl:To.a.bool,device:To.a.oneOf(["tablet","desktop","phone"]),activeKey:To.a.oneOfType([To.a.number,To.a.string]),defaultActiveKey:To.a.oneOfType([To.a.number,To.a.string]),shape:To.a.oneOf(["pure","wrapped","text","capsule"]),animation:To.a.bool,excessMode:To.a.oneOf(["slide","dropdown"]),tabPosition:To.a.oneOf(["top","bottom","left","right"]),size:To.a.oneOf(["small","medium"]),triggerType:To.a.oneOf(["hover","click"]),lazyLoad:To.a.bool,unmountInactiveTabs:To.a.bool,navStyle:To.a.object,navClassName:To.a.string,contentStyle:To.a.object,contentClassName:To.a.string,extra:To.a.node,disableKeyboard:To.a.bool,onClick:To.a.func,onChange:To.a.func,onClose:To.a.func,tabRender:To.a.func,popupProps:To.a.object,children:To.a.any,className:To.a.string,locale:To.a.object,icons:To.a.shape({prev:To.a.oneOfType([To.a.node,To.a.string]),next:To.a.oneOfType([To.a.node,To.a.string]),dropdown:To.a.oneOfType([To.a.node,To.a.string])})},Gg.defaultProps={prefix:"next-",shape:"pure",size:"medium",animation:!0,tabPosition:"top",excessMode:"slide",triggerType:"click",lazyLoad:!0,unmountInactiveTabs:!1,disableKeyboard:!1,onClick:Kg,onChange:Kg,onClose:Kg,locale:Ao.Tab,icons:{}},qg);Xg.displayName="Tab";var Yg=Object(No.polyfill)(Xg),Zg,$g,Jg=($g=Zg=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.active,o=n.lazyLoad,a=n.unmountInactiveTabs,s=n.children;if(this._actived=this._actived||i,o&&!this._actived)return null;if(a&&!i)return null;var u=Us()(((t={})[r+"tabs-tabpane"]=!0,t[i?"active":"hidden"]=!0,t));return or.a.createElement("div",{role:"tabpanel","aria-hidden":i?"false":"true",className:u},s)},t}(or.a.Component),Zg.propTypes={prefix:To.a.string,title:To.a.node,closeable:To.a.bool,disabled:To.a.bool,active:To.a.bool,lazyLoad:To.a.bool,unmountInactiveTabs:To.a.bool,children:To.a.any},Zg.defaultProps={prefix:"next-",closeable:!1},$g);Jg.displayName="TabItem";var Qg=Object(No.polyfill)(Jg);Yg.Item=Qg,Yg.TabPane=zs.config(Qg,{transform:function e(t,n){return n("Tab.TabPane","Tab.Item","Tab"),t}});var ev=zs.config(Yg,{transform:function e(t,n){if("type"in t){n("type","shape","Tab");var r=t,i=r.type,o=wo()(r,["type"]);t=yo()({shape:i},o)}if("resDirection"in t){var a=t,s=a.resDirection,u=wo()(a,["resDirection"]),l=void 0;"horizontal"===s?(n("resDirection=horizontal","excessMode=slide","Tab"),l="slide"):"vertical"===s&&(n("resDirection=vertical","excessMode=dropdown","Tab"),l="dropdown"),t=yo()({excessMode:l},u)}if("tabBarExtraContent"in t){n("tabBarExtraContent","extra","Tab");var c=t,f=c.tabBarExtraContent,p=wo()(c,["tabBarExtraContent"]);t=yo()({extra:f},p)}return t}});function tv(e){var t=e.visible,n=e.setVisible,r=e.stdout,i=e.stderr;return or.a.createElement(Xh,{title:"Log View",visible:t,onOk:n,onCancel:n,onClose:n},or.a.createElement("div",{className:"dialog-wrap",style:{height:"500px",width:"800px",whiteSpace:"pre-line",fontSize:"16px"}},or.a.createElement(ev,{shape:"wrapped"},or.a.createElement(ev.Item,{title:"Log"},or.a.createElement("div",{style:{height:"500px",overflow:"scroll"}},r)),or.a.createElement(ev.Item,{title:"Error"},or.a.createElement("div",{style:{height:"500px",overflow:"scroll"}},i)))))}var nv=n(66),rv=n.n(nv);function iv(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function ov(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){iv(o,r,i,a,s,"next",e)}function s(e){iv(o,r,i,a,s,"throw",e)}a(void 0)})}}var av=function e(t){return ov(regeneratorRuntime.mark(function e(){var n,r=arguments;return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,t.apply(void 0,r);case 3:if(!0!==(n=i.sent).data.status){i.next=8;break}return i.abrupt("return",n.data.data);case 8:dh(n.data.message);case 9:i.next=14;break;case 11:i.prev=11,i.t0=i.catch(0),dh(i.t0.response.data.message);case 14:case"end":return i.stop()}},e,null,[[0,11]])}))},sv=function(){var e=ov(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function e(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",av(rv.a.get)(t,n));case 1:case"end":return r.stop()}},e)}));return function t(n,r){return e.apply(this,arguments)}}(),uv=function(){var e=ov(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",av(rv.a.post)(t,n,r));case 1:case"end":return i.stop()}},e)}));return function t(n,r,i){return e.apply(this,arguments)}}(),lv=function(){var e=ov(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",av(rv.a.put)(t,n,r));case 1:case"end":return i.stop()}},e)}));return function t(n,r,i){return e.apply(this,arguments)}}(),cv=function(){var e=ov(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",av(rv.a.delete)(t));case 1:case"end":return n.stop()}},e)}));return function t(n){return e.apply(this,arguments)}}();function fv(e){location.href=location.href.includes("?")?"".concat(location.href,"&").concat(e):"".concat(location.href,"?").concat(e)}var pv=n(544);function hv(e){"@babel/helpers - typeof";return(hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function dv(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function mv(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){dv(o,r,i,a,s,"next",e)}function s(e){dv(o,r,i,a,s,"throw",e)}a(void 0)})}}function gv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yv(e,t,n){return t&&vv(e.prototype,t),n&&vv(e,n),e}function bv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wv(e,t)}function wv(e,t){return(wv=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function xv(e){return function(){var t=Sv(e),n;if(Ev()){var r=Sv(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return _v(this,n)}}function _v(e,t){return!t||"object"!==hv(t)&&"function"!=typeof t?Cv(e):t}function Cv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ev(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Sv(e){return(Sv=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var kv=function(e){bv(n,e);var t=xv(n);function n(){var e;gv(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={isCreate:!0,plugins:{},choices:{},currentSelect:"dataCollect",pipelineId:null,jobId:null,jobStatus:0,jobStdout:"",jobStderr:"",logVisible:!1},e.fetchJob=function(){var t=mv(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function t(i){for(;;)switch(i.prev=i.next){case 0:return r=function(){var t=mv(regeneratorRuntime.mark(function t(){var i,o;return regeneratorRuntime.wrap(function t(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,sv("/job/".concat(n));case 2:return i=a.sent,a.next=5,sv("/job/".concat(n,"/log"));case 5:if(o=a.sent,e.setState({jobStatus:Od[i.status],jobStdout:o.log[0],jobStderr:o.log[1]}),3!==i.status&&2!==i.status){a.next=9;break}return a.abrupt("return");case 9:setTimeout(mv(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:case"end":return t.stop()}},e)})),1e3);case 10:case"end":return a.stop()}},t)}));return function e(){return t.apply(this,arguments)}}(),i.next=3,r();case 3:case"end":return i.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.changeSelectPlugin=function(t,n){var r=e.state.plugins;n?r[t]={package:n,params:{}}:delete r[t],e.setState({plugins:r})},e.updateParams=function(t,n){var r=e.state.plugins;r[n].params=t.updated_src,e.setState({plugins:r})},e.updatePipeline=mv(regeneratorRuntime.mark(function t(){var n,r,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function t(l){for(;;)switch(l.prev=l.next){case 0:if(n=!(u.length>0&&void 0!==u[0])||u[0],r=e.state,i=r.plugins,o=r.isCreate,a=r.pipelineId,!o){l.next=11;break}return l.next=5,uv("/pipeline",{config:JSON.stringify({plugins:i})});case 5:s=l.sent,e.setState({isCreate:!1,pipelineId:s.id}),hh("Create Pipeline Successfully"),setTimeout(function(){fv("pipelineId=".concat(s.id))},2e3),l.next=14;break;case 11:return l.next=13,lv("/pipeline/".concat(a),{config:JSON.stringify({plugins:i}),isFile:!1});case 13:n&&hh("Update Pipeline Successfully");case 14:case"end":return l.stop()}},t)})),e.runJob=mv(regeneratorRuntime.mark(function t(){var n,r,i,o;return regeneratorRuntime.wrap(function t(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.state,r=n.isCreate,i=n.pipelineId,!r){a.next=4;break}return dh("Please Create Pipeline Firstly"),a.abrupt("return");case 4:return a.next=6,e.updatePipeline(!1);case 6:return a.next=8,uv("/job",{pipelineId:i});case 8:return o=a.sent,e.setState({jobId:o.id}),fv("jobId=".concat(o.id)),a.next=13,e.fetchJob(o.id);case 13:case"end":return a.stop()}},t)})),e.setVisible=function(){var t=e.state.logVisible;e.setState({logVisible:!t})},e}return yv(n,[{key:"componentDidMount",value:function(){var e=mv(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function e(r){for(;;)switch(r.prev=r.next){case 0:if(!(t=Np.a.parse(location.hash.split("?")[1]))||!t.pipelineId){r.next=7;break}return r.next=4,sv("/pipeline/".concat(t.pipelineId));case 4:n=r.sent,Object.keys(n.plugins).forEach(function(e){return n.plugins[e].package=n.plugins[e].name}),this.setState({isCreate:!1,plugins:n.plugins,pipelineId:t.pipelineId});case 7:if(!t||!t.jobId){r.next=11;break}return this.setState({jobId:t.jobId}),r.next=11,this.fetchJob(t.jobId);case 11:this.setState({choices:Ld});case 12:case"end":return r.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function e(){var t=this,n=this.state,r=n.plugins,i=n.choices,o=n.currentSelect,a=n.isCreate,s=n.jobId,u=n.jobStatus,l=n.jobStdout,c=n.jobStderr,f=n.logVisible;return or.a.createElement("div",{className:"pipeline-info"},or.a.createElement(tv,{visible:f,setVisible:this.setVisible,stdout:l,stderr:c}),or.a.createElement("div",{className:"title-wrapper"},or.a.createElement("span",{className:"title"},a?"Create a new Pipeline":s?"Job Detail":"Pipeline Configuration")),or.a.createElement("div",{className:"content-wrapper"},or.a.createElement("div",{className:"plugin-choose"},kd.map(function(e){return i[e]&&i[e].length>0&&or.a.createElement("div",{key:e,onClick:function n(){return t.setState({currentSelect:e})}},or.a.createElement(Sg,{itemName:e,plugins:r,choices:i,changeSelectPlugin:t.changeSelectPlugin,currentSelect:o===e,jobId:s}))})),or.a.createElement("div",{className:"plugin-config"},r[o]?or.a.createElement(Ip.a,{onEdit:function e(n){return t.updateParams(n,o)},onAdd:function e(n){return t.updateParams(n,o)},onDelete:function e(n){return t.updateParams(n,o)},src:r[o].params,name:!1,displayDataTypes:!1}):or.a.createElement("span",null,"Please choose a plugin")),or.a.createElement("div",{className:"plugin-operate"},!s&&or.a.createElement(Op,{className:"button",size:"large",type:"primary",onClick:this.updatePipeline},a?"Create Pipeline":"Update Pipeline"),!s&&or.a.createElement(Op,{className:"button",size:"large",type:"primary",onClick:this.runJob},"Run Job"),!s&&or.a.createElement(Op,{className:"button",size:"large",type:"primary",warning:!0},"Delete"),s&&or.a.createElement(Op,{className:"button",size:"large",onClick:function e(){return t.setState({logVisible:!0})}},"View Logs"),s&&or.a.createElement("div",{className:"job-info"},"Status: ",u))))}}]),n}(ir.Component),Ov=n(235),Tv=n(236),Nv=n(237);function Av(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ctx,n=e.img,r=e.x,i=e.y,o=e.w,a=e.h,s=e.offsetX,u=e.offsetY;"number"!=typeof r&&(r=0),"number"!=typeof i&&(i=0),"number"!=typeof o&&(o=t.canvas.width),"number"!=typeof a&&(a=t.canvas.height),"number"!=typeof s&&(s=.5),"number"!=typeof u&&(u=.5),s<0&&(s=0),u<0&&(u=0),s>1&&(s=1),u>1&&(u=1);var l=n.width,c=n.height,f=Math.min(o/l,a/c),p=l*f,h=c*f,d,m,g,v,y=1;p<o&&(y=o/p),Math.abs(y-1)<1e-14&&h<a&&(y=a/h),m=(c-(v=c/((h*=y)/a)))*u,(d=(l-(g=l/((p*=y)/o)))*s)<0&&(d=0),m<0&&(m=0),g>l&&(g=l),v>c&&(v=c),t.drawImage(n,d,m,g,v,r,i,o,a)}var Iv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rv,Pv;function Mv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Dv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Lv(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}}var Fv={display:"block",position:"absolute"},zv=[{name:"interface",zIndex:15},{name:"drawing",zIndex:11},{name:"temp",zIndex:12},{name:"grid",zIndex:10}],Bv=sr.a.oneOfType([sr.a.number,sr.a.string]),Uv=(Pv=Rv=function(e){function t(n){Mv(this,t);var r=jv(this,e.call(this,n));return r.componentWillUnmount=function(){r.canvasObserver.unobserve(r.canvasContainer)},r.drawImage=function(){r.props.imgSrc&&(r.image=new Image,r.image.crossOrigin="anonymous",r.image.onload=function(){return Av({ctx:r.ctx.grid,img:r.image})},r.image.src=r.props.imgSrc)},r.undo=function(){var e=r.lines.slice(0,-1);r.clear(),r.simulateDrawingLines({lines:e,immediate:!0}),r.triggerOnChange()},r.getSaveData=function(){return JSON.stringify({lines:r.lines,width:r.props.canvasWidth,height:r.props.canvasHeight})},r.loadSaveData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.props.immediateLoading;if("string"!=typeof e)throw new Error("saveData needs to be of type string!");var n=JSON.parse(e),i=n.lines,o=n.width,a=n.height;if(!i||"function"!=typeof i.push)throw new Error("saveData.lines needs to be an array!");if(r.clear(),o===r.props.canvasWidth&&a===r.props.canvasHeight)r.simulateDrawingLines({lines:i,immediate:t});else{var s=r.props.canvasWidth/o,u=r.props.canvasHeight/a,l=(s+u)/2;r.simulateDrawingLines({lines:i.map(function(e){return Iv({},e,{points:e.points.map(function(e){return{x:e.x*s,y:e.y*u}}),brushRadius:e.brushRadius*l})}),immediate:t})}},r.simulateDrawingLines=function(e){var t=e.lines,n=e.immediate,i=0,o=n?0:r.props.loadTimeOffset;t.forEach(function(e){var t=e.points,a=e.brushColor,s=e.brushRadius;if(n)return r.drawPoints({points:t,brushColor:a,brushRadius:s}),r.points=t,void r.saveLine({brushColor:a,brushRadius:s});for(var u=function e(n){i+=o,window.setTimeout(function(){r.drawPoints({points:t.slice(0,n+1),brushColor:a,brushRadius:s})},i)},l=1;l<t.length;l++)u(l);i+=o,window.setTimeout(function(){r.points=t,r.saveLine({brushColor:a,brushRadius:s})},i)})},r.handleDrawStart=function(e){e.preventDefault(),r.isPressing=!0;var t=r.getPointerPos(e),n=t.x,i=t.y;e.touches&&e.touches.length>0&&r.lazy.update({x:n,y:i},{both:!0}),r.handlePointerMove(n,i)},r.handleDrawMove=function(e){e.preventDefault();var t=r.getPointerPos(e),n=t.x,i=t.y;r.handlePointerMove(n,i)},r.handleDrawEnd=function(e){e.preventDefault(),r.handleDrawMove(e),r.isDrawing=!1,r.isPressing=!1,r.saveLine()},r.handleCanvasResize=function(e,t){for(var n=r.getSaveData(),i=e,o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}var u,l=s.contentRect,c=l.width,f=l.height;r.setCanvasSize(r.canvas.interface,c,f),r.setCanvasSize(r.canvas.drawing,c,f),r.setCanvasSize(r.canvas.temp,c,f),r.setCanvasSize(r.canvas.grid,c,f),r.drawGrid(r.ctx.grid),r.drawImage(),r.loop({once:!0})}r.loadSaveData(n,!0)},r.setCanvasSize=function(e,t,n){e.width=t,e.height=n,e.style.width=t,e.style.height=n},r.getPointerPos=function(e){var t=r.canvas.interface.getBoundingClientRect(),n=e.clientX,i=e.clientY;return e.changedTouches&&e.changedTouches.length>0&&(n=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY),{x:n-t.left,y:i-t.top}},r.handlePointerMove=function(e,t){if(!r.props.disabled){r.lazy.update({x:e,y:t});var n=!r.lazy.isEnabled();(r.isPressing&&!r.isDrawing||n&&r.isPressing)&&(r.isDrawing=!0,r.points.push(r.lazy.brush.toObject())),r.isDrawing&&(r.points.push(r.lazy.brush.toObject()),r.drawPoints({points:r.points,brushColor:r.props.brushColor,brushRadius:r.props.brushRadius})),r.mouseHasMoved=!0}},r.drawPoints=function(e){var t=e.points,n=e.brushColor,i=e.brushRadius;r.ctx.temp.lineJoin="round",r.ctx.temp.lineCap="round",r.ctx.temp.strokeStyle=n,r.ctx.temp.clearRect(0,0,r.ctx.temp.canvas.width,r.ctx.temp.canvas.height),r.ctx.temp.lineWidth=2*i;var o=t[0],a=t[1];r.ctx.temp.moveTo(a.x,a.y),r.ctx.temp.beginPath();for(var s=1,u=t.length;s<u;s++){var l=Lv(o,a);r.ctx.temp.quadraticCurveTo(o.x,o.y,l.x,l.y),o=t[s],a=t[s+1]}r.ctx.temp.lineTo(o.x,o.y),r.ctx.temp.stroke()},r.saveLine=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.brushColor,n=e.brushRadius;if(!(r.points.length<2)){r.lines.push({points:[].concat(r.points),brushColor:t||r.props.brushColor,brushRadius:n||r.props.brushRadius}),r.points.length=0;var i=r.canvas.temp.width,o=r.canvas.temp.height;r.ctx.drawing.drawImage(r.canvas.temp,0,0,i,o),r.ctx.temp.clearRect(0,0,i,o),r.triggerOnChange()}},r.triggerOnChange=function(){r.props.onChange&&r.props.onChange(r)},r.clear=function(){r.lines=[],r.valuesChanged=!0,r.ctx.drawing.clearRect(0,0,r.canvas.drawing.width,r.canvas.drawing.height),r.ctx.temp.clearRect(0,0,r.canvas.temp.width,r.canvas.temp.height)},r.loop=function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).once,n=void 0!==t&&t;if(r.mouseHasMoved||r.valuesChanged){var i=r.lazy.getPointerCoordinates(),o=r.lazy.getBrushCoordinates();r.drawInterface(r.ctx.interface,i,o),r.mouseHasMoved=!1,r.valuesChanged=!1}n||window.requestAnimationFrame(function(){r.loop()})},r.drawGrid=function(e){if(!r.props.hideGrid){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.beginPath(),e.setLineDash([5,1]),e.setLineDash([]),e.strokeStyle=r.props.gridColor,e.lineWidth=.5;for(var t=25,n=0;n<e.canvas.width;)n+=25,e.moveTo(n,0),e.lineTo(n,e.canvas.height);e.stroke();for(var i=0;i<e.canvas.height;)i+=25,e.moveTo(0,i),e.lineTo(e.canvas.width,i);e.stroke()}},r.drawInterface=function(e,t,n){r.props.hideInterface||(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.beginPath(),e.fillStyle=r.props.brushColor,e.arc(n.x,n.y,r.props.brushRadius,0,2*Math.PI,!0),e.fill(),e.beginPath(),e.fillStyle=r.props.catenaryColor,e.arc(t.x,t.y,4,0,2*Math.PI,!0),e.fill(),r.lazy.isEnabled()&&(e.beginPath(),e.lineWidth=2,e.lineCap="round",e.setLineDash([2,4]),e.strokeStyle=r.props.catenaryColor,r.catenary.drawToCanvas(r.ctx.interface,n,t,r.chainLength),e.stroke()),e.beginPath(),e.fillStyle=r.props.catenaryColor,e.arc(n.x,n.y,2,0,2*Math.PI,!0),e.fill())},r.canvas={},r.ctx={},r.catenary=new Tv.Catenary,r.points=[],r.lines=[],r.mouseHasMoved=!0,r.valuesChanged=!0,r.isDrawing=!1,r.isPressing=!1,r}return Dv(t,e),t.prototype.componentDidMount=function e(){var t=this;this.lazy=new Ov.LazyBrush({radius:this.props.lazyRadius*window.devicePixelRatio,enabled:!0,initialPoint:{x:window.innerWidth/2,y:window.innerHeight/2}}),this.chainLength=this.props.lazyRadius*window.devicePixelRatio,this.canvasObserver=new Nv.a(function(e,n){return t.handleCanvasResize(e,n)}),this.canvasObserver.observe(this.canvasContainer),this.drawImage(),this.loop(),window.setTimeout(function(){var e=window.innerWidth/2,n=window.innerHeight/2;t.lazy.update({x:e-t.chainLength/4,y:n},{both:!0}),t.lazy.update({x:e+t.chainLength/4,y:n},{both:!1}),t.mouseHasMoved=!0,t.valuesChanged=!0,t.clear(),t.props.saveData&&t.loadSaveData(t.props.saveData)},100)},t.prototype.componentDidUpdate=function e(t){t.lazyRadius!==this.props.lazyRadius&&(this.chainLength=this.props.lazyRadius*window.devicePixelRatio,this.lazy.setRadius(this.props.lazyRadius*window.devicePixelRatio)),t.saveData!==this.props.saveData&&this.loadSaveData(this.props.saveData),JSON.stringify(t)!==JSON.stringify(this.props)&&(this.valuesChanged=!0)},t.prototype.render=function e(){var t=this;return or.a.createElement("div",{className:this.props.className,style:Iv({display:"block",background:this.props.backgroundColor,touchAction:"none",width:this.props.canvasWidth,height:this.props.canvasHeight},this.props.style),ref:function e(n){n&&(t.canvasContainer=n)}},zv.map(function(e){var n=e.name,r=e.zIndex,i="interface"===n;return or.a.createElement("canvas",{key:n,ref:function e(r){r&&(t.canvas[n]=r,t.ctx[n]=r.getContext("2d"))},style:Iv({},Fv,{zIndex:r}),onMouseDown:i?t.handleDrawStart:void 0,onMouseMove:i?t.handleDrawMove:void 0,onMouseUp:i?t.handleDrawEnd:void 0,onMouseOut:i?t.handleDrawEnd:void 0,onTouchStart:i?t.handleDrawStart:void 0,onTouchMove:i?t.handleDrawMove:void 0,onTouchEnd:i?t.handleDrawEnd:void 0,onTouchCancel:i?t.handleDrawEnd:void 0})}))},t}(ir.PureComponent),Rv.propTypes={onChange:sr.a.func,loadTimeOffset:sr.a.number,lazyRadius:sr.a.number,brushRadius:sr.a.number,brushColor:sr.a.string,catenaryColor:sr.a.string,gridColor:sr.a.string,backgroundColor:sr.a.string,hideGrid:sr.a.bool,canvasWidth:Bv,canvasHeight:Bv,disabled:sr.a.bool,imgSrc:sr.a.string,saveData:sr.a.string,immediateLoading:sr.a.bool,hideInterface:sr.a.bool},Rv.defaultProps={onChange:null,loadTimeOffset:5,lazyRadius:12,brushRadius:10,brushColor:"#444",catenaryColor:"#0a0302",gridColor:"rgba(150,150,150,0.17)",backgroundColor:"#FFF",hideGrid:!1,canvasWidth:400,canvasHeight:400,disabled:!1,imgSrc:"",saveData:"",immediateLoading:!1,hideInterface:!1},Pv),Wv=n(59),Vv=n(1),Hv=function(e,t){return(Hv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Gv(e,t){function n(){this.constructor=e}Hv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var qv,Kv=function(){return(Kv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Xv(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function Yv(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Zv(){return null==qv&&(qv=Object(Vv.s)().epsilon()),qv}function $v(){return"channelsLast"}var Jv=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Gv(t,e),t}(Error),Qv=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Gv(t,e),t}(Error),ey=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Gv(t,e),t}(Error),ty=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Gv(t,e),t}(Error),ny=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Gv(t,e),t}(Error),ry=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Gv(t,e),t}(Error);function iy(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}return(n=new Array(t)).fill(e),n}function oy(e,t){if(!e)throw new ny(t)}function ay(e,t){for(var n=0,r=0,i=e;r<i.length;r++)i[r]===t&&n++;return n}function sy(e){return 1===e.length?e[0]:e}function uy(e){return Array.isArray(e)?e:[e]}function ly(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function cy(e){return e.length<=1?e:-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,function(e,t){return t.toUpperCase()})}var fy={};function py(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function hy(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach(function(e){return hy(e)});else for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],i=e[r];null!=i&&"object"==typeof i&&(Array.isArray(i)||"ndarray"!==i.type||"number"!=typeof i.value?hy(i):e[r]=i.value)}}function dy(e,t,n,r,i){var o,a,s;if(void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r="object"),void 0===i&&(i=!1),"string"==typeof e){var u=e,l=void 0;if(u in n)l=n[u];else if(u in fy)l=fy[u];else if(null==(l=t[u]))throw new ey("Unknown "+r+": "+e+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");return l}var c=e;if(null==c.className||null==c.config)throw new ey(r+": Improper config format: "+JSON.stringify(c)+".\n'className' and 'config' must set.");var f=c.className,p=void 0,h=void 0;if(f in n?(p=(o=n[f])[0],h=o[1]):f in fy?(p=(a=fy.className)[0],h=a[1]):f in t&&(p=(s=t[f])[0],h=s[1]),null==p)throw new ey("Unknown "+r+": "+f+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");if(null!=h){for(var d={},m=0,g=Object.keys(fy);m<g.length;m++)d[_=g[m]]=fy[_];for(var v=0,y=Object.keys(n);v<y.length;v++)d[_=y[v]]=n[_];c.config.customObjects=d;for(var b=Kv({},fy),w=0,x=Object.keys(n);w<x.length;w++){var _=x[w];fy[_]=n[_]}hy(c.config);var C=h(p,c.config,n,i);return fy=Kv({},b),C}b=Kv({},fy);for(var E=0,S=Object.keys(n);E<S.length;E++)_=S[E],fy[_]=n[_];return C=new p(c.config),fy=Kv({},b),C}function my(e,t){return e<t?-1:e>t?1:0}function gy(e,t){return-1*my(e,t)}function vy(e){if(null==e)return e;for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];-1===t.indexOf(i)&&t.push(i)}return t}function yy(e){if(null==e)throw new ey("Invalid value in obj: "+JSON.stringify(e));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function by(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new ey(n+" is not a valid "+t+".  Valid values are "+e+" or null/undefined.")}function wy(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1/0),oy(n>=0),oy(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every(function(e){return typeof e===t})}function xy(e,t){Array.isArray(e)?(Vv.dd.assert(e.length>0,function(){return t+" is unexpectedly an empty array."}),e.forEach(function(e,n){return xy(e,"element "+(n+1)+" of "+t)})):Vv.dd.assert(Number.isInteger(e)&&e>0,function(){return"Expected "+t+" to be a positive integer, but got "+_y(e)+"."})}function _y(e){return null===e?"null":Array.isArray(e)?"["+e.map(function(e){return _y(e)}).join(",")+"]":"string"==typeof e?'"'+e+'"':""+e}function Cy(e,t){var n,r=Vv.dd.now();return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=Vv.dd.now();return a-r<t?n:(r=a,n=e.apply(void 0,i))}}function Ey(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}function Sy(e,t){return Object(Vv.Wc)(function(){return Object(Vv.Hc)(Object(Vv.Oc)(Object(Vv.Qb)(e,e),t,!0))})}var ky=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.getConfig=function(){return{}},t}(Vv.rc.Serializable),Oy=function(e){function t(t){var n=e.call(this)||this;return n.defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return Gv(t,e),t.prototype.apply=function(e){var t=this;return Object(Vv.Wc)(function(){var n=Sy(e,t.axis),r=Object(Vv.B)(n,0,t.maxValue);return Object(Vv.Pb)(e,Object(Vv.S)(r,Object(Vv.f)(Zv(),n)))})},t.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis}},t.className="MaxNorm",t}(ky);Vv.rc.registerClass(Oy);var Ty=function(e){function t(t){var n=e.call(this)||this;return n.defaultAxis=0,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return Gv(t,e),t.prototype.apply=function(e){var t=this;return Object(Vv.Wc)(function(){return Object(Vv.S)(e,Object(Vv.f)(Zv(),Sy(e,t.axis)))})},t.prototype.getConfig=function(){return{axis:this.axis}},t.className="UnitNorm",t}(ky);Vv.rc.registerClass(Ty);var Ny=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e){return Object(Vv.hc)(e)},t.className="NonNeg",t}(ky);Vv.rc.registerClass(Ny);var Ay=function(e){function t(t){var n=e.call(this)||this;return n.defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=t.minValue?t.minValue:n.defaultMinValue,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.rate=null!=t.rate?t.rate:n.defaultRate,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return Gv(t,e),t.prototype.apply=function(e){var t=this;return Object(Vv.Wc)(function(){var n=Sy(e,t.axis),r=Object(Vv.f)(Object(Vv.Pb)(t.rate,Object(Vv.B)(n,t.minValue,t.maxValue)),Object(Vv.Pb)(1-t.rate,n));return Object(Vv.Pb)(e,Object(Vv.S)(r,Object(Vv.f)(Zv(),n)))})},t.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}},t.className="MinMaxNorm",t}(ky);Vv.rc.registerClass(Ay);var Iy={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Ry(e){return py(e)}function Py(e,t){return void 0===t&&(t={}),dy(e,Vv.rc.SerializationMap.getMap().classNameMap,t,"constraint")}function My(e){return null==e?null:"string"==typeof e?Py({className:e in Iy?Iy[e]:e,config:{}}):e instanceof ky?e:Py(e)}function jy(e){return new Oy(e)}function Dy(e){return new Ty(e)}function Ly(){return new Ny}function Fy(e){return new Ay(e)}var zy=Object.freeze({maxNorm:jy,unitNorm:Dy,nonNeg:Ly,minMaxNorm:Fy}),By=["channelsFirst","channelsLast"],Uy=["valid","same","causal"],Wy=["max","avg"],Vy=["sum","mul","concat","ave"],Hy=new Map;function Gy(e){by(By,"DataFormat",e)}function qy(e){by(Uy,"PaddingMode",e)}function Ky(e){by(Wy,"PoolMode",e)}var Xy=[],Yy="/";function Zy(e,t){Xy.push(e);try{var n=t();return Xy.pop(),n}catch(e){throw Xy.pop(),e}}function $y(){return 0===Xy.length?"":Xy.join(Yy)+Yy}function Jy(e){if(!tb(e))throw new Error("Not a valid tensor name: '"+e+"'");return $y()+e}function Qy(e){if(!tb(e))throw new Error("Not a valid tensor name: '"+e+"'");Hy.has(e)||Hy.set(e,0);var t=Hy.get(e);if(Hy.set(e,Hy.get(e)+1),t>0){var n=e+"_"+t;return Hy.set(n,1),n}return e}var eb=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function tb(e){return!!e.match(eb)}function nb(e){return e===parseInt(e.toString(),10)}function rb(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,i=t;i<n;++i)r*=e[i];return r}function ib(e){return e=Array.isArray(e)?new Float32Array(e):e,Object(Vv.Sc)(e)}function ob(e){return Object(Vv.Lb)(ib(e)).dataSync()[0]}function ab(e){return Object(Vv.Fb)(ib(e)).dataSync()[0]}function sb(e,t){if(t<e)throw new ey("end ("+t+") < begin ("+e+") is forbidden.");for(var n=[],r=e;r<t;++r)n.push(r);return n}function ub(e,t){return e.asType(t)}function lb(e,t){void 0===t&&(t=-1);var n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),e.reshape(n)}function cb(e,t){return Object(Vv.Wc)(function(){if(2!==e.shape.length)throw new ey("repeat() expects a rank-2 tensor, but received a rank-"+e.shape.length+" tensor.");return yb(lb(e,1),[1,t,1])})}function fb(e){var t=[rb(e.shape)];return e.reshape(t)}function pb(e){if(e.rank<=1)throw new ey("batchFlatten requires a minimum rank of 2. Got rank: "+e.rank+".");var t=[e.shape[0],rb(e.shape,1)];return e.reshape(t)}function hb(e,t,n){return Object(Vv.Wc)(function(){switch(e.rank){case 1:return Object(Vv.yc)(e,t,n);case 2:return Object(Vv.zc)(e,[t,0],[n,e.shape[1]]);case 3:return Object(Vv.Ac)(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return Object(Vv.Bc)(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Object(Vv.xc)(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Object(Vv.xc)(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new ey("sliceAlongFirstAxis() received an unsupported tensor rank: "+e.rank)}})}function db(e,t,n){return Object(Vv.Wc)(function(){switch(e.rank){case 1:return Object(Vv.yc)(e,t,n);case 2:return Object(Vv.zc)(e,[0,t],[e.shape[0],n]);case 3:return Object(Vv.Ac)(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return Object(Vv.Bc)(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new ey("sliceAlongLastAxis() received an unsupported tensor rank: "+e.rank)}})}function mb(e,t,n,r){return Object(Vv.Wc)(function(){switch(e.rank){case 1:return Object(Vv.yc)(e,t,n);case 2:switch(r){case 1:return hb(e,t,n);case 2:return db(e,t,n);default:throw new ey("The axis is not within the rank of the tensor "+r)}case 3:switch(r){case 1:return hb(e,t,n);case 2:return Object(Vv.Ac)(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return db(e,t,n);default:throw new ey("The axis is not within the rank of the tensor "+r)}case 4:switch(r){case 1:return hb(e,t,n);case 2:return Object(Vv.Bc)(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return Object(Vv.Bc)(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return db(e,t,n);default:throw new ey("The axis is not within the rank of the tensor "+r)}default:throw new ey("sliceAlongLastAxis() received an unsupported tensor rank: "+e.rank)}})}function gb(e,t){var n;return void 0===t&&(t=-1),t<0&&(t=0!==(n=e[0].rank)?n:0),t===e[0].rank&&(t=-1),Object(Vv.D)(e,t)}function vb(e,t){switch(e.rank){case 1:return Object(Vv.E)([e,t]);case 2:return Object(Vv.F)([e,t],0);case 3:return Object(Vv.G)([e,t],0);case 4:return Object(Vv.H)([e,t],0);default:throw new ey("concatAlongFirstAxis() received an unsupported tensor rank: "+e.rank)}}function yb(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new ey("The length of input n ("+t.length+") does not match the number of dimensions in input x ("+e.rank+")");return Object(Vv.Xc)(e,t)}function bb(e,t,n,r,i){return void 0===t&&(t=0),void 0===n&&(n=1),Object(Vv.cc)(e,t,n,r,i)}function wb(e,t,n,r){if(e.rank<2||t.rank<2)throw new ty("dot requires both inputs to be rank >= 2 but got x shape = "+e.shape+" and y shape = "+t.shape);if(t.rank>=3&&e.shape.slice(-1)[0]!==(c=t.shape.slice(-2)[0]))throw new ty("If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = "+e.shape+" and  y shape = "+t.shape);if(2===e.rank&&2===t.rank){var i=!1,o=!1;return Vv.hb.matMul({a:e,b:t,transposeA:i,transposeB:o,bias:r?Cb(e.rank,r,"channelsLast"):null,activation:n})}var a=e.shape.slice(),s=a.pop();e=e.reshape([-1,s]);var u=t.shape.slice(),l=u.pop(),c=u.pop(),f=u.concat([l]),p=Array.from({length:t.rank},function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n});t=t.transpose(p).reshape([c,-1]);var h=a.concat(f);return i=!1,o=!1,Vv.hb.matMul({a:e,b:t,transposeA:i,transposeB:o,bias:r?Cb(e.rank,r,"channelsLast"):null,activation:n}).reshape(h)}function xb(e,t,n){return Object(Vv.Wc)(function(){return t=Array.isArray(t)?Object(Vv.Sc)(t,"int32"):t.toInt(),Object(Vv.ib)(e,t,n)})}function _b(e){return Object(Vv.Qb)(e,e)}function Cb(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new ey("Unexpected bias dimensions: "+t.rank+"; expected it to be 1 or "+e);if(5===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1,1]):t.reshape([1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,1,r[0]]):t.reshape([1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1]):t.reshape([1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,r[0]]):t.reshape([1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1]):t.reshape([1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,r[0]]):t.reshape([1].concat(r))}else if(e<3)return t;throw new ey("Unsupported input rank by biasAdd: "+t.rank)}function Eb(e,t,n){return Object(Vv.Wc)(function(){return null==n&&(n="channelsLast"),Gy(n),e.add(Cb(e.rank,t,n))})}function Sb(e,t){if(void 0===t&&(t=1),1!==t)throw new ty("Support for alpha values other than 1 ("+t+") is not implemented yet.");return Object(Vv.V)(e)}function kb(e){return Object(Vv.Wc)(function(){return Object(Vv.S)(e,Object(Vv.c)(e).add(1))})}function Ob(e,t,n,r){return Object(Vv.Wc)(function(){return Object(Vv.U)(e,t,n,r)})}function Tb(e){return Object(Vv.Wc)(function(){var t=Object(Vv.f)(.5,Object(Vv.Pb)(.2,e));return Object(Vv.B)(t,0,1)})}function Nb(e,t,n){return void 0===n&&(n=!1),n?e():t()}var Ab=["fanIn","fanOut","fanAvg"],Ib=["normal","uniform","truncatedNormal"];function Rb(e){by(Ab,"FanMode",e)}function Pb(e){by(Ib,"Distribution",e)}var Mb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.fromConfigUsesCustomObjects=function(){return!1},t.prototype.getConfig=function(){return{}},t}(Vv.rc.Serializable),jb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e,t){return Object(Vv.id)(e,t)},t.className="Zeros",t}(Mb);Vv.rc.registerClass(jb);var Db=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e,t){return Object(Vv.Wb)(e,t)},t.className="Ones",t}(Mb);Vv.rc.registerClass(Db);var Lb=function(e){function t(t){var n=e.call(this)||this;if("object"!=typeof t)throw new ey("Expected argument of type ConstantConfig but got "+t);if(void 0===t.value)throw new ey("config must have value set but got "+t);return n.value=t.value,n}return Gv(t,e),t.prototype.apply=function(e,t){var n=this;return Object(Vv.Wc)(function(){return Object(Vv.Pb)(Object(Vv.nc)(n.value),Object(Vv.Wb)(e,t))})},t.prototype.getConfig=function(){return{value:this.value}},t.className="Constant",t}(Mb);Vv.rc.registerClass(Lb);var Fb=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=t.minval||n.DEFAULT_MINVAL,n.maxval=t.maxval||n.DEFAULT_MAXVAL,n.seed=t.seed,n}return Gv(t,e),t.prototype.apply=function(e,t){return Object(Vv.dc)(e,this.minval,this.maxval,t)},t.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}},t.className="RandomUniform",t}(Mb);Vv.rc.registerClass(Fb);var zb=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return Gv(t,e),t.prototype.apply=function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new ty("randomNormal does not support dType "+t+".");return bb(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className="RandomNormal",t}(Mb);Vv.rc.registerClass(zb);var Bb=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return Gv(t,e),t.prototype.apply=function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new ty("truncatedNormal does not support dType "+t+".");return Object(Vv.bd)(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className="TruncatedNormal",t}(Mb);Vv.rc.registerClass(Bb);var Ub=function(e){function t(t){var n=e.call(this)||this;return n.gain=null!=t.gain?t.gain:1,n}return Gv(t,e),t.prototype.apply=function(e,t){var n=this;return Object(Vv.Wc)(function(){if(2!==e.length||e[0]!==e[1])throw new ey("Identity matrix initializer can only be used for 2D square matrices.");return Object(Vv.Pb)(n.gain,Object(Vv.cb)(e[0]))})},t.prototype.getConfig=function(){return{gain:this.gain}},t.className="Identity",t}(Mb);function Wb(e,t){var n,r;if(void 0===t&&(t="channelsLast"),Gy(t),2===e.length)n=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length))if("channelsFirst"===t){var i=rb(e,2);n=e[1]*i,r=e[0]*i}else"channelsLast"===t&&(i=rb(e,0,e.length-2),n=e[e.length-2]*i,r=e[e.length-1]*i);else{var o=rb(e);n=Math.sqrt(o),r=Math.sqrt(o)}return[n,r]}Vv.rc.registerClass(Ub);var Vb=function(e){function t(t){var n=e.call(this)||this;if(t.scale<0)throw new ey("scale must be a positive float. Got: "+t.scale);return n.scale=null==t.scale?1:t.scale,n.mode=null==t.mode?"fanIn":t.mode,Rb(n.mode),n.distribution=null==t.distribution?"normal":t.distribution,Pb(n.distribution),n.seed=t.seed,n}return Gv(t,e),t.prototype.apply=function(e,t){var n=Wb(e),r=n[0],i=n[1],o=this.scale;if("fanIn"===this.mode?o/=Math.max(1,r):"fanOut"===this.mode?o/=Math.max(1,i):o/=Math.max(1,(r+i)/2),"normal"===this.distribution){var a=Math.sqrt(o);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new ty(this.getClassName()+" does not support dType "+t+".");return Object(Vv.bd)(e,0,a,t,this.seed)}var s=Math.sqrt(3*o);return Object(Vv.dc)(e,-s,s,t)},t.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}},t.className="VarianceScaling",t}(Mb);Vv.rc.registerClass(Vb);var Hb=function(e){function t(t){return e.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==t?null:t.seed})||this}return Gv(t,e),t.prototype.getClassName=function(){return Vb.className},t.className="GlorotUniform",t}(Vb);Vv.rc.registerClass(Hb);var Gb=function(e){function t(t){return e.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==t?null:t.seed})||this}return Gv(t,e),t.prototype.getClassName=function(){return Vb.className},t.className="GlorotNormal",t}(Vb);Vv.rc.registerClass(Gb);var qb=function(e){function t(t){return e.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})||this}return Gv(t,e),t.prototype.getClassName=function(){return Vb.className},t.className="HeNormal",t}(Vb);Vv.rc.registerClass(qb);var Kb=function(e){function t(t){return e.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})||this}return Gv(t,e),t.prototype.getClassName=function(){return Vb.className},t.className="HeUniform",t}(Vb);Vv.rc.registerClass(Kb);var Xb=function(e){function t(t){return e.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})||this}return Gv(t,e),t.prototype.getClassName=function(){return Vb.className},t.className="LeCunNormal",t}(Vb);Vv.rc.registerClass(Xb);var Yb=function(e){function t(t){return e.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})||this}return Gv(t,e),t.prototype.getClassName=function(){return Vb.className},t.className="LeCunNormal",t}(Vb);Vv.rc.registerClass(Yb);var Zb=function(e){function t(t){var n=e.call(this)||this;if(n.DEFAULT_GAIN=1,n.gain=null==t.gain?n.DEFAULT_GAIN:t.gain,n.seed=t.seed,null!=n.seed)throw new ty("Random seed is not implemented for Orthogonal Initializer yet.");return n}return Gv(t,e),t.prototype.apply=function(e,t){var n=this;return Object(Vv.Wc)(function(){if(2!==e.length)throw new ty("The Orthogonal Initializer does not support non-2D shapes yet.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more than 2000 ("+e[0]*e[1]+") elements: Slowness may result.");var t=bb(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),r=Vv.vb.gramSchmidt(t);return e[0]>e[1]&&(r=r.transpose()),Object(Vv.Pb)(n.gain,r)})},t.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed}},t.className="Orthogonal",t}(Mb);Vv.rc.registerClass(Zb);var $b={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Jb(e,t){return void 0===t&&(t={}),dy(e,Vv.rc.SerializationMap.getMap().classNameMap,t,"initializer")}function Qb(e){return py(e)}function ew(e){if("string"==typeof e){var t=e in $b?$b[e]:e;if("GlorotNormal"===t)return new Gb;if("GlorotUniform"===t)return new Hb;if("HeNormal"===t)return new qb;if("HeUniform"===t)return new Kb;if("LeCunNormal"===t)return new Xb;if("LeCunUniform"===t)return new Yb;var n={};return n.className=t,n.config={},Jb(n)}return e instanceof Mb?e:Jb(e)}function tw(){return new jb}function nw(){return new Db}function rw(e){return new Lb(e)}function iw(e){return new Fb(e)}function ow(e){return new zb(e)}function aw(e){return new Bb(e)}function sw(e){return new Ub(e)}function uw(e){return new Vb(e)}function lw(e){return new Hb(e)}function cw(e){return new Gb(e)}function fw(e){return new qb(e)}function pw(e){return new Kb(e)}function hw(e){return new Xb(e)}function dw(e){return new Yb(e)}function mw(e){return new Zb(e)}var gw=Object.freeze({zeros:tw,ones:nw,constant:rw,randomUniform:iw,randomNormal:ow,truncatedNormal:aw,identity:sw,varianceScaling:uw,glorotUniform:lw,glorotNormal:cw,heNormal:fw,heUniform:pw,leCunNormal:hw,leCunUniform:dw,orthogonal:mw}),vw=0;function yw(){return vw++}var bw={};function ww(e){return void 0===e&&(e=""),e in bw||(bw[e]=0),bw[e]+=1,e+bw[e].toString()}function xw(e){return Array.isArray(e)&&Array.isArray(e[0])}function _w(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Cw(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new ey("Expected Tensor length to be 1; got "+e.length);t=e[0]}else t=e;return t}function Ew(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new ey("Expected exactly 1 Shape; got "+e.length)}return e}function Sw(e){for(var t=0,n=0,r=e;n<r.length;n++){var i=r[n];0===i.shape.length?t+=1:t+=i.shape.reduce(function(e,t){return e*t})}return t}var kw="Variable",Ow=function(){function e(e,t,n,r,i){void 0===t&&(t="float32"),void 0===n&&(n=kw),void 0===r&&(r=!0),void 0===i&&(i=null),this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=yw(),n=null==n?kw:n,this.originalName=Jy(n),this.name=Qy(this.originalName),this.trainable_=r,this.constraint=i,this.val=Object(Vv.ed)(e,this.trainable_,this.name,this.dtype)}return e.prototype.read=function(){return this.assertNotDisposed(),this.val},e.prototype.write=function(e){return this.assertNotDisposed(),Tw(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this},e.prototype.dispose=function(){this.assertNotDisposed(),this.val.dispose()},e.prototype.assertNotDisposed=function(){if(this.val.isDisposed)throw new Error("LayersVariable "+this.name+" is already disposed.")},Object.defineProperty(e.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e},enumerable:!0,configurable:!0}),e}();function Tw(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}function Nw(e){return e.map(function(e){return e.read()})}function Aw(e){e.forEach(function(e){e[0].write(e[1])})}var Iw=function(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}},Rw=function(e,t,n,r,i,o,a){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=i,this.outputTensorIndex=a,this.id=yw(),null!=o&&(this.originalName=Jy(o),this.name=Qy(this.originalName)),this.rank=t.length},Pw=0,Mw=function(){function e(e,t){this.callArgs=t,this.id=Pw++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(var n=0,r=e.inboundLayers;n<r.length;n++){var i=r[n];null!=i&&i.outboundNodes.push(this)}e.outboundLayer.inboundNodes.push(this)}return e.prototype.getConfig=function(){for(var e=[],t=0,n=this.inboundLayers;t<n.length;t++){var r=n[t];null!=r?e.push(r.name):e.push(null)}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}},e}(),jw=0,Dw=function(e){function t(t){var n=e.call(this)||this;n._callHook=null,n._addedWeightNames=[],n._stateful=!1,n.id=jw++,n.activityRegularizer=null,n.inputSpec=null,n.supportsMasking=!1,n._trainableWeights=[],n._nonTrainableWeights=[],n._losses=[],n._updates=[],n._built=!1,n.inboundNodes=[],n.outboundNodes=[];var r=t.name;if(!r){var i=n.getClassName();r=ly(i)+"_"+ww(i)}if(n.name=r,n.trainable_=null==t.trainable||t.trainable,null!=t.inputShape||null!=t.batchInputShape){var o=void 0;if(null!=t.batchInputShape)o=t.batchInputShape;else if(null!=t.inputShape){var a=null;null!=t.batchSize&&(a=t.batchSize),o=[a].concat(t.inputShape)}n.batchInputShape=o;var s=t.dtype;null==s&&(s=t.inputDType),null==s&&(s="float32"),n.dtype=s}return null!=t.weights?n.initialWeights=t.weights:n.initialWeights=null,n._refCount=null,n.fastWeightInitDuringBuild=!1,n}return Gv(t,e),t.nodeKey=function(e,t){return e.name+"_ib-"+t.toString()},t.prototype.getNodeAtIndex=function(e,t){if(0===this.inboundNodes.length)throw new Qv("The layer has never been called and thus has no defined "+t+".");if(this.inboundNodes.length<=e)throw new ey("Asked to get "+t+" at node "+e+", but the layer has only "+this.inboundNodes.length+" inbound nodes.");return this.inboundNodes[e]},t.prototype.getInputAt=function(e){return sy(this.getNodeAtIndex(e,"input").inputTensors)},t.prototype.getOutputAt=function(e){return sy(this.getNodeAtIndex(e,"output").outputTensors)},Object.defineProperty(t.prototype,"input",{get:function(){if(this.inboundNodes.length>1)throw new Jv("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new Jv("Layer "+this.name+" is not connected, no input to return.");return sy(this.getNodeAtIndex(0,"input").inputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){if(0===this.inboundNodes.length)throw new Jv("Layer "+this.name+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new Jv("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return sy(this.getNodeAtIndex(0,"output").outputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"losses",{get:function(){return this._losses},enumerable:!0,configurable:!0}),t.prototype.calculateLosses=function(){return this.losses.map(function(e){return e()})},Object.defineProperty(t.prototype,"updates",{get:function(){return this._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"built",{get:function(){return this._built},set:function(e){this._built=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach(function(t){return t.trainable=e}),this.trainable_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.trainable_?this._trainableWeights.filter(function(e){return e.trainable}):[]},set:function(e){this._trainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this._trainableWeights.filter(function(e){return!e.trainable}).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateful",{get:function(){return this._stateful},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")},t.prototype.assertInputCompatibility=function(e){if(e=uy(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=uy(this.inputSpec);if(e.length!==t.length)throw new ey("Layer "+this.name+" expects "+t.length+" inputs, but it received "+e.length+" input tensors. Input received: "+e);for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(null!=i){var o=r.rank;if(null!=i.ndim&&o!==i.ndim)throw new ey("Input "+n+" is incompatible with layer "+this.name+": expected ndim="+i.ndim+", found ndim="+o);if(null!=i.maxNDim&&o>i.maxNDim)throw new ey("Input "+n+" is incompatible with layer "+this.name+": expected max_ndim="+i.maxNDim+", found ndim="+o);if(null!=i.minNDim&&o<i.minNDim)throw new ey("Input "+n+" is incompatible with layer "+this.name+": expected min_ndim="+i.minNDim+", found ndim="+o+".");if(null!=i.dtype&&r.dtype!==i.dtype)throw new ey("Input "+n+" is incompatible with layer "+this.name+" : expected dtype="+i.dtype+", found dtype="+r.dtype+".");if(i.axes){var a=r.shape;for(var s in i.axes){var u=Number(s),l=i.axes[s],c=u>=0?a[u]:a[a.length+u];if(null!=l&&-1===[l,null].indexOf(c))throw new ey("Input "+n+" is incompatible with layer "+this.name+": expected axis "+u+" of input shape to have value "+l+" but got shape "+a+".")}}if(null!=i.shape)for(var f=0;f<i.shape.length;++f){var p=i.shape[f],h=r.shape[f];if(null!=p&&null!=h&&p!==h)throw new ey("Input "+n+" is incompatible with layer "+this.name+": expected shape="+i.shape+", found shape="+r.shape+".")}}}}},t.prototype.call=function(e,t){return e},t.prototype.invokeCallHook=function(e,t){null!=this._callHook&&this._callHook(e,t)},t.prototype.setCallHook=function(e){this._callHook=e},t.prototype.clearCallHook=function(){this._callHook=null},t.prototype.apply=function(e,t){var n=this;t=t||{},this.assertNotDisposed();for(var r=uy(e),i=!0,o=0,a=r;o<a.length;o++)if(!(a[o]instanceof Rw)){i=!1;break}for(var s=!0,u=0,l=r;u<l.length;u++)if(l[u]instanceof Rw){s=!1;break}if(i===s)throw new ey("Arguments to apply() must be all SymbolicTensors or all Tensors");return Zy(this.name,function(){if(!n.built){n.assertInputCompatibility(e);for(var i=[],o=0,a=uy(e);o<a.length;o++){var u=a[o];i.push(u.shape)}n.build(sy(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&s&&(n._refCount=1)}if(n.assertInputCompatibility(e),s){for(var l=[],c=0,f=uy(m=n.call(e,t));c<f.length;c++){var p=f[c];-1!==r.indexOf(p)&&(p=p.clone()),l.push(p)}if(m=sy(l),null!=n.activityRegularizer)throw new ty("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return m}var h=Lw(e),d=n.computeOutputShape(h),m=void 0,g="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(e)?h[0]:h),m=null!=d&&d.length>0&&Array.isArray(d[0])?d.map(function(r,i){return new Rw(g,r,n,uy(e),t,n.name,i)}):new Rw(g,d,n,uy(e),t,n.name),n.addInboundNode(e,m,null,null,h,d,t),n._refCount++,null!=n.activityRegularizer)throw new ty("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return m})},t.prototype.warnOnIncompatibleInputShape=function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+JSON.stringify(e)+") does not match that of the batchInputShape ("+JSON.stringify(this.batchInputShape)+") of the layer "+this.name);else{var t=!1;this.batchInputShape.forEach(function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)}),t&&console.warn("The shape of the input tensor ("+JSON.stringify(e)+") does not match the expectation of layer "+this.name+": "+JSON.stringify(this.batchInputShape))}},Object.defineProperty(t.prototype,"outputShape",{get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new Jv("The layer "+this.name+" has never been called and thus has no defined output shape.");for(var e=[],t=0,n=this.inboundNodes;t<n.length;t++){var r=n[t],i=JSON.stringify(r.outputShapes);-1===e.indexOf(i)&&e.push(i)}if(1===e.length){var o=this.inboundNodes[0].outputShapes;return Array.isArray(o)&&Array.isArray(o[0])&&1===o.length?o[0]:o}throw new Jv("The layer "+this.name+' has multiple inbound nodes with different output shapes. Hence the notion of "outut shape" is ill-defined for the layer.')},enumerable:!0,configurable:!0}),t.prototype.countParams=function(){if(!this.built)throw new Qv("You tried to call countParams() on "+this.name+", but the layer is not built yet. Build it first by calling build(batchInputShape).");return Sw(this.weights)},t.prototype.build=function(e){this.built=!0},t.prototype.getWeights=function(e){return void 0===e&&(e=!1),Nw(e?this.trainableWeights:this.weights)},t.prototype.setWeights=function(e){var t=this;Object(Vv.Wc)(function(){var n=t.weights;if(n.length!==e.length)throw new ey('You called setWeights(weights) on layer "'+t.name+'" with a weight list of length '+e.length+", but the layer was expecting "+n.length+" weights. Provided weights: "+e+"...");if(0!==n.length){for(var r=[],i=Nw(n),o=0;o<i.length;++o){var a=i[o],s=n[o],u=e[o];if(!Vv.dd.arraysEqual(a.shape,u.shape))throw new ey("Layer weight shape "+a.shape+" not compatible with provided weight shape "+u.shape);r.push([s,u])}Aw(r)}})},t.prototype.addWeight=function(e,t,n,r,i,o,a){if(-1!==this._addedWeightNames.indexOf(e))throw new ey("Duplicate weight name "+e+" for layer "+this.name);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=ew("zeros"));var s=r.apply(t,n),u=new Ow(s,n,e,o,a);return s.dispose(),null!=i&&this.addLoss(function(){return i.apply(u.read())}),null==o&&(o=!0),o?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u},t.prototype.setFastWeightInitDuringBuild=function(e){this.fastWeightInitDuringBuild=e},t.prototype.addLoss=function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=uy(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,e))},t.prototype.computeOutputShape=function(e){return e},t.prototype.computeMask=function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer "+this.name+" does not support masking, but was passed an inputMask.");t.forEach(function(e){if(null!=e)throw new TypeError("Layer "+n.name+" does not support masking, but was passed an inputMask.")})}return null}return t},t.prototype.addInboundNode=function(e,t,n,r,i,o,a){void 0===a&&(a=null);var s=uy(e);t=uy(t),n=uy(n),r=uy(r),i=_w(i),o=_w(o);for(var u=[],l=[],c=[],f=0,p=s;f<p.length;f++){var h=p[f];u.push(h.sourceLayer),l.push(h.nodeIndex),c.push(h.tensorIndex)}new Mw({outboundLayer:this,inboundLayers:u,nodeIndices:l,tensorIndices:c,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:i,outputShapes:o},a);for(var d=0;d<t.length;d++)t[d].sourceLayer=this,t[d].nodeIndex=this.inboundNodes.length-1,t[d].tensorIndex=d},t.prototype.getConfig=function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e},t.prototype.disposeWeights=function(){return this.weights.forEach(function(e){return e.dispose()}),this.weights.length},t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Layer '"+this.name+"' is already disposed.")},t.prototype.dispose=function(){if(!this.built)throw new Error("Cannot dispose Layer "+this.name+" because it has not been built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer "+this.name+" because it has not been used yet.");this.assertNotDisposed();var e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}},t}(Vv.rc.Serializable);function Lw(e){for(var t=[],n=0,r=e=uy(e);n<r.length;n++){var i=r[n];t.push(i.shape)}return sy(t)}function Fw(e){return"float32"}function zw(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var i=[],o=0;o<r.inboundLayers.length;o++)for(var a=0,s=zw(r.inputTensors[o],r.inboundLayers[o],r.nodeIndices[o]);a<s.length;a++){var u=s[a];-1===i.indexOf(u)&&i.push(u)}return i}var Bw,Uw=function(e){function t(t){var n=e.call(this,{dtype:t.dtype,name:null!=t.name?t.name:ww("input").toString()})||this;if(null==t.batchSize&&(t.batchSize=null),null==t.sparse&&(t.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=t.sparse,null!=t.inputShape&&null!=t.batchInputShape)throw new ey("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var r=t.batchInputShape;if(null==r){if(null==t.inputShape)throw new ey("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[t.batchSize].concat(t.inputShape)}else if(null!=t.batchSize)throw new ey("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var i=t.dtype||"float32";n.batchInputShape=r,n.dtype=i,n.inputSpec=[{shape:r}];var o=new Rw(n.dtype,n.batchInputShape,n,[],{},n.name);return o.nodeIndex=0,o.tensorIndex=0,new Mw({outboundLayer:n,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[o],outputTensors:[o],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n}return Gv(t,e),t.prototype.apply=function(e,t){throw new ey("Cannot pass any input to an InputLayer's apply() method. InputLayer name: "+this.name)},t.prototype.dispose=function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}},t.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}},t.className="InputLayer",t}(Dw),Ww;function Vw(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new ey("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new Uw({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}function Hw(e){return Xv(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u;return Yv(this,function(l){switch(l.label){case 0:if(null==e)return[2];for(i in t=[],n=[],r=[],e)"number"!=typeof(o=e[i])&&(a=o,t.push(a.data()),n.push(i),r.push(a));return t.length>0?[4,Promise.all(t)]:[3,2];case 1:for(s=l.sent(),u=0;u<s.length;++u)e[n[u]]=s[u][0];Object(Vv.R)(r),l.label=2;case 2:return[2]}})})}function Gw(e){if(null!=e)for(var t in e){var n=e[t];"number"!=typeof n&&n.dispose()}}Vv.rc.registerClass(Uw),(Ww=Bw||(Bw={}))[Ww.SILENT=0]="SILENT",Ww[Ww.VERBOSE=1]="VERBOSE";var qw=125,Kw=function(){function e(){this.validationData=null}return e.prototype.setParams=function(e){this.params=e},e.prototype.onEpochBegin=function(e,t){return Xv(this,void 0,void 0,function(){return Yv(this,function(e){return[2]})})},e.prototype.onEpochEnd=function(e,t){return Xv(this,void 0,void 0,function(){return Yv(this,function(e){return[2]})})},e.prototype.onBatchBegin=function(e,t){return Xv(this,void 0,void 0,function(){return Yv(this,function(e){return[2]})})},e.prototype.onBatchEnd=function(e,t){return Xv(this,void 0,void 0,function(){return Yv(this,function(e){return[2]})})},e.prototype.onTrainBegin=function(e){return Xv(this,void 0,void 0,function(){return Yv(this,function(e){return[2]})})},e.prototype.onTrainEnd=function(e){return Xv(this,void 0,void 0,function(){return Yv(this,function(e){return[2]})})},e.prototype.setModel=function(e){},e}(),Xw=function(){function e(e,t){void 0===t&&(t=10),null==e&&(e=[]),this.callbacks=e,this.queueLength=t}return e.prototype.append=function(e){this.callbacks.push(e)},e.prototype.setParams=function(e){for(var t=0,n=this.callbacks;t<n.length;t++)n[t].setParams(e)},e.prototype.setModel=function(e){for(var t=0,n=this.callbacks;t<n.length;t++)n[t].setModel(e)},e.prototype.onEpochBegin=function(e,t){return Xv(this,void 0,void 0,function(){var n,r;return Yv(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochBegin(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onEpochEnd=function(e,t){return Xv(this,void 0,void 0,function(){var n,r;return Yv(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochEnd(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onBatchBegin=function(e,t){return Xv(this,void 0,void 0,function(){var n,r;return Yv(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchBegin(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onBatchEnd=function(e,t){return Xv(this,void 0,void 0,function(){var n,r;return Yv(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchEnd(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onTrainBegin=function(e){return Xv(this,void 0,void 0,function(){var t,n;return Yv(this,function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainBegin(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.onTrainEnd=function(e){return Xv(this,void 0,void 0,function(){var t,n;return Yv(this,function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainEnd(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e}(),Yw=function(e){function t(){return e.call(this)||this}return Gv(t,e),t.prototype.onEpochBegin=function(e){return Xv(this,void 0,void 0,function(){return Yv(this,function(e){return this.seen=0,this.totals={},[2]})})},t.prototype.onBatchEnd=function(e,t){return Xv(this,void 0,void 0,function(){var e,n,r,i,o=this;return Yv(this,function(a){for(i in null==t&&(t={}),e=null==t.size?0:t.size,this.seen+=e,n=function(n){var i=t[n];if("number"==typeof i)r.totals.hasOwnProperty(n)||(r.totals[n]=0),r.totals[n]=r.totals[n]+i*e;else{var a=void 0;n in r.totals?a=r.totals[n]:r.totals[n]=0;var s=Object(Vv.Wc)(function(){return Object(Vv.f)(o.totals[n],Object(Vv.Pb)(i,e))});r.totals[n]=s,null!=a&&a.dispose()}},r=this,t)n(i);return[2]})})},t.prototype.onEpochEnd=function(e,t){return Xv(this,void 0,void 0,function(){var e,n,r,i,o,a=this;return Yv(this,function(s){if(null!=t)for(e=function(e){if(null==n.totals[e])return"continue";"number"==typeof n.totals[e]?t[e]=n.totals[e]/n.seen:Object(Vv.Wc)(function(){var n=Object(Vv.Pb)(Object(Vv.S)(1,a.seen),a.totals[e]);t[e]=n,a.totals[e].dispose(),Object(Vv.rb)(t[e])})},n=this,r=0,i=this.params.metrics;r<i.length;r++)o=i[r],e(o);return[2]})})},t}(Kw),Zw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.onTrainBegin=function(e){return Xv(this,void 0,void 0,function(){return Yv(this,function(e){return this.epoch=[],this.history={},[2]})})},t.prototype.onEpochEnd=function(e,t){return Xv(this,void 0,void 0,function(){var n;return Yv(this,function(r){for(n in null==t&&(t={}),this.epoch.push(e),t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n]);return[2]})})},t.prototype.syncData=function(){return Xv(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u;return Yv(this,function(l){switch(l.label){case 0:for(r in e=[],t=[],n=[],this.history)for(i=this.history[r],o=0;o<i.length;++o)"number"!=typeof i[o]&&(a=i[o],e.push(a.data()),t.push(r),n.push(o));return[4,Promise.all(e)];case 1:for(s=l.sent(),u=0;u<s.length;++u)this.history[t[u]][n[u]].dispose(),this.history[t[u]][n[u]]=s[u][0];return[2]}})})},t}(Kw),$w=function(e){function t(t,n){var r=e.call(this)||this;if(r.currentEpoch=0,r.yieldEvery=n||"auto","auto"===r.yieldEvery&&(r.yieldEvery=qw),"never"===r.yieldEvery&&null!=t.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return Vv.dd.isNumber(r.yieldEvery)&&(r.maybeWait=Cy(r.maybeWait.bind(r),r.yieldEvery)),r.trainBegin=t.onTrainBegin,r.trainEnd=t.onTrainEnd,r.epochBegin=t.onEpochBegin,r.epochEnd=t.onEpochEnd,r.batchBegin=t.onBatchBegin,r.batchEnd=t.onBatchEnd,r.yield=t.onYield,r}return Gv(t,e),t.prototype.maybeWait=function(e,t,n){return Xv(this,void 0,void 0,function(){var r;return Yv(this,function(i){switch(i.label){case 0:return r=[],null==this.yield?[3,2]:[4,Hw(n)];case 1:i.sent(),r.push(this.yield(e,t,n)),i.label=2;case 2:return r.push(Object(Vv.Tb)()),[4,Promise.all(r)];case 3:return i.sent(),[2]}})})},t.prototype.onEpochBegin=function(e,t){return Xv(this,void 0,void 0,function(){return Yv(this,function(n){switch(n.label){case 0:return this.currentEpoch=e,null==this.epochBegin?[3,3]:[4,Hw(t)];case 1:return n.sent(),[4,this.epochBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.onEpochEnd=function(e,t){return Xv(this,void 0,void 0,function(){var n;return Yv(this,function(r){switch(r.label){case 0:return n=[],null==this.epochEnd?[3,2]:[4,Hw(t)];case 1:r.sent(),n.push(this.epochEnd(e,t)),r.label=2;case 2:return"epoch"===this.yieldEvery&&n.push(Object(Vv.Tb)()),[4,Promise.all(n)];case 3:return r.sent(),[2]}})})},t.prototype.onBatchBegin=function(e,t){return Xv(this,void 0,void 0,function(){return Yv(this,function(n){switch(n.label){case 0:return null==this.batchBegin?[3,3]:[4,Hw(t)];case 1:return n.sent(),[4,this.batchBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.onBatchEnd=function(e,t){return Xv(this,void 0,void 0,function(){var n;return Yv(this,function(r){switch(r.label){case 0:return n=[],null==this.batchEnd?[3,2]:[4,Hw(t)];case 1:r.sent(),n.push(this.batchEnd(e,t)),r.label=2;case 2:return"batch"===this.yieldEvery?n.push(Object(Vv.Tb)()):Vv.dd.isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),[4,Promise.all(n)];case 3:return r.sent(),[2]}})})},t.prototype.onTrainBegin=function(e){return Xv(this,void 0,void 0,function(){return Yv(this,function(t){switch(t.label){case 0:return null==this.trainBegin?[3,3]:[4,Hw(e)];case 1:return t.sent(),[4,this.trainBegin(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.onTrainEnd=function(e){return Xv(this,void 0,void 0,function(){return Yv(this,function(t){switch(t.label){case 0:return null==this.trainEnd?[3,3]:[4,Hw(e)];case 1:return t.sent(),[4,this.trainEnd(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t}(Kw);function Jw(e,t){return null==e&&(e={}),e instanceof Kw?[e]:Array.isArray(e)&&e[0]instanceof Kw?e:uy(e).map(function(e){return new $w(e,t)})}var Qw=function(){function e(){}return e.registerCallbackConstructor=function(t,n){Vv.dd.assert(t>=0&&Number.isInteger(t),function(){return"Verbosity level is expected to be an integer >= 0, but got "+t}),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)},e.checkForDuplicate=function(t){for(var n in e.constructors)e.constructors[+n].forEach(function(e){if(e===t)throw new ey("Duplicate callback constructor.")})},e.clear=function(){e.constructors={}},e.createCallbacks=function(t){var n=[];for(var r in e.constructors){var i=+r;t>=i&&n.push.apply(n,e.constructors[i])}return n.map(function(e){return new e})},e.constructors={},e}();function ex(e,t,n,r,i,o,a,s,u){var l=new Zw,c=[new Yw].concat(Qw.createCallbacks(t));null!=e&&c.push.apply(c,e),c.push(l);var f=new Xw(c);return f.setParams({epochs:n,initialEpoch:r,samples:i,steps:o,batchSize:a,verbose:t,doValidation:s,metrics:u}),{callbackList:f,history:l}}function tx(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=!1),dy(e,Vv.rc.SerializationMap.getMap().classNameMap,t,"layer",n)}function nx(e,t){return Object(Vv.Wc)(function(){"float32"!==e.dtype&&(e=e.asType("float32"));var n=Object(Vv.Oc)(_b(e),t,!0),r=Object(Vv.eb)(n.shape,Zv()),i=Object(Vv.Hc)(Object(Vv.Ib)(n,r));return Object(Vv.S)(e,i)})}function rx(e,t){return Object(Vv.Wc)(function(){return Object(Vv.Jb)(_b(Object(Vv.Nc)(t,e)),-1)})}function ix(e,t){return Object(Vv.Wc)(function(){return Object(Vv.Jb)(Object(Vv.c)(Object(Vv.Nc)(t,e)),-1)})}function ox(e,t){return Object(Vv.Wc)(function(){var n=Object(Vv.Nc)(e,t),r=Object(Vv.B)(Object(Vv.c)(e),Zv(),Number.MAX_VALUE),i=Object(Vv.c)(Object(Vv.S)(n,r));return Object(Vv.Pb)(100,Object(Vv.Jb)(i,-1))})}function ax(e,t){return Object(Vv.Wc)(function(){var n=Object(Vv.B)(t,Zv(),Number.MAX_VALUE),r=Object(Vv.yb)(Object(Vv.f)(1,n)),i=Object(Vv.B)(e,Zv(),Number.MAX_VALUE),o=Object(Vv.yb)(Object(Vv.f)(1,i));return Object(Vv.Jb)(_b(Object(Vv.Nc)(r,o)),-1)})}function sx(e,t){return Object(Vv.Wc)(function(){var n=Object(Vv.Ib)(0,Object(Vv.Nc)(1,Object(Vv.Pb)(e,t)));return Object(Vv.Jb)(_b(n),-1)})}function ux(e,t){return Object(Vv.Wc)(function(){var n=Object(Vv.Ib)(0,Object(Vv.Nc)(1,Object(Vv.Pb)(e,t)));return Object(Vv.Jb)(n,-1)})}function lx(e,t){return Object(Vv.Wc)(function(){var n=Object(Vv.Oc)(Object(Vv.Pb)(e,t),-1),r=Object(Vv.Fb)(Object(Vv.Pb)(Object(Vv.Nc)(1,e),t),-1);return Object(Vv.Ib)(0,Object(Vv.f)(1,Object(Vv.Nc)(r,n)))})}function cx(e,t){return Object(Vv.Wc)(function(){var n=Math.log(2),r=Object(Vv.Nc)(t,e),i=Object(Vv.Nc)(Object(Vv.f)(r,Object(Vv.Dc)(Object(Vv.Pb)(-2,r))),n);return Object(Vv.Jb)(i,-1)})}function fx(e,t,n){return void 0===n&&(n=!1),Object(Vv.Wc)(function(){if(n)t=Object(Vv.Cc)(t);else{var r=Object(Vv.Oc)(t,t.shape.length-1,!0);t=Object(Vv.S)(t,r)}return t=Object(Vv.B)(t,Zv(),1-Zv()),Object(Vv.Sb)(Object(Vv.Oc)(Object(Vv.Pb)(e.toFloat(),Object(Vv.yb)(t)),t.shape.length-1))})}function px(e,t){return Object(Vv.Wc)(function(){var n=Object(Vv.fb)(fb(e)).toInt(),r=(t=Object(Vv.B)(t,Zv(),1-Zv())).shape;return fx(Object(Vv.Vb)(n,r[r.length-1]).reshape(r),t,!1)})}function hx(e,t){if(!Vv.dd.arraysEqual(e.shape,t.shape))throw new ey("logits and labels must have the same shape, but got shapes "+JSON.stringify(e.shape)+" and "+JSON.stringify(t.shape));return Object(Vv.Wc)(function(){var n=t.relu(),r=t.abs().neg();return n.sub(t.mul(e)).add(r.exp().log1p())})}function dx(e,t){return Object(Vv.Wc)(function(){var n;return n=Object(Vv.B)(t,Zv(),1-Zv()),n=Object(Vv.yb)(Object(Vv.S)(n,Object(Vv.Nc)(1,n))),Object(Vv.Jb)(hx(e,n),-1)})}function mx(e,t){return Object(Vv.Wc)(function(){var n=Object(Vv.B)(e,Zv(),1),r=Object(Vv.B)(t,Zv(),1);return Object(Vv.Oc)(Object(Vv.Pb)(e,Object(Vv.yb)(Object(Vv.S)(n,r))),-1)})}function gx(e,t){return Object(Vv.Wc)(function(){var n=Object(Vv.yb)(Object(Vv.f)(Zv(),t));return Object(Vv.Jb)(Object(Vv.Nc)(t,Object(Vv.Pb)(e,n)),-1)})}function vx(e,t){return Object(Vv.Wc)(function(){var n=nx(e,-1),r=nx(t,-1),i=Object(Vv.Pb)(n,r);return Object(Vv.Sb)(Object(Vv.Oc)(i,-1))})}var yx={meanSquaredError:rx,meanAbsoluteError:ix,meanAbsolutePercentageError:ox,meanSquaredLogarithmicError:ax,squaredHinge:sx,hinge:ux,categoricalHinge:lx,logcosh:cx,categoricalCrossentropy:fx,sparseCategoricalCrossentropy:px,binaryCrossentropy:dx,kullbackLeiblerDivergence:mx,poisson:gx,cosineProximity:vx};function bx(e){if("string"==typeof e){if(e in yx)return yx[e];var t="Unknown loss "+e;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss "+e+'. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new ey(t)}return e}function wx(e,t){return Object(Vv.Wc)(function(){var n=Object(Vv.Pb)(.5,Object(Vv.Xb)(t)),r=ub(Object(Vv.kb)(t,n),e.dtype);return Object(Vv.Jb)(Object(Vv.X)(e,r),-1)})}function xx(e,t){return Object(Vv.Wc)(function(){return ub(Object(Vv.X)(Object(Vv.j)(e,-1),Object(Vv.j)(t,-1)),"float32")})}function _x(e,t){return Object(Vv.Wc)(function(){return Object(Vv.Bb)(e.equal(1),t.equal(1)).sum().cast("float32")})}function Cx(e,t){return Object(Vv.Wc)(function(){return Object(Vv.Bb)(e.equal(1),t.equal(0)).sum().cast("float32")})}function Ex(e,t){return Object(Vv.Wc)(function(){return Object(Vv.Bb)(e.equal(0),t.equal(1)).sum().cast("float32")})}function Sx(e,t){return Object(Vv.Wc)(function(){var n=_x(e,t),r=Ex(e,t),i=n.add(r);return Object(Vv.gd)(Object(Vv.kb)(i,0),n.div(i),0).cast("float32")})}function kx(e,t){return Object(Vv.Wc)(function(){var n=_x(e,t),r=Cx(e,t),i=n.add(r);return Object(Vv.gd)(Object(Vv.kb)(i,0),n.div(i),0).cast("float32")})}function Ox(e,t){return dx(e,t)}function Tx(e,t){return e.rank===t.rank&&(e=e.squeeze([e.rank-1])),(t=t.argMax(-1)).dtype!==e.dtype&&(t=t.asType(e.dtype)),Object(Vv.X)(e,t).asType("float32")}var Nx,Ax,Ix,Rx,Px,Mx,jx=fx,Dx,Lx=px,Fx={binaryAccuracy:wx,categoricalAccuracy:xx,precision:Sx,categoricalCrossentropy:jx,sparseCategoricalCrossentropy:Lx,mse:rx,MSE:rx,mae:ix,MAE:ix,mape:ox,MAPE:ox,cosine:vx};function zx(e){if("string"==typeof e&&e in Fx)return Fx[e];if("string"!=typeof e&&null!=e)return e;throw new ey("Unknown metric "+e)}function Bx(e){if(oy(null!==e,"Unknown LossOrMetricFn "+e),"string"==typeof e)return e;for(var t=void 0,n=0,r=Object.keys(yx);n<r.length;n++){var i=r[n];if(yx[i]===e){t=i;break}}if(void 0!==t)return t;for(var o=0,a=Object.keys(Fx);o<a.length;o++)if(i=a[o],Fx[i]===e){t=i;break}return void 0!==t?t:e.name}function Ux(e){var t={Adagrad:function(){return Vv.Zc.adagrad(.01)},Adadelta:function(){return Vv.Zc.adadelta(1,.95,Zv())},Adam:function(){return Vv.Zc.adam(.001,.9,.999,Zv())},Adamax:function(){return Vv.Zc.adamax(.002,.9,.999,Zv(),0)},RMSProp:function(){return Vv.Zc.rmsprop(.001,.9,0,Zv())},SGD:function(){return Vv.Zc.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new ey("Unknown Optimizer "+e)}var Wx=1048576;function Vx(e,t,n){if(void 0===n&&(n=!1),null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!Hx(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>Wx&&console.warn('User-defined metadata of model "'+t+'" is too large in size (length='+r.length+" when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+Wx+".")}}function Hx(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"!=typeof r)return!1;if(!Hx(e[r]))return!1}return!0}if(Array.isArray(e)){for(var i=0,o=e;i<o.length;i++)if(!Hx(o[i]))return!1;return!0}return!1}var a=typeof e;return"string"===a||"number"===a||"boolean"===a}function Gx(e,t,n,r){void 0===r&&(r=console.log);var i,o=Kx(e),a=["Layer (type)","Output shape","Param #"];if(o?(t=t||65,n=n||[.45,.85,1]):(t=t||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map(function(e){return Math.floor(t*e)})),!o)for(var s in a.push("Receives inputs"),i=[],e.nodesByDepth)i.push.apply(i,e.nodesByDepth[s]);r("_".repeat(t)),Xx(a,n,r),r("=".repeat(t));for(var u=e.layers,l=0;l<u.length;++l)o?Yx(u[l],n,r):Zx(u[l],n,i,r),r((l===u.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var c=qx(e),f=Sw(e.nonTrainableWeights);r("Total params: "+(c+f)),r("Trainable params: "+c),r("Non-trainable params: "+f),r("_".repeat(t))}function qx(e){return null!=e.collectedTrainableWeights?Sw(e.collectedTrainableWeights):Sw(e.trainableWeights)}function Kx(e){var t=!0,n=[],r=[];for(var i in e.nodesByDepth)n.push(e.nodesByDepth[i]);for(var o=0,a=n;o<a.length;o++){var s=a[o];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,s)}if(t)for(var u=0,l=e.layers;u<l.length;u++){for(var c=!1,f=0,p=l[u].inboundNodes;f<p.length;f++){var h=p[f];if(-1!==r.indexOf(h)){if(c){t=!1;break}c=!0}}if(!t)break}return t}function Xx(e,t,n){void 0===n&&(n=console.log);for(var r="",i=0;i<e.length;++i)i>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[i]).slice(0,t[i]),r+=" ".repeat(t[i]-r.length);n(r)}function Yx(e,t,n){var r;try{r=JSON.stringify(e.outputShape)}catch(e){r="multiple"}Xx([e.name+" ("+e.getClassName()+")",r,e.countParams().toString()],t,n)}function Zx(e,t,n,r){var i;try{i=JSON.stringify(e.outputShape)}catch(e){i="multiple"}for(var o=[],a=0,s=e.inboundNodes;a<s.length;a++){var u=s[a];if(!(null!=n&&n.length>0&&-1===n.indexOf(u)))for(var l=0;l<u.inboundLayers.length;++l){var c=u.inboundLayers[l].name,f=u.nodeIndices[l],p=u.tensorIndices[l];o.push(c+"["+f+"]["+p+"]")}}var h=e.name,d=e.getClassName(),m=0===o.length?"":o[0];for(Xx([h+" ("+d+")",i,e.countParams().toString(),m],t,r),l=1;l<o.length;++l)Xx(["","","",o[l]],t,r)}function $x(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function Jx(e,t){if(null===e)return null;if("string"==typeof e)return cy(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var o=e[i];$x(t,i,o)?n.push(o):n.push(Jx(o,t))}return n}for(var a={},s=0,u=Object.keys(e);s<u.length;s++){var l=u[s],c=e[l];if("name"===l&&"string"==typeof c)a[l]=c;else{var f=cy(l);a[f]=Jx(c,f)}}return a}function Qx(e,t){if(null===e||void 0===e)return null;if("string"==typeof e)return ly(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var o=e[i];$x(t,i,o)?n.push(o):n.push(Qx(o,t))}return n}for(var a={},s=0,u=Object.keys(e);s<u.length;s++){var l=u[s],c=e[l],f;a[ly(l)]="name"!==l&&"className"!==l||"string"!=typeof c?Qx(c,l):c}return a}var e_="1.7.0";function t_(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return Object(Vv.z)(t,e.dtype)}catch(n){throw new ey("The dtype of the feed ("+t.dtype+") can not be cast to the dtype of the key '"+e.name+"' ("+e.dtype+").")}}var n_=function(){function e(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;for(var r=0,i=t;r<i.length;r++){var o=i[r];this.add(o.key,o.value)}}}return e.prototype.add=function(e,t,n){if(null!=this.id2Value[e.id])throw new ey("Duplicate key: name="+e.name+", id="+e.id);return this.id2Value[e.id]=t_(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this},e.prototype.addFeed=function(e){this.add(e.key,e.value)},e.prototype.hasKey=function(e){return null!=this.id2Value[e.id]},e.prototype.names=function(){return Object.keys(this.name2Id)},e.prototype.getValue=function(e){if(e instanceof Rw){if(null==this.id2Value[e.id])throw new ey("Nonexistent key: "+e.name);return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new ey("Feed dict has no SymbolicTensor name: "+e);return this.id2Value[t]},e.prototype.getMask=function(e){if(e instanceof Rw){if(null==this.id2Value[e.id])throw new ey("Nonexistent key: "+e.name);return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new ey("Feed dict has no SymbolicTensor name: "+e);return this.id2Mask[t]},e.prototype.disposeMasks=function(){null!=this.id2Mask&&Object(Vv.R)(this.id2Mask)},e}(),r_={},i_={},o_;function a_(e,t,n,r){for(var i=null!=n&&n.training,o=Array.isArray(e),a=o?e:[e],s=a.map(function(e){return e.name}),u=[],l=t.names(),c=0,f=s;c<f.length;c++){var p=f[c];-1!==l.indexOf(p)?u.push(t.getValue(p)):u.push(null)}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var h,d,m=s.join(",")+"|"+t.names().join(",");if(null==r_[m]){var g=s_(a,t);h=g.sorted,d=g.recipientCounts,r_[m]=h,i_[m]=d}h=r_[m],d={},i||Object.assign(d,i_[m]);for(var v=new n_(t),y=0;y<h.length;++y){if(null!=r){var b=Object(Vv.Kb)().numTensors;b>r.maxNumTensors&&(r.maxNumTensors=b),b<r.minNumTensors&&(r.minNumTensors=b)}var w=h[y],x=w.sourceLayer;if(!(x instanceof Uw)){for(var _=[],C=[],E=[],S=!1,k=0,O=w.inputs;k<O.length;k++){var T=O[k],N=v.getValue(T),A=v.getMask(T);_.push(N),C.push(A),null!=A&&(S=!0),i||(d[T.name]--,0!==d[T.name]||t.hasKey(T)||-1!==s.indexOf(T.name)||N.isDisposed||!0===T.sourceLayer.stateful||E.push(N))}S&&((n=n||{}).mask=C[0]);var I=uy(x.apply(_,n)),R=null;x.supportsMasking&&(R=x.computeMask(_,C));for(var P=c_(w),M=Array.isArray(P)?P:[P],j=0;j<M.length;++j){v.hasKey(M[j])||v.add(M[j],I[j],Array.isArray(R)?R[0]:R);var D=s.indexOf(M[j].name);-1!==D&&(u[D]=I[j])}i||Object(Vv.R)(E)}}return v.disposeMasks(),o?u:u[0]}function s_(e,t){Vv.dd.assert(null!=e&&e.length>0,function(){return"Expected at least one fetch, got none"});var n=[],r={};if(1===e.length){var i=l_(e[0],t);n=i.sorted,r=i.recipientMap}else for(var o=new Set,a=0,s=e;a<s.length;a++){for(var u=l_(s[a],t),l=u.sorted,c=u.recipientMap,f=0,p=l;f<p.length;f++){var h=p[f];o.has(h.name)||(n.push(h),o.add(h.name))}var d=function(e){null==r[e]&&(r[e]=new Set),c[e].forEach(function(t){return r[e].add(t)})};for(var m in c)d(m)}return{sorted:n,recipientCounts:u_(r)}}function u_(e){var t={};for(var n in e)t[n]=e[n].size;return t}function l_(e,t){for(var n=new Set,r=[],i={},o=0,a=t.names();o<a.length;o++){var s=a[o];n.add(s)}var u=[],l=[];for(u.push(e);u.length>0;){var c=u[u.length-1];if(n.has(c.name))u.pop();else{var f=l[l.length-1]===u.length-1;if(0===c.inputs.length||f)u.pop(),r.push(c),n.add(c.name),f&&l.pop();else{l.push(u.length-1);for(var p=0,h=c.inputs;p<h.length;p++){var d=h[p];null==i[d.name]&&(i[d.name]=new Set),i[d.name].add(c.name),n.has(d.name)||u.push(d)}}}}return{sorted:r,recipientMap:i}}function c_(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r)for(var i=0,o=e.sourceLayer.inboundNodes[r].outputTensors;i<o.length;i++)if(o[i].id===e.id){n=r;break}t=e.sourceLayer.getOutputAt(n)}return t}function f_(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map(function(e){return null});if(1===r)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided "+n+" is an array of "+e.length+" element(s), but the model has "+r+" outputs. Make sure a set of weights is provided for each model output.");return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){var i=[];return t.forEach(function(t){t in e?i.push(e[t]):i.push(null)}),i}throw new Error("The model has multiple ("+r+") outputs, so "+n+" must be either an array with "+r+" elements or an object with "+t+" keys. Provided "+n+" not understood: "+JSON.stringify(e))}function p_(e,t){return f_(e,t,"classWeight")}function h_(e,t,n,r){return Xv(this,void 0,void 0,function(){var i,o,a,s,u;return Yv(this,function(l){switch(l.label){case 0:if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");return null==n?[3,2]:(i=Object(Vv.Wc)(function(){if(1===e.shape.length)return e.clone();if(2===e.shape.length){if(e.shape[1]>1)return e.argMax(1);if(1===e.shape[1])return e.reshape([e.shape[0]]);throw new Error("Encountered unexpected last-dimension size ("+e.shape[1]+") during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor ("+e.rank+") during handling of class weights. The rank is expected to be 1 or 2.")}),s=(a=Array).from,[4,i.data()]);case 1:return o=s.apply(a,[l.sent()]),Object(Vv.R)(i),u=[],o.forEach(function(e){if(null==n[e])throw new Error("classWeight must contain all classes in the training data. The class "+e+" exists in the data but not in classWeight");u.push(n[e])}),[2,Object(Vv.Sc)(u,"float32")];case 2:return[2,null]}})})}function d_(e,t){return Object(Vv.Pb)(e,t)}var m_=32;function g_(e,t){var n,r,i=t;n=i.xs,r=i.ys,Vv.dd.assert(null!=n&&null!=r,function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+t});var o=v_("input",e.inputNames,n),a=v_("output",e.outputNames,r),s=o[0].shape[0];Vv.dd.assert(o.length===e.inputs.length,function(){return"LayersModel has "+e.inputs.length+" inputs, but the dataset provides "+o.length+" inputs.  (Expected input keys: "+JSON.stringify(e.inputNames)+")"}),Vv.dd.assert(a.length===e.outputs.length,function(){return"LayersModel has "+e.outputs.length+" outputs, but the dataset provides "+a.length+" outputs.  (Expected output keys: "+JSON.stringify(e.outputNames)+")"});for(var u=function(t){Vv.dd.assert(o[t].shape[0]===s,function(){return"Batch size mismatch: input "+e.inputNames[t]+" has "+o[t].shape[0]+"; expected  "+s+" based on input "+e.inputNames[0]+"."})},l=0;l<o.length;l++)u(l);for(var c=function(t){Vv.dd.assert(a[t].shape[0]===s,function(){return"Batch size mismatch: output "+e.outputNames[t]+" has "+a[t].shape[0]+"; expected  "+s+" based on input "+e.inputNames[0]+"."})},f=0;f<a.length;f++)c(f);return{xs:o,ys:a}}function v_(e,t,n){if(n instanceof Vv.b)return[n];if(Array.isArray(n))return Vv.dd.assert(n.length===t.length,function(){return"Received an array of "+n.length+" Tensors, but expected "+t.length+" to match the "+e+" keys "+t+"."}),n;for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(null==n[a])throw new ey("The feature data generated by the dataset lacks the required "+e+" key '"+a+"'.");r.push(n[a])}return r}function y_(e){if(3===e.length)throw new ty("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}function b_(e,t,n){return Xv(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c,f,p,h,d,m,g,v,y,b,w,x,_,C,E,S,k,O,T,N,A,I,R,P,M,j,D;return Yv(this,function(L){switch(L.label){case 0:if(r=null!=n.batchesPerEpoch,Vv.dd.assert(null!=e.optimizer,function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."}),Vv.dd.assert(null!=n,function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."}),Vv.dd.assert(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),function(){return"For fitDataset(), config.epochs is expected to be a positive integer, but got "+n.epochs}),Vv.dd.assert(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got "+n.batchesPerEpoch}),Vv.dd.assert(null==n.validationSplit,function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."}),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0,L.label=1;case 1:return L.trys.push([1,,26,27]),i=null!=n.validationData,o=void 0,a=void 0,i&&(x_(n.validationData)?Vv.dd.assert(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got "+n.validationBatches}):(s=y_(n.validationData),o=s.xs,a=s.ys)),u=e.makeTrainFunction(),l=e.getDedupedMetricsNames(),c=void 0,c=i?l.slice().concat(l.map(function(e){return"val_"+e})):l.slice(),f=Jw(n.callbacks,n.yieldEvery),p=null==n.verbose?1:n.verbose,h=ex(f,p,n.epochs,null,null,w_(t,n),null,i,c),d=h.callbackList,m=h.history,d.setModel(e),e.history=m,[4,d.onTrainBegin()];case 2:return L.sent(),e.stopTraining_=!1,g=null==n.initialEpoch?0:n.initialEpoch,[4,t.iterator()];case 3:v=L.sent(),L.label=4;case 4:return g<n.epochs?(y={},[4,d.onEpochBegin(g)]):[3,23];case 5:return L.sent(),b=0,w=0,r?[3,7]:[4,t.iterator()];case 6:v=L.sent(),L.label=7;case 7:return!r||b<n.batchesPerEpoch?[4,v.next()]:[3,21];case 8:return x=L.sent(),r&&x.done?(console.warn("You provided `batchesPerEpoch` as "+n.batchesPerEpoch+", but your dataset iterator ran out of data after "+b+" batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset."),[3,21]):null==x.value?[3,15]:(_=g_(e,x.value),C=_.xs,E=_.ys,(S={}).batch=w,S.size=C[0].shape[0],[4,d.onBatchBegin(w,S)]);case 9:if(L.sent(),k=[],null==n.classWeight)return[3,13];O=p_(n.classWeight,e.outputNames),D=0,L.label=10;case 10:return D<O.length?(N=(T=k).push,[4,h_(E[D],null,O[D])]):[3,13];case 11:N.apply(T,[L.sent()]),L.label=12;case 12:return++D,[3,10];case 13:for(A=C.concat(E).concat(k),I=u(A),Object(Vv.R)(A),D=0;D<l.length;++D)R=l[D],P=I[D],S[R]=P,Object(Vv.rb)(P);return[4,d.onBatchEnd(w,S)];case 14:L.sent(),Gw(S),w++,b++,L.label=15;case 15:return(r?b>=n.batchesPerEpoch:x.done)?i?(M=void 0,x_(n.validationData)?(j=uy,[4,e.evaluateDataset(n.validationData,{batches:n.validationBatches})]):[3,17]):[3,19]:[3,20];case 16:return M=j.apply(void 0,[L.sent()]),[3,18];case 17:M=uy(e.evaluate(o,a,{batchSize:null==n.validationBatchSize?m_:n.validationBatchSize,verbose:0})),L.label=18;case 18:for(D=0;D<e.metricsNames.length;++D)y["val_"+e.metricsNames[D]]=M[D];L.label=19;case 19:return[3,21];case 20:return e.stopTraining_?[3,21]:[3,7];case 21:return[4,d.onEpochEnd(g,y)];case 22:return L.sent(),g++,e.stopTraining_?[3,23]:[3,4];case 23:return[4,d.onTrainEnd()];case 24:return L.sent(),[4,e.history.syncData()];case 25:return L.sent(),[2,e.history];case 26:return e.isTraining=!1,[7];case 27:return[2]}})})}function w_(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function x_(e){return"function"==typeof e.iterator}function __(e){return"function"==typeof e.next}function C_(e,t,n){return Xv(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c,f,p;return Yv(this,function(h){switch(h.label){case 0:if(r=null!=(n=n||{}).batches,i=e.testFunction,o=[],n.verbose>0)throw new ty("Verbose mode is not implemented yet.");return Vv.dd.assert(!r||n.batches>0&&Number.isInteger(n.batches),function(){return"Test loop expects `batches` to be a positive integer, but received "+JSON.stringify(n.batches)}),__(t)?(s=t,[3,3]):[3,1];case 1:return[4,t.iterator()];case 2:s=h.sent(),h.label=3;case 3:a=s,u=0,l=0,c=function(){var t;return Yv(this,function(s){switch(s.label){case 0:return[4,a.next()];case 1:return t=s.sent(),o=Object(Vv.Wc)(function(){if(t.value){var n=g_(e,t.value),r=n.xs,a=n.ys,s=r.concat(a),c=Object(Vv.Wc)(function(){return i(s)});if(Object(Vv.R)(s),0===l)for(var f=0;f<c.length;++f)o.push(Object(Vv.nc)(0));var p=s[0].shape[0],h=function(e){var t=c[e],n=o[e];o[e]=Object(Vv.Wc)(function(){return Object(Vv.f)(o[e],Object(Vv.Pb)(p,t))}),l>0&&Object(Vv.R)(n)};for(f=0;f<c.length;++f)h(f);Object(Vv.R)(c),u+=p,++l}return o}),t.done?(r&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, "+n.batches+" batches). You may need to use the repeat() function when building your dataset."),[2,"break"]):[2]}})},h.label=4;case 4:return!r||l<n.batches?[5,c()]:[3,6];case 5:return"break"===h.sent()?[3,6]:[3,4];case 6:for(f=0;f<o.length;++f)p=o[f],o[f]=Object(Vv.S)(o[f],u),Object(Vv.R)(p);return[2,sy(o)]}})})}function E_(e){Vv.dd.assert(e>0&&Number.isInteger(e),function(){return"batchSize is required to be a positive integer, but got "+e})}function S_(e,t,n){return null==e?[null]:Array.isArray(e)?e.map(function(e){return hb(e,t,n-t)}):hb(e,t,n-t)}function k_(e,t){return Object(Vv.Wc)(function(){return null==e?null:Array.isArray(e)?e.map(function(e){return k_(e,t)}):xb(e,"int32"===t.dtype?t:t.toInt())})}function O_(e,t){for(var n=[],r=0,i=null;r<e;)(i=r+t)>=e&&(i=e),n.push([r,i]),r=i;return n}function T_(e,t,n,r,i,o,a,s,u,l,c,f,p,h,d){return Xv(this,void 0,void 0,function(){var m,g,v,y,b,w,x,_;return Yv(this,function(C){switch(C.label){case 0:if(null==i&&(i=32),null==o&&(o=1),null==c&&(c=!0),null==p&&(p=0),m=!1,null!=u&&null!=l&&(m=!0),null!=d&&(m=!0,null==h))throw new ey("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");return null!=(g=e.checkNumSamples(n,i,h,"steps_per_epoch"))&&(v=sb(0,g)),null==a&&(a=1),y=ex(s,a,o,p,g,h,i,m,f),b=y.callbackList,w=y.history,b.setModel(e),e.history=w,[4,b.onTrainBegin()];case 1:C.sent(),e.stopTraining_=!1,x=function(o){var a,s,f,p,d;return Yv(this,function(y){switch(y.label){case 0:return[4,b.onEpochBegin(o)];case 1:if(y.sent(),a={},null==h)return[3,2];throw new ty("stepsPerEpoch mode is not implemented yet.");case 2:if("batch"===c)throw new ty("batch shuffling is not implemneted yet");c&&Vv.dd.shuffle(v),s=Object(Vv.Sc)(v),f=O_(g,i),p=function(o){var c;return Yv(this,function(p){switch(p.label){case 0:return c={},[4,b.onBatchBegin(o,c)];case 1:return p.sent(),Object(Vv.Wc)(function(){var p=f[o][0],h=f[o][1],d=hb(s,p,h-p);c.batch=o,c.size=h-p;for(var g=k_(n,d),v=t(g),y=0;y<r.length;++y){var b=r[y],w=v[y];c[b]=w,Object(Vv.rb)(w)}if(o===f.length-1&&m){var x=e.testLoop(u,l,i);for(y=0;y<r.length;++y)b=r[y],w=x[y],Object(Vv.rb)(w),a["val_"+b]=w}}),[4,b.onBatchEnd(o,c)];case 2:return p.sent(),Gw(c),e.stopTraining_?[2,"break"]:[2]}})},d=0,y.label=3;case 3:return d<f.length?[5,p(d)]:[3,6];case 4:if("break"===y.sent())return[3,6];y.label=5;case 5:return++d,[3,3];case 6:s.dispose(),y.label=7;case 7:return[4,b.onEpochEnd(o,a)];case 8:return y.sent(),e.stopTraining_?[2,"break"]:[2]}})},_=p,C.label=2;case 2:return _<o?[5,x(_)]:[3,5];case 3:if("break"===C.sent())return[3,5];C.label=4;case 4:return++_,[3,2];case 5:return[4,b.onTrainEnd()];case 6:return C.sent(),[4,e.history.syncData()];case 7:return C.sent(),[2,e.history]}})})}function N_(e,t,n,r){return void 0===r&&(r={}),Xv(this,void 0,void 0,function(){var i,o,a,s,u,l,c,f,p,h,d,m,g,v,y,b,w,x,_,C,E,S;return Yv(this,function(k){switch(k.label){case 0:if(e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0,k.label=1;case 1:return k.trys.push([1,,7,8]),E_(f=null==r.batchSize?32:r.batchSize),p=!1,[4,e.standardizeUserData(t,n,r.sampleWeight,r.classWeight,p,f)];case 2:if(h=k.sent(),i=h[0],o=h[1],c=h[2],d=!1,m=void 0,!(null!=r.validationData&&r.validationData.length>0))return[3,4];if(d=!0,2!==r.validationData.length)throw 3===r.validationData.length?new ty("validationData including sample weights is not supported yet."):new ey("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+r.validationData+" is invalid.");return a=r.validationData[0],s=r.validationData[1],g=!0,[4,e.standardizeUserData(a,s,null,null,g,f)];case 3:return v=k.sent(),u=v[0],l=v[1],m=u.concat(l),[3,5];case 4:null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1?(d=!0,y=Math.floor(i[0].shape[0]*(1-r.validationSplit)),b=i[0].shape[0],u=S_(i,y,b),i=S_(i,0,y),l=S_(o,y,b),o=S_(o,0,y),m=u.concat(l)):null!=r.validationSteps&&(d=!0),k.label=5;case 5:return w=i.concat(o).concat(c),e.checkTrainableWeightsConsistency(),x=e.makeTrainFunction(),_=e.getDedupedMetricsNames(),C=void 0,E=void 0,d?(e.makeTestFunction(),C=e.testFunction,E=_.slice().concat(_.map(function(e){return"val_"+e}))):(C=null,m=[],E=_.slice()),S=Jw(r.callbacks,r.yieldEvery),[4,T_(e,x,w,_,f,r.epochs,r.verbose,S,C,m,r.shuffle,E,r.initialEpoch,null,null)];case 6:return[2,k.sent()];case 7:return e.isTraining=!1,I_(i,t),I_(o,n),I_(u,a),I_(l,s),null!=c&&Object(Vv.R)(c),[7];case 8:return[2]}})})}function A_(e){var t=[];e instanceof Vv.b&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(lb(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function I_(e,t){if(null!=e){var n=[];if(t instanceof Vv.b)n.push(t.id);else if(Array.isArray(t))t.forEach(function(e){return n.push(e.id)});else if(null!=t)for(var r in t){var i=t[r];n.push(i.id)}var o=[];if(e instanceof Vv.b)-1===n.indexOf(e.id)&&o.push(e);else if(Array.isArray(e))e.forEach(function(e){-1===n.indexOf(e.id)&&o.push(e)});else if(null!=e)for(var a in e){var s=e[a];-1===n.indexOf(s.id)&&o.push(s)}o.forEach(function(e){e.isDisposed||e.dispose()})}}function R_(e){return e instanceof Vv.b}function P_(e){return Array.isArray(e)}function M_(e){return!R_(e)&&!P_(e)}function j_(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=""),null==t||0===t.length){if(null!=e){var o=!1;if(P_(e)&&e.length>0)o=!0;else if(M_(e)){for(var a in e)if(e.hasOwnProperty(a)){o=!0;break}}else o=!0;if(o)throw new ey("Error when checking model "+i+" expected no data, but got "+e)}return[]}if(null==e)return t.map(function(e){return null});var s;if(M_(e)){e=e,s=[];for(var u=0,l=t;u<l.length;u++){var c=l[u];if(null==e[c])throw new ey('No data provided for "'+c+'". Need data for each key in: '+t);s.push(e[c])}}else if(P_(e)){if((e=e).length!==t.length)throw new ey("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see "+t.length+" Tensor(s), but instead got the following list of Tensor(s): "+e);s=e}else{if(e=e,t.length>1)throw new ey("The model "+i+" expects "+t.length+" Tensor(s), but only received one Tensor. Found: Tensor with shape "+e.shape);s=[e]}if(s=A_(s),null!=n)for(var f=0;f<t.length;++f)if(null!=n[f]){var p=s[f];if(p.shape.length!==n[f].length)throw new ey("Error when checking "+i+": expected "+t[f]+" to have "+n[f].length+" dimension(s). but got array with shape "+p.shape);for(var h=0;h<n[f].length;++h)if(0!==h||r){var d=p.shape[h],m=n[f][h];if(null!=m&&m>=0&&d!==m)throw new ey("Error when checking "+i+": expected "+t[f]+" to have shape ["+n[f]+"], but got array with shape ["+p.shape+"].")}}return s}function D_(e,t,n){var r=vy(e.map(function(e){return e.shape[0]}));r.sort();var i=vy(t.map(function(e){return e.shape[0]}));if(i.sort(),r.length>1)throw new ey("All input Tensors (x) should have the same number of samples. Got array shapes: "+JSON.stringify(e.map(function(e){return e.shape})));if(i.length>1)throw new ey("All target Tensors (y) should have the same number of samples. Got array shapes: "+JSON.stringify(t.map(function(e){return e.shape})));if(r.length>0&&i.length>0&&!Vv.dd.arraysEqual(r,i))throw new ey("Input Tensors should have the same number of samples as target Tensors. Found "+r[0]+" input sample(s) and "+i[0]+" target sample(s).")}function L_(e,t,n){for(var r=[rx,dx,fx],i=0;i<e.length;++i){var o=e[i],a=t[i],s=n[i];if(null!=a){if(a===fx&&1===o.shape[o.shape.length-1])throw new ey("You are passing a target array of shape "+o.shape+" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(a))for(var u=o.shape.slice(1),l=s.slice(1),c=0;c<u.length;++c){var f=u[c],p=l[c];if(null!=p&&f!==p)throw new ey("A target Tensor with shape "+o.shape+" was passed for an output of shape "+s+", while using a loss function that expects targets to have the same shape as the output.")}}}}function F_(e,t,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=""),Array.isArray(e)){if(e.length!==t.length)throw new ey("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see "+t.length+" Tensor(s), but instead got "+e.length+" Tensors(s).");o=e}else{if(t.length>1)throw new ey("The model expects "+t.length+" "+i+" Tensors, but only received one Tensor. Found: array with shape "+JSON.stringify(e.shape)+".");o=[e]}if(null!=n)for(var a=0;a<t.length;++a)if(null!=n[a]){var s=o[a];if(s.shape.length!==n[a].length)throw new ey("Error when checking "+i+": expected "+t[a]+" to have "+n[a].length+" dimension(s), but got array with shape "+JSON.stringify(s.shape));for(var u=0;u<n[a].length;++u)if(0!==u||r){var l=s.shape[u],c=n[a][u];if(null!=c&&c!==l)throw new ey("Error when checking "+i+": expected "+t[a]+" to have shape "+JSON.stringify(n[a])+" but got array with shape "+JSON.stringify(s.shape)+".")}}}function z_(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map(function(e){return[]});var n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,function, Array, or Object, found: "+e);n=e}if(Array.isArray(n))return t.map(function(e){return n});for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=n.hasOwnProperty(a)?n[a]:[];Array.isArray(s)||(s=[s]),r.push(s)}return r}var B_="layers-model",U_=function(e){function t(t){var n=e.call(this,t)||this;return n.isTraining=!1,n}return Gv(t,e),t.prototype.summary=function(e,t,n){if(void 0===n&&(n=console.log),!this.built)throw new ey("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Gx(this,e,t,n)},t.prototype.compile=function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=Ux(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Vv.a))throw new ey("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new ey("When passing an Array as loss, it should have one entry per model output. The model has "+this.outputs.length+" output(s), but you passed loss="+e.loss+".");var r=e.loss;n=r.map(function(e){return bx(e)})}else{var i=bx(e.loss);this.outputs.forEach(function(e){n.push(i)})}else{for(var o in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(o))throw new ey('Unknown entry in loss dictionary: "'+o+'". Only expected the following keys: '+this.outputNames);for(var a=0,s=this.outputNames;a<s.length;a++){var u=s[a];null==e.loss[u]&&console.warn('Output "'+u+'" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to '+u+" during training"),n.push(bx(e.loss[u]))}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var l=0;l<this.outputs.length;++l){var c=this.internalOutputShapes[l],f=this.outputNames[l];this.feedOutputNames.push(f),this.feedOutputShapes.push(c),this.feedLossFns.push(this.lossFunctions[l])}var p=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Zy("loss",function(){for(var e=0;e<t.outputs.length;++e)if(-1===p.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}});var h=z_(e.metrics,this.outputNames);Zy("metric",function(){for(var e=function(e){if(-1!==p.indexOf(e))return"continue";!function(n){for(var r,i,o,a=function(n){if("string"==typeof n&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(n)){var a=t.internalOutputShapes[e];1===a[a.length-1]||t.lossFunctions[e]===dx?-1!==["accuracy","acc"].indexOf(n)?i=wx:-1!==["crossentropy","ce"].indexOf(n)&&(i=Ox):t.lossFunctions[e]===px?-1!==["accuracy","acc"].indexOf(n)?i=Tx:-1!==["crossentropy","ce"].indexOf(n)&&(i=Lx):-1!==["accuracy","acc"].indexOf(n)?i=xx:-1!==["crossentropy","ce"].indexOf(n)&&(i=jx);var s=void 0;-1!==["accuracy","acc"].indexOf(n)?s="acc":-1!==["crossentropy","ce"].indexOf(n)&&(s="ce"),o=i,r=""+s}else{var u=zx(n);o=u,r=""+Bx(n)}var l;Zy(r,function(){l=o}),function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])}(e,r,l)},s=0,u=n;s<u.length;s++)a(u[s])}(h[e])},n=0;n<t.outputs.length;++n)e(n)}),this.collectedTrainableWeights=this.trainableWeights},t.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")},t.prototype.evaluate=function(e,t,n){void 0===n&&(n={});var r=null==n.batchSize?32:n.batchSize;E_(r);var i=this.standardizeUserDataXY(e,t,!0,r);try{var o=i[0].concat(i[1]);this.makeTestFunction();var a=this.testFunction;return sy(this.testLoop(a,o,r,n.verbose,n.steps))}finally{I_(i[0],e),I_(i[1],t)}},t.prototype.evaluateDataset=function(e,t){return Xv(this,void 0,void 0,function(){return Yv(this,function(n){return this.makeTestFunction(),[2,C_(this,e,t)]})})},t.prototype.checkNumSamples=function(e,t,n,r){var i;if(void 0===r&&(r="steps"),null!=n){if(i=null,null!=t)throw new ey("If "+r+" is set, batchSize must be null or undefined.Got batchSize = "+t)}else{if(null==e)throw new ey("Either the input data should have a defined shape, or "+r+" shoud be specified.");i=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return i},t.prototype.execute=function(e,t){if(Array.isArray(t)&&0===t.length)throw new ey("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),r=n?t:[t],i=this.retrieveSymbolicTensors(r),o=new n_;if(e instanceof Vv.b&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new ey("The number of inputs provided ("+e.length+") does not match the number of inputs of this model ("+this.inputs.length+").");for(var a=0;a<this.inputs.length;++a)o.add(this.inputs[a],e[a])}else for(var s=0,u=this.inputs;s<u.length;s++){var l=u[s],c=e[l.name];if(null==c)throw new ey("No value is provided for the model's input "+l.name);o.add(l,c)}var f=a_(i,o);return n?f:f[0]},t.prototype.retrieveSymbolicTensors=function(e){for(var t=iy(null,e.length),n=e.length,r=0,i=this.layers;r<i.length;r++){for(var o=i[r],a=Array.isArray(o.output)?o.output:[o.output],s=a.map(function(e){return e.name}),u=0;u<e.length;++u){var l=s.indexOf(e[u]);if(-1!==l&&(t[u]=a[l],n--),0===n)break}if(0===n)break}if(n>0){var c=[];throw t.forEach(function(t,n){null==t&&c.push(e[n])}),new ey("Cannot find SymbolicTensors for output name(s): "+JSON.stringify(c))}return t},t.prototype.predictLoop=function(e,t,n){var r=this;return void 0===t&&(t=32),void 0===n&&(n=!1),Object(Vv.Wc)(function(){var i=r.checkNumSamples(e);if(n)throw new ty("Verbose predictLoop() is not implemented yet.");for(var o=O_(i,t),a=r.outputs.map(function(e){return[]}),s=function(t){Object(Vv.Wc)(function(){var n=o[t][0],i=o[t][1],a=S_(e,n,i),s=[];if(Array.isArray(a))for(var u=0;u<a.length;++u)s.push({key:r.inputs[u],value:a[u]});else s.push({key:r.inputs[0],value:a});var l=new n_(s);return a_(r.outputs,l)}).forEach(function(e,t){return a[t].push(e)})},u=0;u<o.length;++u)s(u);return sy(a.map(function(e){return Object(Vv.D)(e,0)}))})},t.prototype.predict=function(e,t){void 0===t&&(t={});var n=A_(e);F_(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return E_(r),this.predictLoop(n,r)}finally{I_(n,e)}},t.prototype.predictOnBatch=function(e){F_(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)},t.prototype.standardizeUserDataXY=function(e,t,n,r){if(void 0===n&&(n=!0),null==this.optimizer_)throw new Qv("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var i=[],o=0;o<this.feedOutputShapes.length;++o){var a=this.feedOutputShapes[o];this.feedLossFns[o]===px?i.push(a.slice(0,a.length-1).concat([1])):i.push(a)}if(D_(e=j_(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=j_(t,this.feedOutputNames,i,!1,"target"),null),L_(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&e[0].shape[0]%r!=0)throw new ey("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+r+". Found: "+e[0].shape[0]+" sample(s).");return[e,t]},t.prototype.standardizeUserData=function(e,t,n,r,i,o){return void 0===i&&(i=!0),Xv(this,void 0,void 0,function(){var a,s,u,l,c,f,p,h;return Yv(this,function(d){switch(d.label){case 0:if(a=this.standardizeUserDataXY(e,t,i,o),s=a[0],u=a[1],null!=n)throw new Error("sample weight is not supported yet.");if(l=null,null==r)return[3,4];c=p_(r,this.outputNames),l=[],f=0,d.label=1;case 1:return f<c.length?(h=(p=l).push,[4,h_(u[f],null,c[f])]):[3,4];case 2:h.apply(p,[d.sent()]),d.label=3;case 3:return++f,[3,1];case 4:return[2,[s,u,l]]}})})},t.prototype.testLoop=function(e,t,n,r,i){var o=this;return void 0===r&&(r=0),Object(Vv.Wc)(function(){var a=o.checkNumSamples(t,n,i,"steps"),s=[];if(r>0)throw new ty("Verbose mode is not implemented yet.");if(null!=i)throw new ty("steps mode in testLoop() is not implemented yet");for(var u=O_(a,n),l=Object(Vv.Sc)(sb(0,a)),c=0;c<u.length;++c){var f=u[c][0],p=u[c][1],h=hb(l,f,p-f),d=k_(t,h),m=e(d);if(0===c)for(var g=0;g<m.length;++g)s.push(Object(Vv.nc)(0));for(g=0;g<m.length;++g){var v=m[g];s[g]=Object(Vv.f)(s[g],Object(Vv.Pb)(p-f,v))}}for(g=0;g<s.length;++g)s[g]=Object(Vv.S)(s[g],a);return s})},t.prototype.getDedupedMetricsNames=function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],i=r;ay(e,r)>1&&(i+="_"+ay(e.slice(0,n),r)),t.push(i)}return t},t.prototype.makeTrainFunction=function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),i=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),a=[],s=e.collectedTrainableWeights.map(function(e){return e.read()});return[e.optimizer_.minimize(function(){for(var t=[],s=0;s<e.inputs.length;++s)t.push({key:e.inputs[s],value:r[s]});var u,l=new n_(t),c=a_(e.outputs,l,{training:!0});for(s=0;s<e.lossFunctions.length;++s){var f=(0,e.lossFunctions[s])(i[s],c[s]);null!=o[s]&&(f=d_(f,o[s]));var p=Object(Vv.Jb)(f);n.push(p),u=0===s?f:Object(Vv.f)(u,f)}for(s=0;s<e.metricsTensors.length;++s){var h=void 0;if(e.outputs.length>1&&s<e.outputs.length)h=n[s];else{var d=e.metricsTensors[s][0],m=e.metricsTensors[s][1];h=Object(Vv.Jb)(d(i[m],c[m]))}Object(Vv.rb)(h),a.push(h)}return u=Object(Vv.Jb)(u),e.calculateLosses().forEach(function(e){u=Object(Vv.f)(u,e)}),u},!0,s)].concat(a)}},t.prototype.makeTestFunction=function(){var e=this;this.testFunction=function(t){return Object(Vv.Wc)(function(){for(var n,r=[],i=t.slice(0,e.inputs.length),o=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),a=[],s=0;s<e.inputs.length;++s)a.push({key:e.inputs[s],value:i[s]});var u=new n_(a),l=a_(e.outputs,u);for(s=0;s<e.lossFunctions.length;++s){var c=e.lossFunctions[s],f=Object(Vv.Jb)(c(o[s],l[s]));n=0===s?f:Object(Vv.f)(n,f),r.push(n)}for(s=0;s<e.metricsTensors.length;++s){var p=e.metricsTensors[s][0],h=e.metricsTensors[s][1],d=Object(Vv.Jb)(p(o[h],l[h]));r.push(d)}return r})}},t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),Xv(this,void 0,void 0,function(){return Yv(this,function(r){return[2,N_(this,e,t,n)]})})},t.prototype.fitDataset=function(e,t){return Xv(this,void 0,void 0,function(){return Yv(this,function(n){return[2,b_(this,e,t)]})})},t.prototype.trainOnBatch=function(e,t){return Xv(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,c;return Yv(this,function(f){switch(f.label){case 0:return[4,this.standardizeUserData(e,t)];case 1:n=f.sent(),r=n[0],i=n[1],o=this.makeTrainFunction(),a=o(r.concat(i)),s=[],u=0,l=a,f.label=2;case 2:return u<l.length?[4,l[u].data()]:[3,5];case 3:c=f.sent(),s.push(c[0]),f.label=4;case 4:return u++,[3,2];case 5:return Object(Vv.R)(a),[2,sy(s)]}})})},t.prototype.getNamedWeights=function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,i=this.getWeights(n),o=0;o<r.length;++o)n&&!r[o].trainable||t.push({name:r[o].originalName,tensor:i[o]});return t},Object.defineProperty(t.prototype,"stopTraining",{get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"optimizer",{get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=e.prototype.dispose.call(this);if(0===t.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var n=Object(Vv.Kb)().numTensors;this.optimizer_.dispose(),t.numDisposedVariables+=n-Object(Vv.Kb)().numTensors}return t},t.prototype.getLossIdentifiers=function(){var e;if("string"==typeof this.loss)e=ly(this.loss);else if(Array.isArray(this.loss)){for(var t=0,n=this.loss;t<n.length;t++)if("string"!=typeof n[t])throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(function(e){return ly(e)})}else{var r=Object.keys(this.loss);e={};for(var i=this.loss,o=0,a=r;o<a.length;o++){var s=a[o];if("string"!=typeof i[s])throw new Error("Serialization of non-string loss is not supported.");e[s]=ly(i[s])}}return e},t.prototype.getMetricIdentifiers=function(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[ly(Bx(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(function(e){return ly(Bx(e))});var e={};for(var t in this.metrics)e[t]=ly(Bx(this.metrics[t]));return e},t.prototype.getTrainingConfig=function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}},t.prototype.loadTrainingConfig=function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=tx(Jx(e.optimizer_config));if("string"==typeof e.loss)t=cy(e.loss);else if(Array.isArray(e.loss))t=e.loss.map(function(e){return cy(e)});else if(null!=e.loss)for(var i in t={},e.loss)t[i]=cy(e.loss[i]);if(Array.isArray(e.metrics))n=e.metrics.map(function(e){return cy(e)});else if(null!=e.metrics)for(var i in n={},e.metrics)n[i]=cy(e.metrics[i]);this.compile({loss:t,metrics:n,optimizer:r})},t.prototype.save=function(e,t){return Xv(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,c,f,p,h,d,m;return Yv(this,function(g){switch(g.label){case 0:if("string"==typeof e){if(0===(n=Vv.pb.getSaveHandlers(e)).length)throw new ey("Cannot find any save handlers for URL '"+e+"'");if(n.length>1)throw new ey("Found more than one ("+n.length+") save handlers for URL '"+e+"'");e=n[0]}if(null==e.save)throw new ey("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[4,Vv.pb.encodeWeights(this.getNamedWeights(t))];case 1:return r=g.sent(),i=!1,o=null,a=this.toJSON(o,i),s={modelTopology:a,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v1.7.0",convertedBy:null},null!=t&&t.includeOptimizer&&null!=this.optimizer?(s.trainingConfig=this.getTrainingConfig(),u="optimizer",h=(p=Vv.pb).encodeWeights,[4,this.optimizer.getWeights()]):[3,4];case 2:return[4,h.apply(p,[g.sent(),u])];case 3:l=g.sent(),c=l.data,f=l.specs,(m=r.specs).push.apply(m,f),r.data=Vv.pb.concatenateArrayBuffers([r.data,c]),g.label=4;case 4:return null!=this.userDefinedMetadata&&(d=!0,Vx(this.userDefinedMetadata,this.name,d),s.userDefinedMetadata=this.userDefinedMetadata),s.weightData=r.data,s.weightSpecs=r.specs,[2,e.save(s)]}})})},t.prototype.setUserDefinedMetadata=function(e){Vx(e,this.name),this.userDefinedMetadata=e},t.prototype.getUserDefinedMetadata=function(){return this.userDefinedMetadata},t.className="Model",t}(function(e){function t(n){var r=e.call(this,{})||this;if(r.containerNodes=new Set,r.name=n.name,null==r.name){var i=r.getClassName().toLowerCase();r.name=ww(i)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(n.inputs)?r.inputs=n.inputs.slice():r.inputs=[n.inputs],Array.isArray(n.outputs)?r.outputs=n.outputs.slice():r.outputs=[n.outputs],vy(r.inputs).length!==r.inputs.length)throw new ey("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+r.inputs.map(function(e){return e.name}));vy(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+r.outputs.map(function(e){return e.name})),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];for(var o=0,a=r.outputs;o<a.length;o++){var s=(k=a[o]).sourceLayer,u=k.nodeIndex,l=k.tensorIndex;r.outputLayers.push(s),r.outputLayersNodeIndices.push(u),r.outputLayersTensorIndices.push(l)}for(var c=0,f=r.inputs;c<f.length;c++)s=(k=f[c]).sourceLayer,u=k.nodeIndex,l=k.tensorIndex,oy(0===u,"input layer has >1 nodes"),oy(0===l,"input layer has >1 tensors"),r.inputLayers.push(s),r.inputLayersNodeIndices.push(u),r.inputLayersTensorIndices.push(l);r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var p=0;p<r.inputLayers.length;p++){if(!((s=r.inputLayers[p])instanceof Uw))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. Received inputs: "+n.inputs+". Input "+p+" (0-based) originates from layer type "+s.getClassName()+".");r.inputNames.push(s.name),r.feedInputShapes.push(s.batchInputShape),r.feedInputNames.push(s.name)}for(var h=0,d=r.outputLayers;h<d.length;h++)s=d[h],r.outputNames.push(s.name);r.internalInputShapes=r.inputs.map(function(e){return e.shape}),r.internalOutputShapes=r.outputs.map(function(e){return e.shape});for(var m={},g={},v={},y={},b={},w=[],x=function(e,n,i,o,a,s){null!=o&&null!=a&&null!=s||(o=e.sourceLayer,a=e.nodeIndex,s=e.tensorIndex);var u=o.inboundNodes[a];if(-1!==i.indexOf(u))throw new Qv("The tensor "+e.name+' at layer "'+o.name+'" is part of a cycle.');if(-1===n.indexOf(u)){r.containerNodes.add(t.nodeKey(o,a)),o.id in b||(b[o.id]=Object.keys(b).length),-1===i.indexOf(u)&&i.push(u);for(var l=u.inboundLayers.length,c=0;c<l;c++){var f=u.inputTensors[c],p=u.inboundLayers[c],h=u.nodeIndices[c],d=u.tensorIndices[c];x(f,n,i,p,h,d)}for(n.push(u);i.indexOf(u)>=0;)i.splice(i.indexOf(u),1);w.push(u)}},_=[],C=[],E=0,S=r.outputs;E<S.length;E++){var k=S[E];x(k,_,C)}for(var O=0,T=w.slice().reverse();O<T.length;O++){g[(Z=T[O]).id]=Z,Z.id in m||(m[Z.id]=0);var N=m[Z.id],A=null==v[Z.outboundLayer.id]?0:v[Z.outboundLayer.id];for(N=Math.max(N,A),v[Z.outboundLayer.id]=N,y[Z.outboundLayer.id]=Z.outboundLayer,m[Z.id]=N,p=0;p<Z.inboundLayers.length;p++){var I=Z.inboundLayers[p],R=(u=Z.nodeIndices[p],I.inboundNodes[u]),P=null==m[R.id]?0:m[R.id];m[R.id]=Math.max(N+1,P),g[R.id]=R}}var M={};for(var j in m)(N=m[j])in M||(M[N]=[]),M[N].push(g[j]);var D={};for(var L in v)(N=v[L])in D||(D[N]=[]),D[N].push(y[L]);var F=Object.keys(D).map(function(e){return parseInt(e,10)}).sort(gy);r.layers=[];for(var z=0,B=F;z<B.length;z++){var U=D[N=B[z]];U.sort(function(e,t){var n=b[e.id],r=b[t.id];return n<r?-1:n>r?1:0});for(var W=0,V=U;W<V.length;W++)(s=V[W])instanceof t&&r.internalContainerRefs.push(s),r.layers.push(s)}r.layersByDepth=D,F=Object.keys(M).map(function(e){return parseInt(e,10)}).sort(gy);for(var H=r.inputs.slice(),G=[],q=0,K=F;q<K.length;q++)for(var X=0,Y=M[N=K[q]];X<Y.length;X++){var Z;if(null!=(s=(Z=Y[X]).outboundLayer)){for(var $=0,J=Z.inputTensors;$<J.length;$++)if(k=J[$],-1===H.indexOf(k))throw new Qv("Graph disconnected: cannot obtain value for tensor "+k+' at layer "'+s.name+'". The following previous layers were accessed without issue: '+G);for(var Q=0,ee=Z.outputTensors;Q<ee.length;Q++)k=ee[Q],H.push(k);G.push(s.name)}}r.nodesByDepth=M;for(var te=r.layers.map(function(e){return e.name}),ne=function(e){var t=te.filter(function(t){return t===e}).length;if(1!==t)throw new Qv('The name "'+e+'" is used '+t+" times in the model. All layer names should be unique. Layer names: "+JSON.stringify(te))},re=0,ie=te;re<ie.length;re++)ne(ie[re]);return r.outboundNodes=[],r.inboundNodes=[],new Mw({outboundLayer:r,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map(function(e){return null}),outputMasks:r.outputs.map(function(e){return null}),inputShapes:r.inputs.map(function(e){return e.shape}),outputShapes:r.outputs.map(function(e){return e.shape})}),r.built=!0,r._refCount=1,r}return Gv(t,e),t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Container '"+this.name+"' is already disposed.")},t.prototype.dispose=function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(var t=0,n=this.layers;t<n.length;t++){var r=n[t];e.numDisposedVariables+=r.dispose().numDisposedVariables}for(var i=0,o=this.internalContainerRefs;i<o.length;i++){var a=o[i];e.numDisposedVariables+=a.dispose().numDisposedVariables}}return e.refCountAfterDispose=this._refCount,e},Object.defineProperty(t.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this.layers.forEach(function(t){t._trainableWeights.forEach(function(t){return t.trainable=e})}),this.trainable_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){if(this._trainableWeights.length>0)throw new ey("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e=e.concat(r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],o=0,a=this.layers;o<a.length;o++)r=a[o],i.push.apply(i,r.trainableWeights);return i.concat(e)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.loadWeights=function(e,t){void 0===t&&(t=!0);for(var n={},r=0,i=0,o=this.layers;i<o.length;i++)for(var a=0,s=o[i].weights;a<s.length;a++){var u=s[a];if(null!=n[u.originalName])throw new ey("Duplicate weight name: "+u.originalName);n[u.originalName]=u,r++}var l=[];for(var c in e){if(null!=n[c])l.push([n[c],e[c]]);else if(t)throw new ey("Provided weight data has no target variable: "+c);delete n[c]}if(t){var f=[];for(var p in n)f.push(p);if(f.length>0)throw new ey(f.length+" of "+r+" weights are not set: "+f)}Aw(l)},t.prototype.updatedConfig=function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers 1.7.0",t.backend="TensorFlow.js",t},t.prototype.toJSON=function(e,t){void 0===t&&(t=!0);var n=Qx(this.updatedConfig());return t?JSON.stringify(n):n},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){e=uy(e);for(var r=new n_,i=0;i<n.inputs.length;++i)r.add(n.inputs[i],e[i]);return a_(n.outputs,r,t)})},t.prototype.computeMask=function(e,t){var n=this;return Object(Vv.Wc)(function(){var r;return e=uy(e),r=null==t?iy(null,e.length):uy(t),n.runInternalGraph(e,r)[1]})},t.prototype.computeOutputShape=function(e){var t=_w(e);if(t.length!==this.inputLayers.length)throw new ey("Invalid inputShape argument "+e+": model has "+this.inputLayers.length+" tensor inputs.");for(var n={},r=0;r<t.length;r++){var i=this.inputLayers[r],o=t[r];n[C=i.name+"_0_0"]=o}var a=Object.keys(this.nodesByDepth).map(function(e){return parseInt(e,10)}).sort(gy);if(a.length>1)for(var s=0,u=a;s<u.length;s++)for(var l=u[s],c=0,f=this.nodesByDepth[l];c<f.length;c++){var p=f[c];if(i=p.outboundLayer,-1===this.inputLayers.map(function(e){return e.id}).indexOf(i.id)){for(var h=[],d=0;d<p.inboundLayers.length;d++){var m=p.inboundLayers[d],g=p.nodeIndices[d],v=p.tensorIndices[d],y=n[C=m.name+"_"+g+"_"+v];h.push(y)}var b=_w(i.computeOutputShape(sy(h))),w=i.inboundNodes.indexOf(p);for(d=0;d<b.length;d++)n[C=i.name+"_"+w+"_"+d]=b[d]}}var x=[],_=[];for(r=0;r<this.outputLayers.length;r++){i=this.outputLayers[r],w=this.outputLayersNodeIndices[r],v=this.outputLayersTensorIndices[r];var C=i.name+"_"+w+"_"+v;_.push(C)}for(r=0;r<_.length;r++){var E=_[r];oy(E in n),x.push(n[E])}return sy(x)},t.prototype.runInternalGraph=function(e,t){null==t&&(t=iy(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var i=this.inputs[r],o=e[r],a=t[r];n[i.id]=[o,a]}for(var s=0,u=Object.keys(this.nodesByDepth).map(function(e){return parseInt(e,10)}).sort(gy);s<u.length;s++)for(var l=u[s],c=0,f=this.nodesByDepth[l];c<f.length;c++){for(var p=f[c],h=p.outboundLayer,d=p.inputTensors,m=p.outputTensors,g=new Array,v=0,y=d;v<y.length;v++)(i=y[v]).id in n&&g.push(n[i.id]);if(g.length===d.length){var b={},w=void 0,x=void 0,_=void 0,C=void 0;if(null!=p.callArgs&&(b=p.callArgs),1===g.length){var E=g[0],S=E[0],k=E[1];null==b.mask&&(b.mask=k),_=uy(h.call(S,b)),C=uy(h.computeMask(S,k)),w=[S],x=[k]}else w=g.map(function(e){return e[0]}),x=g.map(function(e){return e[1]}),null==b.mask&&(b.mask=x),_=uy(h.call(w,b)),C=uy(h.computeMask(w,x));if(h.activityRegularizer)throw new ty("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(r=0;r<m.length;++r)i=m[r],o=_[r],a=C[r],n[i.id]=[o,a]}}for(var O=[],T=[],N=[],A=0,I=this.outputs;A<I.length;A++){oy((i=I[A]).id in n,"Could not compute output "+i.name+" : "+i.id);var R=n[i.id],P=R[0];a=R[1],N.push(P.shape),O.push(P),T.push(a)}return[O,T,N]},t.prototype.buildNodeConversionMap=function(e){for(var n,r={},i=0,o=this.layers;i<o.length;i++){var a=o[i];n=a instanceof t?1:0;for(var s=0;s<a.inboundNodes.length;s++){var u=t.nodeKey(a,s);this.containerNodes.has(u)&&(r[u]=n,n+=1)}}return r},t.prototype.getLayer=function(e,t){if(null!=t){if(this.layers.length<=t)throw new ey("Was asked to retrieve layer at index "+t+", but model only has "+this.layers.length+" layer(s).");return this.layers[t]}if(null==e)throw new ey("Provide either a layer name or layer index");for(var n=0,r=this.layers;n<r.length;n++){var i=r[n];if(i.name===e)return i}throw new ey("No such layer: "+e)},t.prototype.calculateLosses=function(){var e=this;return Object(Vv.Wc)(function(){for(var n=[],r=0,i=e.layers;r<i.length;r++)for(var o=i[r],a=0;a<o.inboundNodes.length;++a){var s=t.nodeKey(o,a);e.containerNodes.has(s)&&n.push.apply(n,o.calculateLosses())}return n})},t.prototype.getConfig=function(){for(var e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],i=0,o=this.layers;i<o.length;i++){for(var a=(w=o[i]).getClassName(),s=w.getConfig(),u=[],l=0;l<w.inboundNodes.length;l++){var c=w.inboundNodes[l],f=t.nodeKey(w,l),p={};if(this.containerNodes.has(f)){if(c.callArgs)try{JSON.stringify(c.callArgs),p=c.callArgs}catch(e){console.warn("Layer "+w.name+" was passed non-serializable keyword arguments: "+c.callArgs+". They will not be included in the serialized model (and thus will be missing at deserialization time)."),p={}}if(c.inboundLayers.length>0){for(var h=[],d=0;d<c.inboundLayers.length;d++){var m=c.inboundLayers[d],g=c.nodeIndices[d],v=c.tensorIndices[d];null==(_=n[t.nodeKey(m,g)])&&(_=0),h.push([m.name,_,v,p])}u.push(h)}}}var y={};y.name=w.name,y.className=a,y.config=s,y.inboundNodes=u,r.push(y)}e.layers=r;var b=[];for(d=0;d<this.inputLayers.length;d++){var w=this.inputLayers[d];g=this.inputLayersNodeIndices[d],f=t.nodeKey(w,g),this.containerNodes.has(f)&&(null!==(_=n[f])&&void 0!==_||(_=0),v=this.inputLayersTensorIndices[d],b.push([w.name,_,v]))}e.inputLayers=b;var x=[];for(d=0;d<this.outputLayers.length;d++){var _;if(w=this.outputLayers[d],g=this.outputLayersNodeIndices[d],f=t.nodeKey(w,g),this.containerNodes.has(f))null!==(_=n[f])&&void 0!==_||(_=0),v=this.outputLayersTensorIndices[d],x.push([w.name,_,v])}return e.outputLayers=x,e},t.fromConfig=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var i={},o={};function a(e,t){e.name in o?o[e.name].push(t):o[e.name]=[t]}function s(e,t){for(var n,r=[],o=0,s=t;o<s.length;o++){var u=s[o],l=u[0],c=u[1],f=u[2];if(n=null==u[3]?{}:u[3],!(l in i))return void a(e,t);var p=i[l];if(p.inboundNodes.length<=c)return void a(e,t);var h=p.inboundNodes[c];r.push(h.outputTensors[f])}r.length>0&&e.apply(sy(r),n)}function u(e){var n=e.name,o=tx(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(r),i[n]=o,e.inboundNodes.forEach(function(e){if(!(e instanceof Array))throw new ey("Corrupted configuration, expected array for nodeData: "+e);a(o,e)})}for(var l=t.name,c=t.layers,f=0,p=c;f<p.length;f++)u(m=p[f]);for(;!yy(o);)for(var h=0,d=c;h<d.length;h++){var m=d[h];if((N=i[m.name]).name in o){var g=o[N.name];delete o[N.name];for(var v=0,y=g;v<y.length;v++)s(N,y[v])}}for(var b=[],w=[],x=0,_=t.inputLayers;x<_.length;x++){var C=(m=_[x])[0],E=m[1],S=m[2];oy(C in i);var k=(N=i[C]).inboundNodes[E].outputTensors;b.push(k[S])}for(var O=0,T=t.outputLayers;O<T.length;O++){var N;C=(m=T[O])[0],E=m[1],S=m[2],oy(C in i),k=(N=i[C]).inboundNodes[E].outputTensors,w.push(k[S])}return new e({inputs:b,outputs:w,name:l})},Object.defineProperty(t.prototype,"stateful",{get:function(){if(this._stateful)throw new ey("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(var e=0,t=this.layers;e<t.length;e++)if(t[e].stateful)return!0;return!1},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){var e=this;Object(Vv.Wc)(function(){e.layers.forEach(function(e){e.stateful&&e.resetStates()})})},t}(Dw));function W_(e,t){return Xv(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l;return Yv(this,function(c){switch(c.label){case 0:return"modelTopology"in e||(e={modelTopology:e}),null!=(n=(e=e).modelTopology).model_config&&(n=n.model_config),r=Jx(n),i=tx(r,t),null==e.weightsManifest?[3,2]:[4,Vv.pb.loadWeights(e.weightsManifest,e.pathPrefix,i.weights.map(function(e){return e.originalName}))];case 1:for(o=c.sent(),a={},s=0,u=i.weights;s<u.length;s++)l=u[s],a[l.originalName]=o[l.originalName];i.loadWeights(a),Object(Vv.R)(o),c.label=2;case 2:return[2,i]}})})}function V_(e,t){return Xv(this,void 0,void 0,function(){var n;return Yv(this,function(r){if(null==t&&(t={}),"string"==typeof e){if(0===(n=Vv.pb.getLoadHandlers(e,t.onProgress)).length)n.push(Vv.pb.browserHTTPRequest(e,t));else if(n.length>1)throw new ey("Found more than one ("+n.length+") load handlers for URL '"+e+"'");e=n[0]}return[2,H_(e,void 0,t)]})})}function H_(e,t,n){return Xv(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c,f;return Yv(this,function(p){switch(p.label){case 0:if(null==n&&(n={}),null==e.load)throw new ey("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,e.load()];case 1:if(r=p.sent(),null!=(i=r.modelTopology).model_config&&(i=i.model_config),o=null==n.strict||n.strict,a=null!=r.weightData&&null!=r.weightSpecs&&o,s=tx(Jx(i),t,a),null!=(u=r.trainingConfig)&&s.loadTrainingConfig(u),null!=r.userDefinedMetadata&&s.setUserDefinedMetadata(r.userDefinedMetadata),null==r.weightData)return[3,4];if(null==r.weightSpecs)throw new ey("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");return l=G_(r.weightData,r.weightSpecs),c=l.modelWeights,f=l.optimizerWeights,s.loadWeights(c,o),null!=s.optimizer&&f.length>0?[4,s.optimizer.setWeights(f)]:[3,3];case 2:p.sent(),p.label=3;case 3:Object(Vv.R)(c),Object(Vv.R)(f.map(function(e){return e.tensor})),p.label=4;case 4:return[2,s]}})})}function G_(e,t){var n=Vv.pb.decodeWeights(e,t),r={},i=[];return t.forEach(function(e){"optimizer"===e.group?i.push({name:e.name,tensor:n[e.name]}):r[e.name]=n[e.name]}),{modelWeights:r,optimizerWeights:i}}Vv.rc.registerClass(U_);var q_=function(e){function t(t){var n=e.call(this,{inputs:[],outputs:[]})||this;if(t=t||{},n.trainable=!0,n.built=!1,n.name=null!=t.name?t.name:ww("sequential_"),null!=t.layers)for(var r=0,i=t.layers;r<i.length;r++){var o=i[r];n.add(o)}return n}return Gv(t,e),t.prototype.checkShape=function(e){if(e.inboundNodes[0].outputTensors[0].shape.some(function(e){return e<0}))throw new ey("Negative dimension size caused by adding layer "+e.name+" with input shape ["+e.inboundNodes[0].inputTensors[0].shape+"]")},t.prototype.add=function(e){var n,r=e instanceof t||e instanceof U_;if(r){if(1!==(n=e).outputs.length)throw new ey("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new ey("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new ey("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var i=Vw({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(i)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new ey("A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer "+e.name+" which has "+e.inboundNodes.length+" pre-existing inbound connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new ey("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=zw(this.outputs[0])}this.inboundNodes=[],new Mw({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:iy(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(function(e){return e.shape}),outputShapes:this.outputs[0].shape})}else{var o=e.apply(this.outputs[0]);if(Array.isArray(o))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[o],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1},t.prototype.pop=function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}},t.prototype.call=function(e,t){return null==this.model&&this.build(),this.model.call(e,t)},t.prototype.build=function(e){if(Ew(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new U_({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0},t.prototype.countParams=function(){return this.built||this.build(),e.prototype.countParams.call(this)},t.prototype.summary=function(t,n,r){void 0===r&&(r=console.log),this.built||this.build(),e.prototype.summary.call(this,t,n,r)},t.prototype.setWeights=function(e){null==this.model&&this.build(),this.model.setWeights(e)},t.prototype.evaluate=function(e,t,n){if(void 0===n&&(n={}),!this.built)throw new Qv("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)},t.prototype.evaluateDataset=function(e,t){return Xv(this,void 0,void 0,function(){return Yv(this,function(n){if(!this.built)throw new Qv("The model needs to be compiled before being used.");return[2,this.model.evaluateDataset(e,t)]})})},t.prototype.predict=function(e,t){return void 0===t&&(t={}),null==this.model&&this.build(),this.model.predict(e,t)},t.prototype.predictOnBatch=function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)},t.prototype.compile=function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames},Object.defineProperty(t.prototype,"optimizer",{get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e},enumerable:!0,configurable:!0}),t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),Xv(this,void 0,void 0,function(){return Yv(this,function(r){if(!this.built)throw new Qv("The model needs to be compiled before being used.");return[2,this.model.fit(e,t,n)]})})},t.prototype.fitDataset=function(e,t){return Xv(this,void 0,void 0,function(){return Yv(this,function(n){if(!this.built)throw new Qv("The model needs to be compiled before being used.");return[2,this.model.fitDataset(e,t)]})})},t.prototype.trainOnBatch=function(e,t){return Xv(this,void 0,void 0,function(){return Yv(this,function(n){return[2,this.model.trainOnBatch(e,t)]})})},t.fromConfig=function(e,n,r,i){var o;void 0===r&&(r={}),void 0===i&&(i=!1);var a={};if(n instanceof Array){if(null==n[0].className||"Merge"===n[0].className)throw new ey("Legacy serialization format not supported yet.");o=n}else Vv.dd.assert(null!=n.layers,function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."}),o=n.layers,delete n.layers,a=n;var s=new e(a);if(!(s instanceof t))throw new ty("Sequential.fromConfig called on non-Sequential input: "+s);for(var u=0,l=o;u<l.length;u++){var c=tx(l[u],void 0,i);i&&c.setFastWeightInitDuringBuild(!0),s.add(c)}return s},Object.defineProperty(t.prototype,"stopTraining",{get:function(){if(null==this.model)throw new ey("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new ey("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t],i={};i.className=r.getClassName(),i.config=r.getConfig(),e.push(i)}return{name:this.name,layers:e}},t.className="Sequential",t}(U_);function K_(e){return new U_(e)}function X_(e){return new q_(e)}function Y_(e,t){return null==t&&(t={}),V_(e,t)}function Z_(e){return Vw(e)}function $_(e,t){Qw.registerCallbackConstructor(e,t)}Vv.rc.registerClass(q_);var J_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.getConfig=function(){return{}},t}(Vv.rc.Serializable),Q_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=1),Sb(e,t)},t.className="elu",t}(J_);Vv.rc.registerClass(Q_);var eC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e){return Object(Vv.pc)(e)},t.className="selu",t}(J_);Vv.rc.registerClass(eC);var tC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e){return Object(Vv.hc)(e)},t.className="relu",t}(J_);Vv.rc.registerClass(tC);var nC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e){return Object(Vv.Wc)(function(){return Object(Vv.Mb)(6,Object(Vv.hc)(e))})},t.className="relu6",t}(J_);Vv.rc.registerClass(nC);var rC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e){return e},t.className="linear",t}(J_);Vv.rc.registerClass(rC);var iC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e){return Object(Vv.tc)(e)},t.className="sigmoid",t}(J_);Vv.rc.registerClass(iC);var oC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e){return Tb(e)},t.className="hardSigmoid",t}(J_);Vv.rc.registerClass(oC);var aC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e){return Object(Vv.Dc)(e)},t.className="softplus",t}(J_);Vv.rc.registerClass(aC);var sC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e){return kb(e)},t.className="softsign",t}(J_);Vv.rc.registerClass(sC);var uC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e){return Object(Vv.Qc)(e)},t.className="tanh",t}(J_);Vv.rc.registerClass(uC);var lC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),Object(Vv.Cc)(e,t)},t.className="softmax",t}(J_);Vv.rc.registerClass(lC);var cC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),Object(Vv.Ab)(e,t)},t.className="logSoftmax",t}(J_);function fC(e){return e.getClassName()}function pC(e,t){return void 0===t&&(t={}),dy(e,Vv.rc.SerializationMap.getMap().classNameMap,t,"activation")}function hC(e){var t;return null==e?pC(t={className:"linear",config:{}}):"string"==typeof e?((t={}).className=e,t.config={},pC(t)):e instanceof J_?e:pC(e)}function dC(e){if(null!=e&&"object"!=typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an object, but received: "+e)}Vv.rc.registerClass(cC);var mC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t}(Vv.rc.Serializable),gC=function(e){function t(t){var n=e.call(this)||this;return dC(t),n.l1=null==t||null==t.l1?.01:t.l1,n.l2=null==t||null==t.l2?.01:t.l2,n.hasL1=0!==n.l1,n.hasL2=0!==n.l2,n}return Gv(t,e),t.prototype.apply=function(e){var t=this;return Object(Vv.Wc)(function(){var n=Object(Vv.id)([1]);return t.hasL1&&(n=Object(Vv.f)(n,Object(Vv.Oc)(Object(Vv.Pb)(t.l1,Object(Vv.c)(e))))),t.hasL2&&(n=Object(Vv.f)(n,Object(Vv.Oc)(Object(Vv.Pb)(t.l2,_b(e))))),n.asScalar()})},t.prototype.getConfig=function(){return{l1:this.l1,l2:this.l2}},t.fromConfig=function(e,t){return new e({l1:t.l1,l2:t.l2})},t.className="L1L2",t}(mC);function vC(e){return dC(e),new gC({l1:null!=e?e.l1:null,l2:0})}function yC(e){return dC(e),new gC({l2:null!=e?e.l2:null,l1:0})}Vv.rc.registerClass(gC);var bC={l1l2:"L1L2"};function wC(e){return py(e)}function xC(e,t){return void 0===t&&(t={}),dy(e,Vv.rc.SerializationMap.getMap().classNameMap,t,"regularizer")}function _C(e){return null==e?null:"string"==typeof e?xC({className:e in bC?bC[e]:e,config:{}}):e instanceof mC?e:xC(e)}var CC=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,null!=t&&(n.maxValue=t.maxValue),n}return Gv(t,e),t.prototype.call=function(e,t){e=Cw(e);var n=Object(Vv.hc)(e);return null!=this.maxValue&&(n=Object(Vv.B)(n,0,this.maxValue)),n},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={maxValue:this.maxValue},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ReLU",t}(Dw);Vv.rc.registerClass(CC);var EC=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_ALPHA=.3,null==t&&(t={}),n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return Gv(t,e),t.prototype.call=function(e,t){var n=Cw(e);return Object(Vv.sb)(n,this.alpha)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LeakyReLU",t}(Dw);Vv.rc.registerClass(EC);var SC=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA_INITIALIZER="zeros",null==t&&(t={}),n.supportsMasking=!0,n.alphaInitializer=ew(t.alphaInitializer||n.DEFAULT_ALPHA_INITIALIZER),n.alphaRegularizer=_C(t.alphaRegularizer),n.alphaConstraint=My(t.alphaConstraint),null==t.sharedAxes)n.sharedAxes=null;else if(Array.isArray(t.sharedAxes))n.sharedAxes=t.sharedAxes;else{if("number"!=typeof t.sharedAxes)throw new ey("Expected sharedAxes to be a number or an array of numbers, but got "+t.sharedAxes);n.sharedAxes=[t.sharedAxes]}return n}return Gv(t,e),t.prototype.build=function(e){var t=(e=Ew(e)).slice(1);if(null!=this.sharedAxes)for(var n=0,r=this.sharedAxes;n<r.length;n++)t[(o=r[n])-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var i={};if(null!=this.sharedAxes)for(var o=1;o<e.length;++o)i[o]=e[o];this.inputSpec=[new Iw({ndim:e.length,axes:i})],this.built=!0},t.prototype.call=function(e,t){return e=Cw(e),Object(Vv.ac)(e,this.alpha.read())},t.prototype.getConfig=function(){var t={alphaInitializer:Qb(this.alphaInitializer),alphaRegularizer:wC(this.alphaRegularizer),alphaConstraint:Ry(this.alphaConstraint),sharedAxes:this.sharedAxes},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="PReLU",t}(Dw);Vv.rc.registerClass(SC);var kC=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA=1,null==t&&(t={}),null!=t.alpha&&t.alpha!==n.DEFAULT_ALPHA)throw new ty("Non-default alpha value ("+t.alpha+") is not supported by the ELU layer yet.");return n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return Gv(t,e),t.prototype.call=function(e,t){var n=Cw(e);return Object(Vv.V)(n)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ELU",t}(Dw);Vv.rc.registerClass(kC);var OC=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_THETA=1,null==t&&(t={}),n.theta=null==t.theta?n.DEFAULT_THETA:t.theta,n}return Gv(t,e),t.prototype.call=function(e,t){var n=Cw(e);return n.mul(ub(n.greater(this.theta),"float32"))},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={theta:this.theta},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ThresholdedReLU",t}(Dw);Vv.rc.registerClass(OC);var TC=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_AXIS=1,null==t&&(t={}),n.softmax=(new lC).apply,n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n}return Gv(t,e),t.prototype.call=function(e,t){var n=Cw(e);return this.softmax(n,this.axis)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Softmax",t}(Dw);function NC(e,t,n){if("number"==typeof e)return iy(e,t);if(e.length!==t)throw new ey("The "+n+" argument must be an integer or tuple of "+t+" integers. Received: "+e.length+" elements.");for(var r=0;r<t;++r){var i=e[r];if(!nb(i))throw new ey("The "+n+" argument must be an integer or tuple of "+t+" integers. Received: "+JSON.stringify(e)+" including a non-integer number "+i)}return e}function AC(e,t,n,r,i){return void 0===i&&(i=1),null==e?e:(o="same"===n?e:e-(t+(t-1)*(i-1))+1,Math.floor((o+r-1)/r));var o}function IC(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+ab([n-t,0]);else{if("same"!==r)throw new ey("Unsupport padding mode: "+r+".");e*=t}return e}function RC(e,t){return Object(Vv.Wc)(function(){return Gy(t),"channelsFirst"===t?Object(Vv.ad)(e,[0,2,3,1]):e})}function PC(e,t){return Object(Vv.Wc)(function(){return Gy(t),"channelsFirst"===t?Object(Vv.ad)(e,[0,2,3,4,1]):e})}function MC(e,t,n,r,i,o,a){return void 0===r&&(r=1),void 0===i&&(i="valid"),void 0===a&&(a=1),Object(Vv.Wc)(function(){if(null==o&&(o="channelsLast"),Gy(o),3!==e.shape.length)throw new ey("The input of a conv1dWithBias operation should be 3, but is "+e.shape.length+" instead.");if(3!==t.shape.length)throw new ey("The kernel for a conv1dWithBias operation should be 3, but is "+t.shape.length+" instead");if(null!=n&&1!==n.shape.length)throw new ey("The bias for a conv1dWithBias operation should be 1, but is "+t.shape.length+" instead");if("channelsFirst"===o&&(e=Object(Vv.ad)(e,[0,2,1])),"causal"===i)throw new ty("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=Object(Vv.I)(e,t,r,"same"===i?"same":"valid","NWC",a);return null!=n&&(s=Eb(s,n)),s})}function jC(e,t,n,r,i,o,a,s){return void 0===r&&(r=[1,1]),void 0===i&&(i="valid"),void 0===s&&(s=null),Object(Vv.Wc)(function(){if(null==o&&(o="channelsLast"),Gy(o),3!==e.rank&&4!==e.rank)throw new ey("conv2dWithBiasActivation expects input to be of rank 3 or 4, but received "+e.rank+".");if(3!==t.rank&&4!==t.rank)throw new ey("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received "+e.rank+".");var u=RC(e,o);if("causal"===i)throw new ty("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return u=Vv.hb.conv2d({x:u,filter:t,strides:r,pad:"same"===i?"same":"valid",dilations:a,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===o&&(u=Object(Vv.ad)(u,[0,3,1,2])),u})}function DC(e,t,n,r,i,o,a){return void 0===r&&(r=[1,1,1]),void 0===i&&(i="valid"),Object(Vv.Wc)(function(){if(null==o&&(o="channelsLast"),Gy(o),4!==e.rank&&5!==e.rank)throw new ey("conv3dWithBias expects input to be of rank 4 or 5, but received "+e.rank+".");if(4!==t.rank&&5!==t.rank)throw new ey("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+e.rank+".");var s=PC(e,o);if("causal"===i)throw new ty("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=Object(Vv.L)(s,t,r,"same"===i?"same":"valid","NDHWC",a),null!=n&&(s=Eb(s,n)),"channelsFirst"===o&&(s=Object(Vv.ad)(s,[0,4,1,2,3])),s})}Vv.rc.registerClass(TC);var LC=function(e){function t(n,r){var i=e.call(this,r)||this;if(i.bias=null,i.DEFAULT_KERNEL_INITIALIZER="glorotNormal",i.DEFAULT_BIAS_INITIALIZER="zeros",t.verifyArgs(r),i.rank=n,xy(i.rank,"rank"),1!==i.rank&&2!==i.rank&&3!==i.rank)throw new ty("Convolution layer for rank other than 1, 2, or 3 ("+i.rank+") is not implemented yet.");if(i.kernelSize=NC(r.kernelSize,n,"kernelSize"),i.strides=NC(null==r.strides?1:r.strides,n,"strides"),i.padding=null==r.padding?"valid":r.padding,qy(i.padding),i.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,Gy(i.dataFormat),i.activation=hC(r.activation),i.useBias=null==r.useBias||r.useBias,i.biasInitializer=ew(r.biasInitializer||i.DEFAULT_BIAS_INITIALIZER),i.biasConstraint=My(r.biasConstraint),i.biasRegularizer=_C(r.biasRegularizer),i.activityRegularizer=_C(r.activityRegularizer),i.dilationRate=NC(null==r.dilationRate?1:r.dilationRate,n,"dilationRate"),1===i.rank&&Array.isArray(i.dilationRate)&&1!==i.dilationRate.length)throw new ey("dilationRate must be a number or an array of a single number for 1D convolution, but received "+JSON.stringify(i.dilationRate));if(2===i.rank){if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate];else if(2!==i.dilationRate.length)throw new ey("dilationRate must be a number or array of two numbers for 2D convolution, but received "+JSON.stringify(i.dilationRate))}else if(3===i.rank)if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate,i.dilationRate];else if(3!==i.dilationRate.length)throw new ey("dilationRate must be a number or array of three numbers for 3D convolution, but received "+JSON.stringify(i.dilationRate));return i}return Gv(t,e),t.verifyArgs=function(e){if(oy("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!wy(e.kernelSize,"number",1,3))throw new ey("BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received "+JSON.stringify(e.kernelSize)+".")},t.prototype.getConfig=function(){var t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:fC(this.activation),useBias:this.useBias,biasInitializer:Qb(this.biasInitializer),biasRegularizer:wC(this.biasRegularizer),activityRegularizer:wC(this.activityRegularizer),biasConstraint:Ry(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Dw),FC=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.kernel=null,t.verifyArgs(r),i.filters=r.filters,xy(i.filters,"filters"),i.kernelInitializer=ew(r.kernelInitializer||i.DEFAULT_KERNEL_INITIALIZER),i.kernelConstraint=My(r.kernelConstraint),i.kernelRegularizer=_C(r.kernelRegularizer),i}return Gv(t,e),t.prototype.build=function(e){var t;e=Ew(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new ey("The channel dimension of the input should be defined. Found "+e[n]);var r=e[n],i=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(t={},t[n]=r,t)}],this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){var t;e=Cw(e);var r=null==n.bias?null:n.bias.read(),i=Ey(n.activation.getClassName());if(null!=i&&2===n.rank)t=jC(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,i);else{if(1===n.rank)t=MC(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=jC(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new ty("convolutions greater than 3D are not implemented yet.");t=DC(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t})},t.prototype.computeOutputShape=function(e){e=Ew(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var i=AC(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(i)}var o=[e[0]];return"channelsLast"===this.dataFormat?(o=o.concat(t)).push(this.filters):(o.push(this.filters),o=o.concat(t)),o},t.prototype.getConfig=function(){var t={filters:this.filters,kernelInitializer:Qb(this.kernelInitializer),kernelRegularizer:wC(this.kernelRegularizer),kernelConstraint:Ry(this.kernelConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.verifyArgs=function(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new ey("Convolution layer expected config.filters to be a 'number' > 0 but got "+JSON.stringify(e.filters))},t}(LC),zC=function(e){function t(n){var r=e.call(this,2,n)||this;return t.verifyArgs(n),r}return Gv(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&!wy(e.kernelSize,"number",1,2))throw new ey("Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv2D",t}(FC);Vv.rc.registerClass(zC);var BC=function(e){function t(n){var r=e.call(this,3,n)||this;return t.verifyArgs(n),r}return Gv(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new ey("Conv3D expects config.kernelSize to be number or [number, number, number], but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv3D",t}(FC);Vv.rc.registerClass(BC);var UC=function(e){function t(t){var n=e.call(this,t)||this;if(n.inputSpec=[new Iw({ndim:4})],"same"!==n.padding&&"valid"!==n.padding)throw new ey("Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode "+n.padding);return n}return Gv(t,e),t.prototype.build=function(e){var t;if(4!==(e=Ew(e)).length)throw new ey("Input should have rank 4; Received input shape: "+JSON.stringify(e));var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new ey("The channel dimension of the inputs should be defined. Found `None`.");var r=e[n],i=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",i,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Iw({ndim:4,axes:(t={},t[n]=r,t)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){var t=Cw(e);if(4!==t.shape.length)throw new ey("Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-"+t.shape.length);var r,i,o=t.shape,a=o[0];"channelsFirst"===n.dataFormat?(r=2,i=3):(r=1,i=2);var s=o[r],u=o[i],l=n.kernelSize[0],c=n.kernelSize[1],f=n.strides[0],p=n.strides[1],h=[a,IC(s,f,l,n.padding),IC(u,p,c,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=Object(Vv.ad)(t,[0,2,3,1]));var d=Object(Vv.K)(t,n.kernel.read(),h,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(d=Object(Vv.ad)(d,[0,3,1,2])),null!=n.bias&&(d=Eb(d,n.bias.read(),n.dataFormat)),null!=n.activation&&(d=n.activation.apply(d)),d})},t.prototype.computeOutputShape=function(e){var t,n,r,i=(e=Ew(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var o=this.kernelSize[0],a=this.kernelSize[1],s=this.strides[0],u=this.strides[1];return i[t]=this.filters,i[n]=IC(i[n],s,o,this.padding),i[r]=IC(i[r],u,a,this.padding),i},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.dilationRate,t},t.className="Conv2DTranspose",t}(zC);Vv.rc.registerClass(UC);var WC,VC=function(e){function t(t){return e.call(this,2,t)||this}return Gv(t,e),t.className="SeparableConv2D",t}(function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",r.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new ey("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new ey("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=n.padding&&"same"!==n.padding&&"valid"!==n.padding)throw new ey("SeparableConv"+r.rank+"D supports only padding modes: 'same' and 'valid', but received "+JSON.stringify(n.padding));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=ew(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=_C(n.depthwiseRegularizer),r.depthwiseConstraint=My(n.depthwiseConstraint),r.pointwiseInitializer=ew(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=_C(n.pointwiseRegularizer),r.pointwiseConstraint=My(n.pointwiseConstraint),r}return Gv(t,e),t.prototype.build=function(e){var t;if((e=Ew(e)).length<this.rank+2)throw new ey("Inputs to SeparableConv"+this.rank+"D should have rank "+(this.rank+2)+", but received input shape: "+JSON.stringify(e));var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n]||e[n]<0)throw new ey("The channel dimension of the inputs should be defined, but found "+JSON.stringify(e[n]));for(var r=e[n],i=this.kernelSize.concat([r,this.depthMultiplier]),o=[],a=0;a<this.rank;++a)o.push(1);o.push(r*this.depthMultiplier,this.filters),this.depthwiseKernel=this.addWeight("depthwise_kernel",i,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",o,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new Iw({ndim:this.rank+2,axes:(t={},t[n]=r,t)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){var t;if(e=Cw(e),1===n.rank)throw new ty("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=Object(Vv.ad)(e,[0,2,3,1])),t=Object(Vv.qc)(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=Eb(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=Object(Vv.ad)(t,[0,3,1,2])),t})},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=Qb(this.depthwiseInitializer),t.pointwiseInitializer=Qb(this.pointwiseInitializer),t.depthwiseRegularizer=wC(this.depthwiseRegularizer),t.pointwiseRegularizer=wC(this.pointwiseRegularizer),t.depthwiseConstraint=Ry(this.depthwiseConstraint),t.pointwiseConstraint=Ry(this.pointwiseConstraint),t},t.className="SeparableConv",t}(FC));Vv.rc.registerClass(VC);var HC=function(e){function t(n){var r=e.call(this,1,n)||this;return t.verifyArgs(n),r.inputSpec=[{ndim:3}],r}return Gv(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.dataFormat,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&!wy(e.kernelSize,"number",1,1))throw new ey("Conv1D expects config.kernelSize to be number or number[] with length 1, but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv1D",t}(FC);Vv.rc.registerClass(HC);var GC=function(e){function t(t){var n=e.call(this,t)||this;return"number"==typeof t.cropping?n.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:"number"==typeof t.cropping[0]?n.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:n.cropping=t.cropping,n.dataFormat=void 0===t.dataFormat?"channelsLast":t.dataFormat,n.inputSpec=[{ndim:4}],n}return Gv(t,e),t.prototype.computeOutputShape=function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){return e=Cw(e),"channelsLast"===n.dataFormat?mb(mb(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2),n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3):mb(mb(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3),n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)})},t.prototype.getConfig=function(){var t={cropping:this.cropping,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Cropping2D",t}(Dw);Vv.rc.registerClass(GC);var qC=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=null==t.size?n.DEFAULT_SIZE:t.size,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,n}return Gv(t,e),t.prototype.computeOutputShape=function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}return t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2],[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){var t=Cw(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=Object(Vv.ad)(t,[0,2,3,1]);var i=n.size[0]*r[2],o=n.size[1]*r[3],a=t.resizeNearestNeighbor([i,o]);return Object(Vv.ad)(a,[0,3,1,2])}return i=n.size[0]*r[1],o=n.size[1]*r[2],t.resizeNearestNeighbor([i,o])})},t.prototype.getConfig=function(){var t={size:this.size,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="UpSampling2D",t}(Dw);function KC(e,t,n,r,i,o){return void 0===n&&(n=[1,1]),void 0===r&&(r="valid"),Object(Vv.Wc)(function(){null==i&&(i="channelsLast"),Gy(i);var a=RC(e,i);if(4!==e.rank)throw new ey("Input for depthwiseConv2d is required to be 4-D, but is instead "+e.rank+"-D");if(4!==t.rank)throw new ey("depthwiseKernel is required to be 4-D, but is instead "+t.rank+"-D");return a=Object(Vv.Q)(a,t,n,"same"===r?"same":"valid","NHWC",o),"channelsFirst"===i&&(a=Object(Vv.ad)(a,[0,3,1,2])),a})}Vv.rc.registerClass(qC);var XC=function(e){function t(t){var n=e.call(this,2,t)||this;return n.depthwiseKernel=null,n.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,n.depthwiseInitializer=ew(t.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=My(t.depthwiseConstraint),n.depthwiseRegularizer=_C(t.depthwiseRegularizer),n}return Gv(t,e),t.prototype.build=function(e){if((e=Ew(e)).length<4)throw new ey("Inputs to DepthwiseConv2D should have rank 4. Received input shape: "+JSON.stringify(e)+".");var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new ey("The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not ("+e[t]+").");var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){var t=KC(e=Cw(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=Eb(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t})},t.prototype.computeOutputShape=function(e){e=Ew(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=AC(t,this.kernelSize[0],this.padding,this.strides[0]),o=AC(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,i,o]:[e[0],i,o,r]},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=Qb(this.depthwiseInitializer),t.depthwiseRegularizer=wC(this.depthwiseRegularizer),t.depthwiseConstraint=Ry(this.depthwiseRegularizer),t},t.className="DepthwiseConv2D",t}(LC);Vv.rc.registerClass(XC);var YC=function(e){function t(t){var n=e.call(this,t)||this;return n.rate=Math.max(Math.min(t.rate,1),0),n.noiseShape=t.noiseShape,n.seed=t.seed,n.supportsMasking=!0,n}return Gv(t,e),t.prototype.getNoiseShape=function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){n.invokeCallHook(e,t);var r=Cw(e);if(0<n.rate&&n.rate<1){var i=null!=t.training&&t.training,o=n.getNoiseShape(r);return Nb(function(){return Ob(r,n.rate,o,n.seed)},function(){return r},i)}return e})},t.prototype.getConfig=function(){var t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.dispose=function(){return e.prototype.dispose.call(this)},t.className="Dropout",t}(Dw);Vv.rc.registerClass(YC);var ZC=function(e){function t(t){var n=e.call(this,t)||this;return n.inputSpec=[{ndim:3}],n}return Gv(t,e),t.prototype.getNoiseShape=function(e){var t=e.shape;return[t[0],1,t[2]]},t.className="SpatialDropout1D",t}(YC);Vv.rc.registerClass(ZC);var $C=function(e){function t(t){var n=e.call(this,t)||this;if(n.activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_BIAS_INITIALIZER="zeros",null==t.batchInputShape&&null==t.inputShape&&null!=t.inputDim){var r=null;null!=t.batchSize&&(r=t.batchSize),n.batchInputShape=[r,t.inputDim]}return n.units=t.units,xy(n.units,"units"),n.activation=hC(t.activation),null!=t.useBias&&(n.useBias=t.useBias),n.kernelInitializer=ew(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=ew(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=My(t.kernelConstraint),n.biasConstraint=My(t.biasConstraint),n.kernelRegularizer=_C(t.kernelRegularizer),n.biasRegularizer=_C(t.biasRegularizer),n.activityRegularizer=_C(t.activityRegularizer),n.supportsMasking=!0,n.inputSpec=[{minNDim:2}],n}return Gv(t,e),t.prototype.build=function(e){var t,n=(e=Ew(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(t={},t[-1]=n,t)}],this.built=!0},t.prototype.computeOutputShape=function(e){var t=(e=Ew(e)).slice();return t[t.length-1]=this.units,t},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){n.invokeCallHook(e,t);var r,i=Cw(e),o=Ey(n.activation.getClassName());return null!=o?r=wb(i,n.kernel.read(),o,n.bias?n.bias.read():null):(r=wb(i,n.kernel.read()),null!=n.bias&&(r=Eb(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r})},t.prototype.getConfig=function(){var t={units:this.units,activation:fC(this.activation),useBias:this.useBias,kernelInitializer:Qb(this.kernelInitializer),biasInitializer:Qb(this.biasInitializer),kernelRegularizer:wC(this.kernelRegularizer),biasRegularizer:wC(this.biasRegularizer),activityRegularizer:wC(this.activityRegularizer),kernelConstraint:Ry(this.kernelConstraint),biasConstraint:Ry(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Dense",t}(Dw);Vv.rc.registerClass($C);var JC=function(e){function t(t){var n=this;return t=t||{},(n=e.call(this,t)||this).inputSpec=[{minNDim:3}],n.dataFormat=t.dataFormat,n}return Gv(t,e),t.prototype.computeOutputShape=function(e){for(var t=0,n=(e=Ew(e)).slice(1);t<n.length;t++)if(null==n[t])throw new ey('The shape of the input to "Flatten" is not fully defined (got '+e.slice(1)+'). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.');return[e[0],rb(e,1)]},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){n.invokeCallHook(e,t);var r=Cw(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var i=[0],o=2;o<r.rank;++o)i.push(o);i.push(1),r=r.transpose(i)}return pb(r)})},t.prototype.getConfig=function(){var t={};null!=this.dataFormat&&(t.dataFormat=this.dataFormat);var n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Flatten",t}(Dw);Vv.rc.registerClass(JC);var QC=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.activation=hC(t.activation),n}return Gv(t,e),t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){n.invokeCallHook(e,t);var r=Cw(e);return n.activation.apply(r)})},t.prototype.getConfig=function(){var t={activation:fC(this.activation)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Activation",t}(Dw);Vv.rc.registerClass(QC);var eE=function(e){function t(t){var n=e.call(this,t)||this;return n.n=t.n,n.inputSpec=[{ndim:2}],n}return Gv(t,e),t.prototype.computeOutputShape=function(e){return[e[0],this.n,e[1]]},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){return cb(e=Cw(e),n.n)})},t.prototype.getConfig=function(){var t={n:this.n},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="RepeatVector",t}(Dw);Vv.rc.registerClass(eE);var tE=function(e){function t(t){var n=e.call(this,t)||this;n.targetShape=t.targetShape;for(var r=0;r<n.targetShape.length;++r)n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);return n}return Gv(t,e),t.prototype.isUnknown=function(e){return e<0||null==e},t.prototype.fixUnknownDimension=function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),i=1,o=null,a=0;a<r.length;++a){var s=r[a];if(this.isUnknown(s)){if(null!==o)throw new ey("Can only specifiy one unknown dimension.");o=a}else i*=s}var u=rb(e);if(null!==o){if(0===i||u%i!=0)throw new ey(n);r[o]=u/i}else if(u!==i)throw new ey(n);return r},t.prototype.computeOutputShape=function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){n.invokeCallHook(e,t);var r=Cw(e),i=r.shape,o=i.slice(0,1).concat(n.fixUnknownDimension(i.slice(1),n.targetShape));return r.reshape(o)})},t.prototype.getConfig=function(){var t={targetShape:this.targetShape},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Reshape",t}(Dw);Vv.rc.registerClass(tE);var nE=function(e){function t(t){var n=e.call(this,t)||this;if(null==t.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(t.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+t.dims+" instead.");var r=sb(1,t.dims.length+1);if(!Vv.dd.arraysEqual(t.dims.slice().sort(),r))throw new Error("Invalid permutation `dims`: "+JSON.stringify(t.dims)+" `dims` must contain consecutive integers starting from 1.");return n.dims=t.dims,n.dimsIncludingBatch=[0].concat(n.dims),n.inputSpec=[new Iw({ndim:n.dims.length+1})],n}return Gv(t,e),t.prototype.computeOutputShape=function(e){var t=(e=Ew(e)).slice();return this.dims.forEach(function(n,r){t[r+1]=e[n]}),t},t.prototype.call=function(e,t){return Object(Vv.ad)(Cw(e),this.dimsIncludingBatch)},t.prototype.getConfig=function(){var t={dims:this.dims},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Permute",t}(Dw);Vv.rc.registerClass(nE);var rE=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,n.maskValue=null!=t?null==t.maskValue?0:t.maskValue:0,n}return Gv(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={maskValue:this.maskValue};return Object.assign(n,t),n},t.prototype.computeMask=function(e,t){var n=Cw(e);return Object(Vv.i)(Object(Vv.Ub)(n,this.maskValue),-1)},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){n.invokeCallHook(e,t);var r=Cw(e),i=Object(Vv.i)(Object(Vv.Ub)(r,n.maskValue),-1,!0);return r.mul(i.asType(r.dtype))})},t.className="Masking",t}(Dw);Vv.rc.registerClass(rE);var iE=function(e){function t(t){var n=e.call(this,t)||this;if(n.embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==t.batchInputShape&&null==t.inputShape){var r=null;null!=t.batchSize&&(r=t.batchSize),null==t.inputLength?n.batchInputShape=[r,null]:n.batchInputShape=[r].concat(uy(t.inputLength))}return n.inputDim=t.inputDim,xy(n.inputDim,"inputDim"),n.outputDim=t.outputDim,xy(n.outputDim,"outputDim"),n.embeddingsInitializer=ew(t.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=_C(t.embeddingsRegularizer),n.activityRegularizer=_C(t.activityRegularizer),n.embeddingsConstraint=My(t.embeddingsConstraint),n.maskZero=t.maskZero,n.supportsMasking=t.maskZero,n.inputLength=t.inputLength,n}return Gv(t,e),t.prototype.build=function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0},t.prototype.warnOnIncompatibleInputShape=function(e){},t.prototype.computeMask=function(e,t){var n=this;return Object(Vv.Wc)(function(){return n.maskZero?(e=Cw(e),Object(Vv.Ub)(e,Object(Vv.jd)(e))):null})},t.prototype.computeOutputShape=function(e){if(e=Ew(e),null==this.inputLength)return e.concat([this.outputDim]);var t=uy(this.inputLength);if(t.length!==e.length-1)throw new ey('"inputLength" is '+this.inputLength+", but received input shape has shape "+e);for(var n=0,r=0;r<t.length;++r){var i=t[r],o=e[r+1];if(null!=i&&null!=o&&i!==o)throw new ey('"inputLength" is '+this.inputLength+", but received input shape has shape "+e);null==i&&(t[n]=o),n++}return[e[0]].concat(t,[this.outputDim])},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){n.invokeCallHook(e,t);var r=Cw(e);return"int32"!==r.dtype&&(r=ub(r,"int32")),xb(n.embeddings.read(),r.as1D()).reshape(Ew(n.computeOutputShape(r.shape)))})},t.prototype.getConfig=function(){var t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Qb(this.embeddingsInitializer),embeddingsRegularizer:wC(this.embeddingsRegularizer),activityRegularizer:wC(this.activityRegularizer),embeddingsConstraint:Ry(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Embedding",t}(Dw);Vv.rc.registerClass(iE);var oE=function(e){function t(t){var n=e.call(this,t||{})||this;return n.supportsMasking=!0,n}return Gv(t,e),t.prototype.mergeFunction=function(e){throw new ty},t.prototype.computeElementwiseOpOutputShape=function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var i=e[e.length-t.length+r],o=t[r];if(null==i||null==o||i<0||o<0)n.push(null);else if(1===i)n.push(o);else if(1===o)n.push(i);else{if(i!==o)throw new ey("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(i)}}return n},t.prototype.build=function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Ew(e)]),(e=e).length<2)throw new ey("A merge layer should be called on an Array of at least 2 inputs. Got "+e.length+" input(s).");for(var t=[],n=0,r=e;n<r.length;n++)null!=(a=r[n])&&null!==a[0]&&t.push(a[0]);if((t=vy(t)).length>1)throw new ey("Can not merge tensors with different batch sizes. Got tensors with shapes: "+JSON.stringify(e)+".");for(var i=null==e[0]?null:e[0].slice(1),o=1;o<e.length;++o){var a=null==e[o]?null:e[o].slice(1);i=this.computeElementwiseOpOutputShape(i,a)}var s=e.map(function(e){return e.length});-1===e.indexOf(null)&&1===vy(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){if(e=e,n.reshapeRequired){var t=[],r=e.map(function(e){return e.rank});if(-1===r.indexOf(null)){for(var i=ab(r),o=0,a=e;o<a.length;o++){for(var s=(p=a[o]).rank,u=0;u<i-s;++u)p=lb(p,1);t.push(p)}return n.mergeFunction(t)}for(var l=!1,c=0,f=e;c<f.length;c++){var p;if(null==(s=(p=f[c]).rank)){var h=p.shape,d=h[0],m=h.slice(1).concat([d]),g=p.reshape([d].concat(rb(h.slice(1))));g=(g=Object(Vv.ad)(g,[1,0])).reshape(m),t.push(g),l=!0}else if(s>1){var v=sb(1,s).concat([0]);t.push(Object(Vv.ad)(p,v)),l=!0}else t.push(p)}var y=n.mergeFunction(t),b=y.rank;if(l)if(null==b){var w=y.shape;m=[d=w[w.length-1]].concat(w.slice(0,w.length-1)),y=Object(Vv.ad)(y.reshape([-1,d]),[1,0]).reshape(m)}else b>1&&(v=[b-1].concat(sb(0,b-1)),y=Object(Vv.ad)(y,v));return y}return n.mergeFunction(e)})},t.prototype.computeOutputShape=function(e){var t;t=null==(e=e)[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}for(var i=[],o=0,a=e;o<a.length;o++)null!=(r=a[o])&&null!==r[0]&&i.push(r[0]);return 1===(i=vy(i)).length?i.concat(t):[null].concat(t)},t.prototype.computeMask=function(e,t){return Object(Vv.Wc)(function(){if(null==t)return null;if(!Array.isArray(t))throw new ey("`mask` should be an Array");if(!Array.isArray(e))throw new ey("`inputs` should be an Array");if(t.length!==e.length)throw new ey("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths ("+e.length+" vs "+t.length+")");if(t.every(function(e){return null==e}))return null;for(var n=(t=t.map(function(e){return null==e?e:Object(Vv.ab)(e,0)}))[0],r=1;r<t.length-1;++r)n=Object(Vv.Bb)(n,t[r]);return n})},t}(Dw),aE=function(e){function t(t){return e.call(this,t)||this}return Gv(t,e),t.prototype.mergeFunction=function(e){return Object(Vv.Wc)(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Object(Vv.f)(t,e[n]);return t})},t.className="Add",t}(oE);Vv.rc.registerClass(aE);var sE=function(e){function t(t){return e.call(this,t)||this}return Gv(t,e),t.prototype.mergeFunction=function(e){return Object(Vv.Wc)(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Object(Vv.Pb)(t,e[n]);return t})},t.className="Multiply",t}(oE);Vv.rc.registerClass(sE);var uE=function(e){function t(t){return e.call(this,t)||this}return Gv(t,e),t.prototype.mergeFunction=function(e){return Object(Vv.Wc)(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Object(Vv.f)(t,e[n]);return Object(Vv.Pb)(1/e.length,t)})},t.className="Average",t}(oE);Vv.rc.registerClass(uE);var lE=function(e){function t(t){return e.call(this,t)||this}return Gv(t,e),t.prototype.mergeFunction=function(e){return Object(Vv.Wc)(function(){for(var t=e[0],n=1;n<e.length;++n)t=Object(Vv.Ib)(t,e[n]);return t})},t.className="Maximum",t}(oE);Vv.rc.registerClass(lE);var cE=function(e){function t(t){return e.call(this,t)||this}return Gv(t,e),t.prototype.mergeFunction=function(e){return Object(Vv.Wc)(function(){for(var t=e[0],n=1;n<e.length;++n)t=Object(Vv.Mb)(t,e[n]);return t})},t.className="Minimum",t}(oE);Vv.rc.registerClass(cE);var fE=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_AXIS=-1,null==t&&(t={}),n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n}return Gv(t,e),t.prototype.build=function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new ey("A `Concatenate` layer should be called on a list of at least 2 inputs");for(var t=!0,n=0,r=e=e;n<r.length;n++)if(null!=(c=r[n])){t=!1;break}if(!t){for(var i=[],o=0;o<e.length;++o){var a=e[o].slice();a.splice(this.axis,1);for(var s=!1,u=0,l=i;u<l.length;u++){var c=l[u];if(Vv.dd.arraysEqual(c,a)){s=!0;break}}s||i.push(a)}if(i.length>1)throw new ey("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}},t.prototype.mergeFunction=function(e){var t=this;return Object(Vv.Wc)(function(){return gb(e,t.axis)})},t.prototype.computeOutputShape=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new ey("A `Concatenate` layer should be called on a list of inputs.");for(var t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,i=0,o=t.slice(1);i<o.length;i++){var a=o[i];if(null==n[r]||null==a[r]){n[r]=null;break}n[r]+=a[r]}return n},t.prototype.computeMask=function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new ey("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new ey("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new ey("Mismatch in the length of mask ("+t.length+") and the legnth of inputs ("+e.length+")");return Object(Vv.Wc)(function(){var r=!0;if(t.forEach(function(e){null==e||(r=!1)}),r)return null;for(var i=[],o=0;o<e.length;++o)null==t[o]?i.push(Object(Vv.Xb)(e[o]).asType("bool")):t[o].rank<e[o].rank?i.push(Object(Vv.ab)(t[o],-1)):i.push(t[o]);var a=Object(Vv.D)(i,n.axis);return Object(Vv.h)(a,-1,!1)})},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Concatenate",t}(oE);function pE(e,t){for(;e<0;)e+=t;return e}function hE(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new ty("batchDot is not implemented for tensors of 4D or higher rank yet");if(Vv.dd.assert(e.shape.length>=2,function(){return"batchDot requires the rank of x to be >= 2, but got "+e.shape.length}),Vv.dd.assert(e.shape.length>=2,function(){return"batchDot requires the rank of y to be >= 2, but got "+t.shape.length}),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new ty("batchDot is not implemented for complex64-type Tensors yet.");var r=e.shape.length,i=t.shape.length;null==n&&(n=[r-1,i-2]);var o=n;return Object(Vv.Wc)(function(){var n,a;if(r>i){n=r-i;for(var s=[],u=0;u<n;++u)s.push(1);t=t.reshape(t.shape.concat(s))}else if(i>r){for(n=i-r,s=[],u=0;u<n;++u)s.push(1);e=e.reshape(e.shape.concat(s))}else n=0;if(2===e.shape.length&&2===t.shape.length)a=o[0]===o[1]?e.mulStrict(t).sum(o[0]):e.transpose([1,0]).mulStrict(t).sum(o[1]);else{var l=o[0]!==e.shape.length-1,c=o[1]===t.shape.length-1;a=e.matMul(t,l,c)}if(n>0){var f=void 0,p=[];for(u=f=r>i?r+i-3:r-1;u<f+n;++u)p.push(u);a=a.squeeze(p)}return 1===a.shape.length&&(a=a.expandDims(1)),a})}Vv.rc.registerClass(fE);var dE=function(e){function t(t){var n=e.call(this,t)||this;return n.axes=t.axes,n.normalize=null!=t.normalize&&t.normalize,n.supportsMasking=!0,n.reshapeRequired=!1,n}return Gv(t,e),t.prototype.build=function(e){Vv.dd.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."});var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new ty("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new ey("Dimension incompatibility: "+t[r[0]]+" !== "+n[r[1]])},t.prototype.mergeFunction=function(e){if(2!==e.length)throw new ey("A `Dot` layer must be called on exactly 2 inputs, but received "+e.length+" input(s).");var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(function(t,n){return pE(t,e[n].shape.length)}):[pE(this.axes,n.shape.length),pE(this.axes,r.shape.length)],this.normalize&&(n=nx(n,t[0]),r=nx(r,t[1])),hE(n,r,t)},t.prototype.interpretAxes=function(e,t){return Array.isArray(this.axes)?this.axes:[pE(this.axes,e.length),pE(this.axes,t.length)]},t.prototype.computeOutputShape=function(e){Vv.dd.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."});var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new ty("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var i=t.concat(n);return 1===i.length&&i.push(1),i},t.prototype.computeMask=function(e,t){return null},t.prototype.getConfig=function(){var t={axes:this.axes,normalize:this.normalize},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Dot",t}(oE);Vv.rc.registerClass(dE);var mE=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.stddev=t.stddev,n}return Gv(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={stddev:this.stddev};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){n.invokeCallHook(e,t);var r=Cw(e);return Nb(function(){return bb(r.shape,0,n.stddev).add(r)},function(){return r},t.training||!1)})},t.className="GaussianNoise",t}(Dw);Vv.rc.registerClass(mE);var gE=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.rate=t.rate,n}return Gv(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){n.invokeCallHook(e,t);var r=Cw(e);return n.rate>0&&n.rate<1?Nb(function(){var e=Math.sqrt(n.rate/(1-n.rate));return r.mul(bb(r.shape,1,e))},function(){return r},t.training||!1):r})},t.className="GaussianDropout",t}(Dw);Vv.rc.registerClass(gE);var vE=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.rate=t.rate,n.noiseShape=t.noiseShape,n}return Gv(t,e),t.prototype._getNoiseShape=function(e){return this.noiseShape||Cw(e).shape},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return Nb(function(){var t=Cw(e),i=-1.7580993408473766,o=Object(Vv.lb)(Object(Vv.dc)(r),n.rate);o=ub(o,"float32");var a=Math.pow((1-n.rate)*(1+n.rate*Math.pow(i,2)),-.5),s=-a*i*n.rate;return t.mul(o).add(o.add(-1).mul(i)).mul(a).add(s)},function(){return Cw(e)},t.training||!1)}return e})},t.className="AlphaDropout",t}(Dw);function yE(e,t,n,r,i,o){var a;if(void 0===o&&(o=.001),2===e.rank)a=Object(Vv.u)(e,t,n,r,i,o);else if(3===e.rank)a=Object(Vv.v)(e,t,n,r,i,o);else{if(4!==e.rank)throw new ty("batchNormalization is not implemented for array of rank "+e.rank+" yet");a=Object(Vv.w)(e,t,n,r,i,o)}return a}function bE(e,t,n,r,i){return void 0===i&&(i=.001),Object(Vv.Wc)(function(){var o=Object(Vv.Ob)(e,r),a=o.mean,s=o.variance;return[yE(e,a,s,n,t,i),a,s]})}function wE(e,t,n,r,i){return void 0===i&&(i=.001),Object(Vv.Wc)(function(){for(var o=Object(Vv.Ob)(e,r),a=o.mean,s=o.variance,u=[],l=0,c=sb(0,e.rank);l<c.length;l++){var f=c[l];-1!==r.indexOf(f)?u.push(1):u.push(e.shape[f])}var p=a.reshape(u),h=s.reshape(u),d=null==t?null:t.reshape(u),m=null==n?null:n.reshape(u);return[yE(e,p,h,m,d,i),a,s]})}function xE(e,t,n,r,i){return void 0===i&&(i=.001),Vv.dd.arraysEqual(r.slice().sort(),sb(0,e.rank-1))?bE(e,t,n,r,i):wE(e,t,n,r,i)}Vv.rc.registerClass(vE);var _E=function(e){function t(t){var n=this;return null==t&&(t={}),(n=e.call(this,t)||this).supportsMasking=!0,n.axis=null==t.axis?-1:t.axis,n.momentum=null==t.momentum?.99:t.momentum,n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=ew(t.betaInitializer||"zeros"),n.gammaInitializer=ew(t.gammaInitializer||"ones"),n.movingMeanInitializer=ew(t.movingMeanInitializer||"zeros"),n.movingVarianceInitializer=ew(t.movingVarianceInitializer||"ones"),n.betaConstraint=My(t.betaConstraint),n.gammaConstraint=My(t.gammaConstraint),n.betaRegularizer=_C(t.betaRegularizer),n.gammaRegularizer=_C(t.gammaRegularizer),n}return Gv(t,e),t.prototype.build=function(e){var t;e=Ew(e);var n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(null==r)throw new ey("Axis "+n+" of input tensor should have a defined dimension but the layer received an input with shape "+JSON.stringify(e)+".");this.inputSpec=[new Iw({ndim:e.length,axes:(t={},t[n]=r,t)})];var i=[r];this.scale&&(this.gamma=this.addWeight("gamma",i,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",i,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",i,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",i,null,this.movingVarianceInitializer,null,!1),this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){var r=null!=t.training&&t.training,i=Cw(e),o=i.shape,a=o.length,s=sb(0,a),u=n.axis>=0?n.axis:n.axis+a;s.splice(u,1);var l=iy(1,a);l[u]=o[u];var c=s.slice();c.sort();var f=!Vv.dd.arraysEqual(c,sb(0,a).slice(0,a-1));if(!r)return function(){if(f){var e=n.movingMean.read().reshape(l),t=n.movingVariance.read().reshape(l),r=n.center?n.beta.read().reshape(l):null,o=n.scale?n.gamma.read().reshape(l):null;return yE(i,e,t,r,o,n.epsilon)}return yE(i,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var p=xE(i,n.gamma.read(),n.beta.read(),s,n.epsilon),h=p[0],d=p[1],m=p[2],g=function(e,t,n){Object(Vv.Wc)(function(){var r=1-n,i=e.read(),o=i.sub(t).mul(r);e.write(i.sub(o))})};return g(n.movingMean,d,n.momentum),g(n.movingVariance,m,n.momentum),h})},t.prototype.getConfig=function(){var t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Qb(this.betaInitializer),gammaInitializer:Qb(this.gammaInitializer),movingMeanInitializer:Qb(this.movingMeanInitializer),movingVarianceInitializer:Qb(this.movingVarianceInitializer),betaRegularizer:wC(this.betaRegularizer),gammaRegularizer:wC(this.gammaRegularizer),betaConstraint:Ry(this.betaConstraint),gammaConstraint:Ry(this.gammaConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="BatchNormalization",t}(Dw);Vv.rc.registerClass(_E);var CE=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).axis=null==t.axis?-1:t.axis,"number"==typeof n.axis){if(!Number.isInteger(n.axis))throw new Error("Expected axis to be an integer, but received "+n.axis)}else{if(!Array.isArray(n.axis))throw new Error("Expected axis to be an integer or an array of integers, but received "+JSON.stringify(n.axis));for(var r=0,i=n.axis;r<i.length;r++){var o=i[r];if(!Number.isInteger(o))throw new Error("Expected axis to be an array of integers, but received "+JSON.stringify(n.axis))}}return n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=ew(t.betaInitializer||"zeros"),n.gammaInitializer=ew(t.gammaInitializer||"ones"),n.betaRegularizer=_C(t.betaRegularizer),n.gammaRegularizer=_C(t.gammaRegularizer),n.supportsMasking=!0,n}return Gv(t,e),t.prototype.build=function(e){var t=(e=Ew(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);for(var r=0,i=this.axis;r<i.length;r++){var o=i[r];if(o<0||o>=t)throw new Error("Invalid axis: "+o)}if(this.axis.length!==vy(this.axis).length)throw new Error("Found duplicate axes in: "+this.axis);var a=this.axis.map(function(t){return e[t]});this.scale?this.gamma=this.addWeight("gamma",a,"float32",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight("beta",a,"float32",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0},t.prototype.call=function(e,t){var n=this,r=Cw(e),i=r.shape,o=i.length;return Object(Vv.Wc)(function(){for(var e=Object(Vv.Ob)(r,n.axis,!0),t=e.mean,a=e.variance,s=iy(1,o),u=0,l=n.axis;u<l.length;u++){var c=l[u];s[c]=i[c]}for(var f=function(e){return null!=e&&e.shape.length!==o&&n.axis!==[o-1]?e.reshape(s):e},p=f(n.gamma.read()),h=f(n.beta.read()),d=[],m=[],g=0;g<o;++g)-1!==n.axis.indexOf(g)?(d.push(i[g]),m.push(1)):(d.push(1),m.push(i[g]));return t=t.tile(d),a=a.tile(d),p=p.tile(m),h=h.tile(m),yE(r,t,a,h,p,n.epsilon)})},t.prototype.getConfig=function(){var t={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Qb(this.betaInitializer),gammaInitializer:Qb(this.gammaInitializer),betaRegularizer:wC(this.betaRegularizer),gammaRegularizer:wC(this.gammaRegularizer)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LayerNormalization",t}(Dw);function EE(e,t,n){return Object(Vv.Wc)(function(){if(4!==e.rank)throw new ey("temporalPadding expects input tensor to be 4-D, but received a "+e.rank+"-D tensor.");if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new ey("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new ey("Unknown data format: "+n+". Supported data formats are 'channelsLast' and 'channelsFirst.");var r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],Object(Vv.Yb)(e,r)})}Vv.rc.registerClass(CE);var SE=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,null==t.padding)n.padding=[[1,1],[1,1]];else if("number"==typeof t.padding)n.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,2!==t.padding.length)throw new ey("ZeroPadding2D expects padding to be a length-2 array, but received a length-"+t.padding.length+" array.");var r=void 0,i=void 0;if("number"==typeof t.padding[0])r=[t.padding[0],t.padding[0]],i=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,2!==t.padding[0].length)throw new ey("ZeroPadding2D expects height padding to be a length-2 array, but received a length-"+t.padding[0].length+" array.");if(r=t.padding[0],2!==t.padding[1].length)throw new ey("ZeroPadding2D expects width padding to be a length-2 array, but received a length-"+t.padding[1].length+" array.");i=t.padding[1]}n.padding=[r,i]}return n.inputSpec=[new Iw({ndim:4})],n}return Gv(t,e),t.prototype.computeOutputShape=function(e){var t,n;return e=Ew(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){return EE(Cw(e),n.padding,n.dataFormat)})},t.prototype.getConfig=function(){var t={padding:this.padding,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ZeroPadding2D",t}(Dw);function kE(e,t,n,r,i,o){return Object(Vv.Wc)(function(){var a;Gy(i),Ky(o),qy(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==i&&(i="channelsLast"),null==o&&(o="max"),e=RC(e,i);var s="same"===r?"same":"valid";return a="max"===o?Object(Vv.Gb)(e,t,n,s):Object(Vv.q)(e,t,n,s),"channelsFirst"===i&&(a=Object(Vv.ad)(a,[0,3,1,2])),a})}function OE(e,t,n,r,i,o){return Object(Vv.Wc)(function(){var a;Gy(i),Ky(o),qy(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==i&&(i="channelsLast"),null==o&&(o="max"),e=PC(e,i);var s="same"===r?"same":"valid";return a="max"===o?Object(Vv.Hb)(e,t,n,s):Object(Vv.r)(e,t,n,s),"channelsFirst"===i&&(a=Object(Vv.ad)(a,[0,4,1,2,3])),a})}Vv.rc.registerClass(SE);var TE=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=2),n=e.call(this,t)||this,"number"==typeof t.poolSize)n.poolSize=[t.poolSize];else{if(!Array.isArray(t.poolSize)||1!==t.poolSize.length||"number"!=typeof t.poolSize[0])throw new ey("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(t.poolSize));n.poolSize=t.poolSize}if(xy(n.poolSize,"poolSize"),null==t.strides)n.strides=n.poolSize;else if("number"==typeof t.strides)n.strides=[t.strides];else{if(!Array.isArray(t.strides)||1!==t.strides.length||"number"!=typeof t.strides[0])throw new ey("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(t.strides));n.strides=t.strides}return xy(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,qy(n.padding),n.inputSpec=[new Iw({ndim:3})],n}return Gv(t,e),t.prototype.computeOutputShape=function(e){var t=AC((e=Ew(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){n.invokeCallHook(e,t),e=lb(Cw(e),2);var r=n.poolingFunction(Cw(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return Object(Vv.Kc)(r,[2])})},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Dw),NE=function(e){function t(t){return e.call(this,t)||this}return Gv(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return Gy(i),qy(r),kE(e,t,n,r,i,"max")},t.className="MaxPooling1D",t}(TE);Vv.rc.registerClass(NE);var AE=function(e){function t(t){return e.call(this,t)||this}return Gv(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return Gy(i),qy(r),kE(e,t,n,r,i,"avg")},t.className="AveragePooling1D",t}(TE);Vv.rc.registerClass(AE);var IE=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(2!==t.strides.length)throw new ey("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+t.strides.length+".");n.strides=t.strides}else n.strides=[t.strides,t.strides];return xy(n.poolSize,"poolSize"),xy(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Gy(n.dataFormat),qy(n.padding),n.inputSpec=[new Iw({ndim:4})],n}return Gv(t,e),t.prototype.computeOutputShape=function(e){e=Ew(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=AC(t,this.poolSize[0],this.padding,this.strides[0]),n=AC(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){return n.invokeCallHook(e,t),n.poolingFunction(Cw(e),n.poolSize,n.strides,n.padding,n.dataFormat)})},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Dw),RE=function(e){function t(t){return e.call(this,t)||this}return Gv(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return Gy(i),qy(r),kE(e,t,n,r,i,"max")},t.className="MaxPooling2D",t}(IE);Vv.rc.registerClass(RE);var PE=function(e){function t(t){return e.call(this,t)||this}return Gv(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return Gy(i),qy(r),kE(e,t,n,r,i,"avg")},t.className="AveragePooling2D",t}(IE);Vv.rc.registerClass(PE);var ME=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(3!==t.strides.length)throw new ey("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+t.strides.length+".");n.strides=t.strides}else n.strides=[t.strides,t.strides,t.strides];return xy(n.poolSize,"poolSize"),xy(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Gy(n.dataFormat),qy(n.padding),n.inputSpec=[new Iw({ndim:5})],n}return Gv(t,e),t.prototype.computeOutputShape=function(e){e=Ew(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=AC(t,this.poolSize[0],this.padding,this.strides[0]),n=AC(n,this.poolSize[1],this.padding,this.strides[1]),r=AC(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){return n.invokeCallHook(e,t),n.poolingFunction(Cw(e),n.poolSize,n.strides,n.padding,n.dataFormat)})},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Dw),jE=function(e){function t(t){return e.call(this,t)||this}return Gv(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return Gy(i),qy(r),OE(e,t,n,r,i,"max")},t.className="MaxPooling3D",t}(ME);Vv.rc.registerClass(jE);var DE=function(e){function t(t){return e.call(this,t)||this}return Gv(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return Gy(i),qy(r),OE(e,t,n,r,i,"avg")},t.className="AveragePooling3D",t}(ME);Vv.rc.registerClass(DE);var LE=function(e){function t(t){var n=e.call(this,t)||this;return n.inputSpec=[new Iw({ndim:3})],n}return Gv(t,e),t.prototype.computeOutputShape=function(e){return[e[0],e[2]]},t.prototype.call=function(e,t){throw new ty},t}(Dw),FE=function(e){function t(t){return e.call(this,t||{})||this}return Gv(t,e),t.prototype.call=function(e,t){return Object(Vv.Wc)(function(){var t=Cw(e);return Object(Vv.Jb)(t,1)})},t.className="GlobalAveragePooling1D",t}(LE);Vv.rc.registerClass(FE);var zE=function(e){function t(t){return e.call(this,t||{})||this}return Gv(t,e),t.prototype.call=function(e,t){return Object(Vv.Wc)(function(){var t=Cw(e);return Object(Vv.Fb)(t,1)})},t.className="GlobalMaxPooling1D",t}(LE);Vv.rc.registerClass(zE);var BE=function(e){function t(t){var n=e.call(this,t)||this;return n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Gy(n.dataFormat),n.inputSpec=[new Iw({ndim:4})],n}return Gv(t,e),t.prototype.computeOutputShape=function(e){return e=e,"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]},t.prototype.call=function(e,t){throw new ty},t.prototype.getConfig=function(){var t={dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Dw),UE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){var t=Cw(e);return"channelsLast"===n.dataFormat?Object(Vv.Jb)(t,[1,2]):Object(Vv.Jb)(t,[2,3])})},t.className="GlobalAveragePooling2D",t}(BE);Vv.rc.registerClass(UE);var WE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){var t=Cw(e);return"channelsLast"===n.dataFormat?Object(Vv.Fb)(t,[1,2]):Object(Vv.Fb)(t,[2,3])})},t.className="GlobalMaxPooling2D",t}(BE);function VE(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new ey("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function i(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=i(t),constants:n=i(n)}}function HE(e,t,n,r,i,o,a,s){return void 0===r&&(r=!1),void 0===a&&(a=!1),void 0===s&&(s=!1),Object(Vv.Wc)(function(){var u=t.shape.length;if(u<3)throw new ey("Input should be at least 3D, but is "+u+"D.");var l=[1,0].concat(sb(2,u));if(t=Object(Vv.ad)(t,l),null!=o)throw new ty("The rnn() functoin of the deeplearn.js backend does not support constants yet.");a&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=i&&((i=i.asType("bool").asType("float32")).rank===u-1&&(i=Object(Vv.ab)(i,-1)),i=Object(Vv.ad)(i,l)),r&&(t=Object(Vv.jc)(t,0),null!=i&&(i=Object(Vv.jc)(i,0)));var c,f,p=[],h=n,d=t.shape[0],m=Object(Vv.cd)(t);null!=i&&(f=Object(Vv.cd)(i));for(var g,v=function(t){var n=m[t],r=Object(Vv.Wc)(function(){return e(n,h)});if(null==i)c=r[0],h=r[1];else{var o=Object(Vv.Wc)(function(){var e=f[t],n=Object(Vv.Xb)(e).sub(e);return{output:r[0].mul(e).addStrict(h[0].mul(n)),newStates:h.map(function(t,i){return r[1][i].mul(e).addStrict(t.mul(n))})}});c=o.output,h=o.newStates}s&&p.push(c)},y=0;y<d;++y)v(y);return s&&(g=Object(Vv.Lc)(p,1)),[c,g,h]})}Vv.rc.registerClass(WE);var GE=function(e){function t(t){var n,r=e.call(this,t)||this;if(null==t.cell)throw new ey("cell property is missing for the constructor of RNN.");if(null==(n=Array.isArray(t.cell)?new QE({cells:t.cell}):t.cell).stateSize)throw new ey("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=n,r.returnSequences=null!=t.returnSequences&&t.returnSequences,r.returnState=null!=t.returnState&&t.returnState,r.goBackwards=null!=t.goBackwards&&t.goBackwards,r._stateful=null!=t.stateful&&t.stateful,r.unroll=null!=t.unroll&&t.unroll,r.supportsMasking=!0,r.inputSpec=[new Iw({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return Gv(t,e),t.prototype.getStates=function(){return null==this.states_?sb(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(function(e){return null}):this.states_},t.prototype.setStates=function(e){this.states_=e},t.prototype.computeOutputShape=function(e){xw(e)&&(e=e[0]),e=e;var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o];i.push([e[0],s])}return[n].concat(i)}return n},t.prototype.computeMask=function(e,t){var n=this;return Object(Vv.Wc)(function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map(function(e){return null});return[e].concat(r)}return e})},Object.defineProperty(t.prototype,"states",{get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e},enumerable:!0,configurable:!0}),t.prototype.build=function(e){if(null!=this.numConstants)throw new ty("Constants support is not implemented in RNN yet.");xw(e)&&(e=e[0]),e=e;var t=this.stateful?e[0]:null,n=e[e.length-1];this.inputSpec[0]=new Iw({shape:[t,null,n]});var r,i=[e[0]].concat(e.slice(2));if(this.cell.build(i),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!Vv.dd.arraysEqual(this.stateSpec.map(function(e){return e.shape[e.shape.length-1]}),r))throw new ey("An initialState was passed that is not compatible with cell.stateSize. Received stateSpec="+this.stateSpec+"; However cell.stateSize is "+this.cell.stateSize)}else this.stateSpec=r.map(function(e){return new Iw({shape:[null,e]})});this.stateful&&this.resetStates()},t.prototype.resetStates=function(e,t){var n=this;void 0===t&&(t=!1),Object(Vv.Wc)(function(){if(!n.stateful)throw new Jv("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=n.inputSpec[0].shape[0];if(null==r)throw new ey("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==n.states_)Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map(function(e){return Object(Vv.id)([r,e])}):n.states_=[Object(Vv.id)([r,n.cell.stateSize])];else if(null==e)Object(Vv.R)(n.states_),null!=n.keptStates&&(Object(Vv.R)(n.keptStates),n.keptStates=[]),Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map(function(e){return Object(Vv.id)([r,e])}):n.states_[0]=Object(Vv.id)([r,n.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==n.states_.length)throw new ey("Layer "+n.name+" expects "+n.states_.length+" state(s), but it received "+e.length+" state value(s). Input received: "+e);!0===t?n.keptStates.push(n.states_.slice()):Object(Vv.R)(n.states_);for(var i=0;i<n.states_.length;++i){var o=e[i],a=Array.isArray(n.cell.stateSize)?n.cell.stateSize[i]:n.cell.stateSize,s=[r,a];if(!Vv.dd.arraysEqual(o.shape,s))throw new ey("State "+i+" is incompatible with layer "+n.name+": expected shape="+s+", received shape="+o.shape);n.states_[i]=o}}n.states_=n.states_.map(function(e){return Object(Vv.rb)(e.clone())})})},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var o=VE(t,r,i,this.numConstants);t=o.inputs,r=o.initialState,i=o.constants;var a=[],s=[];if(null!=r){n.initialState=r,a=a.concat(r),this.stateSpec=[];for(var u=0,l=r;u<l.length;u++){var c=l[u];this.stateSpec.push(new Iw({shape:c.shape}))}s=s.concat(this.stateSpec)}if(null!=i&&(n.constants=i,a=a.concat(i),this.numConstants=i.length),a[0]instanceof Rw){var f=[t].concat(a),p=this.inputSpec.concat(s),h=this.inputSpec;this.inputSpec=p;var d=e.prototype.apply.call(this,f,n);return this.inputSpec=h,d}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){var r=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;e=Cw(e),null==o&&(o=n.stateful?n.states_:n.getInitialState(e));var a=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(o.length!==a)throw new ey("RNN Layer has "+a+" state(s) but was passed "+o.length+" initial state(s).");n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:i},u=HE(function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]},e,o,n.goBackwards,r,null,n.unroll,n.returnSequences),l=u[0],c=u[1],f=u[2];n.stateful&&n.resetStates(f,i);var p=n.returnSequences?c:l;return n.returnState?[p].concat(f):p})},t.prototype.getInitialState=function(e){var t=this;return Object(Vv.Wc)(function(){var n=Object(Vv.id)(e.shape);return n=lb(n=Object(Vv.Oc)(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map(function(e){return e>1?yb(n,[1,e]):n}):t.cell.stateSize>1?[yb(n,[1,t.cell.stateSize])]:[n]})},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.trainable?this.cell.trainableWeights:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var n=this.cell.getConfig();t.cell={className:this.cell.getClassName(),config:n};var r=e.prototype.getConfig.call(this);return Object.assign(t,r),t},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=tx(t.cell,n);return new e(Object.assign(t,{cell:r}))},t.className="RNN",t}(Dw);Vv.rc.registerClass(GE);var qE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t}(Dw),KE=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,xy(n.units,"units"),n.activation=hC(null==t.activation?n.DEFAULT_ACTIVATION:t.activation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=ew(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=ew(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=ew(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=_C(t.kernelRegularizer),n.recurrentRegularizer=_C(t.recurrentRegularizer),n.biasRegularizer=_C(t.biasRegularizer),n.kernelConstraint=My(t.kernelConstraint),n.recurrentConstraint=My(t.recurrentConstraint),n.biasConstraint=My(t.biasConstraint),n.dropout=ob([1,ab([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=ob([1,ab([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Gv(t,e),t.prototype.build=function(e){e=Ew(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){if(2!==(e=e).length)throw new ey("SimpleRNNCell expects 2 input Tensors, got "+e.length+".");var r=e[1];e=e[0];var i,o=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=eS(function(){return Object(Vv.Xb)(e)},n.dropout,o)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=eS(function(){return Object(Vv.Xb)(r)},n.recurrentDropout,o));var a=n.dropoutMask,s=n.recurrentDropoutMask;i=wb(null!=a?Object(Vv.Pb)(e,a):e,n.kernel.read()),null!=n.bias&&(i=Eb(i,n.bias.read())),null!=s&&(r=Object(Vv.Pb)(r,s));var u=Object(Vv.f)(i,wb(r,n.recurrentKernel.read()));return null!=n.activation&&(u=n.activation.apply(u)),[u,u]})},t.prototype.getConfig=function(){var t={units:this.units,activation:fC(this.activation),useBias:this.useBias,kernelInitializer:Qb(this.kernelInitializer),recurrentInitializer:Qb(this.recurrentInitializer),biasInitializer:Qb(this.biasInitializer),kernelRegularizer:wC(this.kernelRegularizer),recurrentRegularizer:wC(this.recurrentRegularizer),biasRegularizer:wC(this.biasRegularizer),activityRegularizer:wC(this.activityRegularizer),kernelConstraint:Ry(this.kernelConstraint),recurrentConstraint:Ry(this.recurrentConstraint),biasConstraint:Ry(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="SimpleRNNCell",t}(qE);Vv.rc.registerClass(KE);var XE=function(e){function t(t){return t.cell=new KE(t),e.call(this,t)||this}return Gv(t,e),t.prototype.call=function(t,n){var r=this;return Object(Vv.Wc)(function(){null!=r.cell.dropoutMask&&(Object(Vv.R)(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Object(Vv.R)(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,o=null==n?null:n.training,a=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:i,training:o,initialState:a})})},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:fC(this.activation),useBias:this.useBias,kernelInitializer:Qb(this.kernelInitializer),recurrentInitializer:Qb(this.recurrentInitializer),biasInitializer:Qb(this.biasInitializer),kernelRegularizer:wC(this.kernelRegularizer),recurrentRegularizer:wC(this.recurrentRegularizer),biasRegularizer:wC(this.biasRegularizer),activityRegularizer:wC(this.activityRegularizer),kernelConstraint:Ry(this.kernelConstraint),recurrentConstraint:Ry(this.recurrentConstraint),biasConstraint:Ry(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return new e(t)},t.className="SimpleRNN",t}(GE);Vv.rc.registerClass(XE);var YE=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,xy(n.units,"units"),n.activation=hC(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=hC(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=ew(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=ew(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=ew(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=_C(t.kernelRegularizer),n.recurrentRegularizer=_C(t.recurrentRegularizer),n.biasRegularizer=_C(t.biasRegularizer),n.kernelConstraint=My(t.kernelConstraint),n.recurrentConstraint=My(t.recurrentConstraint),n.biasConstraint=My(t.biasConstraint),n.dropout=ob([1,ab([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=ob([1,ab([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Gv(t,e),t.prototype.build=function(e){var t=(e=Ew(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){if(2!==(e=e).length)throw new ey("GRUCell expects 2 input Tensors (inputs, h, c), got "+e.length+".");var r=null!=t.training&&t.training,i=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=eS(function(){return Object(Vv.Xb)(e)},n.dropout,r,3)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=eS(function(){return Object(Vv.Xb)(i)},n.recurrentDropout,r,3));var o,a,s,u=n.dropoutMask,l=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=Object(Vv.Pb)(e,u[0]));var c=wb(e,n.kernel.read());n.useBias&&(c=Eb(c,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(i=Object(Vv.Pb)(i,l[0]));var f=n.recurrentKernel.read(),p=Object(Vv.Gc)(f,[2*n.units,n.units],f.rank-1),h=p[0],d=p[1],m=wb(i,h),g=Object(Vv.Gc)(c,3,c.rank-1),v=g[0],y=g[1],b=g[2],w=Object(Vv.Gc)(m,2,m.rank-1),x=w[0],_=w[1];o=n.recurrentActivation.apply(Object(Vv.f)(v,x)),a=n.recurrentActivation.apply(Object(Vv.f)(y,_));var C=wb(Object(Vv.Pb)(a,i),d);s=n.activation.apply(Object(Vv.f)(b,C));var E=Object(Vv.f)(Object(Vv.Pb)(o,i),Object(Vv.Pb)(Object(Vv.f)(1,Object(Vv.Sb)(o)),s));return[E,E]})},t.prototype.getConfig=function(){var t={units:this.units,activation:fC(this.activation),recurrentActivation:fC(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Qb(this.kernelInitializer),recurrentInitializer:Qb(this.recurrentInitializer),biasInitializer:Qb(this.biasInitializer),kernelRegularizer:wC(this.kernelRegularizer),recurrentRegularizer:wC(this.recurrentRegularizer),biasRegularizer:wC(this.biasRegularizer),activityRegularizer:wC(this.activityRegularizer),kernelConstraint:Ry(this.kernelConstraint),recurrentConstraint:Ry(this.recurrentConstraint),biasConstraint:Ry(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="GRUCell",t}(qE);Vv.rc.registerClass(YE);var ZE=function(e){function t(t){return 0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new YE(t),e.call(this,t)||this}return Gv(t,e),t.prototype.call=function(t,n){var r=this;return Object(Vv.Wc)(function(){null!=r.cell.dropoutMask&&(Object(Vv.R)(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Object(Vv.R)(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,o=null==n?null:n.training,a=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:i,training:o,initialState:a})})},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:fC(this.activation),recurrentActivation:fC(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Qb(this.kernelInitializer),recurrentInitializer:Qb(this.recurrentInitializer),biasInitializer:Qb(this.biasInitializer),kernelRegularizer:wC(this.kernelRegularizer),recurrentRegularizer:wC(this.recurrentRegularizer),biasRegularizer:wC(this.biasRegularizer),activityRegularizer:wC(this.activityRegularizer),kernelConstraint:Ry(this.kernelConstraint),recurrentConstraint:Ry(this.recurrentConstraint),biasConstraint:Ry(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className="GRU",t}(GE);Vv.rc.registerClass(ZE);var $E=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,xy(n.units,"units"),n.activation=hC(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=hC(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=ew(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=ew(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=ew(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=t.unitForgetBias,n.kernelRegularizer=_C(t.kernelRegularizer),n.recurrentRegularizer=_C(t.recurrentRegularizer),n.biasRegularizer=_C(t.biasRegularizer),n.kernelConstraint=My(t.kernelConstraint),n.recurrentConstraint=My(t.recurrentConstraint),n.biasConstraint=My(t.biasConstraint),n.dropout=ob([1,ab([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=ob([1,ab([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=[n.units,n.units],n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Gv(t,e),t.prototype.build=function(e){var t,n,r=(e=Ew(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var i=this.biasInitializer,o=this.units;n=new((t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gv(t,e),t.prototype.apply=function(e,t){var n=i.apply([o]),r=(new Db).apply([o]),a=i.apply([2*o]);return vb(vb(n,r),a)},t}(Mb)).className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){var r=null!=t.training&&t.training;if(3!==(e=e).length)throw new ey("LSTMCell expects 3 input Tensors (inputs, h, c), got "+e.length+".");var i=e[1],o=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=eS(function(){return Object(Vv.Xb)(e)},n.dropout,r,4)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=eS(function(){return Object(Vv.Xb)(i)},n.recurrentDropout,r,4));var a,s,u,l,c=n.dropoutMask,f=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=Object(Vv.Pb)(e,c[0]));var p=wb(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(i=Object(Vv.Pb)(i,f[0])),p=Object(Vv.f)(p,wb(i,n.recurrentKernel.read())),n.useBias&&(p=Eb(p,n.bias.read()));var h=Object(Vv.Gc)(p,4,p.rank-1),d=h[0],m=h[1],g=h[2],v=h[3];a=n.recurrentActivation.apply(d),s=n.recurrentActivation.apply(m),u=Object(Vv.f)(Object(Vv.Pb)(s,o),Object(Vv.Pb)(a,n.activation.apply(g))),l=n.recurrentActivation.apply(v);var y=Object(Vv.Pb)(l,n.activation.apply(u));return[y,y,u]})},t.prototype.getConfig=function(){var t={units:this.units,activation:fC(this.activation),recurrentActivation:fC(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Qb(this.kernelInitializer),recurrentInitializer:Qb(this.recurrentInitializer),biasInitializer:Qb(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:wC(this.kernelRegularizer),recurrentRegularizer:wC(this.recurrentRegularizer),biasRegularizer:wC(this.biasRegularizer),activityRegularizer:wC(this.activityRegularizer),kernelConstraint:Ry(this.kernelConstraint),recurrentConstraint:Ry(this.recurrentConstraint),biasConstraint:Ry(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LSTMCell",t}(qE);Vv.rc.registerClass($E);var JE=function(e){function t(t){return 0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new $E(t),e.call(this,t)||this}return Gv(t,e),t.prototype.call=function(t,n){var r=this;return Object(Vv.Wc)(function(){null!=r.cell.dropoutMask&&(Object(Vv.R)(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Object(Vv.R)(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,o=null==n?null:n.training,a=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:i,training:o,initialState:a})})},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unitForgetBias",{get:function(){return this.cell.unitForgetBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:fC(this.activation),recurrentActivation:fC(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Qb(this.kernelInitializer),recurrentInitializer:Qb(this.recurrentInitializer),biasInitializer:Qb(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:wC(this.kernelRegularizer),recurrentRegularizer:wC(this.recurrentRegularizer),biasRegularizer:wC(this.biasRegularizer),activityRegularizer:wC(this.activityRegularizer),kernelConstraint:Ry(this.kernelConstraint),recurrentConstraint:Ry(this.recurrentConstraint),biasConstraint:Ry(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className="LSTM",t}(GE);Vv.rc.registerClass(JE);var QE=function(e){function t(t){var n=e.call(this,t)||this;return n.cells=t.cells,n}return Gv(t,e),Object.defineProperty(t.prototype,"stateSize",{get:function(){for(var e=[],t=0,n=this.cells.slice().reverse();t<n.length;t++){var r=n[t];Array.isArray(r.stateSize)?e.push.apply(e,r.stateSize):e.push(r.stateSize)}return e},enumerable:!0,configurable:!0}),t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){for(var r=(e=e).slice(1),i=[],o=0,a=n.cells.slice().reverse();o<a.length;o++){var s=a[o];Array.isArray(s.stateSize)?i.push(r.splice(0,s.stateSize.length)):i.push(r.splice(0,1))}i.reverse();for(var u,l=[],c=0;c<n.cells.length;++c)s=n.cells[c],r=i[c],u=0===c?[e[0]].concat(r):[u[0]].concat(r),u=s.call(u,t),l.push(u.slice(1));r=[];for(var f=0,p=l.slice().reverse();f<p.length;f++){var h=p[f];r.push.apply(r,h)}return[u[0]].concat(r)})},t.prototype.build=function(e){var t;xw(e)&&(e=e[0]),e=e,this.cells.forEach(function(n,r){Zy("RNNCell_"+r,function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]})}),this.built=!0},t.prototype.getConfig=function(){for(var t=[],n=0,r=this.cells;n<r.length;n++){var i=r[n];t.push({className:i.getClassName(),config:i.getConfig()})}var o={cells:t},a=e.prototype.getConfig.call(this);return Object.assign(o,a),o},t.fromConfig=function(e,t,n){void 0===n&&(n={});for(var r=[],i=0,o=t.cells;i<o.length;i++){var a=o[i];r.push(tx(a,n))}return new e({cells:r})},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){if(!this.trainable)return[];for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],o=0,a=this.cells;o<a.length;o++)r=a[o],i.push.apply(i,r.trainableWeights);return i.concat(e)}return e},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.weights)}return Nw(e)},t.prototype.setWeights=function(e){for(var t=[],n=0,r=this.cells;n<r.length;n++)for(var i=r[n],o=i.weights.length,a=e.splice(o),s=0;s<i.weights.length;++s)t.push([i.weights[s],a[s]]);Aw(t)},t.className="StackedRNNCells",t}(qE);function eS(e,t,n,r){function i(){return Ob(e(),t)}if(void 0===n&&(n=null),void 0===r&&(r=1),r>1){for(var o=[],a=0;a<r;a++)o.push(Nb(i,e,n));return o.map(function(e){return Object(Vv.rb)(e.clone())})}return Object(Vv.rb)(Nb(i,e,n).clone())}Vv.rc.registerClass(QE);var tS=function(e){function t(t){var n=e.call(this,t)||this;return n.layer=t.layer,n}return Gv(t,e),t.prototype.build=function(e){this.built=!0},Object.defineProperty(t.prototype,"trainable",{get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.layer.trainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.layer.nonTrainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updates",{get:function(){return this.layer._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"losses",{get:function(){return this.layer.losses},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.layer.getWeights()},t.prototype.setWeights=function(e){this.layer.setWeights(e)},t.prototype.getConfig=function(){var t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(t)},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=tx(t.layer,n);delete t.layer;var i={layer:r};return Object.assign(i,t),new e(i)},t}(Dw),nS=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n}return Gv(t,e),t.prototype.build=function(t){if((t=Ew(t)).length<3)throw new ey("TimeDistributed layer expects an input shape >= 3D, but received input shape "+JSON.stringify(t));this.inputSpec=[{shape:t}];var n=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),e.prototype.build.call(this,t)},t.prototype.computeOutputShape=function(e){var t=[(e=Ew(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){return HE(function(e,r){return[Cw(n.layer.call(e,t)),[]]},e=Cw(e),[],!1,null,null,!1,!0)[1]})},t.className="TimeDistributed",t}(tS);function rS(e){by(Vy,"BidirectionalMergeMode",e)}Vv.rc.registerClass(nS);var iS="concat",oS=function(e){function t(t){var n=e.call(this,t)||this,r=t.layer.getConfig(),i={};i.className=t.layer.getClassName(),i.config=r,n.forwardLayer=tx(i),r.goBackwards=!0!==r.goBackwards;var o={};if(o.className=t.layer.getClassName(),o.config=r,n.backwardLayer=tx(o),n.forwardLayer.name="forward_"+n.forwardLayer.name,n.backwardLayer.name="backward_"+n.backwardLayer.name,n.mergeMode=void 0===t.mergeMode?iS:t.mergeMode,rS(n.mergeMode),t.weights)throw new ty("weights support is not implemented for Bidirectional layer yet.");return n._stateful=t.layer.stateful,n.returnSequences=t.layer.returnSequences,n.returnState=t.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=t.layer.inputSpec,n.numConstants=null,n}return Gv(t,e),Object.defineProperty(t.prototype,"trainable",{get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())},t.prototype.setWeights=function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))},t.prototype.computeOutputShape=function(e){var t,n,r,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),i=i,this.returnState?(r=i.slice(1),t=i[0]):t=i[0],t=t,"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):sy(n)},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var o=VE(t,r,i,this.numConstants);if(t=o.inputs,r=o.initialState,i=o.constants,Array.isArray(t)&&(r=t.slice(1),t=t[0]),(null==r||0===r.length)&&null==i)return e.prototype.apply.call(this,t,n);var a=[],s=[];if(null!=r){var u=r.length;if(u%2>0)throw new ey("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,a.push.apply(a,r);var l=r.map(function(e){return new Iw({shape:e.shape})});this.forwardLayer.stateSpec=l.slice(0,u/2),this.backwardLayer.stateSpec=l.slice(u/2),s.push.apply(s,l)}if(null!=i)throw new ty("Support for constants in Bidirectional layers is not implemented yet.");for(var c=a[0]instanceof Rw,f=0,p=a;f<p.length;f++)if(p[f]instanceof Rw!==c)throw new ey("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(c){var h=[t].concat(a),d=this.inputSpec.concat(s),m=this.inputSpec;this.inputSpec=d;var g=e.prototype.apply.call(this,h,n);return this.inputSpec=m,g}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return Object(Vv.Wc)(function(){var r,i,o,a,s=t.initialState;if(null==s)r=n.forwardLayer.call(e,t),i=n.backwardLayer.call(e,t);else{var u=s.slice(0,s.length/2),l=s.slice(s.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:u})),i=n.backwardLayer.call(e,Object.assign(t,{initialState:l}))}return n.returnState&&(Array.isArray(r)&&(o=r.slice(1).concat(i.slice(1))),r=r[0],i=i[0]),n.returnSequences&&(i=Object(Vv.jc)(i,1)),"concat"===n.mergeMode?a=gb([r,i]):"sum"===n.mergeMode?a=Object(Vv.f)(r,i):"ave"===n.mergeMode?a=Object(Vv.Pb)(.5,Object(Vv.f)(r,i)):"mul"===n.mergeMode?a=Object(Vv.Pb)(r,i):null==n.mergeMode&&(a=[r,i]),n.returnState?null==n.mergeMode?a.concat(o):[a].concat(o):a})},t.prototype.resetStates=function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()},t.prototype.build=function(e){var t=this;Zy(this.forwardLayer.name,function(){t.forwardLayer.build(e)}),Zy(this.backwardLayer.name,function(){t.backwardLayer.build(e)}),this.built=!0},t.prototype.computeMask=function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map(function(e){return null});return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(t),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={mergeMode:this.mergeMode},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.fromConfig=function(e,t){var n=tx(t.layer);if(delete t.layer,null!=t.numConstants)throw new ty("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)},t.className="Bidirectional",t}(tS);function aS(e){return new Uw(e)}function sS(e){return new kC(e)}function uS(e){return new CC(e)}function lS(e){return new EC(e)}function cS(e){return new SC(e)}function fS(e){return new TC(e)}function pS(e){return new OC(e)}function hS(e){return new HC(e)}function dS(e){return new zC(e)}function mS(e){return new UC(e)}function gS(e){return new BC(e)}function vS(e){return new VC(e)}function yS(e){return new GC(e)}function bS(e){return new qC(e)}function wS(e){return new XC(e)}function xS(e){return new QC(e)}function _S(e){return new $C(e)}function CS(e){return new YC(e)}function ES(e){return new ZC(e)}function SS(e){return new JC(e)}function kS(e){return new eE(e)}function OS(e){return new tE(e)}function TS(e){return new nE(e)}function NS(e){return new iE(e)}function AS(e){return new aE(e)}function IS(e){return new uE(e)}function RS(e){return new fE(e)}function PS(e){return new lE(e)}function MS(e){return new cE(e)}function jS(e){return new sE(e)}function DS(e){return new dE(e)}function LS(e){return new _E(e)}function FS(e){return new CE(e)}function zS(e){return new SE(e)}function BS(e){return new AE(e)}function US(e){return BS(e)}function WS(e){return BS(e)}function VS(e){return new PE(e)}function HS(e){return VS(e)}function GS(e){return VS(e)}function qS(e){return new DE(e)}function KS(e){return qS(e)}function XS(e){return qS(e)}function YS(e){return new FE(e)}function ZS(e){return new UE(e)}function $S(e){return new zE(e)}function JS(e){return new WE(e)}function QS(e){return new NE(e)}function ek(e){return new RE(e)}function tk(e){return new jE(e)}function nk(e){return new ZE(e)}function rk(e){return new YE(e)}function ik(e){return new JE(e)}function ok(e){return new $E(e)}function ak(e){return new XE(e)}function sk(e){return new KE(e)}function uk(e){return new GE(e)}function lk(e){return new QE(e)}function ck(e){return new oS(e)}function fk(e){return new nS(e)}Vv.rc.registerClass(oS);var pk=$S,hk=JS,dk=QS,mk=ek;function gk(e){return new mE(e)}function vk(e){return new gE(e)}function yk(e){return new vE(e)}function bk(e){return new rE(e)}var wk=Object.freeze({inputLayer:aS,elu:sS,reLU:uS,leakyReLU:lS,prelu:cS,softmax:fS,thresholdedReLU:pS,conv1d:hS,conv2d:dS,conv2dTranspose:mS,conv3d:gS,separableConv2d:vS,cropping2D:yS,upSampling2d:bS,depthwiseConv2d:wS,activation:xS,dense:_S,dropout:CS,spatialDropout1d:ES,flatten:SS,repeatVector:kS,reshape:OS,permute:TS,embedding:NS,add:AS,average:IS,concatenate:RS,maximum:PS,minimum:MS,multiply:jS,dot:DS,batchNormalization:LS,layerNormalization:FS,zeroPadding2d:zS,averagePooling1d:BS,avgPool1d:US,avgPooling1d:WS,averagePooling2d:VS,avgPool2d:HS,avgPooling2d:GS,averagePooling3d:qS,avgPool3d:KS,avgPooling3d:XS,globalAveragePooling1d:YS,globalAveragePooling2d:ZS,globalMaxPooling1d:$S,globalMaxPooling2d:JS,maxPooling1d:QS,maxPooling2d:ek,maxPooling3d:tk,gru:nk,gruCell:rk,lstm:ik,lstmCell:ok,simpleRNN:ak,simpleRNNCell:sk,rnn:uk,stackedRNNCells:lk,bidirectional:ck,timeDistributed:fk,globalMaxPool1d:pk,globalMaxPool2d:hk,maxPool1d:dk,maxPool2d:mk,Layer:Dw,RNN:GE,RNNCell:qE,input:Z_,gaussianNoise:gk,gaussianDropout:vk,alphaDropout:yk,masking:bk});function xk(e,t){return wx(e,t)}function _k(e,t){return Ox(e,t)}function Ck(e,t){return Tx(e,t)}function Ek(e,t){return xx(e,t)}function Sk(e,t){return jx(e,t)}function kk(e,t){return Sx(e,t)}function Ok(e,t){return kx(e,t)}function Tk(e,t){return vx(e,t)}function Nk(e,t){return ix(e,t)}function Ak(e,t){return ox(e,t)}function Ik(e,t){return ox(e,t)}function Rk(e,t){return ox(e,t)}function Pk(e,t){return rx(e,t)}function Mk(e,t){return rx(e,t)}function jk(e,t){return rx(e,t)}var Dk=Object.freeze({binaryAccuracy:xk,binaryCrossentropy:_k,sparseCategoricalAccuracy:Ck,categoricalAccuracy:Ek,categoricalCrossentropy:Sk,precision:kk,recall:Ok,cosineProximity:Tk,meanAbsoluteError:Nk,meanAbsolutePercentageError:Ak,MAPE:Ik,mape:Rk,meanSquaredError:Pk,MSE:Mk,mse:jk}),Lk=Object.freeze({modelFromJSON:W_});function Fk(e){return new gC(e)}function zk(e){return vC(e)}function Bk(e){return yC(e)}var Uk=Object.freeze({l1l2:Fk,l1:zk,l2:Bk}),Wk;function Vk(e,t){return e<t}function Hk(e,t){return e>t}var Gk=function(e){function t(t){var n=e.call(this)||this;if(null==t&&(t={}),t.restoreBestWeights)throw new ty("restoreBestWeights = True is not implemented in EarlyStopping yet.");return n.monitor=t.monitor||"val_loss",n.minDelta=Math.abs(t.minDelta||0),n.patience=t.patience||0,n.verbose=t.verbose||0,n.mode=t.mode||"auto",n.baseline=t.baseline,-1===["auto","min","max"].indexOf(n.mode)&&(console.warn("EarlyStopping mode '"+n.mode+"' is invalid. Falling back to mode 'auto'."),n.mode="auto"),"min"===n.mode?n.monitorFunc=Vk:"max"===n.mode?n.monitorFunc=Hk:-1!==n.monitor.indexOf("acc")?n.monitorFunc=Hk:n.monitorFunc=Vk,n.monitorFunc===Vk&&(n.minDelta*=-1),n}return Gv(t,e),t.prototype.onTrainBegin=function(e){return Xv(this,void 0,void 0,function(){return Yv(this,function(e){return this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===Vk?1/0:-1/0,[2]})})},t.prototype.onEpochEnd=function(e,t){return Xv(this,void 0,void 0,function(){var n;return Yv(this,function(r){switch(r.label){case 0:return[4,Hw(t)];case 1:return r.sent(),null==(n=this.getMonitorValue(t))?[2]:(this.monitorFunc(n-this.minDelta,this.best)?(this.best=n,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0)),[2])}})})},t.prototype.onTrainEnd=function(e){return Xv(this,void 0,void 0,function(){return Yv(this,function(e){return this.stoppedEpoch>0&&this.verbose&&console.log("Epoch "+this.stoppedEpoch+": early stopping."),[2]})})},t.prototype.getMonitorValue=function(e){null==e&&(e={});var t=e[this.monitor];return null==t&&console.warn("Metric for EarlyStopping "+this.monitor+" is not available. Available metrics are: "+Object.keys(e)),t},t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.model=null,t}return Gv(t,e),t.prototype.setModel=function(e){if(!(e instanceof U_))throw new Error("model must be a LayersModel, not some other Container");this.model=e},t}(Kw));function qk(e){return new Gk(e)}var Kk=qk,Xk=n(114),Yk=n(115),Zk="1.7.0",$k=Vv.fd,Jk=Yk.a,Qk="1.7.0",eO=Xk.b,tO="1.7.0",nO=n(560);function rO(e){"@babel/helpers - typeof";return(rO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function iO(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function oO(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){iO(o,r,i,a,s,"next",e)}function s(e){iO(o,r,i,a,s,"throw",e)}a(void 0)})}}function aO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uO(e,t,n){return t&&sO(e.prototype,t),n&&sO(e,n),e}function lO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cO(e,t)}function cO(e,t){return(cO=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function fO(e){return function(){var t=mO(e),n;if(dO()){var r=mO(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return pO(this,n)}}function pO(e,t){return!t||"object"!==rO(t)&&"function"!=typeof t?hO(e):t}function hO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dO(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function mO(e){return(mO=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var gO=function(e){lO(n,e);var t=fO(n);function n(){var e;aO(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={canvasImageBlob:null,image:""},e.canvasObject=null,e.onChange=function(){var t=oO(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function t(r){for(;;)switch(r.prev=r.next){case 0:n.canvas.drawing.toBlob(function(){var t=oO(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function t(r){for(;;)switch(r.prev=r.next){case 0:e.setState({canvasImageBlob:n},function(){return e.predict()});case 1:case"end":return r.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return r.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.predict=oO(regeneratorRuntime.mark(function t(){var n,r,i,o,a,s,u,l,c,f;return regeneratorRuntime.wrap(function t(p){for(;;)switch(p.prev=p.next){case 0:return n=e.state.canvasImageBlob,p.t0=Wv,p.next=4,n.arrayBuffer();case 4:return p.t1=p.sent,p.next=7,p.t0.read.call(p.t0,p.t1);case 7:return r=(r=p.sent).resize(28,28).invert().greyscale(),p.next=11,r.getBase64Async("image/jpeg");case 11:for(i=p.sent,e.setState({image:i}),o=[],a=0;a<28;a++)for(s=0;s<28;s++)o.push(Wv.intToRGBA(r.getPixelColor(s,a)).r/255);u=e.model.predict(Vv.Uc(o,[1,28,28,1])),l=-1,c=-1,f=u.dataSync(),Object.keys(f).forEach(function(e){f[e]>c&&(l=parseInt(e,10),c=f[e])}),hh("I guess the digit you draw is ".concat(l,", ").concat(Math.floor(100*c,3),"%"));case 21:case"end":return p.stop()}},t)})),e.clear=function(){e.canvasObject.clear()},e}return uO(n,[{key:"componentWillMount",value:function(){var e=oO(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y_("/playground/model/mnist/model.json");case 2:this.model=t.sent;case 3:case"end":return t.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function e(){var t=this;return or.a.createElement("div",{className:"mnist"},or.a.createElement("div",{className:"toast"},"you can draw a digit here and predict it"),or.a.createElement(Op,{size:"small",className:"clear-button",onClick:this.clear},"Clear Canvas"),or.a.createElement("div",{className:"contents"},or.a.createElement(Uv,{ref:function e(n){return t.canvasObject=n},onChange:this.onChange,canvasWidth:600,canvasHeight:600,brushColor:"#000",brushRadius:25}),or.a.createElement("img",{alt:"mnist",height:"128",width:"128",src:this.state.image,className:"input-image"})))}}]),n}(ir.Component),vO=n(238),yO=n(561),bO=n(562),wO=n(563),xO=n(564);function _O(e){"@babel/helpers - typeof";return(_O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function CO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SO(e,t,n){return t&&EO(e.prototype,t),n&&EO(e,n),e}function kO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OO(e,t)}function OO(e,t){return(OO=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function TO(e){return function(){var t=RO(e),n;if(IO()){var r=RO(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return NO(this,n)}}function NO(e,t){return!t||"object"!==_O(t)&&"function"!=typeof t?AO(e):t}function AO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IO(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function RO(e){return(RO=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function PO(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function MO(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){PO(o,r,i,a,s,"next",e)}function s(e){PO(o,r,i,a,s,"throw",e)}a(void 0)})}}function jO(e){return DO.apply(this,arguments)}function DO(){return(DO=MO(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return n=new Promise(function(e){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var t=document.createElement("canvas"),n=t.getContext("2d");t.height=this.naturalHeight,t.width=this.naturalWidth,n.drawImage(this,0,0),t.toBlob(e)},n.src=t}),i.next=3,n;case 3:return r=i.sent,i.abrupt("return",r);case 5:case"end":return i.stop()}},e)}))).apply(this,arguments)}var LO=function(e){kO(n,e);var t=TO(n);function n(e){var r;return CO(this,n),(r=t.call(this,e)).onPredict=function(){var e=MO(regeneratorRuntime.mark(function e(t){var n,i,o,a,s,u,l,c;return regeneratorRuntime.wrap(function e(f){for(;;)switch(f.prev=f.next){case 0:return gh("Please give us some time to predict the result ..."),f.next=3,Wv.read(t);case 3:for(n=(n=f.sent).resize(256,256),i=[],o=0;o<256;o++)for(a=0;a<256;a++)i.push(Wv.intToRGBA(n.getPixelColor(o,a)).r/255-r.means[o][a][0]),i.push(Wv.intToRGBA(n.getPixelColor(o,a)).g/255-r.means[o][a][1]),i.push(Wv.intToRGBA(n.getPixelColor(o,a)).b/255-r.means[o][a][2]);s=r.model.predict(Vv.Uc(i,[1,256,256,3])),u=-1,l=-1,c=s.dataSync(),Object.keys(c).forEach(function(e){c[e]>l&&(u=parseInt(e,10),l=c[e])}),r.setState({imageResult:{type:r.labels[u],prob:l}}),vh();case 14:case"end":return f.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.onClickImg=function(){var e=MO(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jO(t);case 2:return n=i.sent,i.t0=r,i.next=6,n.arrayBuffer();case 6:i.t1=i.sent,i.t0.onPredict.call(i.t0,i.t1);case 8:case"end":return i.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.onClick=function(){r.inputElement.click()},r.onIptChange=MO(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return t=r.inputElement.files,i.next=3,new Promise(function(e,n){var r=new FileReader;r.readAsArrayBuffer(t[0]),r.onload=function(){return e(r.result)},r.onerror=function(e){return n(e)}});case 3:n=i.sent,r.onPredict(n);case 5:case"end":return i.stop()}},e)})),r.labels=["avator","blured background","icon","label","brand logo","item image","pure background","pure picture"],r.state={imageResult:{},imageList:[{url:"https://gw.alicdn.com/tfs/TB1ekuMhQY2gK0jSZFgXXc5OFXa-400-400.jpg",width:100,height:100},{url:"https://gw.alicdn.com/tfs/TB1xQqNhNv1gK0jSZFFXXb0sXXa-256-256.jpg",width:100,height:100},{url:"https://gw.alicdn.com/tfs/TB1lV9OhQT2gK0jSZPcXXcKkpXa-200-200.jpg",width:100,height:100},{url:"https://gw.alicdn.com/tfs/TB1vbWJhFY7gK0jSZKzXXaikpXa-400-400.jpg",width:100,height:100},{url:"https://gw.alicdn.com/tfs/TB1WkOLhNn1gK0jSZKPXXXvUXXa-800-800.jpg",width:100,height:100},{url:"https://gw.alicdn.com/tfs/TB1gUaJhKT2gK0jSZFvXXXnFXXa-732-331.jpg",width:100,height:50},{url:"https://gw.alicdn.com/tfs/TB17yuKhUY1gK0jSZFMXXaWcVXa-800-800.jpg",width:100,height:100},{url:"https://img.alicdn.com/tfs/TB1v6gPcQL0gK0jSZFAXXcA9pXa-64-26.png",width:32,height:13}]},r}return SO(n,[{key:"componentDidMount",value:function(){var e=MO(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return gh("loading model from assetsClassification..."),t.next=3,Xk.a("/playground/model/assetsClassification/model.json");case 3:return this.model=t.sent,t.next=6,rv.a.get("/playground/model/assetsClassification/mean.json");case 6:this.means=t.sent.data,vh();case 8:case"end":return t.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function e(){var t=this,n=this.state,r=n.imageResult,i=n.imageList,o=r&&JSON.stringify(r,null,2)||"";return or.a.createElement("div",{className:"asset-classification"},or.a.createElement("div",{className:"experienceInner"},or.a.createElement("h3",{className:"pageTitle"},"Front-end Assets Classification"),or.a.createElement("p",{className:"pageDescription"}),or.a.createElement("div",{style:{display:"flex",flexDirection:"space-between"}},or.a.createElement("div",{className:"content-item"},or.a.createElement("h4",{className:"label"},"Origin Image"),or.a.createElement("div",{className:"imageList"},i.map(function(e){return or.a.createElement("div",{key:e.url,className:"imageItem",onClick:function n(){t.onClickImg(e.url)}},or.a.createElement("img",{src:e.url,width:e.width,height:e.height,alt:"item"}))})),or.a.createElement("div",{className:"upload-wrap"},or.a.createElement("span",{className:"upload-btn",onClick:this.onClick},or.a.createElement("input",{ref:function e(n){return t.inputElement=n},onChange:this.onIptChange,type:"file",accept:"image/png, image/jpg, image/jpeg",multiple:"",style:{display:"none"}}),or.a.createElement("button",{type:"button",className:"btn-select-file"},"Select a Picture")))),or.a.createElement("div",{className:"content-item"},or.a.createElement("h4",{className:"label"},"Result"),or.a.createElement(vO.UnControlled,{value:o,options:{mode:"javascript",theme:"material",lineNumbers:!0,readOnly:!0}})))))}}]),n}(ir.Component),FO=n(565),zO=[{title:"Tutorials",cover:"https://img.alicdn.com/tfs/TB1K3ZQGHj1gK0jSZFuXXcrHpXa-450-240.png",description:"Learn how to get started with Pipcook in tutorials",url:"/index.html#/tutorial"},{title:"Pipeline",cover:"https://img.alicdn.com/tfs/TB14AUOGNv1gK0jSZFFXXb0sXXa-715-400.jpg",description:"Integrating the machine learning Pipeline into your workflow",url:"/index.html#/pipeline"}];function BO(){return or.a.createElement("div",{className:"home"},or.a.createElement(dp,{items:zO}))}var UO=n(566),WO,VO,HO=fg.Option,GO=function e(){};function qO(e,t,n){var r=KO(t,n);return e>r?r:e}function KO(e,t){var n=Math.ceil(e/t);return n<=0?1:n}var XO=(VO=WO=function(e){function t(n,r){_o()(this,t);var i=Eo()(this,e.call(this,n,r));return i.handleJump=function(e){var t=i.props.total,n=i.state,r=n.current,o=n.currentPageSize,a=n.inputValue,s=KO(t,o),u=parseInt(a,10);isNaN(u)?u="":u<1?u=1:u>s&&(u=s),u&&u!==r&&i.onPageItemClick(u,e),i.setState({inputValue:""})},i.state={current:n.defaultCurrent||1,currentPageSize:0,inputValue:""},i}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){var r=t.current,i=t.total,o=t.pageSize,a={},s=qO(r||n.current,i,o);return n.current!==s&&(a.current=s),n.currentPageSize!==o&&(a.currentPageSize=o),a},t.prototype.onPageItemClick=function e(t,n){"current"in this.props||this.setState({current:t}),this.props.onChange(t,n)},t.prototype.onInputChange=function e(t){this.setState({inputValue:t})},t.prototype.onSelectSize=function e(t){var n={currentPageSize:t},r=KO(this.props.total,t);this.state.current>r&&(n.current=r),this.setState(n),this.props.onPageSizeChange(t)},t.prototype.renderPageTotal=function e(){var t=this.props,n=t.prefix,r=t.total,i=t.totalRender,o=this.state,a=o.currentPageSize,s=o.current,u=[(s-1)*a+1,s*a];return or.a.createElement("div",{className:n+"pagination-total"},i(r,u))},t.prototype.renderPageItem=function e(t){var n,r=this.props,i=r.prefix,o=r.size,a=r.link,s=r.pageNumberRender,u=r.total,l=r.pageSize,c=r.locale,f=this.state.current,p=KO(u,l),h=parseInt(t,10)===f,d={size:o,className:Us()((n={},n[i+"pagination-item"]=!0,n[i+"current"]=h,n)),onClick:h?GO:this.onPageItemClick.bind(this,t)};return a&&(d.component="a",d.href=a.replace("{page}",t)),or.a.createElement(Op,yo()({"aria-label":Qa.template(c.total,{current:t,total:p})},d,{key:t}),s(t))},t.prototype.renderPageFirst=function e(t){var n,r=this.props,i=r.prefix,o=r.size,a=r.shape,s=r.locale,u,l={disabled:t<=1,size:o,className:Us()((n={},n[i+"pagination-item"]=!0,n[i+"prev"]=!0,n)),onClick:this.onPageItemClick.bind(this,t-1)},c=or.a.createElement(gu,{type:"arrow-left",className:i+"pagination-icon-prev"});return or.a.createElement(Op,yo()({},l,{"aria-label":Qa.template(s.labelPrev,{current:t})}),c,"arrow-only"===a||"arrow-prev-only"===a||"no-border"===a?"":s.prev)},t.prototype.renderPageLast=function e(t,n){var r,i=this.props,o=i.prefix,a=i.size,s=i.shape,u=i.locale,l,c={disabled:t>=n,size:a,className:Us()((r={},r[o+"pagination-item"]=!0,r[o+"next"]=!0,r)),onClick:this.onPageItemClick.bind(this,t+1)},f=or.a.createElement(gu,{type:"arrow-right",className:o+"pagination-icon-next"});return or.a.createElement(Op,yo()({},c,{"aria-label":Qa.template(u.labelNext,{current:t})}),"arrow-only"===s||"no-border"===s?"":u.next,f)},t.prototype.renderPageEllipsis=function e(t){var n=this.props.prefix;return or.a.createElement(gu,{className:n+"pagination-ellipsis "+n+"pagination-icon-ellipsis",type:"ellipsis",key:"ellipsis-"+t})},t.prototype.renderPageJump=function e(){var t=this,n=this.props,r=n.prefix,i=n.size,o=n.locale,a=this.state.inputValue;return[or.a.createElement("span",{className:r+"pagination-jump-text"},o.goTo),or.a.createElement(cm,{className:r+"pagination-jump-input",type:"text","aria-label":o.inputAriaLabel,size:i,value:a,onChange:this.onInputChange.bind(this),onKeyDown:function e(n){n.keyCode===rs.ENTER&&t.handleJump(n)}}),or.a.createElement("span",{className:r+"pagination-jump-text"},o.page),or.a.createElement(Op,{className:r+"pagination-jump-go",size:i,onClick:this.handleJump},o.go)]},t.prototype.renderPageDisplay=function e(t,n){var r=this.props,i=r.prefix,o=r.pageNumberRender;return or.a.createElement("span",{className:i+"pagination-display"},or.a.createElement("em",null,o(t)),"/",o(n))},t.prototype.renderPageList=function e(t,n){var r=this.props,i=r.prefix,o=r.pageShowCount,a=[];if(n<=o)for(var s=1;s<=n;s++)a.push(this.renderPageItem(s));else{var u=o-3,l=parseInt(u/2,10),c=void 0,f=void 0;a.push(this.renderPageItem(1)),f=t+l,(c=t-l)<=1&&(f=(c=2)+u),c>2&&a.push(this.renderPageEllipsis(1)),f>=n-1&&(f=n-1,c=n-1-u);for(var p=c;p<=f;p++)a.push(this.renderPageItem(p));f<n-1&&a.push(this.renderPageEllipsis(2)),a.push(this.renderPageItem(n))}return or.a.createElement("div",{className:i+"pagination-list"},a)},t.prototype.renderPageSizeSelector=function e(){var t=this.props,n=t.prefix,r=t.pageSizeSelector,i=t.locale,o=or.a.createElement("span",{className:n+"pagination-size-selector-title"},i.pageSize);switch(r){case"filter":return or.a.createElement("div",{className:n+"pagination-size-selector"},o,this.renderPageSizeFilter());case"dropdown":return or.a.createElement("div",{className:n+"pagination-size-selector"},o,this.renderPageSizeDropdown());default:return null}},t.prototype.renderPageSizeFilter=function e(){var t=this,n=this.props,r=n.prefix,i=n.size,o=n.pageSizeList,a=this.state.currentPageSize;return or.a.createElement("div",{className:r+"pagination-size-selector-filter"},o.map(function(e,n){var o,s=void 0,u=void 0;e.value?(s=e.label,u=e.value):s=u=e;var l=Us()(((o={})[r+"pagination-size-selector-btn"]=!0,o[r+"current"]=u===a,o));return or.a.createElement(Op,{key:n,text:!0,size:i,className:l,onClick:u!==a?t.onSelectSize.bind(t,u):null},s)}))},t.prototype.renderPageSizeDropdown=function e(){var t=this.props,n=t.prefix,r=t.size,i=t.pageSizeList,o=t.selectPopupContiner,a=t.locale,s=t.popupProps,u=this.state.currentPageSize;return or.a.createElement(fg,{className:n+"pagination-size-selector-dropdown",popupClassName:n+"pagination-size-selector-popup",popupContainer:o,popupProps:s,"aria-label":a.selectAriaLabel,autoWidth:!0,size:r,value:u,onChange:this.onSelectSize.bind(this)},i.map(function(e,t){var n=void 0,r=void 0;return e.value?(n=e.label,r=e.value):n=r=e,or.a.createElement(HO,{key:t,value:r},n)}))},t.prototype.render=function e(){var n,r=this,i=this.props,o=i.prefix,a=i.pure,s=i.rtl,u=i.device,l=i.type,c=i.size,f=i.shape,p=i.className,h=i.total,d=i.totalRender,m=i.pageSize,g=i.pageSizeSelector,v=i.pageSizeList,y=i.pageSizePosition,b=i.useFloatLayout,w=i.onPageSizeChange,x=i.hideOnlyOnePage,_=i.showJump,C=i.locale,E=i.current,S=i.defaultCurrent,k=i.pageShowCount,O=i.pageNumberRender,T=i.link,N=i.onChange,A=i.selectPopupContiner,I=i.popupProps,R=wo()(i,["prefix","pure","rtl","device","type","size","shape","className","total","totalRender","pageSize","pageSizeSelector","pageSizeList","pageSizePosition","useFloatLayout","onPageSizeChange","hideOnlyOnePage","showJump","locale","current","defaultCurrent","pageShowCount","pageNumberRender","link","onChange","selectPopupContiner","popupProps"]),P=this.state,M=P.current,j,D=KO(h,P.currentPageSize),L=this.renderPageFirst(M),F=this.renderPageLast(M,D),z=this.renderPageSizeSelector(),B="start"===y,U=l;"phone"===u&&"normal"===U&&(U="simple");var W=Us()(((n={})[o+"pagination"]=!0,n[""+o+c]=c,n[""+o+U]=U,n[""+o+f]=f,n[o+"start"]=!!g&&B&&b,n[o+"end"]=!!g&&!B&&b,n[o+"hide"]=D<=1&&x,n[p]=!!p,n));s&&(R.dir="rtl");var V=function e(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return or.a.createElement("div",yo()({className:W},Ja.pickOthers(Object.keys(t.propTypes),R)),B&&z,d?r.renderPageTotal():null,or.a.createElement("div",{className:o+"pagination-pages"},i.map(function(e,t){return e&&or.a.cloneElement(e,{key:t})})),!B&&z)};switch(U){case"mini":return V(L,F);case"simple":var H;return V(L,this.renderPageDisplay(M,D),F);case"normal":var G=this.renderPageList(M,D),q=_&&h>m*k?this.renderPageDisplay(M,D):null,K=_&&h>m*k?this.renderPageJump(M,D):null;return V.apply(void 0,[L,G,F,q].concat(K));default:return null}},t}(ir.Component),WO.propTypes=yo()({},zs.propTypes,{prefix:To.a.string,pure:To.a.bool,rtl:To.a.bool,device:To.a.oneOf(["desktop","tablet","phone"]),className:To.a.string,locale:To.a.object,type:To.a.oneOf(["normal","simple","mini"]),shape:To.a.oneOf(["normal","arrow-only","arrow-prev-only","no-border"]),size:To.a.oneOf(["small","medium","large"]),current:To.a.number,defaultCurrent:To.a.number,onChange:To.a.func,total:To.a.number,totalRender:To.a.func,pageShowCount:To.a.number,pageSize:To.a.number,pageSizeSelector:To.a.oneOf([!1,"filter","dropdown"]),pageSizeList:To.a.oneOfType([To.a.arrayOf(To.a.number),To.a.arrayOf(To.a.shape({label:To.a.string,value:To.a.number}))]),pageNumberRender:To.a.func,pageSizePosition:To.a.oneOf(["start","end"]),useFloatLayout:To.a.bool,onPageSizeChange:To.a.func,hideOnlyOnePage:To.a.bool,showJump:To.a.bool,link:To.a.string,selectPopupContiner:To.a.any,popupProps:To.a.object}),WO.defaultProps={prefix:"next-",pure:!1,rtl:!1,locale:Ao.Pagination,type:"normal",shape:"normal",size:"medium",defaultCurrent:1,onChange:GO,pageSize:10,pageSizeSelector:!1,pageSizeList:[5,10,20],pageSizePosition:"start",onPageSizeChange:GO,useFloatLayout:!1,total:100,pageShowCount:5,hideOnlyOnePage:!1,showJump:!0,pageNumberRender:function e(t){return t},selectPopupContiner:function e(t){return t.parentNode}},VO);XO.displayName="Pagination";var YO,ZO=zs.config(Object(No.polyfill)(XO)),$O=n(567),JO=n(568),QO=n(569),eT=n(118),tT=n.n(eT),nT,rT,iT=(rT=nT=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var n,r,i,o=this.props,a=o.tip,s=o.visible,u=o.children,l=o.className,c=o.style,f=o.indicator,p=o.color,h=o.prefix,d=o.fullScreen,m=o.onVisibleChange,g=o.tipAlign,v=o.size,y=o.inline,b=o.rtl,w=null,x=h+"loading-dot";if(f)w=f;else{var _,C=p,E=Us()(((_={})[h+"loading-fusion-reactor"]=!0,_[h+"loading-medium-fusion-reactor"]="medium"===v,_));w=or.a.createElement("div",{className:E,dir:b?"rtl":void 0},or.a.createElement("span",{className:x,style:{backgroundColor:C}}),or.a.createElement("span",{className:x,style:{backgroundColor:C}}),or.a.createElement("span",{className:x,style:{backgroundColor:C}}),or.a.createElement("span",{className:x,style:{backgroundColor:C}}))}var S=Us()(((n={})[h+"loading"]=!0,n[h+"open"]=s,n[h+"loading-inline"]=y,n[l]=l,n)),k=Us()(((r={})[h+"loading-tip"]=!0,r[h+"loading-tip-fullscreen"]=d,r[h+"loading-right-tip"]="right"===g,r)),O=Ja.pickOthers(t.propTypes,this.props),T=Us()(((i={})[h+"loading-component"]=s,i[h+"loading-wrap"]=!0,i));return d?[u,or.a.createElement(Cl,yo()({key:"overlay",hasMask:!0,align:"cc cc"},O,{className:l,style:c,visible:s,onRequestClose:m}),or.a.createElement("div",{className:k},or.a.createElement("div",{className:h+"loading-indicator"},w),or.a.createElement("div",{className:h+"loading-tip-content"},a),or.a.createElement("div",{className:h+"loading-tip-placeholder"},a)))]:or.a.createElement("div",yo()({className:S,style:c},O),s?or.a.createElement("div",{className:k},or.a.createElement("div",{className:h+"loading-indicator"},w),or.a.createElement("div",{className:h+"loading-tip-content"},a),or.a.createElement("div",{className:h+"loading-tip-placeholder"},a)):null,or.a.createElement("div",{className:T},s?or.a.createElement("div",{className:h+"loading-masker"}):null,u))},t}(or.a.Component),nT.propTypes={prefix:To.a.string,tip:To.a.any,tipAlign:To.a.oneOf(["right","bottom"]),visible:To.a.bool,onVisibleChange:To.a.func,className:To.a.string,style:To.a.object,size:To.a.oneOf(["large","medium"]),indicator:To.a.any,color:To.a.string,fullScreen:To.a.bool,children:To.a.any,inline:To.a.bool,rtl:To.a.bool},nT.defaultProps={prefix:"next-",visible:!0,onVisibleChange:Za.noop,animate:null,tipAlign:"bottom",size:"large",inline:!0},rT);iT.displayName="Loading";var oT=zs.config(iT),aT=["defaultProps","propTypes","contextTypes","childContextTypes","displayName","getDerivedStateFromProps"],sT=function e(t,n){Object.keys(n).forEach(function(e){-1===aT.indexOf(e)&&(t[e]=n[e])})},uT=function e(t,n){if(!t||!n)return!1;var r=(n=n.toString()).split("."),i=void 0,o=void 0;if(r.length&&((o=r[0]).indexOf("[")>=0?(o=o.match(/(.*)\[(.*)\]/))&&(i=t[o[1]][o[2]]):i=t[r[0]],i))for(var a=1;a<r.length&&void 0!==(i=i[r[a]]);a++);return i},lT,cT,fT=function e(){},pT=(cT=lT=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.onClick=function(e){var t=r.props,n=t.record,i=t.rowIndex;r.props.onClick(n,i,e)},r.onMouseEnter=function(e){var t=r.props,n=t.record,i=t.rowIndex,o,a=t.__rowIndex||i;r.onRowHover(n,a,!0,e)},r.onMouseLeave=function(e){var t=r.props,n=t.record,i=t.rowIndex,o,a=t.__rowIndex||i;r.onRowHover(n,a,!1,e)},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.shouldComponentUpdate=function e(t){var n;return!t.pure||!Ja.shallowEqual(this.props,t)},t.prototype.onRowHover=function e(t,n,r,i){var o=this.props,a=o.onMouseEnter,s=o.onMouseLeave,u=Object(er.findDOMNode)(this);r?(a(t,n,i),u&&Ka.addClass(u,"hovered")):(s(t,n,i),u&&Ka.removeClass(u,"hovered"))},t.prototype.renderCells=function e(t,n){var r=this,i=this.props,o=i.Cell,a=i.columns,s=i.getCellProps,u=i.cellRef,l=i.prefix,c=i.primaryKey,f=i.__rowIndex,p=i.pure,h=i.locale,d=i.rtl;n=void 0!==n?n:this.props.rowIndex;var m=this.context.lockType;return a.map(function(e,i){var g,v=e.dataIndex,y=e.align,b=e.alignHeader,w=e.width,x=e.colSpan,_=e.style,C=e.__colIndex,E=wo()(e,["dataIndex","align","alignHeader","width","colSpan","style","__colIndex"]),S="__colIndex"in e?C:i,k=uT(t,v),O=s(n,S,v,t)||{};if(r.context.notRenderCellIndex){var T=r.context.notRenderCellIndex.map(function(e){return e.toString()}).indexOf([n,S].toString());if(T>-1)return r.context.notRenderCellIndex.splice(T,1),null}(O.colSpan&&O.colSpan>1||O.rowSpan&&O.rowSpan>1)&&r._getNotRenderCellIndex(S,n,O.colSpan||1,O.rowSpan||1);var N=O.className,A=Us()(((g={first:"right"!==m&&0===S,last:"left"!==m&&(S===a.length-1||S+O.colSpan===a.length)})[e.className]=e.className,g[N]=N,g));return or.a.createElement(o,yo()({key:f+"-"+S},E,O,{"data-next-table-col":S,"data-next-table-row":n,ref:function e(t){return u(f,S,t)},prefix:l,pure:p,primaryKey:c,record:t,className:A,value:k,colIndex:S,rowIndex:n,align:y,locale:h,rtl:d,width:w}))})},t.prototype._getNotRenderCellIndex=function e(t,n,r,i){for(var o=r,a=i,s=[],u=0;u<o;u++)for(var l=0;l<a;l++)s.push([n+l,t+u]);[].push.apply(this.context.notRenderCellIndex,s)},t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.className,o=n.onClick,a=n.onMouseEnter,s=n.onMouseLeave,u=n.columns,l=n.Cell,c=n.getCellProps,f=n.rowIndex,p=n.record,h=n.__rowIndex,d=n.children,m=n.primaryKey,g=n.cellRef,v=n.colGroup,y=n.pure,b=n.locale,w=n.expandedIndexSimulate,x=n.rtl,_=n.wrapper,C=wo()(n,["prefix","className","onClick","onMouseEnter","onMouseLeave","columns","Cell","getCellProps","rowIndex","record","__rowIndex","children","primaryKey","cellRef","colGroup","pure","locale","expandedIndexSimulate","rtl","wrapper"]),E=Us()(((t={})[r+"table-row"]=!0,t[i]=i,t)),S;return _(or.a.createElement("tr",yo()({className:E,role:"row"},C,{onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),this.renderCells(p),d))},t}(or.a.Component),lT.propTypes={prefix:To.a.string,pure:To.a.bool,primaryKey:To.a.string,className:To.a.string,columns:To.a.array,record:To.a.any,Cell:To.a.func,rowIndex:To.a.number,getCellProps:To.a.func,onClick:To.a.func,onMouseEnter:To.a.func,onMouseLeave:To.a.func,children:To.a.any,cellRef:To.a.func,colGroup:To.a.object,locale:To.a.object,wrapper:To.a.func},lT.defaultProps={prefix:"next-",primaryKey:"id",columns:[],record:{},getCellProps:fT,onClick:fT,onMouseEnter:fT,onMouseLeave:fT,cellRef:fT,colGroup:{},wrapper:function e(t){return t}},lT.contextTypes={notRenderCellIndex:To.a.array,lockType:To.a.oneOf(["left","right"])},cT),hT,dT;pT.displayName="Row";var mT=(dT=hT=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.shouldComponentUpdate=function e(t){var n;return!t.pure||!Ja.shallowEqual(this.props,t)},t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.className,o=n.cell,a=n.value,s=n.resizable,u=n.colIndex,l=n.rowIndex,c=n.__colIndex,f=n.record,p=n.context,h=n.align,d=n.style,m=void 0===d?{}:d,g=n.component,v=n.children,y=n.title,b=n.width,w=n.innerStyle,x=n.primaryKey,_=n.__normalized,C=n.filterMode,E=n.filterMenuProps,S=n.filterProps,k=n.filters,O=n.sortable,T=n.lock,N=n.pure,A=n.locale,I=n.expandedIndexSimulate,R=n.rtl,P=n.isIconLeft,M=n.type,j=n.htmlTitle,D=wo()(n,["prefix","className","cell","value","resizable","colIndex","rowIndex","__colIndex","record","context","align","style","component","children","title","width","innerStyle","primaryKey","__normalized","filterMode","filterMenuProps","filterProps","filters","sortable","lock","pure","locale","expandedIndexSimulate","rtl","isIconLeft","type","htmlTitle"]),L=yo()({},m),F={value:a,index:l,record:f,context:p},z=o;or.a.isValidElement(z)?z=or.a.cloneElement(z,F):"function"==typeof z&&(z=z(a,l,f,p)),h&&(L.textAlign=h,R&&(L.textAlign="left"===h?"right":"right"===h?"left":h));var B=Us()(((t={})[r+"table-cell"]=!0,t[i]=i,t));return or.a.createElement(g,yo()({},D,{className:B,style:L,role:"gridcell"}),or.a.createElement("div",{className:r+"table-cell-wrapper",style:w,title:j,"data-next-table-col":c,"data-next-table-row":l},P?v:z,P?z:v))},t}(or.a.Component),hT.propTypes={prefix:To.a.string,pure:To.a.bool,primaryKey:To.a.string,className:To.a.string,record:To.a.any,value:To.a.any,isIconLeft:To.a.bool,colIndex:To.a.number,rowIndex:To.a.number,__colIndex:To.a.oneOfType([To.a.number,To.a.string]),title:To.a.any,width:To.a.oneOfType([To.a.number,To.a.string]),context:To.a.any,cell:To.a.oneOfType([To.a.element,To.a.node,To.a.func]),align:To.a.oneOf(["left","center","right"]),component:To.a.oneOf(["td","th","div"]),children:To.a.any,style:To.a.object,innerStyle:To.a.object,filterMode:To.a.oneOf(["single","multiple"]),filterMenuProps:To.a.object,filterProps:To.a.object,filters:To.a.array,sortable:To.a.bool,lock:To.a.any,type:To.a.oneOf(["header","body"]),resizable:To.a.bool,__normalized:To.a.bool},hT.defaultProps={component:"td",type:"body",isIconLeft:!1,cell:function e(t){return t},prefix:"next-"},dT),gT,vT;mT.displayName="Cell";var yT=function e(){},bT=(vT=gT=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.getRowRef=function(e,t){r.props.rowRef(e,t)},r.onRowClick=function(e,t,n){r.props.onRowClick(e,t,n)},r.onRowMouseEnter=function(e,t,n){r.props.onRowMouseEnter(e,t,n)},r.onRowMouseLeave=function(e,t,n){r.props.onRowMouseLeave(e,t,n)},r.onBodyMouseOver=function(e){r.props.onBodyMouseOver(e)},r.onBodyMouseOut=function(e){r.props.onBodyMouseOut(e)},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.prefix,i=n.className,o=n.children,a=n.component,s=n.colGroup,u=n.loading,l=n.emptyContent,c=n.components,f=n.getCellProps,p=n.primaryKey,h=n.getRowProps,d=n.dataSource,m=n.cellRef,g=n.columns,v=n.rowRef,y=n.onRowClick,b=n.onRowMouseEnter,w=n.onRowMouseLeave,x=n.onBodyMouseOver,_=n.onBodyMouseOut,C=n.locale,E=n.pure,S=n.expandedIndexSimulate,k=n.rtl,O=n.crossline,T=n.tableWidth,N=wo()(n,["prefix","className","children","component","colGroup","loading","emptyContent","components","getCellProps","primaryKey","getRowProps","dataSource","cellRef","columns","rowRef","onRowClick","onRowMouseEnter","onRowMouseLeave","onBodyMouseOver","onBodyMouseOut","locale","pure","expandedIndexSimulate","rtl","crossline","tableWidth"]),A=c.Row,I=void 0===A?pT:A,R=c.Cell,P=void 0===R?mT:R,M=u?or.a.createElement("span",null,"\xa0"):l||C.empty,j=or.a.createElement("tr",null,or.a.createElement("td",{colSpan:g.length},or.a.createElement("div",{className:r+"table-empty"},M)));"div"===a&&(j=or.a.createElement("table",{role:"table"},or.a.createElement("tbody",null,j))),d.length&&(j=d.map(function(e,n){var i,o={},a="object"===(void 0===e?"undefined":Ro()(e))&&"__rowIndex"in e?e.__rowIndex:n,u=(o=(o=S?e.__expanded?{}:h(e,n/2):h(e,a))||{}).className,l=Us()(((i={first:0===n,last:n===d.length-1})[u]=u,i)),c=e.__expanded?"expanded":"";return or.a.createElement(I,yo()({key:""+(e[p]||(0===e[p]?0:a))+c},o,{ref:t.getRowRef.bind(t,a),colGroup:s,rtl:k,columns:g,primaryKey:p,record:e,rowIndex:a,__rowIndex:a,prefix:r,pure:E,cellRef:m,getCellProps:f,className:l,Cell:P,onClick:t.onRowClick,locale:C,onMouseEnter:t.onRowMouseEnter,onMouseLeave:t.onRowMouseLeave}))}));var D=O?{onMouseOver:this.onBodyMouseOver,onMouseOut:this.onBodyMouseOut}:{};return or.a.createElement(a,yo()({className:i},N,D),j,o)},t}(or.a.Component),gT.propTypes={loading:To.a.bool,emptyContent:To.a.any,prefix:To.a.string,pure:To.a.bool,components:To.a.object,getCellProps:To.a.func,cellRef:To.a.func,primaryKey:To.a.string,getRowProps:To.a.func,rowRef:To.a.func,dataSource:To.a.array,children:To.a.any,className:To.a.string,component:To.a.string,colGroup:To.a.object,columns:To.a.array,onRowClick:To.a.func,onRowMouseEnter:To.a.func,onRowMouseLeave:To.a.func,onBodyMouseOver:To.a.func,onBodyMouseOut:To.a.func,locale:To.a.object,crossline:To.a.bool,tableWidth:To.a.number},gT.defaultProps={loading:!1,prefix:"next-",components:{},getCellProps:yT,cellRef:yT,primaryKey:"id",getRowProps:yT,rowRef:yT,dataSource:[],component:"tbody",columns:[]},vT),wT,xT;bT.displayName="Body";var _T=Za.noop,CT=Za.makeChain,ET=Za.bindCtx,ST=Cl.Popup,kT=(xT=wT=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));return r.state={visible:"visible"in n?n.visible:n.defaultVisible||!1,autoFocus:"autoFocus"in n&&n.autoFocus},ET(r,["onTriggerKeyDown","onMenuClick","onVisibleChange"]),r}return ko()(t,e),t.prototype.getVisible=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return"visible"in t?t.visible:this.state.visible},t.prototype.onMenuClick=function e(){this.onVisibleChange(!1,"fromContent")},t.prototype.onVisibleChange=function e(t,n){this.setState({visible:t}),this.props.onVisibleChange(t,n)},t.prototype.onTriggerKeyDown=function e(){var t=!0;"autoFocus"in this.props&&(t=this.props.autoFocus),this.setState({autoFocus:t})},t.prototype.render=function e(){var t=ir.Children.only(this.props.children);"function"==typeof t.type&&t.type.isNextMenu&&(t=or.a.cloneElement(t,{onItemClick:CT(this.onMenuClick,t.props.onItemClick)}));var n=this.props,r=n.trigger,i=n.rtl,o=or.a.cloneElement(r,{onKeyDown:CT(this.onTriggerKeyDown,r.props.onKeyDown)});return or.a.createElement(ST,yo()({},this.props,{rtl:i,autoFocus:this.state.autoFocus,trigger:o,visible:this.getVisible(),onVisibleChange:this.onVisibleChange,canCloseByOutSideClick:!0}),t)},t}(ir.Component),wT.propTypes={prefix:To.a.string,pure:To.a.bool,rtl:To.a.bool,className:To.a.string,children:To.a.node,visible:To.a.bool,defaultVisible:To.a.bool,onVisibleChange:To.a.func,trigger:To.a.node,triggerType:To.a.oneOfType([To.a.string,To.a.array]),disabled:To.a.bool,align:To.a.string,offset:To.a.array,delay:To.a.number,autoFocus:To.a.bool,hasMask:To.a.bool,cache:To.a.bool,animation:To.a.oneOfType([To.a.object,To.a.bool])},wT.defaultProps={prefix:"next-",pure:!1,defaultVisible:!1,onVisibleChange:_T,triggerType:"hover",disabled:!1,align:"tl bl",offset:[0,0],delay:200,hasMask:!1,cache:!1,onPosition:_T},xT);kT.displayName="Dropdown";var OT=zs.config(kT,{transform:function e(t,n){var r;"triggerType"in t&&((Array.isArray(t.triggerType)?[].concat(t.triggerType):[t.triggerType]).indexOf("focus")>-1&&n("triggerType[focus]","triggerType[hover, click]","Balloon"));return t}}),TT,NT,AT,IT=(NT=TT=function(e){function t(n){_o()(this,t);var r=Eo()(this,e.call(this,n));AT.call(r);var i,o=(n.filterParams||{})[n.dataIndex]||{};return r.state={visible:o.visible||!1,selectedKeys:o.selectedKeys||[],selectedKeysChangedByInner:!0},r._selectedKeys=[].concat(r.state.selectedKeys),r}return ko()(t,e),t.getDerivedStateFromProps=function e(t,n){var r={};if(t.hasOwnProperty("filterParams")&&void 0!==t.filterParams){var i=t.dataIndex||this.props.dataIndex,o,a=(t.filterParams||{})[i]||{},s=void 0;n.selectedKeysChangedByInner?(s=n.selectedKeys||[],r.selectedKeysChangedByInner=!1):s=a.selectedKeys||[],r.selectedKeys=s}return r},t.prototype.componentDidUpdate=function e(t,n){var r=n.selectedKeys;this._selectedKeys=[].concat(r)},t.prototype.render=function e(){var t,n=this.props,r=n.filters,i=n.prefix,o=n.locale,a=n.className,s=n.filterMode,u=n.filterMenuProps,l=n.filterProps,c=n.rtl,f=this.state,p=f.visible,h=f.selectedKeys,d=u.subMenuSelectable,m=wo()(u,["subMenuSelectable"]);function g(e){return or.a.createElement(af.Item,{key:e.value},e.label)}function v(e,t){return or.a.createElement(af.SubMenu,{label:e.label,key:e.value,selectable:d},y(t))}function y(e){return e.map(function(e){return e.children?v(e,e.children):g(e)})}var b=y(r),w=or.a.createElement("div",{className:i+"table-filter-footer"},or.a.createElement(Op,{type:"primary",onClick:this.onFilterConfirm},o.ok),or.a.createElement(Op,{onClick:this.onFilterClear},o.reset)),x=Us()(((t={})[i+"table-filter"]=!0,t[a]=a,t));return or.a.createElement(OT,yo()({trigger:or.a.createElement("span",{role:"button","aria-label":o.filter,onKeyDown:this.filterKeydown,tabIndex:"0",className:x},or.a.createElement(gu,{type:"filter",size:"small"})),triggerType:"click",visible:p,autoFocus:!0,rtl:c,needAdjust:!1,onVisibleChange:this.onFilterVisible},l),or.a.createElement(af,yo()({footer:w,rtl:c,selectedKeys:h,selectMode:s,onSelect:this.onFilterSelect},m),b))},t}(or.a.Component),TT.propTypes={dataIndex:To.a.string,filters:To.a.array,filterMode:To.a.string,filterParams:To.a.object,filterMenuProps:To.a.object,filterProps:To.a.object,locale:To.a.object,onFilter:To.a.func,prefix:To.a.string,rtl:To.a.bool},TT.defaultProps={onFilter:function e(){}},AT=function e(){var t=this;this.filterKeydown=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===rs.ENTER&&t.setState({visible:!t.state.visible})},this.onFilterVisible=function(e){if(t.setState({visible:e}),!e){var n=[].concat(t._selectedKeys);t.setState({selectedKeysChangedByInner:!0,selectedKeys:n})}},this.onFilterSelect=function(e){t.setState({visible:!0,selectedKeysChangedByInner:!0,selectedKeys:e})},this.onFilterConfirm=function(){var e=t.state.selectedKeys,n={},r;n[t.props.dataIndex]={visible:!1,selectedKeys:e},t._selectedKeys=[].concat(e),t.setState({visible:!1,selectedKeysChangedByInner:!0}),t.props.onFilter(n)},this.onFilterClear=function(){var e={},n;e[t.props.dataIndex]={visible:!1,selectedKeys:[]},t._selectedKeys=[],t.setState({selectedKeys:[],visible:!1,selectedKeysChangedByInner:!0}),t.props.onFilter(e)}},NT);IT.displayName="Filter";var RT=Object(No.polyfill)(IT),PT,MT,jT=(MT=PT=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(){var e=r.props,t=e.sort,n=e.dataIndex;r.onSort(n,"desc"===t[n]?"asc":"desc")},r.keydownHandler=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===rs.ENTER&&r.handleClick()},r.onSort=function(e,t){var n={};n[e]=t,r.props.onSort(e,t,n)},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.renderSort=function e(){var t,n=this.props,r=n.prefix,i=n.sort,o=n.sortIcons,a=n.className,s=n.dataIndex,u=n.locale,l=n.rtl,c=i[s],f={desc:"descending",asc:"ascending"},p=["asc","desc"].map(function(e){return or.a.createElement("a",{key:e,className:c===e?"current":""},o?o[e]:or.a.createElement(gu,{rtl:l,type:f[e],size:"small"}))}),h=Us()(((t={})[r+"table-sort"]=!0,t[a]=a,t));return or.a.createElement("span",{role:"button",tabIndex:"0","aria-label":u[c],className:h,onClick:this.handleClick.bind(this),onKeyDown:this.keydownHandler},p)},t.prototype.render=function e(){return this.renderSort()},t}(or.a.Component),PT.propTypes={prefix:To.a.string,rtl:To.a.bool,className:To.a.string,sort:To.a.object,sortIcons:To.a.object,onSort:To.a.func,dataIndex:To.a.string,locale:To.a.object},PT.defaultProps={sort:{}},MT),DT,LT;jT.displayName="Sort";var FT=(LT=DT=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.onMouseDown=function(e){r.lastPageX=e.pageX,Ya.on(document,"mousemove",r.onMouseMove),Ya.on(document,"mouseup",r.onMouseUp),r.unSelect()},r.onMouseMove=function(e){var t=e.pageX,n=t-r.lastPageX;r.props.rtl&&(n=-n),r.props.onChange(r.props.dataIndex,n),r.lastPageX=t},r.onMouseUp=function(){r.destory()},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.componentWillUnmount=function e(){this.destory()},t.prototype.destory=function e(){Ya.off(document,"mousemove",this.onMouseMove),Ya.off(document,"mouseup",this.onMouseMove),this.select()},t.prototype.unSelect=function e(){Ka.setStyle(document.body,{userSelect:"none",cursor:"ew-resize"}),document.body.setAttribute("unselectable","on")},t.prototype.select=function e(){Ka.setStyle(document.body,{userSelect:"",cursor:""}),document.body.removeAttribute("unselectable")},t.prototype.render=function e(){var t=this.props.prefix;return or.a.createElement("a",{className:t+"table-resize-handler",onMouseDown:this.onMouseDown})},t}(or.a.Component),DT.propTypes={prefix:To.a.string,rtl:To.a.bool,onChange:To.a.func,dataIndex:To.a.string},DT.defaultProps={onChange:function e(){}},LT);FT.displayName="Resize";var zT=FT,BT,UT,WT=function e(){},VT=(UT=BT=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.getCellRef=function(e,t,n){r.props.headerCellRef(e,t,n)},r.onSort=function(e,t,n){r.props.onSort(e,t,n)},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.prefix,i=n.className,o=n.children,a=n.component,s=n.colGroup,u=n.columns,l=n.locale,c=n.filterParams,f=n.onFilter,p=n.components,h=n.affixRef,d=n.headerCellRef,m=n.onSort,g=n.sort,v=n.sortIcons,y=n.onResizeChange,b=n.pure,w=n.rtl,x=n.tableWidth,_=wo()(n,["prefix","className","children","component","colGroup","columns","locale","filterParams","onFilter","components","affixRef","headerCellRef","onSort","sort","sortIcons","onResizeChange","pure","rtl","tableWidth"]),C=p.Cell,E=void 0===C?mT:C,S=p.Filter,k=void 0===S?RT:S,O=p.Sort,T=void 0===O?jT:O,N=p.Resize,A=void 0===N?zT:N,I=u.length,R=u.map(function(e,n){var i=e.map(function(e,i){var o,a=e.title,s=e.colSpan,u=e.sortable,p=e.resizable,h=e.dataIndex,d=e.filters,m=e.filterMode,x=e.filterMenuProps,_=e.filterProps,C=e.width,S=e.align,O=e.alignHeader,N=e.className,R=e.__normalized,P=e.lock,M=wo()(e,["title","colSpan","sortable","resizable","dataIndex","filters","filterMode","filterMenuProps","filterProps","width","align","alignHeader","className","__normalized","lock"]);N=Us()(((o={})[r+"table-header-node"]=!0,o[r+"table-header-resizable"]=p,o[N]=N,o));var j={},D=void 0,L=void 0,F=void 0;return j.colSpan=s,e.children&&e.children.length||(u&&(D=or.a.createElement(T,{prefix:r,className:r+"table-header-icon",dataIndex:h,onSort:t.onSort,sortIcons:v,sort:g,rtl:w,locale:l})),p&&(F=or.a.createElement(A,{prefix:r,rtl:w,dataIndex:h,onChange:y})),d&&(L=d.length?or.a.createElement(k,{dataIndex:h,className:r+"table-header-icon",filters:d,prefix:r,locale:l,rtl:w,filterParams:c,filterMode:m,filterMenuProps:x,filterProps:_,onFilter:f}):null),j.rowSpan=I-n),0==+j.colSpan?null:or.a.createElement(E,yo()({},M,j,{key:i,prefix:r,pure:b,rtl:w,cell:a,component:"th",align:O||S,className:N,ref:t.getCellRef.bind(t,n,i),type:"header"}),D,L,F)});return or.a.createElement("tr",{key:n},i)});return or.a.createElement(a,yo()({className:i},_),R,o)},t}(or.a.Component),BT.propTypes={children:To.a.any,prefix:To.a.string,pure:To.a.bool,className:To.a.string,component:To.a.string,columns:To.a.array,colGroup:To.a.object,headerCellRef:To.a.func,locale:To.a.object,filterParams:To.a.object,onFilter:To.a.func,components:To.a.object,sort:To.a.object,sortIcons:To.a.object,onSort:To.a.func,onResizeChange:To.a.func,tableWidth:To.a.number},BT.defaultProps={component:"thead",columns:[],headerCellRef:WT,onFilter:WT,components:{},onSort:WT,onResizeChange:WT},UT),HT,GT;VT.displayName="Header";var qT=(GT=HT=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t=this.props,n=t.colGroup,r=t.children,i=t.tableWidth,o=t.component;return or.a.createElement(o,{role:"table",style:{width:i}},n,r)},t}(ir.Component),HT.propTypes={tableWidth:To.a.number},GT),KT,XT;qT.displayName="Wrapper",qT.defaultProps={component:"table"},qT.propTypes={children:To.a.any,prefix:To.a.string,colGroup:To.a.any,component:To.a.string};var YT=(XT=KT=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){return null},t}(or.a.Component),KT.propTypes={dataIndex:To.a.string,cell:To.a.oneOfType([To.a.element,To.a.node,To.a.func]),title:To.a.oneOfType([To.a.element,To.a.node,To.a.func]),htmlTitle:To.a.string,sortable:To.a.bool,width:To.a.oneOfType([To.a.number,To.a.string]),align:To.a.oneOf(["left","center","right"]),alignHeader:To.a.oneOf(["left","center","right"]),filters:To.a.arrayOf(To.a.shape({label:To.a.string,value:To.a.oneOfType([To.a.node,To.a.string])})),filterMode:To.a.oneOf(["single","multiple"]),filterMenuProps:To.a.object,filterProps:To.a.object,lock:To.a.oneOfType([To.a.bool,To.a.string]),resizable:To.a.bool,colSpan:To.a.number},KT.contextTypes={parent:To.a.any},KT.defaultProps={cell:function e(t){return t},filterMode:"multiple",filterMenuProps:{subMenuSelectable:!1},filterProps:{},resizable:!1},KT._typeMark="column",XT),ZT,$T;YT.displayName="Column";var JT=($T=ZT=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.getChildContext=function e(){return{parent:this}},t.prototype.render=function e(){return null},t}(or.a.Component),ZT.propTypes={title:To.a.oneOfType([To.a.element,To.a.node,To.a.func])},ZT.childContextTypes={parent:To.a.any},ZT.defaultProps={title:"column-group"},ZT._typeMark="columnGroup",$T),QT,eN;JT.displayName="ColumnGroup";var tN=or.a.Children,nN=function e(){},rN=(eN=QT=function(e){function t(n,r){_o()(this,t);var i=Eo()(this,e.call(this,n,r));i.state={sort:i.props.sort||{}},i.onSort=function(e,t,n){void 0===i.props.sort?i.setState({sort:n},function(){i.props.onSort(e,t,n)}):i.props.onSort(e,t,n)},i.onFilter=function(e){i.props.onFilter(e)},i.onResizeChange=function(e,t){i.props.onResizeChange(e,t)},i.getWrapperRef=function(e){if(!e)return i.wrapper;i.wrapper=e},i.getAffixRef=function(e){if(!e)return i.affixRef;i.affixRef=e},i.getHeaderCellRef=function(e,t,n){var r="header_cell_"+e+"_"+t;if(!n)return i[r];i[r]=n},i.getRowRef=function(e,t){var n="row_"+e;if(!t)return i[n];i[n]=t},i.getCellRef=function(e,t,n){var r="cell_"+e+"_"+t;if(!n)return i[r];i[r]=n},i.handleColHoverClass=function(e,t,n){var r=i.props.crossline,o=n?"addClass":"removeClass";r&&i.props.entireDataSource.forEach(function(e,n){try{var r=Object(er.findDOMNode)(i.getCellRef(n,t));r&&Ka[o](r,"hovered")}catch(e){return null}})},i.findEventTarget=function(e){var t=i.props.prefix,n=Ka.getClosest(e.target,"td."+t+"table-cell"),r=n&&n.getAttribute("data-next-table-col"),o=n&&n.getAttribute("data-next-table-row");try{var a;if(Object(er.findDOMNode)(i.getCellRef(o,r))===n)return{colIndex:r,rowIndex:o}}catch(e){return{}}return{}},i.onBodyMouseOver=function(e){var t;if(i.props.crossline){var n=i.findEventTarget(e),r=n.colIndex,o=n.rowIndex;r&&o&&(i.handleColHoverClass(o,r,!0),i.colIndex=r,i.rowIndex=o)}},i.onBodyMouseOut=function(e){var t;if(i.props.crossline){var n=i.findEventTarget(e),r=n.colIndex,o=n.rowIndex;r&&o&&(i.handleColHoverClass(i.rowIndex,i.colIndex,!1),i.colIndex=-1,i.rowIndex=-1)}},i.addColIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.forEach(function(e,n){e.__colIndex=t+n})};var o=i.context,a=o.getTableInstance,s=o.getTableInstanceForVirtual;return a&&a(n.lockType,i),s&&s(n.lockType,i),i.notRenderCellIndex=[],i}return ko()(t,e),t.prototype.getChildContext=function e(){return{notRenderCellIndex:this.notRenderCellIndex||[],lockType:this.props.lockType}},t.getDerivedStateFromProps=function e(t){var n={};return void 0!==t.sort&&(n.sort=t.sort),n},t.prototype.componentDidMount=function e(){this.notRenderCellIndex=[]},t.prototype.shouldComponentUpdate=function e(t,n,r){var i;return!t.pure||!(tT()(t,this.props)&&Ja.shallowEqual(n,this.state)&&Ja.shallowEqual(r,this.context))},t.prototype.componentDidUpdate=function e(){this.notRenderCellIndex=[]},t.prototype.normalizeChildrenState=function e(t){var n=t.columns;return t.children&&(n=this.normalizeChildren(t)),this.fetchInfoFromBinaryChildren(n)},t.prototype.normalizeChildren=function e(t){var n=t.columns,r=function e(t){var n=[];return tN.forEach(t,function(t){if(t){var r=yo()({},t.props);(!t||"function"!=typeof t.type||"column"!==t.type._typeMark&&"columnGroup"!==t.type._typeMark)&&$a.warning("Use <Table.Column/>, <Table.ColumnGroup/> as child."),n.push(r),t.props.children&&(r.children=e(t.props.children))}}),n};return t.children&&(n=r(t.children)),n},t.prototype.fetchInfoFromBinaryChildren=function e(t){var n=!1,r=[],i=[],o,a=function e(t,n){return n=n||0,t.forEach(function(t){t.children?n=e(t.children,n):n+=1}),n};(function e(t,o){i[o]=i[o]||[],t.forEach(function(t){t.children?(n=!0,e(t.children,o+1)):r.push(t),i[o].push(t)})})(t,0),i.forEach(function(e,t){e.forEach(function(e,n){var r=void 0,o=e.children;o&&(r=a(o),e.colSpan=r,i[t][n]=e)})});var s=this.props,u=s.lockType,l=s.lengths,c="right"===u?l.origin-l.right:0;return this.addColIndex(r,c),{flatChildren:r,groupChildren:i,hasGroupHeader:n}},t.prototype.renderColGroup=function e(t){var n=t.map(function(e,t){var n=e.width,r={};return n&&(r={width:n}),or.a.createElement("col",{style:r,key:t})});return or.a.createElement("colgroup",{key:"table-colgroup"},n)},t.prototype.renderTable=function e(t,n){if(n.length||!n.length&&!this.props.lockType){var r=this.props,i=r.hasHeader,o=r.components,a=r.prefix,s=r.wrapperContent,u=r.filterParams,l=r.locale,c=r.dataSource,f=r.emptyContent,p=r.loading,h=r.primaryKey,d=r.cellProps,m=r.rowProps,g=r.onRowClick,v=r.onRowMouseEnter,y=r.onRowMouseLeave,b=r.expandedIndexSimulate,w=r.pure,x=r.rtl,_=r.crossline,C=r.sortIcons,E=r.tableWidth,S=this.state.sort,k=o.Header,O=void 0===k?VT:k,T=o.Wrapper,N=void 0===T?qT:T,A=o.Body,I=void 0===A?bT:A,R=this.renderColGroup(n);return or.a.createElement(N,{colGroup:R,ref:this.getWrapperRef,prefix:a,tableWidth:E},i?or.a.createElement(O,{prefix:a,rtl:x,pure:w,affixRef:this.getAffixRef,colGroup:R,className:a+"table-header",filterParams:u,columns:t,locale:l,headerCellRef:this.getHeaderCellRef,components:o,onFilter:this.onFilter,sort:S,onResizeChange:this.onResizeChange,onSort:this.onSort,sortIcons:C,tableWidth:E}):null,or.a.createElement(I,{prefix:a,rtl:x,pure:w,crossline:_,colGroup:R,className:a+"table-body",components:o,loading:p,emptyContent:f,getCellProps:d,primaryKey:h,getRowProps:m,columns:n,rowRef:this.getRowRef,cellRef:this.getCellRef,onRowClick:g,expandedIndexSimulate:b,onRowMouseEnter:v,onRowMouseLeave:y,dataSource:c,locale:l,onBodyMouseOver:this.onBodyMouseOver,onBodyMouseOut:this.onBodyMouseOut,tableWidth:E}),s)}return null},t.prototype.render=function e(){var n,r=this.normalizeChildrenState(this.props);this.groupChildren=r.groupChildren,this.flatChildren=r.flatChildren;var i=this.renderTable(r.groupChildren,r.flatChildren),o=this.props,a=o.className,s=o.style,u=o.hasBorder,l=o.isZebra,c=o.loading,f=o.size,p=o.hasHeader,h=o.prefix,d=o.dataSource,m=o.entireDataSource,g=o.onSort,v=o.onResizeChange,y=o.onRowClick,b=o.onRowMouseEnter,w=o.onRowMouseLeave,x=o.onFilter,_=o.rowProps,C=o.cellProps,E=o.primaryKey,S=o.components,k=o.wrapperContent,O=o.lockType,T=o.locale,N=o.expandedIndexSimulate,A=o.refs,I=o.pure,R=o.rtl,P=o.emptyContent,M=o.filterParams,j=o.columns,D=o.sortIcons,L=o.loadingComponent,F=void 0===L?oT:L,z=o.tableLayout,B=o.tableWidth,U=wo()(o,["className","style","hasBorder","isZebra","loading","size","hasHeader","prefix","dataSource","entireDataSource","onSort","onResizeChange","onRowClick","onRowMouseEnter","onRowMouseLeave","onFilter","rowProps","cellProps","primaryKey","components","wrapperContent","lockType","locale","expandedIndexSimulate","refs","pure","rtl","emptyContent","filterParams","columns","sortIcons","loadingComponent","tableLayout","tableWidth"]),W=Us()(((n={})[h+"table"]=!0,n[h+"table-"+f]=f,n[h+"table-layout-"+z]=z,n["only-bottom-border"]=!u,n["no-header"]=!p,n.zebra=l,n[a]=a,n));R&&(U.dir="rtl");var V=or.a.createElement("div",yo()({className:W,style:s},Ja.pickOthers(Object.keys(t.propTypes),U)),i);if(c){var H=h+"table-loading";return or.a.createElement(F,{className:H},V)}return V},t}(or.a.Component),QT.Column=YT,QT.ColumnGroup=JT,QT.Header=VT,QT.Body=bT,QT.Wrapper=qT,QT.Row=pT,QT.Cell=mT,QT.Filter=RT,QT.Sort=jT,QT.propTypes=yo()({},zs.propTypes,{prefix:To.a.string,pure:To.a.bool,rtl:To.a.bool,tableLayout:To.a.oneOf(["fixed","auto"]),tableWidth:To.a.number,className:To.a.string,style:To.a.object,size:To.a.oneOf(["small","medium"]),dataSource:To.a.array,entireDataSource:To.a.array,onRowClick:To.a.func,onRowMouseEnter:To.a.func,onRowMouseLeave:To.a.func,onSort:To.a.func,onFilter:To.a.func,onResizeChange:To.a.func,rowProps:To.a.func,cellProps:To.a.func,hasBorder:To.a.bool,hasHeader:To.a.bool,isZebra:To.a.bool,loading:To.a.bool,loadingComponent:To.a.func,filterParams:To.a.object,sort:To.a.object,sortIcons:To.a.object,locale:To.a.object,components:To.a.object,columns:To.a.array,emptyContent:To.a.node,primaryKey:To.a.oneOfType([To.a.symbol,To.a.string]),lockType:To.a.oneOf(["left","right"]),wrapperContent:To.a.any,refs:To.a.object,expandedRowRender:To.a.func,expandedRowIndent:To.a.array,hasExpandedRowCtrl:To.a.bool,getExpandedColProps:To.a.func,openRowKeys:To.a.array,onRowOpen:To.a.func,onExpandedRowClick:To.a.func,fixedHeader:To.a.bool,maxBodyHeight:To.a.oneOfType([To.a.number,To.a.string]),rowSelection:To.a.object,stickyHeader:To.a.bool,offsetTop:To.a.number,affixProps:To.a.object,indent:To.a.number,isTree:To.a.bool,useVirtual:To.a.bool,rowHeight:To.a.oneOfType([To.a.number,To.a.func]),onBodyScroll:To.a.func,expandedIndexSimulate:To.a.bool,crossline:To.a.bool,lengths:To.a.object}),QT.defaultProps={dataSource:[],onRowClick:nN,onRowMouseEnter:nN,onRowMouseLeave:nN,onSort:nN,onFilter:nN,onResizeChange:nN,size:"medium",rowProps:nN,cellProps:nN,prefix:"next-",hasBorder:!0,hasHeader:!0,isZebra:!1,loading:!1,expandedIndexSimulate:!1,primaryKey:"id",components:{},locale:Ao.Table,crossline:!1},QT.childContextTypes={notRenderCellIndex:To.a.array,lockType:To.a.oneOf(["left","right"])},QT.contextTypes={getTableInstance:To.a.func,getTableInstanceForVirtual:To.a.func},eN);rN.displayName="Table";var iN=Object(No.polyfill)(rN),oN,aN,sN=(aN=oN=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.onMouseEnter=function(e,t,n){var i=r.context.onRowMouseEnter,o=r.props.onMouseEnter;i&&i(e,t,n),o(e,t,n)},r.onMouseLeave=function(e,t,n){var i=r.context.onRowMouseLeave,o=r.props.onMouseLeave;i&&i(e,t,n),o(e,t,n)},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.render=function e(){return or.a.createElement(pT,yo()({},this.props,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}))},t}(or.a.Component),oN.propTypes=yo()({},pT.propTypes),oN.contextTypes={onRowMouseEnter:To.a.func,onRowMouseLeave:To.a.func},oN.defaultProps=yo()({},pT.defaultProps),aN),uN,lN;sN.displayName="LockRow";var cN=(lN=uN=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.renderExpandedRow=function e(t,n){var r=this.context,i=r.expandedRowRender,o=r.expandedRowIndent,a=r.openRowKeys,s=r.lockType,u,l=r.expandedIndexSimulate?(n-1)/2:n,c=this.props,f=c.columns,p=c.cellRef,h=f.length,d=f[0]&&f[0].__colIndex||0;if(i){var m=this.props,g=m.primaryKey,v=m.prefix,y=o[0],b=o[1],w=y+b,x=function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],o=function e(t){i.push(or.a.createElement("td",{key:t,ref:function e(i){return p(n,t+r,i)}},"\xa0"))},a=0;a<t;a++)o(a);return i},_=void 0;if(w>h&&!s&&$a.warning("It's not allowed expandedRowIndent is more than the number of columns."),y<f.length&&"left"===s&&$a.warning("expandedRowIndent left is less than the number of left lock columns."),b<f.length&&"right"===s&&$a.warning("expandedRowIndent right is less than the number of right lock columns."),s)return a.indexOf(t[g])>-1?or.a.createElement("tr",{className:v+"table-expanded-row",key:"expanded-"+l},or.a.createElement("td",{colSpan:h,ref:function e(t){return p(n,d,t)}},"\xa0")):null;_=i(t,l),or.a.isValidElement(_)||(_=or.a.createElement("div",{className:v+"table-cell-wrapper"},_));var C=f.length;return f.forEach(function(e){"right"===e.lock&&C--}),a.indexOf(t[g])>-1?or.a.createElement("tr",{className:v+"table-expanded-row",key:"expanded-"+(t[g]||l)},x(y),or.a.createElement("td",{colSpan:h-w},_),x(b,C)):null}return null},t.prototype.render=function e(){var t=this.props,n=t.record,r=t.rowIndex,i=t.columns,o=wo()(t,["record","rowIndex","columns"]),a=this.context.expandedIndexSimulate;if(n.__expanded)return this.renderExpandedRow(n,r,i);var s=a?r/2:r;return or.a.createElement(sN,yo()({},o,{record:n,columns:i,__rowIndex:r,rowIndex:s}))},t}(or.a.Component),uN.propTypes=yo()({},sN.propTypes),uN.defaultProps=yo()({},sN.defaultProps),uN.contextTypes={openRowKeys:To.a.array,expandedRowRender:To.a.func,expandedRowIndent:To.a.array,expandedIndexSimulate:To.a.bool,lockType:To.a.oneOf(["left","right"])},lN),fN,pN;cN.displayName="ExpandedRow";var hN=(pN=fN=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.className,i=n.record,o=n.primaryKey,a=this.context.selectedRowKeys,s=Us()(((t={selected:a.indexOf(i[o])>-1})[r]=r,t));return or.a.createElement(cN,yo()({},this.props,{className:s}))},t}(or.a.Component),fN.propTypes=yo()({},cN.propTypes),fN.defaultProps=yo()({},cN.defaultProps),fN.contextTypes={selectedRowKeys:To.a.array},pN),dN,mN;hN.displayName="SelectionRow";var gN=(mN=dN=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.className,i=n.record,o=n.primaryKey,a=n.prefix,s=wo()(n,["className","record","primaryKey","prefix"]),u=this.context,l=u.treeStatus,c=u.openRowKeys,f=Us()(((t={hidden:!(l.indexOf(i[o])>-1)&&0!==i.__level})[a+"table-row-level-"+i.__level]=!0,t.opened=c.indexOf(i[o])>-1,t[r]=r,t));return or.a.createElement(hN,yo()({},s,{record:i,className:f,primaryKey:o,prefix:a}))},t}(or.a.Component),dN.propTypes=yo()({},hN.propTypes),dN.defaultProps=yo()({},hN.defaultProps),dN.contextTypes={treeStatus:To.a.array,openRowKeys:To.a.array},mN),vN,yN;gN.displayName="TreeRow";var bN=(yN=vN=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.onTreeNodeClick=function(e,t){t.stopPropagation(),r.context.onTreeNodeClick(e)},r.expandedKeydown=function(e,t){t.preventDefault(),t.stopPropagation(),t.keyCode===rs.ENTER&&r.onTreeNodeClick(e,t)},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.colIndex,i=n.record,o=n.prefix,a=n.primaryKey,s=n.locale,u=n.rtl,l=n.children,c=this.context,f=c.openTreeRowKeys,p=c.indent,h=c.isTree,d,m,g=void 0,v=void 0;if(r===(c.rowSelection?1:0)){var y=void 0,b,w;if(h)if((b={})[u?"paddingRight":"paddingLeft"]=p*(i.__level+1),g=b,v=or.a.createElement(gu,{size:"xs",rtl:u,className:o+"table-tree-placeholder"}),i.children&&i.children.length){var x=f.indexOf(i[a])>-1;y=x?"arrow-down":"arrow-right",v=or.a.createElement(gu,{className:o+"table-tree-arrow",type:y,size:"xs",rtl:u,onClick:function e(n){return t.onTreeNodeClick(i,n)},onKeyDown:function e(n){return t.expandedKeydown(i,n)},role:"button",tabIndex:"0","aria-expanded":x,"aria-label":x?s.expanded:s.folded})}}return or.a.createElement(mT,yo()({},this.props,{innerStyle:g,isIconLeft:!!v}),l,v)},t}(or.a.Component),vN.propTypes=yo()({indent:To.a.number,locale:To.a.object},mT.propTypes),vN.defaultProps=yo()({},mT.defaultProps,{component:"td",indent:20}),vN.contextTypes={openTreeRowKeys:To.a.array,indent:To.a.number,onTreeNodeClick:To.a.func,isTree:To.a.bool,rowSelection:To.a.object},yN);bN.displayName="TreeCell";var wN=function e(){},xN,_N;function CN(e){var t,n,r=(n=t=function(t){function n(e,r){_o()(this,n);var i=Eo()(this,t.call(this,e,r));return i.onTreeNodeClick=function(e){var t=i.props.primaryKey,n=e[t],r=i.ds,o=[].concat(i.state.openRowKeys),a=o.indexOf(n),s,u;a>-1?function e(n){var i=[n],o=function e(n){n.forEach(function(n){i.push(n[t]),n.children&&e(n.children)})};return r.forEach(function(e){e[t]===n&&e.children&&o(e.children)}),i}(n).forEach(function(e){var t=o.indexOf(e);t>-1&&o.splice(t,1)}):o.push(n);"openRowKeys"in i.props||i.setState({openRowKeys:o}),i.props.onRowOpen(o,n,-1===a,e)},i.state={openRowKeys:e.openRowKeys||[]},i}return ko()(n,t),n.prototype.getChildContext=function e(){return{openTreeRowKeys:this.state.openRowKeys,indent:this.props.indent,treeStatus:this.getTreeNodeStatus(this.ds),onTreeNodeClick:this.onTreeNodeClick,isTree:this.props.isTree}},n.getDerivedStateFromProps=function e(t){return"openRowKeys"in t?{openRowKeys:t.openRowKeys||[]}:null},n.prototype.normalizeDataSource=function e(t){var n=[],r;return function e(t,r){t.forEach(function(t){t.__level=r,n.push(t),t.children&&e(t.children,r+1)})}(t,0),this.ds=n,n},n.prototype.getTreeNodeStatus=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.state.openRowKeys,r=this.props.primaryKey,i=[];return n.forEach(function(e){t.forEach(function(t){t[r]===e&&t.children&&t.children.forEach(function(e){i.push(e[r])})})}),i},n.prototype.render=function t(){var n=this.props,r=n.components,i=n.isTree,o=n.dataSource,a=n.indent,s=wo()(n,["components","isTree","dataSource","indent"]);return i&&((r=yo()({},r)).Row||(r.Row=gN),r.Cell||(r.Cell=bN),o=this.normalizeDataSource(o)),or.a.createElement(e,yo()({},s,{dataSource:o,components:r}))},n}(or.a.Component),t.TreeRow=gN,t.TreeCell=bN,t.propTypes=yo()({openRowKeys:To.a.array,onRowOpen:To.a.func,primaryKey:To.a.string,indent:To.a.number,isTree:To.a.bool,locale:To.a.object},e.propTypes),t.defaultProps=yo()({},e.defaultProps,{primaryKey:"id",onRowOpen:wN,components:{},indent:12}),t.childContextTypes={openTreeRowKeys:To.a.array,indent:To.a.number,treeStatus:To.a.array,onTreeNodeClick:To.a.func,isTree:To.a.bool},n);return r.displayName="TreeTable",sT(r,e),Object(No.polyfill)(r)}var EN=(_N=xN=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.componentDidMount=function e(){this.context.getNode("header",Object(er.findDOMNode)(this))},t.prototype.render=function e(){var t=this.props,n=t.prefix,r=t.className,i=t.colGroup,o=t.tableWidth,a=wo()(t,["prefix","className","colGroup","tableWidth"]),s=this.context.onFixedScrollSync;return or.a.createElement("div",{className:r,onScroll:s},or.a.createElement("div",{className:n+"table-header-inner",style:{overflow:"unset"}},or.a.createElement("table",{style:{width:o}},i,or.a.createElement(VT,yo()({},a,{prefix:n})))))},t}(or.a.Component),xN.propTypes={children:To.a.any,prefix:To.a.string,className:To.a.string,colGroup:To.a.any,tableWidth:To.a.number},xN.contextTypes={getNode:To.a.func,onFixedScrollSync:To.a.func,lockType:To.a.oneOf(["left","right"])},_N),SN,kN;EN.displayName="FixedHeader";var ON=(kN=SN=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.onBodyScroll=function(e){var t=r.context.onFixedScrollSync;t&&t(e),"onLockScroll"in r.props&&"function"==typeof r.props.onLockScroll&&r.props.onLockScroll(e)},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.componentDidMount=function e(){var t=this.context.getNode;t&&t("body",Object(er.findDOMNode)(this))},t.prototype.render=function e(){var t=this.props,n=t.className,r=t.colGroup,i=t.onLockScroll,o=t.tableWidth,a=wo()(t,["className","colGroup","onLockScroll","tableWidth"]),s=this.context,u=s.maxBodyHeight,l,c={};return s.fixedHeader&&(c.maxHeight=u,c.position="relative"),or.a.createElement("div",{style:c,className:n,onScroll:this.onBodyScroll},or.a.createElement("table",{style:{width:o}},r,or.a.createElement(bT,yo()({},a,{colGroup:r}))))},t}(or.a.Component),SN.propTypes={children:To.a.any,prefix:To.a.string,className:To.a.string,colGroup:To.a.any,onLockScroll:To.a.func,tableWidth:To.a.number},SN.contextTypes={fixedHeader:To.a.bool,maxBodyHeight:To.a.oneOfType([To.a.number,To.a.string]),onFixedScrollSync:To.a.func,getNode:To.a.func},kN),TN,NN;ON.displayName="FixedBody";var AN=(NN=TN=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t=this.props,n=t.children,r=t.wrapperContent,i=t.prefix;return or.a.createElement("div",{className:i+"table-inner"},n,r)},t}(or.a.Component),TN.propTypes={children:To.a.any,prefix:To.a.string,colGroup:To.a.any,wrapperContent:To.a.any},NN);function IN(e){var t,n,r=(n=t=function(t){function n(){var e,r,i;_o()(this,n);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=r=Eo()(this,t.call.apply(t,[this].concat(a))),r.state={},r.getNode=function(e,t,n){n=n?n.charAt(0).toUpperCase()+n.substr(1):"",r[""+e+n+"Node"]=t},r.onFixedScrollSync=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.currentTarget===e.target){var t=e.target,n=r.headerNode,i=r.bodyNode,o=t.scrollLeft;t===i?n&&o!==n.scrollLeft&&(n.scrollLeft=o):t===n&&i&&o!==i.scrollLeft&&(i.scrollLeft=o)}},i=e,Eo()(r,i)}return ko()(n,t),n.prototype.getChildContext=function e(){return{fixedHeader:this.props.fixedHeader,maxBodyHeight:this.props.maxBodyHeight,onFixedScrollSync:this.onFixedScrollSync,getNode:this.getNode}},n.prototype.componentDidMount=function e(){this.adjustFixedHeaderSize()},n.prototype.componentDidUpdate=function e(){this.adjustFixedHeaderSize()},n.prototype.adjustFixedHeaderSize=function e(){var t=this.props,n=t.hasHeader,r=t.rtl,i=r?"paddingLeft":"paddingRight",o=r?"marginLeft":"marginRight",a=this.bodyNode;if(n&&!this.props.lockType&&a){var s,u=+Ka.scrollbar().width||0,l=a.scrollHeight>a.clientHeight,c=a.scrollWidth>a.clientWidth,f=((s={})[i]=u,s[o]=u,s);l||(f[i]=0,f[o]=0),+u&&(f.marginBottom=-u,c?f.paddingBottom=u:(f.paddingBottom=u,f[o]=0)),Ka.setStyle(this.headerNode,f)}},n.prototype.render=function t(){var n=this.props,r=n.components,i=n.className,o=n.prefix,a=n.fixedHeader,s=n.lockType,u=n.dataSource,l=n.maxBodyHeight,c=wo()(n,["components","className","prefix","fixedHeader","lockType","dataSource","maxBodyHeight"]),f;a&&((r=yo()({},r)).Header||(r.Header=EN),r.Body||(r.Body=ON),r.Wrapper||(r.Wrapper=AN),i=Us()(((f={})[o+"table-fixed"]=!0,f[o+"table-wrap-empty"]=!u.length,f[i]=i,f)));return or.a.createElement(e,yo()({},c,{dataSource:u,lockType:s,components:r,className:i,prefix:o}))},n}(or.a.Component),t.FixedHeader=EN,t.FixedBody=ON,t.FixedWrapper=AN,t.propTypes=yo()({hasHeader:To.a.bool,fixedHeader:To.a.bool,maxBodyHeight:To.a.oneOfType([To.a.number,To.a.string])},e.propTypes),t.defaultProps=yo()({},e.defaultProps,{hasHeader:!0,fixedHeader:!1,maxBodyHeight:200,components:{},refs:{},prefix:"next-"}),t.childContextTypes={fixedHeader:To.a.bool,getNode:To.a.func,onFixedScrollSync:To.a.func,maxBodyHeight:To.a.oneOfType([To.a.number,To.a.string])},n);return r.displayName="FixedTable",sT(r,e),r}AN.displayName="FixedWrapper";var RN=Za.makeChain,PN=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",r={},i=[];return t.forEach(function(e){var t=void 0;t="this"===n?e:e[n],r[t]||(i.push(e),r[t]=!0)}),i};function MN(e){var t,n,r=(n=t=function(t){function n(e,r){_o()(this,n);var i=Eo()(this,t.call(this,e,r));return i.renderSelectionHeader=function(){var e=i.selectAllRow,t={},n=i.props,r=n.rowSelection,o=n.primaryKey,a=n.dataSource,s=n.entireDataSource,u=n.locale,l=i.state.selectedRowKeys,c=r.mode?r.mode:"multiple",f=!!l.length,p=!1,h=s||a;i.flatDataSource(h).filter(function(e,t){return!r.getProps||!(r.getProps(e,t)||{}).disabled}).map(function(e){return e[o]}).forEach(function(e){-1===l.indexOf(e)?f=!1:p=!0}),t.onClick=RN(function(e){e.stopPropagation()},t.onClick);var d=r.titleProps&&r.titleProps()||{};return f&&(p=!1),["multiple"===c?or.a.createElement(yc,yo()({key:"_total",indeterminate:p,"aria-label":u.selectAll,checked:f,onChange:e},t,d)):null,r.titleAddons&&r.titleAddons()]},i.renderSelectionBody=function(e,t,n){var r=i.props,o=r.rowSelection,a=r.primaryKey,s=i.state.selectedRowKeys,u=o.mode?o.mode:"multiple",l=s.indexOf(n[a])>-1,c=i.selectOneRow.bind(i,t,n),f=o.getProps&&o.getProps(n,t)||{};return f.onClick=RN(function(e){e.stopPropagation()},f.onClick),"multiple"===u?or.a.createElement(yc,yo()({checked:l,onChange:c},f)):or.a.createElement(Ic,yo()({checked:l,onChange:c},f))},i.selectAllRow=function(e,t){var n=[].concat(i.state.selectedRowKeys),r=i.props,o=r.rowSelection,a=r.primaryKey,s=r.dataSource,u=r.entireDataSource,l=i.state.selectedRowKeys,c=o.getProps,f={},p=[],h=u||s;i.flatDataSource(h).forEach(function(t,r){var i=t[a];if(c&&(f=c(t,r)||{}),e&&(!f.disabled||l.indexOf(i)>-1))n.push(i),p.push(t);else if(f.disabled&&l.indexOf(i)>-1)n.push(i),p.push(t);else{var o=n.indexOf(i);o>-1&&n.splice(o,1)}}),p=PN(p,a),"function"==typeof o.onSelectAll&&o.onSelectAll(e,p),i.triggerSelection(o,PN(n),p),t.stopPropagation()},i.state={selectedRowKeys:e.rowSelection&&"selectedRowKeys"in e.rowSelection&&e.rowSelection.selectedRowKeys||[]},i}return ko()(n,t),n.prototype.getChildContext=function e(){return{rowSelection:this.props.rowSelection,selectedRowKeys:this.state.selectedRowKeys}},n.getDerivedStateFromProps=function e(t){var n;return t.rowSelection&&"selectedRowKeys"in t.rowSelection?{selectedRowKeys:t.rowSelection.selectedRowKeys||[]}:null},n.prototype.normalizeChildren=function e(t){var n=this.props,r=n.prefix,i=n.rowSelection,o=n.size;if(i){t=ir.Children.map(t,function(e,t){return or.a.cloneElement(e,{key:t})});var a=i.columnProps&&i.columnProps()||{};return t.unshift(or.a.createElement(YT,yo()({key:"selection",title:this.renderSelectionHeader.bind(this),cell:this.renderSelectionBody.bind(this),width:"small"===o?34:50,className:r+"table-selection "+r+"table-prerow",__normalized:!0},a))),t}return t},n.prototype.selectOneRow=function e(t,n,r,i){var o=[].concat(this.state.selectedRowKeys),a=void 0,s=this.props,u=s.primaryKey,l=s.rowSelection,c=s.dataSource,f=l.mode?l.mode:"multiple",p=n[u];p||$a.warning("Can't get value from record using given "+u+" as primaryKey."),"multiple"===f?r?o.push(p):(a=o.indexOf(p),o.splice(a,1)):r&&(o=[p]);var h=PN(c.filter(function(e){return o.indexOf(e[u])>-1}),u);"function"==typeof l.onSelect&&l.onSelect(r,n,h),this.triggerSelection(l,o,h),i.stopPropagation()},n.prototype.triggerSelection=function e(t,n,r){"selectedRowKeys"in t||this.setState({selectedRowKeys:n}),"function"==typeof t.onChange&&t.onChange(n,r)},n.prototype.flatDataSource=function e(t){var n=t,r=this.context.listHeader;if(r){n=[];var i=r.hasChildrenSelection,o=r.hasSelection;t.forEach(function(e){var t=e.children;o&&n.push(e),t&&i&&(n=n.concat(t))})}return n},n.prototype.render=function t(){var n=this.props,r=n.rowSelection,i=n.components,o=n.children,a=wo()(n,["rowSelection","components","children"]);return r&&(o=this.normalizeChildren(o),(i=yo()({},i)).Row=i.Row||hN),or.a.createElement(e,yo()({},a,{components:i}),o)},n}(or.a.Component),t.SelectionRow=hN,t.propTypes=yo()({rowSelection:To.a.object,primaryKey:To.a.string,dataSource:To.a.array,entireDataSource:To.a.array},e.propTypes),t.defaultProps=yo()({},e.defaultProps,{locale:Ao.Table,primaryKey:"id",prefix:"next-"}),t.contextTypes={listHeader:To.a.any},t.childContextTypes={rowSelection:To.a.object,selectedRowKeys:To.a.array},n);return r.displayName="SelectionTable",sT(r,e),Object(No.polyfill)(r)}var jN=function e(){},DN,LN;function FN(e){var t,n,r=(n=t=function(t){function n(){var e,r,i;_o()(this,n);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=r=Eo()(this,t.call.apply(t,[this].concat(a))),r.state={openRowKeys:r.props.openRowKeys||[]},r.expandedKeydown=function(e,t,n,i){i.preventDefault(),i.stopPropagation(),i.keyCode===rs.ENTER&&r.onExpandedClick(e,t,n,i)},r.renderExpandedCell=function(e,t,n){var i,o=r.props,a=o.getExpandedColProps,s=o.prefix,u=o.locale,l=r.state.openRowKeys,c=r.props.primaryKey,f=l.indexOf(n[c])>-1,p=f?or.a.createElement(gu,{type:"minus",size:"xs",className:s+"table-expand-unfold"}):or.a.createElement(gu,{type:"add",size:"xs",className:s+"table-expand-fold"}),h=a(n,t)||{},d=Us()(((i={})[s+"table-expanded-ctrl"]=!0,i.disabled=h.disabled,i[h.className]=h.className,i));return h.disabled||(h.onClick=r.onExpandedClick.bind(r,e,n,t)),or.a.createElement("span",yo()({},h,{role:"button",tabIndex:"0",onKeyDown:r.expandedKeydown.bind(r,e,n,t),"aria-label":f?u.expanded:u.folded,"aria-expanded":f,className:d}),p)},i=e,Eo()(r,i)}return ko()(n,t),n.prototype.getChildContext=function e(){return{openRowKeys:this.state.openRowKeys,expandedRowRender:this.props.expandedRowRender,expandedIndexSimulate:this.props.expandedIndexSimulate,expandedRowIndent:this.props.expandedRowIndent}},n.getDerivedStateFromProps=function e(t){return"openRowKeys"in t?{openRowKeys:t.openRowKeys||[]}:null},n.prototype.onExpandedClick=function e(t,n,r,i){var o=[].concat(this.state.openRowKeys),a,s=n[this.props.primaryKey],u=o.indexOf(s);u>-1?o.splice(u,1):o.push(s),"openRowKeys"in this.props||this.setState({openRowKeys:o}),this.props.onRowOpen(o,s,-1===u,n),i.stopPropagation()},n.prototype.normalizeChildren=function e(t){var n=this.props,r=n.prefix,i=n.size,o=ir.Children.map(t,function(e,t){return or.a.cloneElement(e,{key:t})});return o.unshift(or.a.createElement(YT,{title:"",key:"expanded",cell:this.renderExpandedCell.bind(this),width:"small"===i?34:50,className:r+"table-expanded "+r+"table-prerow",__normalized:!0})),o},n.prototype.normalizeDataSource=function e(t){var n=[];return t.forEach(function(e){var t=yo()({},e);t.__expanded=!0,n.push(e,t)}),n},n.prototype.render=function t(){var n=this.props,r=n.components,i=n.openRowKeys,o=n.expandedRowRender,a=n.hasExpandedRowCtrl,s=n.children,u=n.dataSource,l=n.entireDataSource,c=n.getExpandedColProps,f=n.expandedRowIndent,p=n.onRowOpen,h=n.onExpandedRowClick,d=wo()(n,["components","openRowKeys","expandedRowRender","hasExpandedRowCtrl","children","dataSource","entireDataSource","getExpandedColProps","expandedRowIndent","onRowOpen","onExpandedRowClick"]);return o&&!r.Row&&((r=yo()({},r)).Row=cN,u=this.normalizeDataSource(u),l=this.normalizeDataSource(l)),o&&a&&(s=this.normalizeChildren(s)),or.a.createElement(e,yo()({},d,{dataSource:u,entireDataSource:l,components:r}),s)},n}(or.a.Component),t.ExpandedRow=cN,t.propTypes=yo()({expandedRowRender:To.a.func,expandedRowIndent:To.a.array,openRowKeys:To.a.array,hasExpandedRowCtrl:To.a.bool,getExpandedColProps:To.a.func,onRowOpen:To.a.func,onExpandedRowClick:To.a.func,locale:To.a.object},e.propTypes),t.defaultProps=yo()({},e.defaultProps,{getExpandedColProps:jN,onRowOpen:jN,hasExpandedRowCtrl:!0,components:{},expandedRowIndent:[1,0],prefix:"next-"}),t.childContextTypes={openRowKeys:To.a.array,expandedRowRender:To.a.func,expandedIndexSimulate:To.a.bool,expandedRowIndent:To.a.array},n);return r.displayName="ExpandedTable",sT(r,e),Object(No.polyfill)(r)}var zN=(LN=DN=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.tableRef=function(e){r.tableNode=e},r.virtualScrollRef=function(e){r.virtualScrollNode=e},r.onScroll=function(e){r.context.onFixedScrollSync(e),r.context.onLockBodyScroll(e),r.context.onVirtualScroll()},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.componentDidMount=function e(){var t=Object(er.findDOMNode)(this);this.context.getNode("body",t),this.context.getBodyNode(t,this.context.lockType),this.context.getLockNode("body",t,this.context.lockType)},t.prototype.render=function e(){var t=this.props,n=t.prefix,r=t.className,i=t.colGroup,o=t.tableWidth,a=wo()(t,["prefix","className","colGroup","tableWidth"]),s=this.context,u=s.maxBodyHeight,l=s.bodyHeight,c=s.innerTop,f={width:o};return or.a.createElement("div",{style:{maxHeight:u},className:r,onScroll:this.onScroll},or.a.createElement("div",{style:{height:l,overflow:"hidden",position:"relative"},ref:this.virtualScrollRef},or.a.createElement("div",{style:{height:"100%",position:"relative",transform:"translateY("+c+"px)"}},or.a.createElement("table",{ref:this.tableRef,style:f},i,or.a.createElement(bT,yo()({},a,{prefix:n}))))))},t}(or.a.Component),DN.propTypes={children:To.a.any,prefix:To.a.string,className:To.a.string,colGroup:To.a.any,tableWidth:To.a.number},DN.contextTypes={maxBodyHeight:To.a.oneOfType([To.a.number,To.a.string]),onBodyScroll:To.a.func,onFixedScrollSync:To.a.func,onVirtualScroll:To.a.func,onLockBodyScroll:To.a.func,bodyHeight:To.a.number,innerTop:To.a.number,getNode:To.a.func,getBodyNode:To.a.func,getLockNode:To.a.func,lockType:To.a.oneOf(["left","right"])},LN);zN.displayName="VirtualBody";var BN=function e(){},UN,WN;function VN(e){var t,n,r=(n=t=function(t){function n(e,r){_o()(this,n);var i=Eo()(this,t.call(this,e,r));i.state={rowHeight:i.props.rowHeight,scrollToRow:i.props.scrollToRow,height:i.props.maxBodyHeight},i.onScroll=function(){var e=i.bodyNode.scrollTop;if(e!==i.lastScrollTop){var t=i.computeScrollToRow(e);"scrollToRow"in i.props||i.setState({scrollToRow:t}),i.props.onBodyScroll(t),i.lastScrollTop=e}},i.getBodyNode=function(e,t){t=t?t.charAt(0).toUpperCase()+t.substr(1):"",i["body"+t+"Node"]=e},i.getTableInstance=function(e,t){e=e?e.charAt(0).toUpperCase()+e.substr(1):"",i["table"+e+"Inc"]=t};var o=e.useVirtual,a=e.dataSource;return i.hasVirtualData=o&&a&&a.length>0,i}return ko()(n,t),n.prototype.getChildContext=function e(){return{onVirtualScroll:this.onScroll,bodyHeight:this.computeBodyHeight(),innerTop:this.computeInnerTop(),getBodyNode:this.getBodyNode,getTableInstanceForVirtual:this.getTableInstance,rowSelection:this.rowSelection}},n.getDerivedStateFromProps=function e(t,n){var r={};return"maxBodyHeight"in t&&n.height!==t.maxBodyHeight&&(r.height=t.maxBodyHeight),"scrollToRow"in t&&(r.scrollToRow=t.scrollToRow),r},n.prototype.componentDidMount=function e(){this.hasVirtualData&&(this.lastScrollTop=this.bodyNode.scrollTop),this.adjustScrollTop(),this.adjustSize(),this.reComputeSize()},n.prototype.componentDidUpdate=function e(){this.adjustScrollTop(),this.adjustSize(),this.reComputeSize()},n.prototype.reComputeSize=function e(){var t;if("function"==typeof this.state.rowHeight&&this.hasVirtualData){var n=this.getRowNode(),r=n&&n.clientHeight;r!==this.state.rowHeight&&this.setState({rowHeight:r})}},n.prototype.computeBodyHeight=function e(){var t=this.state.rowHeight,n=this.props.dataSource;return"function"==typeof t?0:n.length*t},n.prototype.computeInnerTop=function e(){var t=this.state.rowHeight;return"function"==typeof t?0:this.start*t},n.prototype.getVisibleRange=function e(t){var n=this.state,r=n.height,i=n.rowHeight,o=this.props.dataSource.length,a=void 0,s=0,u=0;return"function"==typeof i?a=1:(s=parseInt(Ka.getPixels(r)/i,10),"number"==typeof t&&(u=t<o?t:0),a=Math.min(+u+1+s+10,o)),this.end=a,this.visibleCount=s,{start:u,end:a}},n.prototype.adjustScrollTop=function e(){this.hasVirtualData&&(this.bodyNode.scrollTop=this.lastScrollTop%this.state.rowHeight+this.state.rowHeight*this.state.scrollToRow)},n.prototype.adjustSize=function e(){if(this.hasVirtualData){var t=this.bodyNode,n=t.querySelector("div"),r=t.clientHeight,i=t.clientWidth,o=this.tableInc,a=Object(er.findDOMNode)(o),s=this.props.prefix,u=a.querySelector("."+s+"table-header table"),l=u&&u.clientWidth;if(i<l){Ka.setStyle(n,"min-width",l);var c=this.bodyLeftNode,f=this.bodyRightNode;c&&Ka.setStyle(c,"max-height",r),f&&Ka.setStyle(f,"max-height",r),this.hasScrollbar=!0}else Ka.setStyle(n,"min-width","auto"),this.hasScrollbar=!1}},n.prototype.computeScrollToRow=function e(t){var n=this.state.rowHeight,r=parseInt(t/n);return this.start=r,r},n.prototype.getRowNode=function e(){try{return Object(er.findDOMNode)(this.tableInc.getRowRef(0))}catch(e){return null}},n.prototype.render=function t(){var n=this.props,r=n.useVirtual,i=n.components,o=n.dataSource,a=n.fixedHeader,s=n.rowHeight,u=n.scrollToRow,l=n.onBodyScroll,c=wo()(n,["useVirtual","components","dataSource","fixedHeader","rowHeight","scrollToRow","onBodyScroll"]),f=o,p=o;if(this.rowSelection=this.props.rowSelection,this.hasVirtualData){p=[],i=yo()({},i);var h=this.getVisibleRange(this.state.scrollToRow),d=h.start,m=h.end;o.forEach(function(e,t,n){t>=d&&t<m&&(e.__rowIndex=t,p.push(e))}),i.Body||(i.Body=zN),a=!0}return or.a.createElement(e,yo()({},c,{dataSource:p,entireDataSource:f,components:i,fixedHeader:a}))},n}(or.a.Component),t.VirtualBody=zN,t.propTypes=yo()({useVirtual:To.a.bool,rowHeight:To.a.oneOfType([To.a.number,To.a.func]),maxBodyHeight:To.a.oneOfType([To.a.number,To.a.string]),primaryKey:To.a.string,dataSource:To.a.array,onBodyScroll:To.a.func},e.propTypes),t.defaultProps=yo()({},e.defaultProps,{primaryKey:"id",rowHeight:BN,maxBodyHeight:200,components:{},prefix:"next-",onBodyScroll:BN}),t.childContextTypes={onVirtualScroll:To.a.func,bodyHeight:To.a.number,innerTop:To.a.number,getBodyNode:To.a.func,getTableInstanceForVirtual:To.a.func,rowSelection:To.a.object},n);return r.displayName="VirtualTable",sT(r,e),Object(No.polyfill)(r)}var HN=(WN=UN=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.onBodyScroll=function(e){r.context.onLockBodyScroll(e)},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.componentDidMount=function e(){this.context.getLockNode("body",Object(er.findDOMNode)(this),this.context.lockType)},t.prototype.render=function e(){var t={onLockScroll:this.onBodyScroll};return or.a.createElement(ON,yo()({},this.props,t))},t}(or.a.Component),UN.propTypes=yo()({},ON.propTypes),UN.contextTypes=yo()({},ON.contextTypes,{getLockNode:To.a.func,onLockBodyScroll:To.a.func,lockType:To.a.oneOf(["left","right"])}),WN),GN,qN;HN.displayName="LockBody";var KN=(qN=GN=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.componentDidMount=function e(){var t=this.context,n=t.getNode,r=t.getLockNode;n&&n("header",Object(er.findDOMNode)(this),this.context.lockType),r&&r("header",Object(er.findDOMNode)(this),this.context.lockType)},t}(EN),GN.propTypes=yo()({},EN.propTypes),GN.contextTypes=yo()({},EN.contextTypes,{getLockNode:To.a.func,lockType:To.a.oneOf(["left","right"])}),qN),XN=Xa.ieVersion,YN,ZN;function $N(e){var t,n,r=(n=t=function(t){function n(e,r){_o()(this,n);var i=Eo()(this,t.call(this,e,r));return i.state={},i.getTableInstance=function(e,t){e=e?e.charAt(0).toUpperCase()+e.substr(1):"",i["table"+e+"Inc"]=t},i.getNode=function(e,t,n){n=n?n.charAt(0).toUpperCase()+n.substr(1):"",i[""+e+n+"Node"]=t,"header"!==e||i.innerHeaderNode||n||(i.innerHeaderNode=i.headerNode.querySelector("div"))},i.onRowMouseEnter=function(e,t){var n,r,o;i.isLock()&&[i.getRowNode(t),i.getRowNode(t,"left"),i.getRowNode(t,"right")].forEach(function(e){e&&Ka.addClass(e,"hovered")})},i.onRowMouseLeave=function(e,t){var n,r,o;i.isLock()&&[i.getRowNode(t),i.getRowNode(t,"left"),i.getRowNode(t,"right")].forEach(function(e){e&&Ka.removeClass(e,"hovered")})},i.onLockBodyScrollTop=function(e){var t=e.target;if(e.currentTarget===t){var n=t.scrollTop;if(i.isLock()&&n!==i.lastScrollTop){var r=i.bodyRightNode,o,a,s;[i.bodyLeftNode,r,i.bodyNode].forEach(function(e){e&&e.scrollTop!==n&&(e.scrollTop=n)}),i.lastScrollTop=n}}},i.onLockBodyScrollLeft=function(){if(i.isLock()){var e=i.props.rtl,t=e?i.getWrapperNode("left"):i.getWrapperNode("right"),n=e?i.getWrapperNode("right"):i.getWrapperNode("left"),r="shadow",o=i.bodyNode.scrollLeft;0===o?(n&&Ka.removeClass(n,"shadow"),t&&Ka.addClass(t,"shadow")):o===i.bodyNode.scrollWidth-i.bodyNode.clientWidth?(n&&Ka.addClass(n,"shadow"),t&&Ka.removeClass(t,"shadow")):(n&&Ka.addClass(n,"shadow"),t&&Ka.addClass(t,"shadow"))}},i.onLockBodyScroll=function(e){i.onLockBodyScrollTop(e),i.onLockBodyScrollLeft()},i.adjustSize=function(){i.adjustIfTableNotNeedLock()||(i.adjustHeaderSize(),i.adjustBodySize(),i.adjustRowHeight(),i.onLockBodyScrollLeft())},i.getFlatenChildrenLength=function(){var e,t;return function e(t){var n=[];return t.forEach(function(t){t.children?n.push.apply(n,e(t.children)):n.push(t)}),n}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).length},i.saveLockLeftRef=function(e){i.lockLeftEl=e},i.saveLockRightRef=function(e){i.lockRightEl=e},i.lockLeftChildren=[],i.lockRightChildren=[],i}return ko()(n,t),n.prototype.getChildContext=function e(){return{getTableInstance:this.getTableInstance,getLockNode:this.getNode,onLockBodyScroll:this.onLockBodyScroll,onRowMouseEnter:this.onRowMouseEnter,onRowMouseLeave:this.onRowMouseLeave}},n.prototype.componentDidMount=function e(){Ya.on(window,"resize",this.adjustSize),this.scroll(),this.adjustSize()},n.prototype.shouldComponentUpdate=function e(t,n,r){var i;return!t.pure||!(tT()(t,this.props)&&Ja.shallowEqual(r,this.context))},n.prototype.componentDidUpdate=function e(){this.adjustSize(),this._isLock=!1},n.prototype.componentWillUnmount=function e(){Ya.off(window,"resize",this.adjustSize)},n.prototype.normalizeChildrenState=function e(t){var n=t.children;n=this.normalizeChildren(n);var r=this.splitFromNormalizeChildren(n),i,o;return{lockLeftChildren:r.lockLeftChildren,lockRightChildren:r.lockRightChildren,children:this.mergeFromSplitLockChildren(r)}},n.prototype.normalizeChildren=function e(t){var n=!1,r,i=function e(t){var r=[];return ir.Children.forEach(t,function(t){if(t){var i=yo()({},t.props);[!0,"left","right"].indexOf(i.lock)>-1&&(n=!0,"width"in i||$a.warning("Should config width for lock column named [ "+i.dataIndex+" ].")),r.push(i),t.props.children&&(i.children=e(t.props.children))}}),r}(t);return i.forEach(function(e){e.__normalized&&n&&(e.lock=e.lock||"left",delete e.__normalized)}),this._isLock=n,i},n.prototype.splitFromNormalizeChildren=function e(t){var n=JN(t),r=JN(t),i=JN(t),o=function e(t,n){var r=[];return t.forEach(function(t){var i,o;t.children?e(t.children,n).length||r.push(t):n(t)||r.push(t)}),r.forEach(function(e){var n=t.indexOf(e);t.splice(n,1)}),t};return o(r,function(e){if(!0===e.lock||"left"===e.lock)return"left"}),o(i,function(e){if("right"===e.lock)return"right"}),o(n,function(e){return!0!==e.lock&&"left"!==e.lock&&"right"!==e.lock}),{lockLeftChildren:r,lockRightChildren:i,originChildren:n}},n.prototype.mergeFromSplitLockChildren=function e(t){var n=t.lockLeftChildren,r=t.lockRightChildren,i=t.originChildren;return Array.prototype.unshift.apply(i,n),i=i.concat(r)},n.prototype.scroll=function e(){var t=this.props,n=t.scrollToCol,r=void 0===n?0:n,i=t.scrollToRow,o=void 0===i?0:i;if(r||o){var a=this.getCellNode(0,r),s=this.getCellNode(o,0),u=this.bodyNode.getBoundingClientRect();if(a){var l,c=a.getBoundingClientRect().left-u.left;this.bodyNode.scrollLeft=c}if(s){var f,p=s.getBoundingClientRect().top-u.top;this.bodyNode.scrollTop=p}}},n.prototype.isLock=function e(){return this.lockLeftChildren.length||this.lockRightChildren.length},n.prototype.isOriginLock=function e(){return this._isLock},n.prototype.removeLockTable=function e(){var t=this.lockLeftChildren.length,n=this.lockRightChildren.length;if(t&&(this._notNeedAdjustLockLeft=!0),n&&(this._notNeedAdjustLockRight=!0),n||t)return this.forceUpdate(),!0},n.prototype.adjustIfTableNotNeedLock=function e(){var t=this;if(this.isOriginLock()){var n=this.tableInc.flatChildren.map(function(e,n){var r=t.getCellNode(0,n)||{},i=t.getHeaderCellNode(0,n)||{};try{return{cellWidths:parseFloat(getComputedStyle(r).width)||0,headerWidths:parseFloat(getComputedStyle(i).width)||0}}catch(e){return{cellWidths:r.clientWidth||0,headerWidths:i.clientWidth||0}}}).reduce(function(e,t){return{cellWidths:e.cellWidths+t.cellWidths,headerWidths:e.headerWidths+t.headerWidths}},{cellWidths:0,headerWidths:0}),r=void 0,i=void 0;try{i=(r=Object(er.findDOMNode)(this)).clientWidth}catch(e){r=null,i=0}if(0===i)return!0;var o=parseInt(n.cellWidths)||parseInt(n.headerWidths);if(o<=i&&o>0)this.removeLockTable();else{if(!this._notNeedAdjustLockLeft&&!this._notNeedAdjustLockRight)return this._notNeedAdjustLockLeft=this._notNeedAdjustLockRight=!1,!1;this._notNeedAdjustLockLeft=this._notNeedAdjustLockRight=!1,this.forceUpdate()}}return!1},n.prototype.adjustBodySize=function e(){var t,n=this.props,r=n.rtl,i=n.hasHeader,o=this.headerNode,a=r?"paddingLeft":"paddingRight",s=r?"marginLeft":"marginRight",u=+Ka.scrollbar().width||0,l=((t={})[a]=u,t[s]=u,t),c=this.bodyNode,f=c&&c.scrollHeight>c.clientHeight;if(this.isLock()){var p=this.bodyLeftNode,h=this.bodyRightNode,d=this.getWrapperNode("right"),m=c.offsetHeight,g=f?u:0,v=m-u;f||(l[a]=0,l[s]=0),+u?(l.marginBottom=-u,l.paddingBottom=u):(l.marginBottom=-20,l.paddingBottom=20);var y={"max-height":v};i||+u||(y[s]=0),+u&&(y[s]=-u),p&&Ka.setStyle(p,y),h&&Ka.setStyle(h,y),d&&+u&&Ka.setStyle(d,r?"left":"right",g+"px")}else l.marginBottom=-u,l.paddingBottom=u,l[s]=0,f||(l[a]=0);o&&Ka.setStyle(o,l)},n.prototype.adjustHeaderSize=function e(){var t=this;this.isLock()&&this.tableInc.groupChildren.forEach(function(e,n){var r=t.tableInc.groupChildren[n].length-1,i=t.getHeaderCellNode(n,r),o=t.getHeaderCellNode(n,0),a=t.getHeaderCellNode(n,0,"right"),s=t.getHeaderCellNode(n,0,"left");if(i&&a){var u=i.offsetHeight;Ka.setStyle(a,"height",u),setTimeout(function(){var e=t.tableRightInc.affixRef;return e&&e.getInstance()&&e.getInstance().updatePosition()})}if(o&&s){var l=o.offsetHeight;Ka.setStyle(s,"height",l),setTimeout(function(){var e=t.tableLeftInc.affixRef;return e&&e.getInstance()&&e.getInstance().updatePosition()})}})},n.prototype.adjustRowHeight=function e(){var t=this;this.isLock()&&this.tableInc.props.dataSource.forEach(function(e,n){var r="object"===(void 0===e?"undefined":Ro()(e))&&"__rowIndex"in e?e.__rowIndex:n;t.setRowHeight(r,"left"),t.setRowHeight(r,"right")})},n.prototype.setRowHeight=function e(t,n){var r=this.getRowNode(t,n),i=this.getRowNode(t),o=(XN?i&&i.offsetHeight:i&&parseFloat(getComputedStyle(i).height))||"auto",a=(XN?r&&r.offsetHeight:r&&parseFloat(getComputedStyle(r).height))||"auto";r&&o!==a&&Ka.setStyle(r,"height",o)},n.prototype.getWrapperNode=function e(t){t=t?t.charAt(0).toUpperCase()+t.substr(1):"";try{return Object(er.findDOMNode)(this["lock"+t+"El"])}catch(e){return null}},n.prototype.getRowNode=function e(t,n){var r=this["table"+(n=n?n.charAt(0).toUpperCase()+n.substr(1):"")+"Inc"];try{return Object(er.findDOMNode)(r.getRowRef(t))}catch(e){return null}},n.prototype.getHeaderCellNode=function e(t,n,r){var i=this["table"+(r=r?r.charAt(0).toUpperCase()+r.substr(1):"")+"Inc"];try{return Object(er.findDOMNode)(i.getHeaderCellRef(t,n))}catch(e){return null}},n.prototype.getCellNode=function e(t,n,r){var i=this["table"+(r=r?r.charAt(0).toUpperCase()+r.substr(1):"")+"Inc"];try{return Object(er.findDOMNode)(i.getCellRef(t,n))}catch(e){return null}},n.prototype.render=function t(){var n=this.props,r=n.children,i=n.prefix,o=n.components,a=n.className,s=n.dataSource,u=n.tableWidth,l=wo()(n,["children","prefix","components","className","dataSource","tableWidth"]),c=this.normalizeChildrenState(this.props),f=c.lockLeftChildren,p=c.lockRightChildren,h=c.children,d,m,g,v={left:this.getFlatenChildrenLength(f),right:this.getFlatenChildrenLength(p),origin:this.getFlatenChildrenLength(h)};if(this._notNeedAdjustLockLeft&&(f=[]),this._notNeedAdjustLockRight&&(p=[]),this.lockLeftChildren=f,this.lockRightChildren=p,this.isOriginLock()){var y;(o=yo()({},o)).Body=o.Body||HN,o.Header=o.Header||KN,o.Wrapper=o.Wrapper||AN,o.Row=o.Row||sN,a=Us()(((y={})[i+"table-lock"]=!0,y[i+"table-wrap-empty"]=!s.length,y[a]=a,y));var b=[or.a.createElement(e,yo()({},l,{dataSource:s,key:"lock-left",columns:f,className:i+"table-lock-left",lengths:v,prefix:i,lockType:"left",components:o,ref:this.saveLockLeftRef,loading:!1,"aria-hidden":!0})),or.a.createElement(e,yo()({},l,{dataSource:s,key:"lock-right",columns:p,className:i+"table-lock-right",lengths:v,prefix:i,lockType:"right",components:o,ref:this.saveLockRightRef,loading:!1,"aria-hidden":!0}))];return or.a.createElement(e,yo()({},l,{tableWidth:u,dataSource:s,columns:h,prefix:i,lengths:v,wrapperContent:b,components:o,className:a}))}return or.a.createElement(e,this.props)},n}(or.a.Component),t.LockRow=sN,t.LockBody=HN,t.LockHeader=KN,t.propTypes=yo()({scrollToCol:To.a.number,scrollToRow:To.a.number},e.propTypes),t.defaultProps=yo()({},e.defaultProps),t.childContextTypes={getTableInstance:To.a.func,getLockNode:To.a.func,onLockBodyScroll:To.a.func,onRowMouseEnter:To.a.func,onRowMouseLeave:To.a.func},n);return r.displayName="LockTable",sT(r,e),r}function JN(e){var t;return function e(t){return t.map(function(t){var n=yo()({},t);return t.children&&(t.children=e(t.children)),n})}(e)}var QN=(ZN=YN=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){return null},t}(or.a.Component),YN.propTypes={cell:To.a.oneOfType([To.a.element,To.a.node,To.a.func]),hasChildrenSelection:To.a.bool,hasSelection:To.a.bool,useFirstLevelDataWhenNoChildren:To.a.bool},YN.defaultProps={cell:function e(){return""},hasSelection:!0,hasChildrenSelection:!1,useFirstLevelDataWhenNoChildren:!1},YN._typeMark="listHeader",ZN),eA,tA;QN.displayName="ListHeader";var nA=(tA=eA=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){return null},t}(or.a.Component),eA.propTypes={cell:To.a.oneOfType([To.a.element,To.a.node,To.a.func])},eA.defaultProps={cell:function e(){return""}},eA._typeMark="listFooter",tA),rA,iA;nA.displayName="ListFooter";var oA=(iA=rA=function(e){function t(){return _o()(this,t),Eo()(this,e.apply(this,arguments))}return ko()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.className,o=n.onClick,a=n.onMouseEnter,s=n.onMouseLeave,u=n.columns,l=n.Cell,c=n.rowIndex,f=n.__rowIndex,p=n.record,h=n.children,d=n.primaryKey,m=n.colGroup,g=n.cellRef,v=n.getCellProps,y=n.locale,b=n.wrapper,w=n.rtl,x=wo()(n,["prefix","className","onClick","onMouseEnter","onMouseLeave","columns","Cell","rowIndex","__rowIndex","record","children","primaryKey","colGroup","cellRef","getCellProps","locale","wrapper","rtl"]),_=Us()(((t={})[r+"table-row"]=!0,t[i]=i,t));return this.context.notRenderCellIndex=[],or.a.createElement("table",yo()({className:_,role:"row"},x,{onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),m,or.a.createElement("tbody",null,this.renderContent("header"),this.renderChildren(),this.renderContent("footer")))},t.prototype.isChildrenSelection=function e(){return this.context.listHeader&&this.context.listHeader.hasChildrenSelection},t.prototype.isFirstLevelDataWhenNoChildren=function e(){return this.context.listHeader&&this.context.listHeader.useFirstLevelDataWhenNoChildren},t.prototype.isSelection=function e(){return this.context.listHeader&&this.context.listHeader.hasSelection},t.prototype.renderChildren=function e(){var t=this,n=this.props,r=n.record,i=n.primaryKey,o=r.children,a=o;return this.isFirstLevelDataWhenNoChildren()&&($a.warning("useFirstLevelDataWhenNoChildren is deprecated, change your dataSource structure, make sure there is 'children' in your dataSource."),a=o||[r]),a?a.map(function(e,n){var r=t.renderCells(e,n);return t.isChildrenSelection()?(e[i]||$a.warning("record.children/recored should contains primaryKey when childrenSelection is true."),or.a.createElement("tr",{key:e[i]},r)):(t.context.rowSelection&&(r.shift(),r[0]=or.a.cloneElement(r[0],yo()({colSpan:2},r[0].props))),or.a.createElement("tr",{key:n},r))}):null},t.prototype.renderContent=function e(t){var n=this.props,r=n.columns,i=n.prefix,o=n.record,a=n.rowIndex,s=t.charAt(0).toUpperCase()+t.substr(1),u=this.context["list"+s],l=void 0;if(u&&(or.a.isValidElement(u.cell)?l=or.a.cloneElement(u.cell,{record:o,index:a}):"function"==typeof u.cell&&(l=u.cell(o,a)),l)){var c=this.renderCells(o);"header"===t&&this.context.rowSelection&&this.isSelection()?((c=c.slice(0,1)).push(or.a.createElement("td",{colSpan:r.length-1,key:"listNode"},or.a.createElement("div",{className:i+"table-cell-wrapper"},l))),l=or.a.createElement("tr",{className:i+"table-group-"+t},c)):l=or.a.createElement("tr",{className:i+"table-group-"+t},or.a.createElement("td",{colSpan:r.length},or.a.createElement("div",{className:i+"table-cell-wrapper"},l)))}return l},t}(pT),rA.contextTypes={listHeader:To.a.any,listFooter:To.a.any,rowSelection:To.a.object,notRenderCellIndex:To.a.array,lockType:To.a.oneOf(["left","right"])},iA),aA,sA;function uA(e){return or.a.createElement(bT,yo()({component:"div"},e))}function lA(e){var t,n,r=(n=t=function(t){function n(){var e,r,i;_o()(this,n);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=r=Eo()(this,t.call.apply(t,[this].concat(a))),r.state={},i=e,Eo()(r,i)}return ko()(n,t),n.prototype.getChildContext=function e(){return{listHeader:this.listHeader,listFooter:this.listFooter,rowSelection:this.rowSelection}},n.prototype.normalizeDataSource=function e(t){var n=[],r;return function e(t,r){t.forEach(function(t){t.__level=r,n.push(t),t.children&&e(t.children,r+1)})}(t,0),this.ds=n,n},n.prototype.render=function t(){var n=this,r=this.props,i=r.components,o=r.children,a=r.className,s=r.prefix,u=wo()(r,["components","children","className","prefix"]),l=!1,c=[],f;(ir.Children.forEach(o,function(e){e&&("function"==typeof e.type?"listHeader"===e.type._typeMark?(n.listHeader=e.props,l=!0):"listFooter"===e.type._typeMark?n.listFooter=e.props:c.push(e):c.push(e))}),this.rowSelection=this.props.rowSelection,l)&&((i=yo()({},i)).Row=i.Row||oA,i.Body=i.Body||uA,i.Header=i.Header||EN,i.Wrapper=i.Wrapper||AN,a=Us()(((f={})[s+"table-group"]=!0,f[a]=a,f)));return or.a.createElement(e,yo()({},u,{components:i,children:c,className:a,prefix:s}))},n}(or.a.Component),t.ListHeader=QN,t.ListFooter=nA,t.ListRow=oA,t.ListBody=uA,t.propTypes=yo()({},e.propTypes),t.defaultProps=yo()({},e.defaultProps),t.childContextTypes={listHeader:To.a.any,listFooter:To.a.any,rowSelection:To.a.object},n);return r.displayName="ListTable",sT(r,e),r}function cA(e,t){if("undefined"==typeof window)return 0;var n,r=t?"scrollTop":"scrollLeft";return e===window?e[t?"pageYOffset":"pageXOffset"]:e[r]}function fA(e){return e!==window?e.getBoundingClientRect():{top:0,left:0,bottom:0}}function pA(e){return e?e===window?window.innerHeight:e.clientHeight:0}var hA=(sA=aA=function(e){function t(n,r){_o()(this,t);var i=Eo()(this,e.call(this,n,r));return i.updatePosition=function(){i._updateNodePosition()},i._updateNodePosition=function(){var e=i.state.affixMode,t=i.props,n=t.container,r=t.useAbsolute,o=n();if(!o||!i.affixNode)return!1;var a=cA(o,!0),s=i._getOffset(i.affixNode,o),u=pA(o),l=i.affixNode.offsetHeight,c=fA(o),f=i.affixChildNode.offsetHeight,p={width:s.width},h={width:s.width,height:f};e.top&&a>s.top-e.offset?(r?(p.position="absolute",p.top=a-(s.top-e.offset),h.position="relative"):(p.position="fixed",p.top=e.offset+c.top),i._setAffixStyle(p,!0),i._setContainerStyle(h)):e.bottom&&a<s.top+l+e.offset-u?(p.height=l,r?(p.position="absolute",p.top=a-(s.top+l+e.offset-u),h.position="relative"):(p.position="fixed",p.bottom=e.offset),i._setAffixStyle(p,!0),i._setContainerStyle(h)):(i._setAffixStyle(null),i._setContainerStyle(null))},i._affixNodeRefHandler=function(e){i.affixNode=Object(er.findDOMNode)(e)},i._affixChildNodeRefHandler=function(e){i.affixChildNode=Object(er.findDOMNode)(e)},i.state={style:null,containerStyle:null,affixMode:t._getAffixMode(n)},i}return ko()(t,e),t._getAffixMode=function e(t){var n={top:!1,bottom:!1,offset:0};if(!t)return n;var r=t.offsetTop,i=t.offsetBottom;return"number"!=typeof r&&"number"!=typeof i?n.top=!0:"number"==typeof r?(n.top=!0,n.bottom=!1,n.offset=r):"number"==typeof i&&(n.bottom=!0,n.top=!1,n.offset=i),n},t.getDerivedStateFromProps=function e(n,r){return"offsetTop"in n||"offsetBottom"in n?{affixMode:t._getAffixMode(n)}:null},t.prototype.componentDidMount=function e(){var t=this,n=this.props.container;this._updateNodePosition(),this.timeout=setTimeout(function(){t._setEventHandlerForContainer(n)})},t.prototype.componentDidUpdate=function e(t,n,r){setTimeout(this._updateNodePosition)},t.prototype.componentWillUnmount=function e(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null);var t=this.props.container;this._removeEventHandlerForContainer(t)},t.prototype._setEventHandlerForContainer=function e(t){var n=t();n&&(Ya.on(n,"scroll",this._updateNodePosition,!1),Ya.on(n,"resize",this._updateNodePosition,!1))},t.prototype._removeEventHandlerForContainer=function e(t){var n=t();n&&(Ya.off(n,"scroll",this._updateNodePosition),Ya.off(n,"resize",this._updateNodePosition))},t.prototype._setAffixStyle=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Ja.shallowEqual(t,this.state.style)){this.setState({style:t});var r=this.props.onAffix;n?setTimeout(function(){return r(!0)}):t||setTimeout(function(){return r(!1)})}},t.prototype._setContainerStyle=function e(t){Ja.shallowEqual(t,this.state.containerStyle)||this.setState({containerStyle:t})},t.prototype._getOffset=function e(t,n){var r=t.getBoundingClientRect(),i=fA(n),o=cA(n,!0),a=cA(n,!1);return{top:r.top-i.top+o,left:r.left-i.left+a,width:r.width,height:r.height}},t.prototype.render=function e(){var t,n=this.state.affixMode,r=this.props,i=r.prefix,o=r.className,a=r.style,s=r.children,u=this.state,l=Us()(((t={})[i+"affix"]=u.style,t[i+"affix-top"]=!u.style&&n.top,t[i+"affix-bottom"]=!u.style&&n.bottom,t[o]=o,t)),c=yo()({},u.containerStyle,a);return or.a.createElement("div",{ref:this._affixNodeRefHandler,style:c},or.a.createElement("div",{ref:this._affixChildNodeRefHandler,className:l,style:u.style},s))},t}(or.a.Component),aA.propTypes={prefix:To.a.string,container:To.a.func,offsetTop:To.a.number,offsetBottom:To.a.number,onAffix:To.a.func,useAbsolute:To.a.bool,className:To.a.string,style:To.a.object,children:To.a.any},aA.defaultProps={prefix:"next-",container:function e(){return window},onAffix:Za.noop},sA);hA.displayName="Affix";var dA=zs.config(Object(No.polyfill)(hA)),mA,gA,vA=(gA=mA=function(e){function t(){var n,r,i;_o()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eo()(this,e.call.apply(e,[this].concat(a))),r.getAffixRef=function(e){r.props.affixRef&&r.props.affixRef(e)},i=n,Eo()(r,i)}return ko()(t,e),t.prototype.render=function e(){var t,n=this.props.prefix,r=this.context,i=r.Header,o=r.offsetTop,a,s=r.affixProps||{},u=s.className,l=wo()(s,["className"]),c=Us()(((t={})[n+"table-affix"]=!0,t.className=u,t));return or.a.createElement(dA,yo()({ref:this.getAffixRef},l,{className:c,offsetTop:o}),or.a.createElement(i,this.props))},t}(or.a.Component),mA.propTypes={prefix:To.a.string},mA.contextTypes={Header:To.a.any,offsetTop:To.a.number,affixProps:To.a.object},gA);function yA(e){var t,n,r=(n=t=function(t){function n(){var e,r,i;_o()(this,n);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=r=Eo()(this,t.call.apply(t,[this].concat(a))),r.state={},i=e,Eo()(r,i)}return ko()(n,t),n.prototype.getChildContext=function e(){return{Header:this.props.components.Header||EN,offsetTop:this.props.offsetTop,affixProps:this.props.affixProps}},n.prototype.render=function t(){var n=this.props,r=n.stickyHeader,i=n.offsetTop,o=n.affixProps,a=wo()(n,["stickyHeader","offsetTop","affixProps"]),s=this.props,u=s.components,l=s.maxBodyHeight,c=s.fixedHeader;return r&&((u=yo()({},u)).Header=vA,c=!0,l=Math.max(l,1e4)),or.a.createElement(e,yo()({},a,{components:u,fixedHeader:c,maxBodyHeight:l}))},n}(or.a.Component),t.StickyHeader=vA,t.propTypes=yo()({stickyHeader:To.a.bool,offsetTop:To.a.number,affixProps:To.a.object,components:To.a.object},e.propTypes),t.defaultProps=yo()({components:{}},e.defaultProps),t.childContextTypes={Header:To.a.any,offsetTop:To.a.number,affixProps:To.a.object},n);return r.displayName="StickyTable",sT(r,e),r}vA.displayName="StickHeader";var bA,wA=[IN,$N,MN,FN,CN,VN,lA,yA].reduce(function(e,t){return e=t(e)},iN);wA.Base=iN,wA.fixed=IN,wA.lock=$N,wA.selection=MN,wA.expanded=FN,wA.tree=CN,wA.virtual=VN,wA.list=lA,wA.sticky=yA,wA.GroupHeader=QN,wA.GroupFooter=nA;var xA=zs.config(wA,{componentName:"Table",transform:function e(t,n){if("expandedRowKeys"in t){n("expandedRowKeys","openRowKeys","Table");var r=t,i=r.expandedRowKeys,o=wo()(r,["expandedRowKeys"]);t=yo()({openRowKeys:i},o)}if("onExpandedChange"in t){n("onExpandedChange","onRowOpen","Table");var a=t,s=a.onExpandedChange,u=wo()(a,["onExpandedChange"]);t=yo()({onRowOpen:s},u)}if("isLoading"in t){n("isLoading","loading","Table");var l=t,c=l.isLoading,f=wo()(l,["isLoading"]);t=yo()({loading:c},f)}if("indentSize"in t){n("indentSize","indent","Table");var p=t,h=p.indentSize,d=wo()(p,["indentSize"]);t=yo()({indent:h},d)}if("optimization"in t){n("optimization","pure","Table");var m=t,g=m.optimization,v=wo()(m,["optimization"]);t=yo()({pure:g},v)}if("getRowClassName"in t){n("getRowClassName","getRowProps","Table");var y=t,b=y.getRowClassName,w=y.getRowProps,x=wo()(y,["getRowClassName","getRowProps"]);if(b){var _=function e(){return yo()({className:b.apply(void 0,arguments)},w?w.apply(void 0,arguments):{})};t=yo()({getRowProps:_},x)}else t=yo()({getRowProps:w},x)}if("getRowProps"in t){n("getRowProps","rowProps","Table in 1.15.0");var C=t,E=C.getRowProps,S=wo()(C,["getRowProps"]);t=yo()({rowProps:E},S)}if("getCellProps"in t){n("getCellProps","cellProps","Table in 1.15.0");var k=t,O=k.getCellProps,T=wo()(k,["getCellProps"]);t=yo()({cellProps:O},T)}return t}}),_A=n(570);function CA(e){"@babel/helpers - typeof";return(CA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(t){kA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OA(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function TA(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){OA(o,r,i,a,s,"next",e)}function s(e){OA(o,r,i,a,s,"throw",e)}a(void 0)})}}function NA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IA(e,t,n){return t&&AA(e.prototype,t),n&&AA(e,n),e}function RA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PA(e,t)}function PA(e,t){return(PA=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function MA(e){return function(){var t=FA(e),n;if(LA()){var r=FA(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return jA(this,n)}}function jA(e,t){return!t||"object"!==CA(t)&&"function"!=typeof t?DA(e):t}function DA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function FA(e){return(FA=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var zA=30,BA=function(e){RA(n,e);var t=MA(n);function n(){var e;NA(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={models:[],fields:Td,currentPage:1,totalCount:0},e.changePage=function(){var t=TA(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function t(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.fetchData(n);case 2:case"end":return r.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.fetchData=function(){var t=TA(regeneratorRuntime.mark(function t(n){var r,i,o;return regeneratorRuntime.wrap(function t(a){for(;;)switch(a.prev=a.next){case 0:return r="/pipeline/list",location.href.includes("jobs")&&(e.setState({fields:Nd}),r="/job/list"),a.prev=2,a.next=5,sv(r,{params:{offset:(n-1)*zA,limit:zA}});case 5:i=a.sent,o=i.rows.map(function(e){return SA({},e,{createdAt:new Date(e.createdAt).toLocaleString(),endTime:new Date(e.endTime).toLocaleString(),status:Od[e.status]})}),e.setState({models:o,totalCount:i.count,currentPage:n}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),dh(a.t0.message);case 13:case"end":return a.stop()}},t,null,[[2,10]])}));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=TA(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.fetchData(1);case 2:case"end":return n.stop()}},t)})),e}return IA(n,[{key:"render",value:function e(){var t=this.state,n=t.models,r=t.fields,i=t.currentPage,o=t.totalCount;return or.a.createElement("div",{className:"pipeline"},or.a.createElement(xA,{dataSource:n,hasBorder:!1,stickyHeader:!0,offsetTop:45},r.map(function(e){return or.a.createElement(xA.Column,{key:e.name,title:e.name,dataIndex:e.field,cell:e.cell,sortable:e.sortable||!1,width:e.width,align:"center"})})),or.a.createElement(ZO,{current:i,total:o,pageSize:zA,type:"simple",className:"pagination-wrapper",onChange:this.changePage}),or.a.createElement("div",{className:"pipeline-create-container",onClick:function e(){return location.href="index.html#/pipeline/info"}},or.a.createElement(gu,{className:"pipeline-create",type:"add",size:"large"})))}}]),n}(ir.Component),UA,WA=[{path:"/tutorial",component:fp,children:[{path:"/mnist",component:gO},{path:"/assets-classification",component:LO},{path:"/",component:vp}]},{path:"/pipeline",component:fp,children:[{path:"/info",component:kv},{path:"/",component:BA}]},{path:"/",component:fp,children:[{path:"/home",redirect:"/"},{path:"jobs",component:BA},{path:"/",component:BO}]}],VA=function(){return or.a.createElement("div",{style:{paddingTop:200,textAlign:"center"}},or.a.createElement(oT,{color:"#fff"}))};function HA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HA(Object(n),!0).forEach(function(t){qA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KA(){return(KA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function XA(e,t){if(null==e)return{};var n=YA(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function YA(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}var ZA=function e(t){var n=t.redirect,r=t.path,i=t.component,o=t.key;return n?or.a.createElement(gi,{exact:!0,key:o,from:r,to:n}):or.a.createElement(Ei,{key:o,component:i,path:r})},$A,JA=function e(){return or.a.createElement(Gi,null,or.a.createElement(Ri,null,WA.map(function(e,t){var n=e.component,r=e.children,i=XA(e,["component","children"]);return or.a.createElement(Ei,KA({key:t},i,{component:function i(o){return r?or.a.createElement(n,KA({key:t},o),or.a.createElement(ir.Suspense,{fallback:or.a.createElement(VA,null)},or.a.createElement(Ri,null,r.map(function(n,r){var i=n.redirect,o=n.path,a=n.component;return ZA({key:"".concat(t,"-").concat(r),redirect:i,path:o&&so.a.join(e.path,o),component:a})})))):or.a.createElement(ir.Suspense,{fallback:or.a.createElement(VA,null)},ZA(GA({key:t},e)))}}))})))},QA=document.getElementById("ice-container");if(!QA)throw new Error('\u5f53\u524d\u9875\u9762\u4e0d\u5b58\u5728 <div id="ice-container"></div> \u8282\u70b9.');tr.a.render(JA(),QA)}]);